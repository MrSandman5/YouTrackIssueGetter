<?xml version="1.0" encoding="UTF-8" standalone="yes"?><issues><issue id="KT-1948" entityId="25-415060"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>1948</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Don't highlight property access as a var when the setter is not visible</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class C {
    var center : Int = 0
        private set
}

fun main() {
  C().center // this is not a var from the point of view of the reader here
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1336681039523</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954585</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Andrey.Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrey Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-3208</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-2061" entityId="25-420089"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>2061</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>'object' live template should not be available in class body</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
open class F {
  obj/*caret, invoke completion here*/
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1337677460350</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954590</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-3951</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-334356" author="geevee" authorFullName="Evgeny Gerashchenko" issueId="KT-2061" deleted="false" text="What are you expecting when invoking &quot;object&quot; here?" shownForIssueAuthor="false" created="1337682234879" markdown="false"><replies/></comment><comment id="27-334414" author="Alefas" authorFullName="Alexander Podkhalyuzin" issueId="KT-2061" deleted="false" text="I expect no completion here." shownForIssueAuthor="false" created="1337687842979" markdown="false"><replies/></comment><comment id="27-334463" author="geevee" authorFullName="Evgeny Gerashchenko" issueId="KT-2061" deleted="false" text="Ok" shownForIssueAuthor="false" created="1337691934995" markdown="false"><replies/></comment><comment id="27-334476" author="Alefas" authorFullName="Alexander Podkhalyuzin" issueId="KT-2061" deleted="false" text="Maybe I was wrong with no completion here.&#xA;It's same on toplevel. Resulting code after object live template is:&#xA;{code}&#xA;object : Object {&#xA;&#xA;}&#xA;{code}&#xA;So probably problem only in colon, which should be removed from template" shownForIssueAuthor="false" created="1337692937307" markdown="false"><replies/></comment></issue><issue id="KT-3660" entityId="25-560506"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>3660</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>'Specify type explicitly' action misbehave when handling types with contravariant parameters</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code:lang=kotlin}
fun foo(x: String, y: Int) {
    val a = if (true) x else y + 3
}
{code}
'Specify type explicitly' action offers to annotate variable ''a'' with ''Comparable&lt;out Any?&gt;'' type, which immediately causes CONFLICTING_PROJECTION error. </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1369849909944</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041530</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Wojciech.Łopata</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Wojciech Łopata</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-974435" author="nikov" authorFullName="Vladimir Reshetnikov" issueId="KT-3660" deleted="false" text="Should use `Comparable&lt;*&gt;` type." shownForIssueAuthor="false" created="1428950668867" markdown="false"><replies/></comment></issue><issue id="KT-4161" entityId="25-626531"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4161</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Usability issues of new Kotlin project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. It's not so obvious what to do with Use library combo (see screenshot), I mean, is it possible to create a library automatically if none were found?

2. Strange dialog appears if I define both Kotlin for Java &amp; Kotlin for JavaScript technologies (see another screenshot). This case should be handled with care.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1383393514157</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975877</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>alexey.pegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Pegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2968</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Problem</value><valueId>Problem</valueId><color><bg>#fce5f1</bg><fg>#dc5766</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>M6.1</value><valueId>M6.1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-142017" url="https://youtrack.jetbrains.com/_persistent/both-java-javascript.png?file=74-142017&amp;c=true">both-java-javascript.png</value><value id="74-142018" url="https://youtrack.jetbrains.com/_persistent/kotlin-library.png?file=74-142018&amp;c=true">kotlin-library.png</value></field><comment id="27-615058" author="hadihariri" authorFullName="Hadi Hariri" issueId="KT-4161" deleted="false" text="I've noticed this behavior also and weird things happen if you check/uncheck boxes. These somehow should be mutually exclusive (problem is, checkboxes visually aren't)." shownForIssueAuthor="false" created="1383423422291" markdown="false"><replies/></comment><comment id="27-615063" author="alexey.pegov" authorFullName="Alexey Pegov" issueId="KT-4161" deleted="false" text="@Hadi so it's not possible to create project for both J &amp; JS?" shownForIssueAuthor="false" created="1383424801192" markdown="false"><replies/></comment><comment id="27-615066" author="hadihariri" authorFullName="Hadi Hariri" issueId="KT-4161" deleted="false" text="You can only target either JVM or JavaScript in the same module, unless it's changed recently and I'm not aware. @Andrey can confirm..." shownForIssueAuthor="false" created="1383426228872" markdown="false"><replies/></comment><comment id="27-615080" author="alexey.pegov" authorFullName="Alexey Pegov" issueId="KT-4161" deleted="false" text="So, I suppose that in my case a project with two different modules should be created." shownForIssueAuthor="false" created="1383461152221" markdown="false"><replies/></comment><comment id="27-615081" author="hadihariri" authorFullName="Hadi Hariri" issueId="KT-4161" deleted="false" text="Yes. Please try that. I'm guessing the mismatch version you have from the other bug report is probably related to this." shownForIssueAuthor="false" created="1383461387803" markdown="false"><replies/></comment><comment id="27-1861330" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-4161" deleted="false" text="NB: Use Library is a standard control, the same is used e.g. for Groovy or Hibernate. I.e. this is not Kotlin-specific issue, if it's not evident how to use it." shownForIssueAuthor="false" created="1485027420794" markdown="false"><replies/></comment></issue><issue id="KT-4473" entityId="25-656245"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4473</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Getter rename does not work right from JSP bean</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have JSP bean that uses Kotlin data class. 
{code} data class foo(val bar:String) {code}
{code} &lt;jsp:useBean id="a" type="foo" /&gt; ${a.bar} {code}

I rename {{bar}} into {{zzz}} form JSP code. 
I see warning in JSP after rename around {{${a.zzz}}}
In the Kotlin class I see {{getZzz}} instead of {{zzz}} for the property</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1390776359522</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536492631507</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Anton.Yalyshev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Anton Yalyshev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-8807</value><value type="Subtask" role="subtask of">KT-2615</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Refactorings</value><valueId>IDE. Refactorings</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-662989" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-4473" deleted="false" text="Does it work from Java?" shownForIssueAuthor="false" created="1390823469992" markdown="false"><replies/></comment><comment id="27-663006" author="eugene.petrenko" authorFullName="Eugene Petrenko" issueId="KT-4473" deleted="false" text="I had not checked it form Java this time. I believe it works right with Java. The name {{getZzz()}} is exactly what is needed for Java getter name&#xA;&#xA;I'll try with Java bean and let you know" shownForIssueAuthor="false" created="1390824480619" markdown="false"><replies/></comment></issue><issue id="KT-4645" entityId="25-672375"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4645</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unexpected behevior of "Replace 'if' with 'when'" intention when called on second or third 'if'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
if &lt;caret0&gt;(test1) {
    foo()
}
else if &lt;caret1&gt;(test2) {
    bar()
}
else if &lt;caret2&gt;(test3) {
    baz()
}
```

After call on `&lt;caret0&gt;`:
```kotlin
when {
    test1 -&gt; {
        foo()
    }
    test2 -&gt; {
        bar()
    }
    test3 -&gt; {
        baz()
    }
}
```

After call on `&lt;caret1&gt;`:
```kotlin
if (test1) {
    foo()
}
else when {
    test2 -&gt; {
        bar()
    }
    test3 -&gt; {
        baz()
    }
}
```

After call on `&lt;caret2&gt;`:
```kotlin
if (test1) {
    foo()
}
else if (test2) {
    bar()
}
else when {
    test3 -&gt; {
        baz()
    }
}
```

Expected the same results for all cases.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1393951663388</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041536</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-4714" entityId="25-679379"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4714</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bad replacement in named parameters completion on 'tab' char</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo(paramInt: Int, paramSome: String) = 12

fun some() {
    foo(param&lt;caret&gt;Int = 12) // Hit tab on "paramSome = " variant in completion
}
{code}

Result is 
{code}
foo(paramSome =  = 12)
{code}

But expected result is 
{code}
foo(paramSome = 12)
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1395250271698</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216266</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-4759" entityId="25-681756"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4759</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>'Remove braces' does not work for 'when' expressions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
when (x) {
  y -&gt; { ... } // "remove braces" mot available
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1395758005596</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041538</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Andrey.Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrey Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-4807" entityId="25-684687"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4807</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Don't suggest convert lambda parameter into 'it' if it can change code behaviour</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo(p: Int, a: (Int) -&gt; Int): Int = a(p)
val x = foo(2) { foo(1) { &lt;caret&gt;t -&gt; t + it } }
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1396433622713</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041539</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-4547</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-4845" entityId="25-688776"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4845</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>SAM adapter should be considered an implementation of Java interface</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code:title=Runner.java}
interface MyRunnable {
    void run();
}

public class Runner {
    public static void run(MyRunnable runnable) {
        runnable.run();
    }
}
{code}

{code:title=main.kt}
val x = Runner.run { println("lol"); }
{code}

"Go to implementation" / "Quick definition" on `MyRunnable.run()` don't list the lambda as an implementation of `run()`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1397476558706</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954480</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-5920</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-4896" entityId="25-691025"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4896</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>'Replace with infix call' leaves parentheses when argument is a string</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
java.util.logging.Logger.getLogger("").fine("message")
```
=&gt;
```kotlin
java.util.logging.Logger.getLogger("") fine ("message")
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1398112981053</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041539</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>amal</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Amal Samally</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-4898" entityId="25-691107"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4898</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Don't import private nested classes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have the following code:
{code}
class Foo {
    private class Bar

    fun foo(b: Bar) {}
}
{code}

I copy-paste the declarations of {{foo()}} outside the class. This is what I get:

{code}
import org.jetbrains.jet.plugin.caches.resolve.Foo.Bar // Error here

class Foo {
    private class Bar

    fun foo(b: Bar) {}
}

fun foo(b: Bar) {} // Error here
{code}

One error seems enough to me. It would be more convenient to shorten the reference to {{Bar}} as {{Foo.Bar}}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1398154494201</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041540</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Andrey.Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrey Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-7356</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-4953" entityId="25-692706"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>4953</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong completion behavior when used in the middle of parameter name</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
fun foo(bar: String = "", baz: String = "0") {}

fun test() {
    foo(ba&lt;caret&gt;r = "1")
}
```

Expected with &lt;Tab&gt;:
```kotlin
fun foo(bar: String = "", baz: String = "0") {}

fun test() {
    foo(baz = &lt;caret&gt;"1")
}
```

Actual with &lt;Tab&gt;:
```kotlin
fun foo(bar: String = "", baz: String = "0") {}

fun test() {
    foo(baz = &lt;caret&gt; = "1")
}
```

Expected with &lt;Enter&gt;:
```kotlin
fun foo(bar: String = "", baz: String = "0") {}

fun test() {
    foo(bazr = &lt;caret&gt;"1")
// or
// foo(bar = &lt;caret&gt;"1")
// see the discuss: https://jetpeople.jetbrains.com/article/21-28176
}
```

Actual with &lt;Enter&gt;:
```kotlin
fun foo(bar: String = "", baz: String = "0") {}

fun test() {
    foo(baz = &lt;caret&gt;r = "1")
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1398432917950</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216269</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-801331" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-4953" deleted="false" text="IMO the current behavior with Enter is correct (that is, as it is should be)." shownForIssueAuthor="false" created="1410895305854" markdown="false"><replies/></comment></issue><issue id="KT-5011" entityId="25-696305"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5011</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inspection with quick fix: notify for duplicate conditional</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>For people that use copy/paste in code, especially in games, very often bugs like this appear:
if( point.x&gt;0 &amp;&amp; point.x&gt;0 &amp;&amp; point.z &gt; 0) ...
(point.x &gt; 0 appears twice, is very likely that the user intended: point.y&gt;0, but it forgot to replace it)
it would be nice to notify that for simple expressions if there are duplicates, to be notified as a potential bug.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1399589499798</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041542</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ciplogic</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ciprian Khlud</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Feature</value><valueId>Feature</valueId><color><bg>#7dbd36</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5126" entityId="25-702674"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5126</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Qualified names inserted when there's a package named "kotlin"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have a package "foo.kotlin", when I'm working in the "foo" package, whenever I complete "Boolean", I get "kotlin.Boolean", which (a) does not compile, (2) is not needed</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1401361908164</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216273</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Andrey.Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrey Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-743575" author="goodwinnk" authorFullName="Nikolay Krasko" issueId="KT-5126" deleted="false" text="{code}&#xA;// First file&#xA;package foo.kotlin&#xA;&#xA;// Second file&#xA;package foo&#xA;&#xA;val a = Boolean&lt;caret&gt; // Complete&#xA;{code}&#xA;&#xA;Result is&#xA;&#xA;{code}&#xA;// Second file&#xA;package foo&#xA;&#xA;val a = kotlin.Boolean&#xA;{code}" shownForIssueAuthor="false" created="1401382816953" updated="1401382920643" markdown="false"><replies/></comment></issue><issue id="KT-5181" entityId="25-704789"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5181</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Highlight the whole class declaration for 'not implemented' error</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Error is on 'B' and you have to return to class declaration to invoke 'Implement members' fix.
In Java the whole class declaration is highlighted and quick fix can be invoked in place.
{code}
trait A {
    fun foo(): Int
}

class B : A { 
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1401967585289</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954457</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>svtk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Svetlana Isakova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>5</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-2441</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-746987" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-5181" deleted="false" text="Maybe we should fix Implement members?" shownForIssueAuthor="false" created="1401969798919" markdown="false"><replies/></comment><comment id="27-750195" author="svtk" authorFullName="Svetlana Isakova" issueId="KT-5181" deleted="false" text="It's a bit inconvenient to type an implemented trait and have an error elsewhere. It might be better to highlight an inherited class or trait ('A' in the example). In this case you don't have to return to the beginning of a line to learn the problem, and extra information isn't highlighted (constructor parameters)." shownForIssueAuthor="false" created="1402575275177" markdown="false"><replies/></comment><comment id="27-750818" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-5181" deleted="false" text="What if the member that is not implemented comes from more than one trait? " shownForIssueAuthor="false" created="1402834217500" markdown="false"><replies/></comment><comment id="27-751732" author="svtk" authorFullName="Svetlana Isakova" issueId="KT-5181" deleted="false" text="Highlight all traits?" shownForIssueAuthor="false" created="1402998949321" markdown="false"><replies/></comment><comment id="27-752112" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-5181" deleted="false" text="Maybe. Hard to tell, actually: either traits or the whole header" shownForIssueAuthor="false" created="1403017197894" markdown="false"><replies/></comment></issue><issue id="KT-5221" entityId="25-706154"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5221</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cannot find usages of library functions overridden in Kotlin (from Kotlin source)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class A: LibraryClass() {
     override fun overridesLibraryFun() {} //cannot find usages in libraries when invoking find usages here
}
{code}

Double alt + f7 hotkey does nothing in this case.
Scope "Project and Libraries" is not offered when I invoke extended search.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1402413027916</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975955</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Talanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5303" entityId="25-709809"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5303</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Intention to make method non-final invoked from Java should make kotlin method open</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Foo.kt:
{code:lang=kotlin}
public class A {
    public fun foo() {

    }
}
{code}

Bar.java:
{code:lang=java}
class B extends A {
    @Override
    public void foo() {
        super.foo();
    }
}
{code}
"Make A.foo non-final" quickfix on the B.foo() declaration fails with an exception

com.intellij.util.IncorrectOperationException: Cannot modify compiled element
	at com.intellij.psi.impl.compiled.ClsModifierListImpl.setModifierProperty(ClsModifierListImpl.java:54)
	at com.intellij.codeInsight.daemon.impl.quickfix.ModifierFix.changeModifierList(ModifierFix.java:127)
	at com.intellij.codeInsight.daemon.impl.quickfix.ModifierFix.invoke(ModifierFix.java:168)
	at com.intellij.codeInspection.LocalQuickFixAndIntentionActionOnPsiElement.invoke(LocalQuickFixAndIntentionActionOnPsiElement.java:41)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler$2.run(ShowIntentionActionsHandler.java:169)
	at com.intellij.openapi.command.impl.CommandProcessorImpl.executeCommand(CommandProcessorImpl.java:124)
	at com.intellij.openapi.command.impl.CommandProcessorImpl.executeCommand(CommandProcessorImpl.java:99)
	at com.intellij.openapi.command.impl.CommandProcessorImpl.executeCommand(CommandProcessorImpl.java:85)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.chooseActionAndInvoke(ShowIntentionActionsHandler.java:188)
	at com.intellij.codeInsight.intention.impl.IntentionListStep$2$1.run(IntentionListStep.java:243)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:319)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:721)
	at java.awt.EventQueue.access$200(EventQueue.java:103)
	at java.awt.EventQueue$3.run(EventQueue.java:682)
	at java.awt.EventQueue$3.run(EventQueue.java:680)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:691)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:697)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:524)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:97)
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1403358839584</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041546</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-5340</value><value type="Subtask" role="subtask of">KT-4026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-2745196" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-5303" deleted="false" text="IDEA 182.674 + Kotlin plugin 1.2.40-dev-809.&#xA;Met the same without methods, just with class extension:&#xA;`class NotOpen`&#xA;`public class ExtendingFinalJava extends NotOpen {} // Apply here.`&#xA;Please tell me if separate issue is needed.&#xA;&#xA;```&#xA;Cannot modify compiled element in file '/home/ache/jb-projects/kotlin-master/darc-02-rf/crs-a/crs/quickFix/j2k/KotlinJInteraction.kt'&#xA;com.intellij.util.IncorrectOperationException: Cannot modify compiled element in file '/home/ache/jb-projects/kotlin-master/darc-02-rf/crs-a/crs/quickFix/j2k/KotlinJInteraction.kt'&#xA;&#x9;at com.intellij.psi.impl.compiled.ClsElementImpl.cannotModifyException(ClsElementImpl.java:116)&#xA;&#x9;at com.intellij.psi.impl.compiled.ClsModifierListImpl.setModifierProperty(ClsModifierListImpl.java:52)&#xA;&#x9;at org.jetbrains.kotlin.asJava.elements.KtLightModifierList.setModifierProperty(KtLightModifierList.kt:50)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.quickfix.ModifierFix.changeModifierList(ModifierFix.java:121)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.quickfix.ModifierFix.lambda$invoke$2(ModifierFix.java:193)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1010)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.quickfix.ModifierFix.invoke(ModifierFix.java:192)&#xA;&#x9;at com.intellij.codeInspection.LocalQuickFixAndIntentionActionOnPsiElement.invoke(LocalQuickFixAndIntentionActionOnPsiElement.java:41)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.IntentionActionWithTextCaching$MyIntentionAction.invoke(IntentionActionWithTextCaching.java:181)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.lambda$invokeIntention$3(ShowIntentionActionsHandler.java:200)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.invokeIntention(ShowIntentionActionsHandler.java:204)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.lambda$null$1(ShowIntentionActionsHandler.java:177)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.lambda$chooseActionAndInvoke$2(ShowIntentionActionsHandler.java:176)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:149)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:109)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:99)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:85)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.chooseActionAndInvoke(ShowIntentionActionsHandler.java:175)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.IntentionListStep.lambda$applyAction$0(IntentionListStep.java:118)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:195)&#xA;&#x9;at com.intellij.ui.popup.AbstractPopup.lambda$dispose$7(AbstractPopup.java:1402)&#xA;&#x9;at com.intellij.util.ui.UIUtil.invokeLaterIfNeeded(UIUtil.java:2869)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.ifFocusEventsInTheQueue(IdeEventQueue.java:192)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.executeWhenAllFocusEventsLeftTheQueue(IdeEventQueue.java:141)&#xA;&#x9;at com.intellij.openapi.wm.impl.FocusManagerImpl.doWhenFocusSettlesDown(FocusManagerImpl.java:190)&#xA;&#x9;at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.doWhenFocusSettlesDown(IdeFocusManagerImpl.java:56)&#xA;&#x9;at com.intellij.ui.popup.AbstractPopup.dispose(AbstractPopup.java:1396)&#xA;&#x9;at com.intellij.ui.popup.WizardPopup.dispose(WizardPopup.java:160)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl.dispose(ListPopupImpl.java:307)&#xA;&#x9;at com.intellij.openapi.util.Disposer$1.execute(Disposer.java:48)&#xA;&#x9;at com.intellij.openapi.util.Disposer$1.execute(Disposer.java:44)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectNode$1.execute(ObjectNode.java:138)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectNode$1.execute(ObjectNode.java:107)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectTree.executeActionWithRecursiveGuard(ObjectTree.java:182)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectNode.execute(ObjectNode.java:107)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectTree.executeAll(ObjectTree.java:151)&#xA;&#x9;at com.intellij.openapi.util.Disposer.dispose(Disposer.java:129)&#xA;&#x9;at com.intellij.openapi.util.Disposer.dispose(Disposer.java:125)&#xA;&#x9;at com.intellij.ui.popup.WizardPopup.disposeAllParents(WizardPopup.java:263)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl.handleNextStep(ListPopupImpl.java:442)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl._handleSelect(ListPopupImpl.java:396)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl.handleSelect(ListPopupImpl.java:337)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl$1.actionPerformed(ListPopupImpl.java:250)&#xA;&#x9;at com.intellij.ui.popup.WizardPopup.proceedKeyEvent(WizardPopup.java:378)&#xA;&#x9;at com.intellij.ui.popup.WizardPopup.dispatch(WizardPopup.java:358)&#xA;&#x9;at com.intellij.ui.popup.PopupDispatcher.dispatchKeyEvent(PopupDispatcher.java:126)&#xA;&#x9;at com.intellij.ui.popup.PopupDispatcher.dispatch(PopupDispatcher.java:160)&#xA;&#x9;at com.intellij.ide.IdePopupManager.dispatch(IdePopupManager.java:87)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:731)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:445)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)&#xA;```" shownForIssueAuthor="false" created="1520895099635" markdown="false"><replies/></comment></issue><issue id="KT-5322" entityId="25-710668"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5322</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>super.get issues a "Replace 'get' call with index operator" inspection</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
super&lt;Clazzname&gt;.get(key); // [Inspection] Replace 'get' call with index operator
// if replaced
super&lt;Clazzname&gt;[key]; /* [Error] 'super&lt;Clazzname&gt;' is not an expression, 
it can only be used on the left-hand side of a dot (.) */
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1403657577258</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>aimozg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anton Belokrylov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-7525</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5392" entityId="25-713120"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5392</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incorrect suggestion to replace get with indexing operator</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
  java.nio.file.Paths.get(path)
{code}

it replaces by 

{code}
  java.nio.file.Paths[path]
{code}

but it is not compilable.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1404312095781</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041550</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5412" entityId="25-714117"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5412</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Replace !! -&gt; if expression should replace parent expression</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}val context = resolveSessionForBodies!&lt;caret&gt;!.getBindingContext(){code} is replaced with 
{code}val context = if (resolveSessionForBodies != null) resolveSessionForBodies else throw NullPointerException("Expression 'resolveSessionForBodies' must not be null").getBindingContext(){code}

Which is wrong semantically.
I expect: 
{code}
val context = if (resolveSessionForBodies != null) resolveSessionForBodies.getBindingContext() else throw NullPointerException("Expression 'resolveSessionForBodies' must not be null")
{code}
Because chances are good I really want to do something in the else branch once i realized that assertion is unjustified.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1404482046839</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041550</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Talanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5435" entityId="25-715400"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5435</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Surround with try/catch should generate more Kotlin-style code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo(): Int = 1

fun bar() {
    val result = foo()
    println(result)
}
{code}

Surround the first statement with try/catch:

{code}
fun foo(): Int = 1

fun bar() {
    val result: Int
    try {
        result = foo()
    } catch(e: Exception) {
    }
    println(result)
}
{code}

Change it to: 

{code}
fun foo(): Int = 1

fun bar() {
    val result = try {
        foo()
    } catch(e: Exception) {
    }
    println(result)
}
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1404830587770</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975904</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-14175</value><value type="Duplicate" role="is duplicated by">KT-12198</value><value type="Subtask" role="subtask of">KT-3345</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1637806" author="shiraji" authorFullName="Yoshinori Isogai" issueId="KT-5435" deleted="false" text="I will work on this." shownForIssueAuthor="false" created="1475643210946" markdown="false"><replies/></comment><comment id="27-1644187" author="shiraji" authorFullName="Yoshinori Isogai" issueId="KT-5435" deleted="false" text="PR&#xA;https://github.com/JetBrains/kotlin/pull/966" shownForIssueAuthor="false" created="1476004674089" updated="1475643210903" markdown="false"><replies/></comment><tag cssClass="c0">Star0</tag><tag cssClass="c18">Up For Grabs</tag></issue><issue id="KT-5476" entityId="25-717800"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5476</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Intention to convert assert to an if with throw does not insert import if there is local AssertionError defined</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}package a

class AssertionError

fun main(args: Array&lt;String&gt;) {
    as&lt;caret&gt;sert(false)
}
{code}

becomes
{code}
package a

class AssertionError

fun main(args: Array&lt;String&gt;) {
    if (!false) {
        throw /*type mismatch*/AssertionError("Assertion failed")
    }
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1405434318115</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041551</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Talanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-4576</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5481" entityId="25-718085"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5481</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Strange quickfix "Replace type arguments to &lt;&gt;" doing nothing</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
import java.util.*

class A {
    val map = HashMap&lt;Class&lt;*&gt;, Any&gt;()

    fun &lt;T&gt; get(`type`: Class&lt;T&gt;): T {
        val value = map.get(`type`) as T
    }
}
{code}

Cast to T is highlighted as unchecked one and there is a quickfix "Replace type arguments to &lt;&gt;". I have no idea what it's intended to do but it does nothing.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1405509318872</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041552</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-5482</value><value type="Duplicate" role="is duplicated by">KT-5698</value><value type="Subtask" role="subtask of">KT-4026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5625" entityId="25-728112"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5625</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>REPL: IOB exception from code with try-catch</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
&gt;&gt;&gt; try {
... println("s")
... }
... catch(t: Throwable) {
... }
EXCEPTION: java.lang.RuntimeException: org.jetbrains.org.objectweb.asm.tree.analysis.AnalyzerExcepti
on: Error at instruction 27: Cannot pop operand off an empty stack.
        at org.jetbrains.jet.codegen.optimization.transformer.MethodTransformer.runAnalyzer(MethodTr
ansformer.java:39)
        at org.jetbrains.jet.codegen.optimization.transformer.MethodTransformer.analyze(MethodTransf
ormer.java:47)
        at org.jetbrains.jet.codegen.optimization.boxing.RedundantNullCheckMethodTransformer.removeR
edundantNullCheckPass(RedundantNullCheckMethodTransformer.java:47)
        at org.jetbrains.jet.codegen.optimization.boxing.RedundantNullCheckMethodTransformer.transfo
rm(RedundantNullCheckMethodTransformer.java:38)
        at org.jetbrains.jet.codegen.optimization.OptimizationMethodVisitor.visitEnd(OptimizationMet
hodVisitor.java:69)
        at org.jetbrains.jet.codegen.ScriptCodegen.genConstructor(ScriptCodegen.java:199)
        at org.jetbrains.jet.codegen.ScriptCodegen.generateBody(ScriptCodegen.java:108)
        at org.jetbrains.jet.codegen.MemberCodegen.generate(MemberCodegen.java:91)
        at org.jetbrains.jet.codegen.PackageCodegen.generate(PackageCodegen.java:306)
        at org.jetbrains.jet.codegen.PackageCodegen.generate(PackageCodegen.java:209)
        at org.jetbrains.jet.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:80
)
        at org.jetbrains.jet.cli.jvm.repl.ReplInterpreter.compileScript(ReplInterpreter.java:372)
        at org.jetbrains.jet.cli.jvm.repl.ReplInterpreter.eval(ReplInterpreter.java:260)
        at org.jetbrains.jet.cli.jvm.repl.ReplFromTerminal.eval(ReplFromTerminal.java:141)
        at org.jetbrains.jet.cli.jvm.repl.ReplFromTerminal.one(ReplFromTerminal.java:126)
        at org.jetbrains.jet.cli.jvm.repl.ReplFromTerminal.doRun(ReplFromTerminal.java:91)
        at org.jetbrains.jet.cli.jvm.repl.ReplFromTerminal.run(ReplFromTerminal.java:194)
        at org.jetbrains.jet.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.java:90)
        at org.jetbrains.jet.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.java:53)
        at org.jetbrains.jet.cli.common.CLICompiler.exec(CLICompiler.java:136)
        at org.jetbrains.jet.cli.common.CLICompiler.exec(CLICompiler.java:122)
        at org.jetbrains.jet.cli.common.CLICompiler.exec(CLICompiler.java:55)
        at org.jetbrains.jet.cli.common.CLICompiler.doMainNoExit(CLICompiler.java:191)
        at org.jetbrains.jet.cli.common.CLICompiler.doMain(CLICompiler.java:182)
        at org.jetbrains.jet.cli.jvm.K2JVMCompiler.main(K2JVMCompiler.java:57)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.jetbrains.jet.preloading.Preloader.main(Preloader.java:88)
Caused by: org.jetbrains.org.objectweb.asm.tree.analysis.AnalyzerException: Error at instruction 27:
 Cannot pop operand off an empty stack.
        at org.jetbrains.org.objectweb.asm.tree.analysis.Analyzer.analyze(Analyzer.java:297)
        at org.jetbrains.jet.codegen.optimization.transformer.MethodTransformer.runAnalyzer(MethodTr
ansformer.java:36)
        ... 29 more
Caused by: java.lang.IndexOutOfBoundsException: Cannot pop operand off an empty stack.
        at org.jetbrains.org.objectweb.asm.tree.analysis.Frame.pop(Frame.java:220)
        at org.jetbrains.org.objectweb.asm.tree.analysis.Frame.execute(Frame.java:601)
        at org.jetbrains.org.objectweb.asm.tree.analysis.Analyzer.analyze(Analyzer.java:199)
        ... 30 more
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1407926146104</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533646236507</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nastelaz</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Natalia Selezneva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Chernikov">ilya.chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. REPL</value><valueId>Tools. REPL</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5637" entityId="25-728646"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5637</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Support "Dismiss" for "Configure Kotlin in Project" balloon</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>https://twitter.com/shipilev/status/499836817425059840

Some users don't want to configure Kotlin in their project, and we are bugging them about doing this all the time.

Let's add "Dismiss" link to the balloon, so that it remembers that the user does not want it.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1408009384334</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975943</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Andrey.Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrey Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-783534" author="orangy" authorFullName="Ilya Ryzhenkov" issueId="KT-5637" deleted="false" text="How does one understand the difference between (X) button and &quot;Dismiss&quot; link? It should be something more explicit, like &quot;Ignore module&quot;." shownForIssueAuthor="false" created="1408009521685" markdown="false"><replies/></comment><comment id="27-783637" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-5637" deleted="false" text="Right, &quot;Ignore module&quot; is better" shownForIssueAuthor="false" created="1408017547910" markdown="false"><replies/></comment></issue><issue id="KT-5898" entityId="25-754047"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5898</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Auto-surrounding with braces works incorrectly for lambda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo() {
    f()
    g()
}
{code}

I want to put the first statement under if. Type "if (a) {" before "f()" and press Enter:

{code}
fun foo() {
    if (a) {
        f()
    }
    g()
}
{code}

So far so good. Now let's do the same to surround with "run {...}":

{code}
fun foo() {
    run {
        f()
        g()
    }
}
{code}

That is not what's expected!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1412077134571</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041554</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-5918" entityId="25-754905"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5918</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Packages view in IntelliJ should show actual packages from package directive, not folder-based.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1412171576657</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975966</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-810672" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-5918" deleted="false" text="This may be a hard one, performance-wise" shownForIssueAuthor="false" created="1412183930387" markdown="false"><replies/></comment></issue><issue id="KT-5919" entityId="25-754909"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>5919</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Optimize Imports should also shorten references and remove redundant FQNs</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
import java.io.*

class My(stream: java.io.InputStream) : ObjectInputStream(stream)
{code}

Should remove `java.io.` from `InputStream`
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1412171716992</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041555</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2437</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-922290" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-5919" deleted="false" text="Why do you think it should do this? It doesn't do that in Java." shownForIssueAuthor="false" created="1424169386755" markdown="false"><replies/></comment><comment id="27-922350" author="orangy" authorFullName="Ilya Ryzhenkov" issueId="KT-5919" deleted="false" text="ReSharper does that in C#, and it is quite useful." shownForIssueAuthor="false" created="1424171252764" markdown="false"><replies/></comment><comment id="27-922370" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-5919" deleted="false" text="I see. I mean that we should have consistent behaviour in different languages within the same IDE." shownForIssueAuthor="false" created="1424172519521" updated="1424169386645" markdown="false"><replies/></comment><comment id="27-922372" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-5919" deleted="false" text="We can discuss it with the IDEA team." shownForIssueAuthor="false" created="1424172554049" updated="1424172519448" markdown="false"><replies/></comment><comment id="27-1006550" author="orangy" authorFullName="Ilya Ryzhenkov" issueId="KT-5919" deleted="false" text="Did you have a chance to discuss it?" shownForIssueAuthor="false" created="1433169185050" markdown="false"><replies/></comment><comment id="27-1007224" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-5919" deleted="false" text="I did not." shownForIssueAuthor="false" created="1433241912559" markdown="false"><replies/></comment></issue><issue id="KT-6006" entityId="25-760579"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6006</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong "make type explicit in lambda" intention result if lambda returns anonymous object</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
package zzzxxx

fun main(args : Array&lt;String&gt;) {
    println({ (x : Int) -&gt;
        
        listOf("1", "2", "3") map {e/*call make type explicit in lambda*/ -&gt;
          object : Map.Entry&lt;String, String&gt; {
            override fun getKey() = e
            override fun getValue() = ""
        }
    }
}
{code}
result is  (e: String): zzzxxx.main.&lt; -&gt;</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1413196420707</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041557</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-4579</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6025" entityId="25-762711"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6025</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Auto-remove toString() call in "Convert concatenation to template"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
public class Card (public val suit : Any, public val value : Any) {
    public override fun toString() : String = value.toString() + suit.toString()
}
// Converted to

public override fun toString() : String = "${value.toString()}${suit.toString()}"

// But expected
public override fun toString() : String = "$value$suit"
{code}

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1413380327623</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041558</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-7293</value><value type="Subtask" role="subtask of">KT-4750</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6116" entityId="25-769540"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6116</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Redundant type arguments warning is not detected for if expression branch</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo(p: Boolean): List&lt;String&gt; = if (p) listOf("a") else listOf&lt;String&gt;()
{code}

"&lt;String&gt;" can be removed but not detected as redundant.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1414051897111</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041560</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6119" entityId="25-769632"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6119</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion after "as": wrong replacement range by Tab</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
    val list: List&lt;String&gt; = x as &lt;caret&gt;Set&lt;String&gt;
{code}

results in:

{code}
    val list: List&lt;String&gt; = x as List&lt;String&gt; &lt;String&gt;
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1414056012322</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216278</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6163" entityId="25-775384"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6163</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion: do not use name similarity for lambda items</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class Foo

fun f(fooHandler: (Foo) -&gt; Unit){}

fun g(){
    f(&lt;caret&gt;)
}
{code}

Normally, lambda item with no explicit parameter should be placed first. But in the above case one with the explicit parameter takes the priority because of "name similarity" (also contains 'foo').</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1414601630257</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216279</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6250" entityId="25-788438"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6250</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>There shouldn't be autopopup completion when typing lambda parameters</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun some(f: (a&lt;caret&gt;: Int) -&gt; Unit) {}

// Same with incomplete code
fun some(a: (na&lt;caret&gt;))
{code}

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1415876716915</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216280</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6282" entityId="25-792788"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6282</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Render arrays in REPL</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
&gt;&gt;&gt; javaClass&lt;String&gt;().getAnnotations()
[Ljava.lang.annotation.Annotation;@5780a8ed
{code}

Expected: `[]`

Use `Arrays.toString` to render arrays</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1416308536295</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533646229072</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Chernikov">ilya.chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. REPL</value><valueId>Tools. REPL</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6352" entityId="25-803794"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6352</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion should not suggest to instantiate local class which is not visible from the current position</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1417166828878</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216281</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6353" entityId="25-803796"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6353</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion should not suggest to instantiate inner class if we do not have implicit receiver of the outer class's type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1417166893517</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216292</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6378" entityId="25-808603"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6378</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong ordering of named parameter item in the completion list</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo(list: List&lt;String&gt;){}

fun f(){
    foo(lis&lt;caret&gt;)
}
{code}

Invoke code completion. The first item is "listOf" (with no parameters), then named parameter item "list = ..." and then other functions. Very strange.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1417475917179</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216295</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6522" entityId="25-826542"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6522</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inconsistent behavior of code completion for nested classes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Second press code completion completes all classes visible from the current module including nested ones. But nested classes in the same file are not included!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1419338060882</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216296</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6565" entityId="25-828362"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6565</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion does not work for a.(b.c())() expressions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class Foo {
  fun asBuilder(): Foo.() -&gt; Unit 
}

val x = Foo()
val y = Foo()

y.(|) //caret, but no completion 
y.(x.|) //caret, but no completion

//this works
y.(x.asBuilder())()
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1419627559129</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216302</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6584" entityId="25-830284"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6584</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>No read lock held during Kotlin references search when searching for a Cursive class</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When searching for a light class defined in Cursive, I receive the exception below from the Kotlin plugin. It's not clear to me if I should be taking the read lock during getContainingFile() - my understanding was that these locks are normally taken during higher-level operations. Perhaps KotlinReferencesSearcher should check if the element being searched is a Kotlin element before calling isInSource()?

{monospace}Read access is allowed from event dispatch thread or inside read-action only (see com.intellij.openapi.application.Application.runReadAction())
Details: Current thread: Thread[ApplicationImpl pooled thread 42,4,main] 719819628
Our dispatch thread:Thread[AWT-EventQueue-1 13.1.4#IU-135.1230, eap:false,6,main] 457032917
SystemEventQueueThread: Thread[AWT-EventQueue-1 13.1.4#IU-135.1230, eap:false,6,main] 457032917
java.lang.Throwable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:124)
	at com.intellij.openapi.application.impl.ApplicationImpl.assertReadAccessAllowed(ApplicationImpl.java:1028)
	at com.intellij.psi.impl.file.impl.FileManagerImpl.findFile(FileManagerImpl.java:321)
	at com.intellij.psi.impl.PsiManagerImpl.findFile(PsiManagerImpl.java:188)
	at cursive.psi.ClojurePsiElements.elementAt(ClojurePsiElements.java:92)
	at cursive.psi.impl.synthetic.SyntheticClass.getDefiningElement(SyntheticClass.java:67)
	at plugin.intellij.class.proxy$cursive.psi.impl.synthetic.SyntheticClass$PsiQualifiedNamedElement$VarContainer$9e937acb.getDefiningElement(Unknown Source)
	at cursive.psi.impl.synthetic.SyntheticClass.getContainingFile(SyntheticClass.java:33)
	at plugin.intellij.class.proxy$cursive.psi.impl.synthetic.SyntheticClass$PsiQualifiedNamedElement$VarContainer$9e937acb.getContainingFile(Unknown Source)
	at org.jetbrains.jet.plugin.JetPluginUtil.isInSource(JetPluginUtil.java:41)
	at org.jetbrains.jet.plugin.JetPluginUtil.isInSource(JetPluginUtil.java:37)
	at org.jetbrains.jet.plugin.search.ideaExtensions.KotlinReferencesSearcher.processQuery(KotlinReferencesSearcher.java:56)
	at org.jetbrains.jet.plugin.search.ideaExtensions.KotlinReferencesSearcher.processQuery(KotlinReferencesSearcher.java:33)
	at com.intellij.openapi.application.QueryExecutorBase.execute(QueryExecutorBase.java:49)
	at com.intellij.util.ExecutorsQuery.processResults(ExecutorsQuery.java:43)
	at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:77)
	at com.intellij.util.UniqueResultsQuery.process(UniqueResultsQuery.java:66)
	at com.intellij.util.UniqueResultsQuery.forEach(UniqueResultsQuery.java:56)
	at com.intellij.find.findUsages.FindUsagesHandler.processElementUsages(FindUsagesHandler.java:118)
	at com.intellij.find.findUsages.FindUsagesManager$2.generate(FindUsagesManager.java:369)
	at com.intellij.find.findUsages.FindUsagesManager$1$1.run(FindUsagesManager.java:296)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$2.run(ProgressManagerImpl.java:178)
	at com.intellij.openapi.progress.ProgressManager.executeProcessUnderProgress(ProgressManager.java:209)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:212)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcess(ProgressManagerImpl.java:171)
	at com.intellij.find.findUsages.FindUsagesManager$1.run(FindUsagesManager.java:293)
	at com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:419)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:695)
	at com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:149){monospace}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1420191952455</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975955</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>lemming</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Colin Fleming</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6660" entityId="25-843052"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6660</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>UIDesigner doesn't work with Kotlin classes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1) Kotlin class isn't instrumented despite of a form being bound to it
2) UIDesigner can't create a field in Kotlin on attempt of using an unresolved reference quick fix </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1421860928490</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975459</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>traff</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Trofimov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>18</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Depend" role="depends on">KT-6661</value><value type="Duplicate" role="is duplicated by">IDEA-169628</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-2332403" author="gregsh" authorFullName="Greg Shrago" issueId="KT-6660" deleted="false" text="+1 to form compiler.&#xA;&#xA;I'll support the DSL approach if and only if it is accompanied by a visual UI designer.&#xA;Even Kotlin plugin contains form files and switches to java classes to address this issue.&#xA;&#xA;*UPD* I know about @develar DSL attempts below but &#xA;visual and textual representations *never supersede, always complement*." shownForIssueAuthor="false" created="1500494547343" updated="1500543207804" markdown="false"><replies/></comment><comment id="27-2530294" author="bmcd176" authorFullName="Brynley McDonald" issueId="KT-6660" deleted="false" text="+1 for this as well. &#xA;&#xA;Trying to kotlin-ize my project but all my GUI classes give &quot;Error:java.lang.AssertionError: KtElement not inside KtFile&quot;" shownForIssueAuthor="false" created="1510855949274" markdown="false"><replies/></comment></issue><issue id="KT-6670" entityId="25-844120"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6670</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart Completion: Do not insert ")" if already present on the next line</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
fun foo(i: Int) {
    foo(
            &lt;smart completion here inserts "i)"
    )
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1421992556083</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216303</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Andrey.Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrey Breslav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6731" entityId="25-851364"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6731</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Rename class/method refactoring should also rename relevant run configurations</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1423047620773</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536492661208</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Anton.Yalyshev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Anton Yalyshev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-22655</value><value type="Subtask" role="subtask of">KT-2615</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Refactorings</value><valueId>IDE. Refactorings</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-6827" entityId="25-864734"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>6827</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Delegation to class should be counted as usages for all class methods</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
// Kotlin
package k

trait DelegateTrait {
    fun foo() {}
}

class DelegateImpl : DelegateTrait {
    override fun foo() {} // There's no usages for this method
}

class DelegateUser: DelegateTrait by DelegateImpl()

fun some() {
    DelegateUser().&lt;caret&gt;foo() // Should be resolved to DelegateImpl.foo()
}


{code}

{code}
// Java

import k.*;

public class ReferenceToDelegatedMethod {
    public static void bar(DelegateUser delegate) {
        delegate.&lt;caret&gt;foo(); // Should be resolve to DelegateImpl.foo()
    }
}
{code}

Patch with tests is attached.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1424283581068</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954598</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2648</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-215490" url="https://youtrack.jetbrains.com/_persistent/delegation_should_contribute_to_method_usage.patch?file=74-215490&amp;c=true">delegation_should_contribute_to_method_usage.patch</value></field><comment id="27-924679" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-6827" deleted="false" text="Maybe we need a special usage kind for this, to be able to filter in Find Results window. Java has such a kind" shownForIssueAuthor="false" created="1424347203912" markdown="false"><replies/></comment></issue><issue id="KT-7032" entityId="25-889188"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7032</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Parameter Info shows java.lang.String constructor parameters for String()</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Seems that `Parameter Info` treats String and java.lang.String as if they were the same.
Actually these methods are not available for String.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1426620901224</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041561</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-220094" url="https://youtrack.jetbrains.com/_persistent/2015-03-17_22-24-29.png?file=74-220094&amp;c=true">2015-03-17_22-24-29.png</value></field></issue><issue id="KT-7146" entityId="25-899449"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7146</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion when function type expected - sorting</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>If there is a local function matching the type, put it first (chances are high that it's to be used).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1427450508097</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216304</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7340" entityId="25-911122"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7340</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Exception when applying quick fix for `is` operator in IDEA</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
fun foo(x : Any) {
    if(x is (String) -&gt; String) // Apply quick fix: Change type arguments to &lt;*,*&gt;
}
```

```
Exception while analyzing expression at (10,8) in C:/Users/Vladimir/IdeaProjects/KotlinTest2/src/K.kt:
x is (*) -&gt; *

org.jetbrains.kotlin.utils.KotlinFrontEndException: Exception while analyzing expression at (10,8) in C:/Users/Vladimir/IdeaProjects/KotlinTest2/src/K.kt:
x is (*) -&gt; *

	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:167)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:103)
	at org.jetbrains.kotlin.types.expressions.ControlStructureTypingVisitor.checkCondition(ControlStructureTypingVisitor.java:67)
	at org.jetbrains.kotlin.types.expressions.ControlStructureTypingVisitor.visitIfExpression(ControlStructureTypingVisitor.java:91)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitIfExpression(ExpressionTypingVisitorForStatements.java:394)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitIfExpression(ExpressionTypingVisitorForStatements.java:59)
	at org.jetbrains.kotlin.psi.JetIfExpression.accept(JetIfExpression.java:33)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:136)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:111)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getTypeOfLastExpressionInBlock(ExpressionTypingServices.java:363)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getBlockReturnedTypeWithWritableScope(ExpressionTypingServices.java:327)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getBlockReturnedType(ExpressionTypingServices.java:268)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getBlockReturnedType(ExpressionTypingServices.java:239)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitBlockExpression(ExpressionTypingVisitorForStatements.java:404)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitBlockExpression(ExpressionTypingVisitorForStatements.java:59)
	at org.jetbrains.kotlin.psi.JetBlockExpression.accept(JetBlockExpression.java:44)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:136)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:113)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.checkFunctionReturnType(ExpressionTypingServices.java:234)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.checkFunctionReturnType(ExpressionTypingServices.java:219)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveFunctionBody(BodyResolver.java:741)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveFunctionBody(BodyResolver.java:712)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveFunctionBodies(BodyResolver.java:699)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveBehaviorDeclarationBodies(BodyResolver.java:119)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveBodies(BodyResolver.java:239)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations(LazyTopDownAnalyzer.java:307)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzerForTopLevel.analyzeDeclarations(LazyTopDownAnalyzerForTopLevel.java:77)
	at org.jetbrains.kotlin.idea.caches.resolve.KotlinResolveDataProvider.analyze(KotlinResolveCache.kt:258)
	at org.jetbrains.kotlin.idea.caches.resolve.PerFileAnalysisCache.analyze(KotlinResolveCache.kt:179)
	at org.jetbrains.kotlin.idea.caches.resolve.PerFileAnalysisCache.access$analyze$2(KotlinResolveCache.kt:126)
	at org.jetbrains.kotlin.idea.caches.resolve.PerFileAnalysisCache.getAnalysisResults(KotlinResolveCache.kt:164)
	at org.jetbrains.kotlin.idea.caches.resolve.KotlinResolveCache.getAnalysisResultsForElements(KotlinResolveCache.kt:114)
	at org.jetbrains.kotlin.idea.caches.resolve.KotlinCacheService$getResolutionFacade$1.analyzeFullyAndGetResult(KotlinCacheService.kt:68)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolvePackage$resolutionApi$d956429d.analyzeFullyAndGetResult(resolutionApi.kt:59)
	at org.jetbrains.kotlin.idea.highlighter.JetPsiChecker.annotate(JetPsiChecker.kt:60)
	at org.jetbrains.kotlin.idea.highlighter.JetPsiCheckerAndHighlightingUpdater.annotate(JetPsiCheckerAndHighlightingUpdater.java:32)
	at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.runAnnotators(DefaultHighlightVisitor.java:160)
	at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.visit(DefaultHighlightVisitor.java:103)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass$5.run(GeneralHighlightingPass.java:313)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.analyzeByVisitors(GeneralHighlightingPass.java:399)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.access$300(GeneralHighlightingPass.java:64)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass$6.run(GeneralHighlightingPass.java:405)
	at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.analyze(DefaultHighlightVisitor.java:87)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.analyzeByVisitors(GeneralHighlightingPass.java:402)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.access$300(GeneralHighlightingPass.java:64)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass$6.run(GeneralHighlightingPass.java:405)
	at com.intellij.codeInsight.daemon.impl.RefCountHolder.analyze(RefCountHolder.java:321)
	at com.intellij.codeInsight.daemon.impl.analysis.HighlightVisitorImpl.analyze(HighlightVisitorImpl.java:175)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.analyzeByVisitors(GeneralHighlightingPass.java:402)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.collectHighlights(GeneralHighlightingPass.java:390)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.collectInformationWithProgress(GeneralHighlightingPass.java:230)
	at com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:91)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:62)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass$1$1.run(PassExecutorService.java:438)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1146)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass$1.run(PassExecutorService.java:429)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.registerIndicatorAndRun(ProgressManagerImpl.java:281)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:233)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:426)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:402)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask.exec(JobLauncherImpl.java:202)
	at jsr166e.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at jsr166e.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:858)
	at jsr166e.ForkJoinPool.scan(ForkJoinPool.java:1687)
	at jsr166e.ForkJoinPool.runWorker(ForkJoinPool.java:1642)
	at jsr166e.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:109)
Caused by: java.lang.IllegalStateException: it.getTypeReference() must not be null
	at org.jetbrains.kotlin.resolve.TypeResolver$resolveTypeElement$1.visitFunctionType(TypeResolver.kt:229)
	at org.jetbrains.kotlin.psi.JetVisitorVoid.visitFunctionType(JetVisitorVoid.java:911)
	at org.jetbrains.kotlin.psi.JetVisitorVoid.visitFunctionType(JetVisitorVoid.java:21)
	at org.jetbrains.kotlin.psi.JetFunctionType.accept(JetFunctionType.java:64)
	at org.jetbrains.kotlin.psi.JetElementImplStub.accept(JetElementImplStub.java:57)
	at org.jetbrains.kotlin.resolve.TypeResolver.resolveTypeElement(TypeResolver.kt:118)
	at org.jetbrains.kotlin.resolve.TypeResolver.doResolvePossiblyBareType(TypeResolver.kt:110)
	at org.jetbrains.kotlin.resolve.TypeResolver.resolvePossiblyBareType(TypeResolver.kt:98)
	at org.jetbrains.kotlin.types.expressions.PatternMatchingTypingVisitor.checkTypeForIs(PatternMatchingTypingVisitor.java:284)
	at org.jetbrains.kotlin.types.expressions.PatternMatchingTypingVisitor.visitIsExpression(PatternMatchingTypingVisitor.java:60)
	at org.jetbrains.kotlin.types.expressions.PatternMatchingTypingVisitor.visitIsExpression(PatternMatchingTypingVisitor.java:46)
	at org.jetbrains.kotlin.psi.JetIsExpression.accept(JetIsExpression.java:32)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.visitIsExpression(ExpressionTypingVisitorDispatcher.java:237)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.visitIsExpression(ExpressionTypingVisitorDispatcher.java:36)
	at org.jetbrains.kotlin.psi.JetIsExpression.accept(JetIsExpression.java:32)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:136)
	... 65 more

```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1428457191629</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041562</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladimir Reshetnikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7380" entityId="25-913305"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7380</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Imports insertion on paste does not work correctly when there were alias imports in the source file</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Used in the copied code fragment.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1428599316720</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041564</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-7356</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7408" entityId="25-914217"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7408</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Auto-import popup does not suggest kotlin.Map.Entry but suggests java.util.Map.Entry</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1428680420221</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041565</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2439</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7524" entityId="25-920187"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7524</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>«Remove explicitly specified type» intention should add generic to the decalaration if needed</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>before 
```kotlin
val stateSet: Set&lt;String&gt; = HashSet()
```

after «Remove explicitly specified type»
```kotlin
val stateSet = HashSet() // Error: Type inference failed: Not enough information to infer parameter ...
```

should be:
```kotlin
val stateSet = HashSet&lt;String&gt;()
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1429550054809</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041565</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>amal</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Amal Samally</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7555" entityId="25-921915"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7555</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Omit braces when converting 'this' in 'Convert concatenation to template'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class A {
    val a = "" + this
}
{code}

Expected:
{code}
class A {
    val a = "$this"
}
{code}

Actual:
{code}
class A {
    val a = "${this}"
}
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1429753106885</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041566</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4750</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-994193" author="udalov" authorFullName="Alexander Udalov" issueId="KT-7555" deleted="false" text="Note that braces for a labeled 'this' should not be removed" shownForIssueAuthor="false" created="1431527808634" markdown="false"><replies/></comment></issue><issue id="KT-7562" entityId="25-922406"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7562</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unexpected behavior of import popup when enum has illegal contructor declaration</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
public enum class IdKind(val value : Int) {
    Static        : IdKind (0)
    DynamicClient : IdKind (1)
    DynamicServer : IdKind (2)

    {
        assert( value &gt;= 0 &amp;&amp; value &lt;= 3, "must take exactly two bits: $value")
    }
}
{code}
I forgot to put ';' or 'init' before constructor and assert method is highlighted as red. Import popup suggests me to choose 'kotlin.assert'. I choose, nothing happens =&gt; I'm confused, because don't understand my mistake.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1429798841796</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041567</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>daivanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Ivanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7593" entityId="25-923911"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7593</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>On splitting property declaration for functional expression additional bracket added</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>//before
{code}
fun main(args: Array&lt;String&gt;) {
    val p = fun () {
    }
}
{code}
//after
{code}
fun main(args: Array&lt;String&gt;) {
    val p: () -&gt; Unit
    p = (fun () {
    })    
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1430126840037</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954554</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7633" entityId="25-926985"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7633</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Applicable context for custom kotlin live templates get lost everytime when plugin is reinstalled</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Or with fresh installation &amp; imported settings</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1430439958360</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954430</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>amal</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Amal Samally</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-7911</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-988399" author="pTalanov" authorFullName="Pavel Talanov" issueId="KT-7633" deleted="false" text="@amal Do you mean &quot;applicable in&quot; settings for live templates? Do you lose your custom settings? &#xA;&#xA;What do you mean &quot;with fresh installation&quot;? What are the steps to reproduce this?&#xA;&#xA;Btw, do you think we should change default settings?" shownForIssueAuthor="false" created="1430837739628" markdown="false"><replies/></comment><comment id="27-991567" author="amal" authorFullName="Amal Samally" issueId="KT-7633" deleted="false" text="&gt;Do you mean &quot;applicable in&quot; settings for live templates?&#xA;&#xA;@pTalanov yes, exactly&#xA;&#xA;&gt;Do you lose your custom settings?&#xA;&#xA;Yes. It's about my own custom templates. But changes (if any) in standard templates are also lost, as I can see.&#xA;&#xA;&gt;Btw, do you think we should change default settings?&#xA;&#xA;No. Issue is about custom user templates.&#xA;&#xA;&gt;What do you mean &quot;with fresh installation&quot;? What are the steps to reproduce this?&#xA;&#xA;1. Install kotlin plugin. Create custom live template with applicable context. Remove plugin. Install it again. See &quot;applicable in&quot; settings.&#xA;&#xA;2. Install fresh IDEA. Install kotlin plugin &amp; import settings (or vice versa) with custom templates. See &quot;applicable in&quot; settings." shownForIssueAuthor="false" created="1431195858644" markdown="false"><replies/></comment><comment id="27-1097618" author="amal" authorFullName="Amal Samally" issueId="KT-7633" deleted="false" text="It's incredibly annoying" shownForIssueAuthor="false" created="1440165114857" updated="1431195858613" markdown="false"><replies/></comment><comment id="27-1441453" author="hendrik_k" authorFullName="Hendrik Kokocinski" issueId="KT-7633" deleted="false" text="I also got this problem and it is especially annoying since every major AndroidStudio update enforces a reinstall of the plugin" shownForIssueAuthor="false" created="1463741808634" markdown="false"><replies/></comment></issue><issue id="KT-7638" entityId="25-927167"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7638</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cannot use Find Usages and Rename for compound declaration with one variable</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
data class D(val p1: Int, val p2: Int)

fun foo(): D{}

fun bar() {
    val (x) = foo()
    print(x)
}
{code}

Try to find usages or rename 'x'. It works for D.p1 instead. 
This happens only when there is only one variable in the compound declaration.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1430497573311</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954569</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2648</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1099121" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-7638" deleted="false" text="The problem is that we have a reference from &quot;x&quot; in &quot;val (x)&quot; to p1. Given that it's a declaration, I don't quite see why we need to have a reference there at all." shownForIssueAuthor="false" created="1440435366880" markdown="false"><replies/></comment></issue><issue id="KT-7686" entityId="25-931037"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7686</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion of SAM constructor for nested java interface produces wrong result</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
public class JavaClass {
    public interface Interface {
        void xxx();
    }
}
{code}

{code}
fun foo(): JavaClass.Interface {
    return &lt;caret&gt;  
}
{code}

results in

{code}
fun foo(): JavaClass.Interface {
    return Interface(&lt;caret&gt;)  
}
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1431075009277</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216305</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7687" entityId="25-931063"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7687</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion inserts qualified name on replace of call with return inside</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
import java.io.File

private fun foo(): File {
    return &lt;caret&gt;XXX(yyy ?: return null)
}
{code}

Choose "File" by Tab:

{code}
import java.io.File

private fun foo(): File {
    return java.io.File(yyy ?: return null)
}
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1431077149094</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216306</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7699" entityId="25-932399"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7699</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Conversion from java on copy/paste of if-statement without else branch</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
if (a) {
  ...
}
else {
}
{code}

Copy/paste this "if" without else branch. Result is:

{code}
if (a) run {
  ...
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1431348381432</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041569</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-7137</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-7834" entityId="25-941793"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7834</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Can't find usages of annotation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have annotation declared in my library:
{code}
Retention(RetentionPolicy.RUNTIME)
Target(ElementType.METHOD)
public annotation class Link
{code}
Then I try to search for it code, that uses that library, I can't find usages of this annotation (and other annotations from this library as well), it just shows that there are no usages. But it's used for annotating getters: 
{code}
var defaultBranchActions by nullableDelegate { branchActions }
        [Child] get
var featureBranchActions by nullableDelegate { branchActions }
        [Child] get
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1432634886657</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975957</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Anna.Zhdan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anna Zhdan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-2455</value><value type="Subtask" role="subtask of">KT-2648</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1002791" author="denis.zharkov" authorFullName="Denis Zharkov" issueId="KT-7834" deleted="false" text="Link != Child? :)" shownForIssueAuthor="false" created="1432643107109" markdown="false"><replies/></comment><comment id="27-1002822" author="Anna.Zhdan" authorFullName="Anna Zhdan" issueId="KT-7834" deleted="false" text="Oh, I'm sorry, copied wrong declaration. Here is Child&#xA;{code}&#xA;Retention(RetentionPolicy.RUNTIME)&#xA;Target(ElementType.METHOD)&#xA;public annotation class Child&#xA;{code}" shownForIssueAuthor="false" created="1432644589294" markdown="false"><replies/></comment><comment id="27-1002839" author="denis.zharkov" authorFullName="Denis Zharkov" issueId="KT-7834" deleted="false" text="1.Could you please try latest plugin version (https://teamcity.jetbrains.com/repository/download/bt345/487540:id/kotlin-plugin-0.12.105.zip)?&#xA;&#xA;2.Is your library attached to project as separate jar? Could you share it?" shownForIssueAuthor="false" created="1432645509046" updated="1432643107063" markdown="false"><replies/></comment><comment id="27-1004459" author="Anna.Zhdan" authorFullName="Anna Zhdan" issueId="KT-7834" deleted="false" text="@denis.zharkov new plugin didn't help. Here is gradle dependency&#xA;{code}&#xA;compile 'jetbrains.gap:gap-rest:291'&#xA;{code}" shownForIssueAuthor="false" created="1432811053657" updated="1432644589249" markdown="false"><replies/></comment></issue><issue id="KT-7860" entityId="25-943791"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7860</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion for extension function shouldn't suggest "invoke" function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>here is test case

{code}
fun String.myFunction() = 1

fun x() {
    (String::myFunction).&lt;caret&gt;
}

// ABSENT: invoke
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1432831802216</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216307</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Mashkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-8284</value><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1024254" author="nikov" authorFullName="Vladimir Reshetnikov" issueId="KT-7860" deleted="true" text="Why?" shownForIssueAuthor="false" created="1435617322913" markdown="false"><replies/></comment><comment id="27-1154103" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-7860" deleted="false" text="It should or it should not? Currently it does. Seems to be correct." shownForIssueAuthor="false" created="1445365778135" markdown="false"><replies/></comment><comment id="27-1154302" author="udalov" authorFullName="Alexander Udalov" issueId="KT-7860" deleted="false" text="It should for the original case, but shouldn't for this one:&#xA;```&#xA;fun x(f: String.() -&gt; Int) {&#xA;    f.&lt;caret&gt;&#xA;}&#xA;```&#xA;" shownForIssueAuthor="false" created="1445389488427" markdown="false"><replies/></comment></issue><issue id="KT-7866" entityId="25-944030"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7866</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Override Methods -&gt; Override Members</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When I want to override property in Kotlin I click "Override Methods" and it doesn't make sense so I suggest to rename it :)

!Zrzut ekranu 2015-05-29 o 10.18.19.png!

However, next step is correctly named "Override Members":

!Zrzut ekranu 2015-05-29 o 10.18.41.png!
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1432888060670</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975958</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pawegio</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Paweł Gajda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-233708" url="https://youtrack.jetbrains.com/_persistent/Zrzut%20ekranu%202015-05-29%20o%2010.18.41.png?file=74-233708&amp;c=true">Zrzut ekranu 2015-05-29 o 10.18.41.png</value><value id="74-233709" url="https://youtrack.jetbrains.com/_persistent/Zrzut%20ekranu%202015-05-29%20o%2010.18.19.png?file=74-233709&amp;c=true">Zrzut ekranu 2015-05-29 o 10.18.19.png</value></field></issue><issue id="KT-7942" entityId="25-948648"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>7942</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Enabling Kotlin IDEA plugin slows down build time of all projects, even if they don't have any Kotlin files, by 0.1 - 0.2 seconds</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>So, i enabled Kotlin plugin and played around a bit. When i continued my work i noticed that the build performance of existing projects, that have absolutely nothing to do with Kotlin, had slowed down. The slow-down may be constant 100-200ms, and might go unnoticed in large, slow to compile Java EE projects, but:

- In practice, it was enough to notice the slowdown "spontaneously" when developing micro-services.
- In principle, it is fundamentally evil that your plugin slows down builds of completely unrelated projects.

System: IntelliJ IDEA 14.1.3, JDK8, Windows 8.1, i7 4ghz, 16gb ram, SSD

Repro: The issue can be reproduced by creating new Java project from the "Java Hello World" project template, and executing command "Make Project". Below is copy paste of 20 execution times with Kotlin plugin enabled, and then disabled (each time altering the 'hello' greeting string). First 10 of 'disabled' are with fresh project that never had anything to do with Kotlin, second 10 are with project that originally had Kotlin source file. No difference.

{code}
ENABLED
23:52:15 Compilation completed successfully in 599ms
23:52:17 Compilation completed successfully in 538ms
23:52:18 Compilation completed successfully in 539ms
23:52:20 Compilation completed successfully in 522ms
23:52:21 Compilation completed successfully in 545ms
23:52:22 Compilation completed successfully in 559ms
23:52:24 Compilation completed successfully in 581ms
23:52:25 Compilation completed successfully in 681ms
23:52:26 Compilation completed successfully in 715ms
23:52:28 Compilation completed successfully in 594ms
23:52:29 Compilation completed successfully in 582ms
23:52:37 Compilation completed successfully in 534ms
23:52:39 Compilation completed successfully in 520ms
23:52:40 Compilation completed successfully in 555ms
23:52:41 Compilation completed successfully in 576ms
23:52:42 Compilation completed successfully in 567ms
23:52:44 Compilation completed successfully in 516ms
23:52:45 Compilation completed successfully in 600ms
23:52:46 Compilation completed successfully in 737ms
23:52:47 Compilation completed successfully in 516ms
23:52:49 Compilation completed successfully in 536ms
{code}

{code}
DISABLED
23:48:59 Compilation completed successfully in 439ms
23:49:01 Compilation completed successfully in 432ms
23:49:04 Compilation completed successfully in 427ms
23:49:06 Compilation completed successfully in 451ms
23:49:08 Compilation completed successfully in 449ms
23:49:10 Compilation completed successfully in 432ms
23:49:13 Compilation completed successfully in 436ms
23:49:14 Compilation completed successfully in 443ms
23:49:15 Compilation completed successfully in 441ms
23:49:17 Compilation completed successfully in 457ms
23:49:57 Compilation completed successfully in 431ms
23:49:58 Compilation completed successfully in 434ms
23:50:00 Compilation completed successfully in 436ms
23:50:02 Compilation completed successfully in 419ms
23:50:03 Compilation completed successfully in 446ms
23:50:05 Compilation completed successfully in 424ms
23:50:07 Compilation completed successfully in 442ms
23:50:09 Compilation completed successfully in 414ms
23:50:11 Compilation completed successfully in 430ms
23:50:13 Compilation completed successfully in 413ms
{code}

Ps Ignore the attachments, seems that YouTrack created them automatically when i copy pasted from Excel.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1433377412747</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522854530413</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>henrix</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Henri K</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>7</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Performance Problem</value><valueId>Performance Problem</valueId><color><bg>#ffc8ea</bg><fg>#444</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. JPS</value><valueId>Tools. JPS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-234801" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-234801&amp;c=true">image.png</value><value id="74-234802" url="https://youtrack.jetbrains.com/_persistent/image2.png?file=74-234802&amp;c=true">image2.png</value></field><comment id="27-1158347" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-7942" deleted="false" text="@hkarapuu, which version of Kotlin plugin did you use?" shownForIssueAuthor="false" created="1445537293512" markdown="false"><replies/></comment><comment id="27-1371199" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-7942" deleted="false" text="@hkarapuu, could you please verify it with kotlin 1.0.1?&#xA;Where from did you get numbers?" shownForIssueAuthor="false" created="1458918152213" updated="1445537293486" markdown="false"><replies/></comment><comment id="27-1413146" author="henrix" authorFullName="Henri K" issueId="KT-7942" deleted="false" text="Sorry to say, but we have decided against using Kotlin for reasons that were not your fault -- we are having too much quality issues with other JetBrains products (IDEA, ReSharper and YouTrack), and too slow issue resolution times.&#xA;&#xA;With tools we can at least migrate to something else, but if the same quality issues and slow resolution times start to happen with Kotlin as with your other products we'd be screwed. It's a pity, very promising looking language.&#xA;&#xA;Feel free to close this issue." shownForIssueAuthor="false" created="1461141943804" markdown="false"><replies/></comment><comment id="27-1413213" author="henrix" authorFullName="Henri K" issueId="KT-7942" deleted="false" text="Oh and those numbers were just copy pasted from the 'make' window." shownForIssueAuthor="false" created="1461144534058" updated="1461141943769" markdown="false"><replies/></comment><comment id="27-1415855" author="hadihariri" authorFullName="Hadi Hariri" issueId="KT-7942" deleted="false" text="@hkarapuu Sorry to hear this. Regarding other products, have you reported these issues to us? If so, do you have specific YouTrack numbers? &#xA;&#xA;In terms of Kotlin, I think as my colleague @Zalim.Bashorov has mentioned, and if you're interested in continuing tests, if you could please test with the latest builds.&#xA;&#xA;Thanks." shownForIssueAuthor="false" created="1461320612522" markdown="false"><replies/></comment><comment id="27-1421173" author="henrix" authorFullName="Henri K" issueId="KT-7942" deleted="false" text="@hadihariri well i've been your customer for 15+ years and reported 200+ issues, so yes i have. This isn't about any single issue, but larger themes:&#xA;&#xA;- Bad QA / unstable releases. E.g. last two major releases of IDEA had show stopper bugs in core functionality that were immediately obvious in two seconds after upgrading, at level 'none of our projects build', but somehow your QA team didn't notice them before final release. (example: IDEA-153231)&#xA;&#xA;- No customer support. E.g. I was leading evaluation for teamware suites (issue tracking, CI, code reviews). All vendors had some issues. Other vendors assigned the issues i raised in matter of hours, started troubleshooting, had well defined internal escalation paths, provided tentative timeframes for fixes etc. Just professional. Only thing that JetBrains did was mark our show stopper issue as 'minor'. After that I heard nothing. That was HALF A YEAR ago. (example: JT-32808)&#xA;&#xA;- Half baked features. Aggressively adding support for every possible new framework/tool/language, but everything new that i've tried has been really raw and horribly buggy. Sometimes great progress is made after initial release (like @Anton.Lobov was great with TypeScript) but then the ball is dropped (maybe resources moved to the next headline feature?), issue resolution times extend to YEARS, and the support for the new framework/tool/language is left in half baked and unpolished state. This has been repeating theme for decade at least (example: TypeScript from 2014 RSRP-420375 or Cucumber from 2012 IDEA-98385)&#xA;" shownForIssueAuthor="false" created="1461813775316" updated="1461144534025" markdown="false"><replies/></comment><comment id="27-2776615" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-7942" deleted="false" text="Looks like it's obsolete.&#xA;&#xA;cc @Aleksey_Tsvetkov @denis.zharkov" shownForIssueAuthor="false" created="1522068690854" updated="1458918152167" markdown="true"><replies/></comment></issue><issue id="KT-8025" entityId="25-952509"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8025</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>There is no "null" keyword in debugger's expression completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>For example, in "expr == &lt;caret&gt;".</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1433967007296</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216318</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8028" entityId="25-952767"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8028</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bad completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See screenshot, RootEntitySequenceResource$$TImpl is not expected in completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1434016176438</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216319</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Anna.Zhdan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anna Zhdan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>M12</value><valueId>M12</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-235800" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-235800&amp;c=true">image.png</value></field></issue><issue id="KT-8079" entityId="25-954465"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8079</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Idea doesn't find anonymous subclass in library when searching for class usages</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have class declared in my library, it has an anonymous subclass i n same library. When i search for usages of this class in Project and Libraries, it says there's no usages.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1434378533060</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975954</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Anna.Zhdan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anna Zhdan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2648</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>M11</value><valueId>M11</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-236360" url="https://youtrack.jetbrains.com/_persistent/SearchSubclass.png?file=74-236360&amp;c=true">SearchSubclass.png</value></field><comment id="27-1014391" author="pTalanov" authorFullName="Pavel Talanov" issueId="KT-8079" deleted="false" text="The issue is valid, but it essentially requires decompilation of function bodies for Kotlin which are not in our immediate plans afaik." shownForIssueAuthor="false" created="1434379156630" markdown="false"><replies/></comment><comment id="27-1014401" author="pavel.nikitin" authorFullName="Pavel Nikitin" issueId="KT-8079" deleted="false" text="What decompilation? Libraries have sources provides." shownForIssueAuthor="false" created="1434379517961" markdown="false"><replies/></comment><comment id="27-1014437" author="pTalanov" authorFullName="Pavel Talanov" issueId="KT-8079" deleted="false" text="@pavel.nikitin You're right. I was thinking of a more generic problem for some reason. In case library source files are attached it should be doable. And it is working (I checked for the case when the class and subclass are both written in Kotlin). But I have the M12 plugin." shownForIssueAuthor="false" created="1434380459621" updated="1434379156596" markdown="false"><replies/></comment><comment id="27-1014471" author="Anna.Zhdan" authorFullName="Anna Zhdan" issueId="KT-8079" deleted="false" text="@pTalanov we want to switch to M12, but there is KT-7901 which is Show-stopper for us. " shownForIssueAuthor="false" created="1434381938136" markdown="false"><replies/></comment></issue><issue id="KT-8174" entityId="25-957839"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8174</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Exception when applying "annotate overridden members" fix from Java</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
// Java
public interface JavaInterface {
    @NotNull // Warning: Overridden methods are no annotated
    String foo();
}

// Kotlin
class KotlinClass : JavaInterface {
    override fun foo() = java.lang.String.valueOf('c') // Platform type
}
{code}

An attempt to execute quick fix for warning in Java code leads to the error:

Cannot modify compiled element
com.intellij.util.IncorrectOperationException: Cannot modify compiled element
	at com.intellij.psi.impl.compiled.ClsModifierListImpl.addAnnotation(ClsModifierListImpl.java:82)
	at com.intellij.codeInsight.intention.AddAnnotationPsiFix.addPhysicalAnnotation(AddAnnotationPsiFix.java:148)
	at com.intellij.codeInsight.intention.AddAnnotationPsiFix.invoke(AddAnnotationPsiFix.java:139)
	at com.intellij.codeInspection.AnnotateMethodFix.a(AnnotateMethodFix.java:110)
	at com.intellij.codeInspection.AnnotateMethodFix.applyFix(AnnotateMethodFix.java:87)
	at com.intellij.codeInspection.AnnotateMethodFix.applyFix(AnnotateMethodFix.java:41)
	at com.intellij.codeInspection.ex.QuickFixWrapper.invoke(QuickFixWrapper.java:86)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler$2.run(ShowIntentionActionsHandler.java:188)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:975)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler$3.run(ShowIntentionActionsHandler.java:202)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:124)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:99)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:85)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.chooseActionAndInvoke(ShowIntentionActionsHandler.java:207)
	at com.intellij.codeInsight.intention.impl.IntentionListStep$2$1.run(IntentionListStep.java:259)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.a(LaterInvocator.java:335)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:319)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:749)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:702)
	at java.awt.EventQueue$3.run(EventQueue.java:696)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:719)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:822)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:657)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:392)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)


</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1434734005183</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975869</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-8391</value><value type="Duplicate" role="is duplicated by">IDEA-167822</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Java Descriptors and Signatures</value><value>IDE</value><valueId>Java Descriptors and Signatures</valueId><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1105375" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-8174" deleted="false" text="I don't think this means that we should take annotations of base methods into account. Maybe do something else, but still not sure: the method of the subclass may in fact return `null`, and it is a legitimate problem. A fix for the user would be to provide an explicit return type.&#xA;&#xA;Ideally, we need to tune the Java quick-fix to do that" shownForIssueAuthor="false" created="1441108187045" markdown="false"><replies/></comment></issue><issue id="KT-8181" entityId="25-957881"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8181</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"companion object" suggested where only "constructor" should be</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class A
{code}

Type "private constructor" before "A". "companion object" is suggested at some point.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1434737440652</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216320</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8183" entityId="25-957889"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8183</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion for multiple arguments at once: wrong with vararg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo(p: Int, vararg x: String) {
}

fun bar(p: Int, vararg x: String) {
    foo(&lt;caret&gt;)
}
{code}

"p, x" is suggested and inserted instead of "p, *x".</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1434737970322</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216320</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8185" entityId="25-957893"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8185</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion after '==' bug</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class C(val id: String) {
    fun foo(other: C) {
        if (id == other.&lt;caret&gt;)
    }
}
{code}

There is no "id" in smart completion there.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1434738195190</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216321</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8301" entityId="25-963354"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8301</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>A file with the only one quotation mark is not red</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a Kotlin filw with the only one quotation mark and no other characters
``` kotlin
"
```

It should be red, but it's green.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1435626477649</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954462</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladimir Reshetnikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-297409" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20from%202016-03-15%2014%3A33%3A15.png?file=74-297409&amp;c=true">Screenshot from 2016-03-15 14:33:15.png</value></field><comment id="27-1347229" author="Stanislav.Erokhin" authorFullName="Stanislav Erokhin" issueId="KT-8301" deleted="false" text="I get compilation error: ``Error:(1, 1) Kotlin: Expecting a top level declaration``.&#xA;Also file tab is red:" shownForIssueAuthor="false" created="1458041681177" markdown="false"><replies/></comment></issue><issue id="KT-8313" entityId="25-963711"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8313</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart Completion adds bogus `else` when replacing function call</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun fn(value: Boolean) : String =
    if (value)
        fn(value)
    else 
        ""
{code}

Put caret on fn, invoke smart completion, select String constructor.

Result:
{code}
fun fn(value: Boolean) : String =
    if (value)
        String(value) else 
    else 
        ""
{code}

Expected:
{code}
fun fn(value: Boolean) : String =
    if (value)
        String(value) 
    else 
        ""
{code}

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1435665310230</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216322</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1024688" author="orangy" authorFullName="Ilya Ryzhenkov" issueId="KT-8313" deleted="false" text="Normal completion (non-smart) works just fine." shownForIssueAuthor="false" created="1435665414732" markdown="false"><replies/></comment></issue><issue id="KT-8321" entityId="25-964143"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8321</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Keyword completion should not offer 'constructor' keyword or 'companion object' inside an object declaration</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Objects cannot contain constructors or companion objects, so this completion variant makes no sense.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1435686757227</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216323</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1154145" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-8321" deleted="false" text="Has been fixed for 'companion object' but not for 'constructor'." shownForIssueAuthor="false" created="1445368335367" markdown="false"><replies/></comment></issue><issue id="KT-8342" entityId="25-964344"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8342</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Find usages" on type parameter of local variable throws Exception</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>``` kotlin
fun main(args: Array&lt;String&gt;) {
    val &lt;T&gt; x = "" // Put the caret at `T` and Find Usages (Alt+F7)
}
```

Parameter specified as non-null is null: method org.jetbrains.kotlin.renderer.DescriptorRendererImpl.render, parameter declarationDescriptor
java.lang.IllegalArgumentException: Parameter specified as non-null is null: method org.jetbrains.kotlin.renderer.DescriptorRendererImpl.render, parameter declarationDescriptor
	at org.jetbrains.kotlin.renderer.DescriptorRendererImpl.render(DescriptorRendererImpl.kt)
	at org.jetbrains.kotlin.idea.findUsages.dialogs.Utils.configureLabelComponent(Utils.java:35)
	at org.jetbrains.kotlin.idea.findUsages.dialogs.KotlinTypeParameterFindUsagesDialog.configureLabelComponent(KotlinTypeParameterFindUsagesDialog.java:42)
	at com.intellij.find.findUsages.AbstractFindUsagesDialog.createNorthPanel(AbstractFindUsagesDialog.java:115)
	at com.intellij.openapi.ui.DialogWrapper.init(DialogWrapper.java:1239)
	at com.intellij.find.findUsages.AbstractFindUsagesDialog.init(AbstractFindUsagesDialog.java:154)
	at com.intellij.find.findUsages.CommonFindUsagesDialog.&lt;init&gt;(CommonFindUsagesDialog.java:53)
	at org.jetbrains.kotlin.idea.findUsages.dialogs.KotlinTypeParameterFindUsagesDialog.&lt;init&gt;(KotlinTypeParameterFindUsagesDialog.java:37)
	at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinTypeParameterFindUsagesHandler.getFindUsagesDialog(KotlinTypeParameterFindUsagesHandler.kt:40)
	at com.intellij.find.findUsages.FindUsagesManager.findUsages(FindUsagesManager.java:205)
	at com.intellij.find.impl.FindManagerImpl.findUsages(FindManagerImpl.java:882)
	at com.intellij.find.impl.FindManagerImpl.findUsages(FindManagerImpl.java:872)
	at com.intellij.find.actions.FindUsagesAction.startFindUsages(FindUsagesAction.java:77)
	at com.intellij.find.actions.FindUsagesAction.actionPerformed(FindUsagesAction.java:68)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$3.performAction(IdeKeyEventDispatcher.java:595)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:646)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.inInitState(IdeKeyEventDispatcher.java:485)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:215)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:627)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:393)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1435722398253</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975931</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladimir Reshetnikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Depend" role="depends on">KT-8341</value><value type="Subtask" role="subtask of">KT-2648</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8346" entityId="25-964893"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8346</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Type argument highlighting has higher priority than unused inspection</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>So it's difficult to spot unneeded type arguments, see the screenshot</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1435765444727</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954584</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-239553" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202015-07-01%20at%2018.41.19.png?file=74-239553&amp;c=true">Screen Shot 2015-07-01 at 18.41.19.png</value></field><comment id="27-1038838" author="geevee" authorFullName="Evgeny Gerashchenko" issueId="KT-8346" deleted="false" text="As far as I know, there is no concept of &quot;priority&quot; for highlihgting colors. This probably needs big refactoring in IDEA." shownForIssueAuthor="false" created="1436364849571" markdown="false"><replies/></comment><comment id="27-1039105" author="udalov" authorFullName="Alexander Udalov" issueId="KT-8346" deleted="false" text="In Java unused type arguments which are also type parameters are highlighted as unused, not as type parameters" shownForIssueAuthor="false" created="1436369954730" markdown="false"><replies/></comment></issue><issue id="KT-8348" entityId="25-965032"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8348</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Convert Concatenated String to Template incorrectly drops a label</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>``` kotlin
fun main(args: Array&lt;String&gt;) {
    println("a" + x@{ return@x }) // Convert Concatenated String to Template
}
```

*ACTUAL:*
``` kotlin
fun main(args: Array&lt;String&gt;) {
    println("a${{ return@x }}") // Error: Unresolved reference: @x
}
```

*EXPECTED:*
``` kotlin
fun main(args: Array&lt;String&gt;) {
    println("a${x@{ return@x }}") // OK
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1435775220624</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041571</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladimir Reshetnikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4750</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8349" entityId="25-965038"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8349</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Rename: changing Kotlin file item to Kotlin class item loses selection in the project tree</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create package P.
Open Project tool window to see the P item in the tree.
In P create a file FileName.kt with the only class ClassName inside.
Select FileName.kt in the tree.
Refactor / Rename the file to ClassName (so you want to get single-class file).
Refactoring is successful, but the file node is transformed to a class node, and loses selection. That's the issue.

No problem if file item is changed to file item.
Failed to model the same case in Java support.
IDEA 142.2887.3 + Kotlin plugin 0.12.895.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1435776003479</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954598</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2615</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8363" entityId="25-965724"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8363</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Detect file indent + Kotlin: doc comment affects auto-detection, project reopening required</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Not sure, is this code style issue or Kotlin issue, it's specific for both, please check.

Settings / ... / Code Style / Detect and use existing file indent = Yes (default value).
Settings / ... / Code Style / both Java and Kotlin : make the same Tab and Indents settings.
Mine are: Use tab character = No, Tab size = 4, Indent = 4, Continuation indent = 8.

Provide Java and Kotlin files with similar content:
{code:lang=java|title=SampleJava.java}
package pack;

/**
 * Created by ache on 02/07/15.
 */
public class SampleJava {
} {code}
{code:lang=kotlin|title=SampleKotlin.kt}
package pack

/**
 * Created by ache on 02/07/15.
 */
public class SampleKotlin {
} {code}

In every file put the caret after opening brace `{`. Press Enter.
In Java indent of 4 spaces is inserted: correct.
In Kotlin indent of 1 space is inserted ( *problem 1* ) and warning about this appears in the file caption. Why?

Don't accept any suggestion, undo changes. Close and reopen the file.
Erase the doc comment. Repeat the same: get the same warning. It's *problem 2* : the comment is erased, where does it get a space?

Don't accept any suggestion, undo changes. Close and reopen the whole project.
Repeat the same: now 4 spaces are inserted. Finally correct.
IDEA 142.2887.3 + Kotlin plugin 0.12.929.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1435850533034</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954375</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8397" entityId="25-968907"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8397</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Safe Delete leaves syntactically incorrect code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>``` kotlin
import kotlin.data as import
class A // Safe delete A
import class B
```

*ACTUAL:*
``` kotlin
import kotlin.data as import

import class B // Error: Expecting qualified name
```

*EXPECTED:*
``` kotlin
import kotlin.data as import

@import class B // OK
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1436312991892</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954522</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladimir Reshetnikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4478</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8417" entityId="25-970467"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8417</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Suppress warning not available at the end of expression</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
private val waitingThreads = AtomicInteger(0)

@suppress("&lt;what goes here?&gt;")
private val mutex = waitingThreads as Object&lt;caret&gt;
```

Note: it works if move caret to left:
```kotlin
private val waitingThreads = AtomicInteger(0)

@suppress("&lt;what goes here?&gt;")
private val mutex = waitingThreads as Objec&lt;caret&gt;t
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1436388692156</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954583</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-241010" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202015-07-04%20at%2023.08.27.png?file=74-241010&amp;c=true">Screen Shot 2015-07-04 at 23.08.27.png</value><value id="74-241011" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202015-07-08%20at%2023.51.22.png?file=74-241011&amp;c=true">Screen Shot 2015-07-08 at 23.51.22.png</value></field></issue><issue id="KT-8457" entityId="25-972171"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8457</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>java.lang.IllegalArgumentException: 'Parameter specified as non-null is null' for Find Usages within malformed annotation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>``` kotlin
class A&lt;T : @public({
    val x // Find Usages
}) Any&gt;
```

Parameter specified as non-null is null: method org.jetbrains.kotlin.renderer.DescriptorRendererImpl.render, parameter declarationDescriptor
java.lang.IllegalArgumentException: Parameter specified as non-null is null: method org.jetbrains.kotlin.renderer.DescriptorRendererImpl.render, parameter declarationDescriptor
	at org.jetbrains.kotlin.renderer.DescriptorRendererImpl.render(DescriptorRendererImpl.kt)
	at org.jetbrains.kotlin.idea.findUsages.dialogs.Utils.configureLabelComponent(Utils.java:35)
	at org.jetbrains.kotlin.idea.findUsages.dialogs.KotlinFindPropertyUsagesDialog.configureLabelComponent(KotlinFindPropertyUsagesDialog.java:98)
	at com.intellij.find.findUsages.AbstractFindUsagesDialog.createNorthPanel(AbstractFindUsagesDialog.java:115)
	at com.intellij.openapi.ui.DialogWrapper.init(DialogWrapper.java:1239)
	at com.intellij.find.findUsages.AbstractFindUsagesDialog.init(AbstractFindUsagesDialog.java:154)
	at com.intellij.find.findUsages.JavaFindUsagesDialog.init(JavaFindUsagesDialog.java:46)
	at com.intellij.find.findUsages.CommonFindUsagesDialog.&lt;init&gt;(CommonFindUsagesDialog.java:53)
	at com.intellij.find.findUsages.JavaFindUsagesDialog.&lt;init&gt;(JavaFindUsagesDialog.java:40)
	at org.jetbrains.kotlin.idea.findUsages.dialogs.KotlinFindPropertyUsagesDialog.&lt;init&gt;(KotlinFindPropertyUsagesDialog.java:46)
	at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinFindMemberUsagesHandler$Property.getFindUsagesDialog(KotlinFindMemberUsagesHandler.java:109)
	at com.intellij.find.findUsages.FindUsagesManager.findUsages(FindUsagesManager.java:205)
	at com.intellij.find.impl.FindManagerImpl.findUsages(FindManagerImpl.java:882)
	at com.intellij.find.impl.FindManagerImpl.findUsages(FindManagerImpl.java:872)
	at com.intellij.find.actions.FindUsagesAction.startFindUsages(FindUsagesAction.java:77)
	at com.intellij.find.actions.FindUsagesAction.actionPerformed(FindUsagesAction.java:68)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$3.performAction(IdeKeyEventDispatcher.java:595)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:646)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.inInitState(IdeKeyEventDispatcher.java:485)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:215)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:630)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:396)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1436582006691</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954581</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladimir Reshetnikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-8455</value><value type="Subtask" role="subtask of">KT-8481</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8504" entityId="25-974553"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8504</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Intentions applied to declarations should be available on declaration keyword</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Example: "convert function to property", "convert member to extension" are available on function name but not on fun keyword.

This is debatable but I think it would increase discoverabilty without contributing to "lots of unrelated intentions applicable everywhere" problem.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1436959587808</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954577</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Talanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1045876" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-8504" deleted="false" text="Almost all IDEA actions that work for a symbol are available on the name only (refactorings, Find Usages, etc)." shownForIssueAuthor="false" created="1436973180862" markdown="false"><replies/></comment></issue><issue id="KT-8548" entityId="25-976796"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Refactor / Move does not update references in KDoc</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Provide KDoc comment with references to another class, like:
{code:lang=kotlin}
/**
 * ("Exception" is a fake, hope it doesn't matter.)
 * @exception importP.source.SubjectClass
 * @see importP.source.SubjectClass
 */
class Referrer {code}
Refactor / Move (F6) this SubjectClass or containing file (bug occurs for both) into another package with package directive update.
Result: KDoc tags are not updated.

NB: they are updated on Refactor / Rename.
IDEA 142.3230.1 + Kotlin plugin 0.12.1281.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1437164367711</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975964</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2551</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8597" entityId="25-979682"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8597</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>ReplaceWith incorrectly replaces 'invoke'-convention usages</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Deprecated `invoke` extension:
```
deprecated("Use Executor.execute(Runnable) instead.", ReplaceWith("execute(action)"))
public fun Executor.invoke(action: () -&gt; Unit)
```

Usage before replace:
```
fun usage(executor: Executor) {
   executor {
       // do something
   }
}
```

After replace:
```
fun usage(executor: Executor) {
   this.execute {
       // do something
   }
}
```

Expected after:
```
fun usage(executor: Executor) {
   executor.execute {
       // do something
   }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1437580461263</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041572</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-7910</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8667" entityId="25-986165"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8667</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Goto Implementation doesn't show Kotlin classes when invoked on a reference</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In idea-community source, go to com/intellij/openapi/components/impl/PlatformComponentManagerImpl.java:54 and press Goto Implementations on initComponent call. MockProjectStore is opened.

Now go to declaration of the same initComponent and press Goto Implementations from there. Two classes are suggested, now I see ComponentStoreImpl as well. It's written in Kotlin, therefore I suppose Kotlin plugin is to blame.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1438261901379</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975963</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>peter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Peter Gromov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8685" entityId="25-987437"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8685</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Implement members" quick fix: preselect all missing members in the dialog</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In .java file create code like this:
{code:lang=java}
interface FaceAJava { void faceA(); }
interface FaceBJava { void faceB(); }
class FaceImplJava implements FaceAJava, FaceBJava {} {code}
`FaceImplJava` is red, Alt+Enter to quick fix, select Implement Methods, get the dialog.
In the dialog both methods of both interfaces are selected, so pressing Enter is enough to go.

Do the same in Kotlin:
{code:lang=kotlin}
interface FaceAKotlin { public fun faceA() }
interface FaceBKotlin { public fun faceB() }
class FaceImplKotlin : FaceAKotlin, FaceBKotlin {} {code}
Call the same quick fix, get the same dialog - but only one method is selected. That's the issue.
IDEA 142.3553.1 + Kotlin plugin 0.13.271.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1438374473629</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041573</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-10381</value><value type="Duplicate" role="is duplicated by">KT-22310</value><value type="Subtask" role="parent for">KT-4026</value><value type="Subtask" role="subtask of">KT-2441</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8729" entityId="25-989776"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8729</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code Style / Kotlin / Imports: editing text field does not enable Apply</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Settings / ... / Code Style / Kotlin / Imports.
Make sure Use imports / With '*' if more than is selected, and Apply is disabled (everything is applied).
Now edit the "names used" text field. Don't move the focus outside. Check Apply button: it is still disabled. Should be enabled.

Not such problem in Java / Imports.
IDEA 142.3553.1 + Kotlin plugin 0.13.343.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1438775382374</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954575</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8820" entityId="25-995170"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8820</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>No "Change type" quick fix inside when</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Provide the following Kotlin code:
{code:lang=kotlin}
fun ifUsage(param: Int) {
    return if (param &lt; 0) -1 else if (param == 0) 0 else 1
}

fun whenUsage(param: Int) {
    return when (param) { 0 -&gt; 0 else -&gt; 1 }
} {code}
Errors are reported for both functions: correct.
Check quick fix menu (Alt+Enter) inside `ifUsage()`: there is suggestion "Change function return type to Int".
Check quick fix menu inside `whenUsage()`: there is no such suggestion.
Also `Int` type is reported as inferred in the first error message, but not in the second.
Anything specific with type inference in `when`? Sorry if I haven't got something.
IDEA 142.3926.4 + Kotlin plugin 0.13.525.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1439401277225</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954570</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8826" entityId="25-995627"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8826</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Can't run tests with coverage in Android Studio</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>JUnit, Gradle, Android Studio 1.3.1, Kotlin 0.12.1230

```
FATAL ERROR in native method: processing of -javaagent failed
java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:382)
	at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:397)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.intellij.rt.coverage.main.CoveragePremain.premain(CoveragePremain.java:66)
	... 6 more
Caused by: java.lang.ArrayIndexOutOfBoundsException: 1
	at com.intellij.rt.coverage.instrumentation.Instrumentator.premain(Instrumentator.java:57)
	... 11 more
Exception in thread "main" 
Process finished with exit code 1
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1439466884307</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975570</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>amal</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Amal Samally</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4720</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0</value><value>1.0.1</value><value>1.0.2</value><value>1.0.3</value><value>1.0.4</value><value>1.0.5</value><value>1.1-M01</value><valueId>1.0</valueId><valueId>1.0.1</valueId><valueId>1.0.2</valueId><valueId>1.0.3</valueId><valueId>1.0.4</valueId><valueId>1.0.5</valueId><valueId>1.1-M01</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-2150460" author="amal" authorFullName="Amal Samally" issueId="KT-8826" deleted="false" text="Seems like it's working well now!&#xA;Thank you!&#xA;&#xA;Android Studio 2.4 Preview 7&#xA;Build #AI-171.3934896, built on April 22, 2017&#xA;JRE: 1.8.0_112-release-736 amd64&#xA;Kotlin: 1.1.2-release-Studio2.4-3" shownForIssueAuthor="false" created="1494244226474" markdown="false"><replies/></comment><tag cssClass="c32">Android</tag></issue><issue id="KT-8830" entityId="25-995839"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8830</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smart completion after "as" looses nullability</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo(s: String?){}

fun bar(o: Any?) {
    foo(o as &lt;caret&gt;)
}
{code}

It inserts "String" but it's more safe to insert "String?".</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1439479229701</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216338</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-8465</value><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8875" entityId="25-999935"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8875</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Remove explicit type" produce red code for extension lambda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
    val foo: &lt;caret&gt;Int.() -&gt; String = {
        toString() + hashCode()
    }
```

Result:
```kotlin
    val foo&lt;caret&gt; = {
        toString() + hashCode()
    }
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1439985264436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041575</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8886" entityId="25-1000369"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8886</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Second smart completion in Java shows duplicates for kotlin declarations from another module</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>module1
```kotlin
package foo.bar

interface Foo {
    companion object {
        val foo1 = B()
        val foo2 = B()
    }
}

class B : Foo

public fun test(f: Foo) {}
```

module2
```java
package foo;

import static foo.bar.BarPackage.test;

public class J {

    public static void main(String[] args) {
        test();
    }
}
```
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1439999736012</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216341</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-249416" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202015-08-19%20at%2018.53.27.png?file=74-249416&amp;c=true">Screen Shot 2015-08-19 at 18.53.27.png</value></field></issue><issue id="KT-8887" entityId="25-1000392"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8887</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Second smart completion shows enum constructor and doesn't show enum entries</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
package foo.bar

interface Foo {
    companion object {
        val foo1 = B()
        val foo2 = B()
    }
}

class B : Foo

enum class E : Foo {
    EE
}

public fun test(f: Foo) {}

fun main(args: Array&lt;String&gt;) {
    test(&lt;caret&gt;)
}
```



</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1440000383349</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216341</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-8911" entityId="25-1001726"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>8911</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Usages in imports are not "dynamic"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1440165877023</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975957</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2648</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-249829" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-249829&amp;c=true">image.png</value></field></issue><issue id="KT-9059" entityId="25-1007437"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9059</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inspect Code in the whole project should not analyze Kotlin files outside source roots</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>E.g. in test data.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1441101516126</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975897</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-355973" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202016-11-01%20at%2015.18.35.png?file=74-355973&amp;c=true">Screen Shot 2016-11-01 at 15.18.35.png</value></field><comment id="27-1107867" author="anet" authorFullName="Anna Kozlova" issueId="KT-9059" deleted="false" text="Kotlin should implement com.intellij.codeInsight.daemon.ProblemHighlightFilter" shownForIssueAuthor="false" created="1441303973583" markdown="false"><replies/></comment><comment id="27-1108118" author="anet" authorFullName="Anna Kozlova" issueId="KT-9059" deleted="false" text="As far as I can see from implementation it allows highlighting outside source root. You can skip it everywhere (omitting isOutsideSourceRoot check) or implement ProblemHighlightFilter#shouldProcessInBatch to skip only in batch (see e.g. com.intellij.codeInsight.daemon.JavaProblemHighlightFilter)." shownForIssueAuthor="false" created="1441356335924" updated="1441303973540" markdown="false"><replies/></comment><comment id="27-1686131" author="udalov" authorFullName="Alexander Udalov" issueId="KT-9059" deleted="false" text="+1, inspections in code outside a source root look weird, for example in case when the code is not even going to be compiled:&#xA;" shownForIssueAuthor="false" created="1478002932938" markdown="false"><replies/></comment></issue><issue id="KT-9065" entityId="25-1009708"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9065</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong result when move statement through if block with call with lambda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
    &lt;caret&gt;println()
    if (true) {
        run {
            //...
        }
    }
```

after move down:
```kotlin
    if (true) {
        run {
        &lt;caret&gt;println()
            //...
        }
    }
```

after move down from last state:
```kotlin
    if (true) {
        run {
        }
            //...
        &lt;caret&gt;println()
    }
```

new state:
```kotlin
    if (true) {
        run {
        }
            //...
    }
    &lt;caret&gt;println()
```

after move up:
```kotlin
    if (true) {
        run {
            //...
            &lt;caret&gt;println()
        }
    }
```

after move up from last state:
```kotlin
    if (true) {
        &lt;caret&gt;println()
        //...
        run {
        }
    }
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1441367261344</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954314</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-17887</value><value type="Relates" role="relates to">KT-20282</value><value type="Subtask" role="subtask of">KT-3792</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9119" entityId="25-1012916"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9119</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong highlighting after explicit `invoke` is added via intention</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Apply "Replace overloaded operator with function call" to the following code:
{code:lang=kotlin}
class Test() {
    fun invoke(f: (Int) -&gt; String) {}
}
fun main() {
    val test = Test()
    test&lt;caret&gt;{ x: Int -&gt; "hello world" }
}
{code}

The result is correct, but intention leads to wrong highliting of added `invoke` which is marked with FUNCTION_CALL_EXPECTED and NO_VALUE_FOR_PARAMETER errors. Errors disappear after any change in the editor</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1441902277219</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954567</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>asedunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Sedunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9133" entityId="25-1013608"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9133</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion inserts/replaces incorrectly in case of method name with spaces</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>0. Having the following code with the specified cursor position:
```
class K {}
fun K.`method name`() {}
fun K.`method name 2`() {}
fun example() {
  val variable = K()
  variable.`method&lt;cursor&gt; name`()
}
```
1. Invoke basic completion.
2. Choose the first entry with TAB.
Result:
```
class K {}
fun K.`method name`() {}
fun K.`method name 2`() {}
fun example() {
  val variable = K()
  variable.``method name`  name`()
}
```

Choosing with ENTER also produces some strange effects, but not so noticeable. 

Also, in some cases I see that completion duplicates the prefix instead of suffix (as in this example), but I failed to find a minimal reproducible example fast. I can try again if needed.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1441989001561</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216342</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Kirill.Likhodedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Likhodedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-9135</value><value type="Relates" role="relates to">KT-19863</value><value type="Relates" role="relates to">KT-19864</value><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>M12</value><valueId>M12</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1112961" author="kirill.rakhman" authorFullName="Kirill Rakhman" issueId="KT-9133" deleted="false" text="How are method names with spaces even valid?" shownForIssueAuthor="false" created="1442073937284" markdown="false"><replies/></comment><comment id="27-1113032" author="Kirill.Likhodedov" authorFullName="Kirill Likhodedov" issueId="KT-9133" deleted="false" text="@kirill.rakhman Yes, luckily they are valid in Kotlin, you may use backticks to declare and call such methods. Rather useful feature for testing." shownForIssueAuthor="false" created="1442160313179" markdown="false"><replies/></comment></issue><issue id="KT-9135" entityId="25-1013614"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9135</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion popup order ignores the prefix in case of extension method name with spaces</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>!popup.png!
The cursor is right after the word "assert".

Notice how far assert* methods are added. Methods with spaces are even lower.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1441989249589</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216343</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Kirill.Likhodedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Likhodedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-9133</value><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-254006" url="https://youtrack.jetbrains.com/_persistent/popup.png?file=74-254006&amp;c=true">popup.png</value></field></issue><issue id="KT-9138" entityId="25-1013899"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9138</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>QuickFix "Make class open" applies to a wrong class</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>``` kotlin
class A {
    class B
}

class C : A.B() // Make class open
```

*ACTUAL:*
``` kotlin
open class A {
    class B
}

class C : A.B() // Error
```

*EXPECTED:*
``` kolin
class A {
    open class B
}

class C : A.B() // OK
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1442110492471</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041577</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladimir Reshetnikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9172" entityId="25-1016777"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9172</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Complete Statement should add if-statement braces when invoked inside a closure in the condition</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{{if (toRemove.any { it.isDefa&lt;caret&gt;ult })}}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1442421573268</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954560</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>peter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Peter Gromov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-3600</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9180" entityId="25-1016910"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9180</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE inserts angle brackets near property delegate after auto completion when the generic type could be inferred</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Please see the example:

`val x: Int by Delegates.notNull()
                           ^type 'n', press &lt;ENTER&gt;, notNull&lt;&gt;() is inserted`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1442434289450</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216344</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>M13</value><valueId>M13</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9213" entityId="25-1018200"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9213</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion suggests something that doesn't match entered prefix</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I'd like to see "getInstance" as the selected item, but it's at the complete bottom. And visible items seem totally irrelevant.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1442590049123</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216345</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>peter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Peter Gromov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-255449" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20from%202015-09-18%2017%3A24%3A55.png?file=74-255449&amp;c=true">Screenshot from 2015-09-18 17:24:55.png</value></field></issue><issue id="KT-9319" entityId="25-1023071"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9319</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"var" should not be shown in completion list after "const"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1443177054591</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041579</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9321" entityId="25-1023242"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9321</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion with TAB for call with function literal argument should add it after existing parameter list</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
list.filte&lt;caret&gt;rIsInstance&lt;String&gt;() 
// Comlete filter with tab will result 
list.filter&lt;String&gt; {  }()
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1443185244188</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216346</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nastelaz</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Natalia Selezneva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9336" entityId="25-1023891"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9336</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Convert concatenation to template" inspection alerts also when the string is both a template and a concatenated string.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I am writing a long string with variable interpolation (or templates), and I must go to newline for readability reasons. 
The plugins marks that concatenated string with “Convert concatenation to template” also if this string is already a “templated” string.
Screenshot in attachments.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1443370415018</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041581</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>alessandrofac93</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alex Facciorusso</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2446</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>M13</value><valueId>M13</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-256884" url="https://youtrack.jetbrains.com/_persistent/Schermata%202015-09-27%20alle%2017.59.12.png?file=74-256884&amp;c=true">Schermata 2015-09-27 alle 17.59.12.png</value></field></issue><issue id="KT-9368" entityId="25-1025077"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9368</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Impossible to navigate to "get" (or "set") method with Go to Declaration</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In the expression like "foo[bar]". When the caret as at the '[' character the Go to Declaration navigates to the declaration of 'foo'. When the caret is right after it, the navigation is performed to the 'bar'. I have to enter some artificial spaces into the code to perform the navigation.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1443515430836</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954557</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-6553</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9391" entityId="25-1025739"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9391</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Find Usages omits implicit annotation parameter usage</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Provide Kotlin source like:
{code:lang=kotlin}
annotation class Construction(val p1: Int = 1, val p2: String = "a")
@Construction class Constructed00
@Construction(p2 = "a") class Constructed01
@Construction(1) class Constructed10
@Construction(1, "a") class Constructed11 {code}
Find Usages of annotation parameters `p1` and `p2`.
See that only explicit `p2` reference is found.
Safe Delete `p1`: it is removed without warning, code becomes incompilable.

NB: this looks similar to pure Java IDEA-71133, but seems to be different: this case is reproduced with different files of declaration and usage.
NB: same bug for implicit usage of Java `value()` parameter. Not for explicit.
IDEA 142.5047.6 + Kotlin plugin 0.14.466.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1443564789394</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975908</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-9399</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1126036" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-9391" deleted="false" text="NB: KT-9399 is about _any_ usage in _Java_ code." shownForIssueAuthor="false" created="1443629771468" markdown="false"><replies/></comment><comment id="27-1456867" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-9391" deleted="false" text="If you run Find Usages on any regular method parameter, whether in Kotlin or in Java, it also doesn't find calls of this method where values are passed to this parameter. So I'm not sure whether it's a bug.&#xA;&#xA;If you have an annotation with a parameter in your code, and you don't use that parameter in any code which loads the annotation through reflection, then I'd argue that the Safe Delete behavior is also correct." shownForIssueAuthor="false" created="1464979998383" markdown="false"><replies/></comment><comment id="27-1456888" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-9391" deleted="false" text="Regarding Safe Delete: anyway, before applying the action the code is green, and after applying it is red.&#xA;&#xA;In similar case Safe Delete of regular constructor parameter value _removes_ the usage too:&#xA;&#xA;{code:lang=kotlin|title=before}&#xA;class Comparison(val p1: Int = 1)&#xA;fun use() = Comparison(1) {code}&#xA;{code:lang=kotlin|title=after}&#xA;class Comparison()&#xA;fun use() = Comparison() // Argument removed! {code}" shownForIssueAuthor="false" created="1464982178178" markdown="false"><replies/></comment><comment id="27-1637508" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-9391" deleted="false" text="IDEA 162.2291 + Kotlin plugin 1.1.0-dev-3643 (branch 1.0.5).&#xA;IDEA 163.5644 + Kotlin plugin 1.1.0-dev-3633.&#xA;&#xA;It turns worse. Now even explicitly referred annotation is flagged as unused, and removed on Safe Delete:&#xA;{code:lang=kotlin}&#xA;annotation class ParamUsed(val distinctiveName: String)&#xA;@ParamUsed(distinctiveName = &quot;any&quot;) class ImmediateUsage {code}" shownForIssueAuthor="false" created="1475607101290" updated="1464982178144" markdown="false"><replies/></comment></issue><issue id="KT-9459" entityId="25-1029040"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9459</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unnecessary 'remove' actions in unwrap</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Please compare to similar java implementation. 'Remove' actions are really unnecessary and make unwrap action hard to use.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1444035733949</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954366</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>max</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Shafirov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-14788</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-258131" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-258131&amp;c=true">image.png</value></field></issue><issue id="KT-9515" entityId="25-1032060"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9515</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Deprecated ReplaceWith intention: qualified this is not supported</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin

class A {
    @Deprecated("", ReplaceWith("f2(this@A, this)"))
    fun String.fff() = 1

    fun mmm() {
        "".fff()  // replace here should produce f2(this, "") but it produces f2("", "")
    }
}

fun f2(a: A, s: String) = 1
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1444301401263</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041582</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Mashkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-7910</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9516" entityId="25-1032063"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9516</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Deprecated ReplaceWith intention: doesn’t work in Kotlin JavaScript  project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>kotlin.KotlinNullPointerException
	at org.jetbrains.kotlin.container.DslKt.getService(Dsl.kt:36)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ProjectResolutionFacade.kt:124)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ProjectResolutionFacade.kt:113)
	at org.jetbrains.kotlin.idea.quickfix.replaceWith.ReplaceWithAnnotationAnalyzer.analyzeOriginal(ReplaceWithAnnotationAnalyzer.kt:95)
	at org.jetbrains.kotlin.idea.quickfix.replaceWith.ReplaceWithAnnotationAnalyzer.analyzeCallableReplacement(ReplaceWithAnnotationAnalyzer.kt:77)
	at org.jetbrains.kotlin.idea.quickfix.replaceWith.UsageReplacementStrategy$Companion.build(UsageReplacementStrategy.kt:52)
	at org.jetbrains.kotlin.idea.quickfix.replaceWith.DeprecatedSymbolUsageFixBase.isAvailable(DeprecatedSymbolUsageFixBase.kt:47)
	at org.jetbrains.kotlin.idea.quickfix.replaceWith.DeprecatedSymbolUsageInWholeProjectFix.isAvailable(DeprecatedSymbolUsageInWholeProjectFix.kt:59)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass.a(ShowIntentionsPass.java:132)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass.access$000(ShowIntentionsPass.java:64)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass$1.process(ShowIntentionsPass.java:85)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass$1.process(ShowIntentionsPass.java:82)
	at com.intellij.codeInsight.daemon.impl.DaemonCodeAnalyzerImpl$7.process(DaemonCodeAnalyzerImpl.java:599)
	at com.intellij.codeInsight.daemon.impl.DaemonCodeAnalyzerImpl$7.process(DaemonCodeAnalyzerImpl.java:593)
	at com.intellij.codeInsight.daemon.impl.DaemonCodeAnalyzerEx$1.process(DaemonCodeAnalyzerEx.java:61)
	at com.intellij.codeInsight.daemon.impl.DaemonCodeAnalyzerEx$1.process(DaemonCodeAnalyzerEx.java:53)
	at com.intellij.openapi.editor.impl.MarkupModelImpl.processRangeHighlightersOverlappingWith(MarkupModelImpl.java:265)
	at com.intellij.codeInsight.daemon.impl.DaemonCodeAnalyzerEx.processHighlights(DaemonCodeAnalyzerEx.java:53)
	at com.intellij.codeInsight.daemon.impl.DaemonCodeAnalyzerImpl.processHighlightsNearOffset(DaemonCodeAnalyzerImpl.java:593)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass.getAvailableActions(ShowIntentionsPass.java:82)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass.getActionsToShow(ShowIntentionsPass.java:279)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.invoke(ShowIntentionActionsHandler.java:76)
	at com.intellij.codeInsight.actions.CodeInsightAction$1$1.run(CodeInsightAction.java:62)
	at com.intellij.codeInsight.actions.CodeInsightAction$1.run(CodeInsightAction.java:69)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:124)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:99)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:85)
	at com.intellij.codeInsight.actions.CodeInsightAction.actionPerformedImpl(CodeInsightAction.java:54)
	at com.intellij.codeInsight.actions.CodeInsightAction.actionPerformed(CodeInsightAction.java:40)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$3.performAction(IdeKeyEventDispatcher.java:595)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:646)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.d(IdeKeyEventDispatcher.java:485)
	at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:215)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:617)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:380)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1444301503912</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041583</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Mashkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-7910</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9566" entityId="25-1034798"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9566</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>When a Kotlin library is provided by Maven, Download Sources doesn't switch the view</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I.e. sources are downloaded, but I have to close decompiled view and navigate to the same place again. With Java it switches inplace.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1444677858975</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975464</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-12209</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-2434734" author="udalov" authorFullName="Alexander Udalov" issueId="KT-9566" deleted="false" text="I observe this with any library with Kotlin binaries, not just kotlin-stdlib" shownForIssueAuthor="false" created="1506084293593" markdown="false"><replies/></comment></issue><issue id="KT-9585" entityId="25-1036011"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9585</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Missing surround with parenthesis for functional type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1444810467302</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954556</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>max</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Shafirov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-260410" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-260410&amp;c=true">image.png</value></field><comment id="27-1144393" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-9585" deleted="false" text="Looks like this comment describes the issue:&#xA;https://youtrack.jetbrains.com/issue/KT-8474#comment=27-1043345&#xA;&#xA;If really so then duplicate to IDEA-61591." shownForIssueAuthor="false" created="1444838011650" updated="1444838041313" markdown="false"><replies/></comment><tag cssClass="c18">Up For Grabs</tag></issue><issue id="KT-9588" entityId="25-1036303"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9588</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion should prefer type parameter to some other external type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1444823659384</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216349</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-260500" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-260500&amp;c=true">image.png</value></field></issue><issue id="KT-9612" entityId="25-1038169"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9612</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Quickfix to change function return type should not be offered for constructors</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class A()

fun foo() {
    return A()
}
{code}

There is a quickfix to change return type of function "A()" to Unit.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1444984123180</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041583</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9662" entityId="25-1040110"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9662</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Extra angle brackets inserted when not needed</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
fun &lt;T, C : TagConsumer&lt;T&gt;&gt; C.html(block : String.() -&gt; Unit = {}) : T = html(block)

class TagConsumer&lt;T&gt;

fun use() {
     TagConsumer&lt;String&gt;().   // complete html here
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1445267378274</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216350</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9683" entityId="25-1042084"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9683</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Usability problem: go to symbol doesn't show class name for top-level function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Java shows FQname for symbols in braces, Kotlin - reveiver and package name. So when I want to use some kotlin top-level function from Java I should navigate to source file to know which part class name I should write.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1445438978755</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954365</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nastelaz</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Natalia Selezneva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-6553</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-262466" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-262466&amp;c=true">image.png</value></field><comment id="27-1730445" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-9683" deleted="false" text="Or you can use auto-import, which now works." shownForIssueAuthor="false" created="1479480390989" markdown="false"><replies/></comment></issue><issue id="KT-9792" entityId="25-1047275"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9792</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Don't propose the same name for arguments of lambda on completion of function call with lambda template</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
listOf(1).reduce { i, i -&gt;  }
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1445975432969</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216351</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-9016</value><value type="Duplicate" role="is duplicated by">KT-13070</value><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1167641" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-9792" deleted="false" text="Propose where? What feature do you mean?" shownForIssueAuthor="false" created="1446033684871" markdown="false"><replies/></comment><comment id="27-1167837" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-9792" deleted="false" text="I mean name of lambda parameters (`i` in the example)" shownForIssueAuthor="false" created="1446036864405" markdown="false"><replies/></comment><comment id="27-1168356" author="goodwinnk" authorFullName="Nikolay Krasko" issueId="KT-9792" deleted="false" text="I think completion for reduce() was meant. @Zalim.Bashorov what names do you suggest?" shownForIssueAuthor="false" created="1446044074923" markdown="false"><replies/></comment><comment id="27-1168447" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-9792" deleted="false" text="At least `i`/`i1` and `i2`." shownForIssueAuthor="false" created="1446045410871" updated="1446036864368" markdown="false"><replies/></comment><comment id="27-1168450" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-9792" deleted="false" text="Additionally we can use names from lambda if lambda has them, but unfortunatly lambdas in most stdlib functions hasn't" shownForIssueAuthor="false" created="1446045586552" updated="1446045410836" markdown="false"><replies/></comment><comment id="27-1301829" author="ilya.gorbunov" authorFullName="Ilya Gorbunov" issueId="KT-9792" deleted="false" text="@Zalim.Bashorov those lambdas do not have named parameters because currently it's of no use )&#xA;If KT-9016 is implemented, I'll give them suitable names." shownForIssueAuthor="false" created="1455675828408" markdown="false"><replies/></comment></issue><issue id="KT-9836" entityId="25-1050251"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9836</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Strange completion for nested class of inner class</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
class Outer {
    inner class Inner {
        class IN // this is an error
        inner class II
    }

    fun IN() = I&lt;caret&gt;
}
{code}

Suggests IN() which is incorrect and has error type.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1446211599529</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216357</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Talanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9840" entityId="25-1050373"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9840</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Right parenthesis doesn't appear after class name before the colon</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
interface I {}
class A &lt;caret&gt;: I {}
```

Insert '(' at the position of the caret. It's crucial that the caret is ''immediately'' to the left of the colon. Expected behavior: ')' is automatically inserted after the '('. Actual behavior: ')' is not inserted.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1446217380685</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041586</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>5</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-265836" url="https://youtrack.jetbrains.com/_persistent/PrintRightParenthesisForMe.mov?file=74-265836&amp;c=true">PrintRightParenthesisForMe.mov</value></field><comment id="27-1173620" author="Dmitry.Petrov.1" authorFullName="Dmitry Petrov" issueId="KT-9840" deleted="false" text="It's not clear what behavior do you expect.&#xA;Could you please elaborate?&#xA;&#xA;NB: all of the following &#xA;{code lang=kt}&#xA;class A1 : I&#xA;class A2 : I {}&#xA;class A3(/* ... primary constructor parameters ... */) : I {}&#xA;{code}&#xA;are legal class declarations in Kotlin." shownForIssueAuthor="false" created="1446218258174" markdown="false"><replies/></comment><comment id="27-1173653" author="maxmedvedev" authorFullName="Maxim Medvedev" issueId="KT-9840" deleted="false" text="Oh, I'm sorry =)&#xA;I type '(' here" shownForIssueAuthor="false" created="1446218962395" markdown="false"><replies/></comment><comment id="27-1176707" author="udalov" authorFullName="Alexander Udalov" issueId="KT-9840" deleted="false" text="Do you expect the closing parenthesis to be added right after you type an open parenthesis? Also, how does the space between the class name and the caret matter?" shownForIssueAuthor="false" created="1446476640043" markdown="false"><replies/></comment><comment id="27-1176775" author="maxmedvedev" authorFullName="Maxim Medvedev" issueId="KT-9840" deleted="false" text="just watch the screencast attached" shownForIssueAuthor="false" created="1446477492657" updated="1446218962353" markdown="false"><replies/></comment><comment id="27-1176809" author="udalov" authorFullName="Alexander Udalov" issueId="KT-9840" deleted="false" text="Thank you for the screencast but it's much more convenient to use words to describe the issue." shownForIssueAuthor="false" created="1446477968972" updated="1446476640002" markdown="false"><replies/></comment></issue><issue id="KT-9842" entityId="25-1050491"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9842</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>java.lang.String should be completed when in qualified form</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Because sometimes one may need to write something like "(string as java.lang.String).&lt;call some method&gt;".</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1446223045468</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216358</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9847" entityId="25-1050642"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9847</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Please use background attribute with care, especially for the dark schemes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>E.g. Solarized Dark
!Screenshot 2015-10-30 22.56.01.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1446235076284</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954550</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ignatov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Ignatov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-6955</value><value type="Subtask" role="subtask of">KT-3208</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-265419" url="https://youtrack.jetbrains.com/_persistent/Screenshot%202015-10-30%2022.56.01.png?file=74-265419&amp;c=true">Screenshot 2015-10-30 22.56.01.png</value></field></issue><issue id="KT-9864" entityId="25-1052070"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9864</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion should not include parameter itself into completion in its default value</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1446479902313</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216359</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9941" entityId="25-1059089"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9941</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unwrap does nothing when called from a companion object</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1.
```
class Test {
  companion object {
    &lt;cursor&gt; val v = "";
  }
}
```

2. Invoke "Unwrap".
Expected:
```
class Test {
  val v = "";
}
```
Actual: no changes.

Rather inconvenient especially after converting Java to Kotlin when all statics are converted to members of the companion object.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1447080568628</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954549</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Kirill.Likhodedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Likhodedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4478</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-9975" entityId="25-1061931"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>9975</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code cleanup does not replace multiple occurrences of deprecated symbols in the same expression</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
val key = hashMapOf(1 to 2).entrySet().firstOrNull()?.getKey()
{code}

Code Cleanup replaces getKey() with key but does not replace entrySet() with entries.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1447266191019</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041587</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-9348</value><value type="Subtask" role="subtask of">KT-4026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10009" entityId="25-1064353"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10009</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE warns about a String template, suggesting to remove braces, in an incorrect situation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>It is easy to reproduce:

````
val high = 20
val s = "${high}º"
```

The IDE shows a warning and suggest to remove brackets. If you do, then it (obviously) doesn't compile.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1447443913354</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041588</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>antonioleiva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Antonio Leiva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-4026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10017" entityId="25-1064513"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10017</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Annotation class is not automatically imported in Kotlin code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I added {{junit.framework.Test}} to import exclusions. When I write this in the editor:

{code lang=kt}
class MyTestClass {
    @Test fun hello() {
    }
}
{code}

Then the {{org.junit.Test}} annotation won't get imported automatically, I have to Alt+Enter it. There are no other types named {{Test}}.

When I write similar Java code with {{junit.framework.Test}} excluded, then {{org.junit.Test}} is imported automatically:

{code lang=java}
class Hello {
  @Test // After pressing spacebar here, org.junit.Test is imported immediately
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1447500682514</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041589</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Suseika</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Georgy Vlasov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2439</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0 Beta Candidate (M15)</value><valueId>1.0 Beta Candidate (M15)</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10082" entityId="25-1068098"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10082</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code coverage: results tool window: main class is shown on top level</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Provide a Kotlin file with a package statement and `main()` method, like:
{code:lang=kotlin|title=.../run/Main.kt}
package run
fun main(args: Array&lt;String&gt;) {
    println(0)
    println(1)
    println(2)
} {code}
Run with coverage, get results. Check Coverage tool window.
There is `MainKt` item with Kotlin file (!) icon, and it is shown not in the `run` package, but on the top level.
IDEA 143.869.1 + Kotlin plugin 1.0.0-beta-3203.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1447871464212</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975946</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-10084</value><value type="Subtask" role="subtask of">KT-4720</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10084" entityId="25-1068108"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10084</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code coverage: results tool window: non-main classes are not shown</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Provide dummy Kotlin application like:
{code:lang=kotlin|title=.../run/Main.kt}
package run
import run.kotlinOnly.ClassAndFile
import run.kotlinOnly.ClassInFile
fun main(args: Array&lt;String&gt;) {
    ClassAndFile().touch()
    ClassInFile().touch()
} {code}
{code:lang=kotlin|title=.../run/kotlinOnly/ClassAndFile.kt}
package run.kotlinOnly
public class ClassAndFile {
    public fun touch() {
        println(1)
    }
} {code}
{code:lang=kotlin|title=.../run/kotlinOnly/FileWithClass.kt}
package run.kotlinOnly
public class ClassInFile {
    public fun touch() = println(2)
} {code}
Run with coverage. Check resulted Coverage tool window.
Beside KT-10082 for main class see that other classes are not shown.
The package `run.kotlinOnly` is shown, with 100% of class coverage. But it is empty. User can't enter it.

Java classes from the same packages are shown.
IDEA 143.869.1 + Kotlin plugin 1.0.0-beta-3203.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1447872614379</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975947</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-10082</value><value type="Subtask" role="subtask of">KT-4720</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10094" entityId="25-1068723"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10094</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>ReplaceWith replacement doesn't understand type parameters well</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>For example, deprecated {{Range}} → {{ClosedRange}}.

Before:
{code lang=kotlin}
class Example(density: Range&lt;Int&gt;)
{code}

After:
{code lang=kotlin}
class Example(density: ClosedRange&lt;T&gt;)
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1447937725095</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041590</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yanex</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yan Zhulanow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>9</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-8958</value><value type="Subtask" role="subtask of">KT-7910</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-2335196" author="goodwinnk" authorFullName="Nikolay Krasko" issueId="KT-10094" deleted="false" text="{code}&#xA;@Deprecated(&quot;Use New&quot;, replaceWith = ReplaceWith(&quot;New&lt;T, U&gt;&quot;))&#xA;class Old&lt;T, U&gt;&#xA;&#xA;class New&lt;T, U&gt;&#xA;&#xA;fun foo(): Old&lt;T, U&gt;? = null &#xA;&#xA;/* After: &#xA;&#xA;// T and U are unresolved&#xA;fun foo(): New&lt;T, U&gt;? = null  &#xA;&#xA; */&#xA;{code}" shownForIssueAuthor="false" created="1500658242737" markdown="false"><replies/></comment></issue><issue id="KT-10128" entityId="25-1070344"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10128</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IntelliJ plugin does not autocomplete nor autoimport kotlin.reflect.KFunctionX types</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>IntelliJ plugin does not autocomplete kotlin.reflect.KFunctionX types. Neither does it autoimport them when I type their name without autocomplete.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1448115615460</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041591</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>npryce</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nat Pryce</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2439</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10165" entityId="25-1072265"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10165</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cannot delete Kotlin class file from project view</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a project, add a Kotlin compiled class file to a folder (not under a source root), press Delete in Project View -&gt; nothing happens. Press Cmd+Delete -&gt; error "Refactoring cannot be performed, file is read-only".

See for example `compiler/cli/jvm/wrongAbiVersionLib/bin/ClassWithWrongAbiVersion.class` in the Kotlin project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1448391522459</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10215" entityId="25-1074724"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10215</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin classes are listed after Java classes in the navigation bar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Expected behavior: files are sorted by name (not by language) as in the Project View</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1448667467085</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954547</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-273228" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202015-11-28%20at%2002.35.46.png?file=74-273228&amp;c=true">Screen Shot 2015-11-28 at 02.35.46.png</value></field></issue><issue id="KT-10220" entityId="25-1074883"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10220</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin plugin not recompiled automatically while debugging/running</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value> I'm using IDEA 15.0.1 , with kotlin plugin 1.0.0-beta-2423

Kotlin plugin not recompiled automatically while debugging/running. Moreover, after I pressed "make project" button or Build|Compile (ctrl_shift_F9), the program will not recompiled.

When I select "gradle project" windows, and Execute external task 'testClasses',  it works</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1448782795510</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954317</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>hhhxxjj@gmail.com</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>HE Guangyu</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>14</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5991</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Tools</value><valueId>IDE</valueId><valueId>Tools</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-273564" url="https://youtrack.jetbrains.com/_persistent/2015-11-30_224014.jpg?file=74-273564&amp;c=true">2015-11-30_224014.jpg</value><value id="74-275834" url="https://youtrack.jetbrains.com/_persistent/2015-12-08_181502.jpg?file=74-275834&amp;c=true">2015-12-08_181502.jpg</value><value id="74-275908" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202015-12-08%20at%2014.55.00.png?file=74-275908&amp;c=true">Screen Shot 2015-12-08 at 14.55.00.png</value><value id="74-276012" url="https://youtrack.jetbrains.com/_persistent/domain.zip?file=74-276012&amp;c=true">domain.zip</value><value id="74-276014" url="https://youtrack.jetbrains.com/_persistent/parent.gradle?file=74-276014&amp;c=true">parent.gradle</value><value id="74-276015" url="https://youtrack.jetbrains.com/_persistent/kotlin.gradle?file=74-276015&amp;c=true">kotlin.gradle</value><value id="74-276018" url="https://youtrack.jetbrains.com/_persistent/kotlin-android.gradle?file=74-276018&amp;c=true">kotlin-android.gradle</value><value id="74-280523" url="https://youtrack.jetbrains.com/_persistent/hello4.zip?file=74-280523&amp;c=true">hello4.zip</value><value id="74-280524" url="https://youtrack.jetbrains.com/_persistent/hello.zip?file=74-280524&amp;c=true">hello.zip</value><value id="74-280525" url="https://youtrack.jetbrains.com/_persistent/hello3.zip?file=74-280525&amp;c=true">hello3.zip</value></field><comment id="27-1232900" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-10220" deleted="false" text="Could you please attach a screenshot of the Project view for your project, showing directories where Kotlin files are located?" shownForIssueAuthor="false" created="1448887628271" markdown="false"><replies/></comment><comment id="27-1233353" author="hhhxxjj@gmail.com" authorFullName="HE Guangyu" issueId="KT-10220" deleted="false" text="I have a project with 20 modules. Each module is written by Kotlin and java. See the attache files plz." shownForIssueAuthor="false" created="1448894614779" markdown="false"><replies/></comment><comment id="27-1240961" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-10220" deleted="false" text="@hhhxxjj@gmail.com, do you have changed Kotlin files? Is it works for Java files? Could you please share out from Messages tool window and build logs (build-log dir from [IDEA logs|https://intellij-support.jetbrains.com/hc/en-us/articles/206827517-Locating-IDE-log-files])" shownForIssueAuthor="false" created="1449245593619" markdown="false"><replies/></comment><comment id="27-1243705" author="hhhxxjj@gmail.com" authorFullName="HE Guangyu" issueId="KT-10220" deleted="false" text="It doesn't work for Java files also.&#xA;&#xA;output from Messages tool window:&#xA;E:\_Java\jdk\jdk1.8.0_x64\bin\java -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:52638,suspend=y,server=n -ea -javaagent:E:\_Java\IDE\IntellijIdea\IDEA\plugins\Groovy\lib\agent\gragent.jar -Didea.junit.sm_runner -Dfile.encoding=UTF-8 -classpath E:\_Java\IDE\IntellijIdea\IDEA\lib\idea_rt.jar;E:\_Java\IDE\IntellijIdea\IDEA\plugins\junit\lib\junit-rt.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\charsets.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\deploy.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\javaws.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\jce.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\jfr.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\jfxswt.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\jsse.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\management-agent.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\plugin.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\resources.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\rt.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\access-bridge-64.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\cldrdata.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\dnsns.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\jaccess.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\jfxrt.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\localedata.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\nashorn.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\sunec.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\sunjce_provider.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\sunmscapi.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\sunpkcs11.jar;E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\zipfs.jar;D:\Codes\android\beepower2\domain\kit\build\resources\test;D:\Codes\android\beepower2\domain\kit\build\resources\main;E:\_Java\build\gradle\.gradle\caches\modules-2\files-2.1\org.jetbrains.kotlin\kotlin-stdlib\1.0.0-beta-2423\505079036188f1e15d0fec2ba173dd52d9b575a3\kotlin-stdlib-1.0.0-beta-2423.jar;E:\_Java\build\gradle\.gradle\caches\modules-2\files-2.1\org.jetbrains.kotlin\kotlin-runtime\1.0.0-beta-2423\593d30030ae8853fa40c793d2b22a1c27c44dc01\kotlin-runtime-1.0.0-beta-2423.jar;E:\_Java\build\gradle\.gradle\caches\modules-2\files-2.1\junit\junit\4.12\2973d150c0dc1fefe998f834810d68f278ea58ec\junit-4.12.jar;E:\_Java\repo\org\mockito\mockito-core\1.9.5\mockito-core-1.9.5.jar;E:\_Java\repo\org\hamcrest\hamcrest-core\1.3\hamcrest-core-1.3.jar;E:\_Java\repo\org\objenesis\objenesis\1.0\objenesis-1.0.jar com.intellij.rt.execution.junit.JUnitStarter -ideVersion5 cn.beepower.domain.kit.LogTest,testLog&#xA;Connected to the target VM, address: '127.0.0.1:52638', transport: 'socket'&#xA;Disconnected from the target VM, address: '127.0.0.1:52638', transport: 'socket'&#xA;&#xA;Process finished with exit code 1&#xA;Class not found: &quot;cn.beepower.domain.kit.LogTest&quot;Empty test suite.&#xA;&#xA;&#xA;See the attached pictures also.&#xA;&#xA;build log:&#xA;2015-12-08 18:14:20,768 [      0]   INFO - etbrains.jps.cmdline.BuildMain - Build process started. Classpath: /E:/_Java/IDE/IntellijIdea/IDEA/lib/jps-launcher.jar;E:/_Java/jdk/jdk1.8.0_x64/lib/tools.jar;/E:/_Java/IDE/IntellijIdea/IDEA/lib/optimizedFileManager.jar;E:/_Java/IDE/IntellijIdea/IDEA/lib/ecj-4.4.jar&#xA;2015-12-08 18:14:21,036 [    268]   INFO - etbrains.jps.cmdline.BuildMain - Connection to IDE established in 238 ms&#xA;2015-12-08 18:14:21,144 [    376]   INFO - jps.cmdline.JpsModelLoaderImpl - Loading model: project path = D:/Codes/android/beepower2/domain, global options path = E:/_Java/IDE/IntellijIdea/.IdeaIC/config/options&#xA;2015-12-08 18:14:21,695 [    927]   INFO - jps.cmdline.JpsModelLoaderImpl - Model loaded in 551 ms&#xA;2015-12-08 18:14:21,695 [    927]   INFO - jps.cmdline.JpsModelLoaderImpl - Project has 20 modules, 51 libraries&#xA;2015-12-08 18:14:21,799 [   1031]   INFO - ellij.util.io.PagedFileStorage - lower=100; upper=200; buffer=10; max=631767040&#xA;2015-12-08 18:14:22,012 [   1244]   INFO - .incremental.IncProjectBuilder - Building project; isRebuild:false; isMake:true parallel compilation:false&#xA;2015-12-08 18:14:22,013 [   1245]   INFO - kotlin.jps.build.KotlinBuilder - is Kotlin incremental compilation enabled: true&#xA;2015-12-08 18:14:22,013 [   1245]   INFO - kotlin.jps.build.KotlinBuilder - Label in local history: build started f2469edf&#xA;2015-12-08 18:14:22,016 [   1248]   INFO - r.api.ClassFilesIndicesBuilder - class files data index disabled&#xA;2015-12-08 18:14:22,073 [   1305]   INFO - der.AndroidGradleTargetBuilder - Using execution settings: BuilderExecutionSettings[buildMode=ASSEMBLE, commandLineOptions=[], embeddedModeEnabled=false, gradleHomeDir=E:\_Java\build\gradle\gradle-2.9, gradleServiceDir=E:\_Java\build\gradle\.gradle, javaHomeDir=E:\_Java\jdk\jdk1.8.0_x64, jvmOptions=[], gradleTasksToInvoke=[], offlineBuild=false, parallelBuild=false, projectDir=D:\Codes\android\beepower2\domain, verboseLoggingEnabled=false]&#xA;2015-12-08 18:14:22,073 [   1305]   INFO - der.AndroidGradleTargetBuilder - No build tasks found for project 'domain'. Nothing done.&#xA;2015-12-08 18:14:22,159 [   1391]   INFO - penapi.util.io.win32.IdeaWin32 - Native filesystem for Windows is operational&#xA;&#xA;" shownForIssueAuthor="false" created="1449570028137" updated="1448894614708" markdown="false"><replies/></comment><comment id="27-1243953" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-10220" deleted="false" text="@hhhxxjj@gmail.com auto make should not work when while debugging/running, see attach" shownForIssueAuthor="false" created="1449575939220" updated="1449245593525" markdown="false"><replies/></comment><comment id="27-1243960" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-10220" deleted="false" text="Looks like your output is not form Messages window (probably from run or debug)" shownForIssueAuthor="false" created="1449576112046" updated="1449575939145" markdown="false"><replies/></comment><comment id="27-1243967" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-10220" deleted="false" text="Could you please share project or file with problem?" shownForIssueAuthor="false" created="1449576262001" updated="1449576111972" markdown="false"><replies/></comment><comment id="27-1243974" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-10220" deleted="false" text="And please share new build log with debug level. For that replace *log4j.rootLogger=info, file* with *log4j.rootLogger=debug, file* in *build-log.properties* which located beside build logs.&#xA;&#xA;Thanks!" shownForIssueAuthor="false" created="1449576509914" updated="1449576261930" markdown="false"><replies/></comment><comment id="27-1244332" author="hhhxxjj@gmail.com" authorFullName="HE Guangyu" issueId="KT-10220" deleted="false" text="2015-12-08 22:26:10,766 [      0]   INFO - etbrains.jps.cmdline.BuildMain - Build process started. Classpath: /E:/_Java/IDE/IntellijIdea/IDEA/lib/jps-launcher.jar;E:/_Java/jdk/jdk1.8.0_x64/lib/tools.jar;/E:/_Java/IDE/IntellijIdea/IDEA/lib/optimizedFileManager.jar;E:/_Java/IDE/IntellijIdea/IDEA/lib/ecj-4.4.jar&#xA;2015-12-08 22:26:10,803 [     37]  DEBUG - .logging.InternalLoggerFactory - Using SLF4J as the default logging framework&#xA;2015-12-08 22:26:10,806 [     40]  DEBUG - nnel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 16&#xA;2015-12-08 22:26:10,840 [     74]  DEBUG - il.internal.PlatformDependent0 - java.nio.Buffer.address: available&#xA;2015-12-08 22:26:10,840 [     74]  DEBUG - il.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available&#xA;2015-12-08 22:26:10,840 [     74]  DEBUG - il.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available&#xA;2015-12-08 22:26:10,841 [     75]  DEBUG - il.internal.PlatformDependent0 - java.nio.Bits.unaligned: true&#xA;2015-12-08 22:26:10,841 [     75]  DEBUG - til.internal.PlatformDependent - Platform: Windows&#xA;2015-12-08 22:26:10,841 [     75]  DEBUG - til.internal.PlatformDependent - Java version: 8&#xA;2015-12-08 22:26:10,841 [     75]  DEBUG - til.internal.PlatformDependent - -Dio.netty.noUnsafe: false&#xA;2015-12-08 22:26:10,841 [     75]  DEBUG - til.internal.PlatformDependent - sun.misc.Unsafe: available&#xA;2015-12-08 22:26:10,841 [     75]  DEBUG - til.internal.PlatformDependent - -Dio.netty.noJavassist: false&#xA;2015-12-08 22:26:10,842 [     76]  DEBUG - til.internal.PlatformDependent - Javassist: unavailable&#xA;2015-12-08 22:26:10,842 [     76]  DEBUG - til.internal.PlatformDependent - You don't have Javassist in your class path or you don't have enough permission to load dynamically generated classes.  Please check the configuration for better performance.&#xA;2015-12-08 22:26:10,842 [     76]  DEBUG - til.internal.PlatformDependent - -Dio.netty.tmpdir: E:\_Java\IDE\IntellijIdea\.IdeaIC\system\compile-server\_temp_ (java.io.tmpdir)&#xA;2015-12-08 22:26:10,842 [     76]  DEBUG - til.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)&#xA;2015-12-08 22:26:10,842 [     76]  DEBUG - til.internal.PlatformDependent - -Dio.netty.noPreferDirect: false&#xA;2015-12-08 22:26:10,843 [     77]  DEBUG - netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false&#xA;2015-12-08 22:26:10,843 [     77]  DEBUG - netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512&#xA;2015-12-08 22:26:10,918 [    152]  DEBUG - netty.channel.DefaultChannelId - -Dio.netty.processId: 55826 (user-set)&#xA;2015-12-08 22:26:10,918 [    152]  DEBUG - netty.channel.DefaultChannelId - -Dio.netty.machineId: 9e43d860 (user-set)&#xA;2015-12-08 22:26:10,919 [    153]  DEBUG - til.internal.ThreadLocalRandom - -Dio.netty.initialSeedUniquifier: 0xbb18a9c904cff008&#xA;2015-12-08 22:26:10,946 [    180]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 6&#xA;2015-12-08 22:26:10,946 [    180]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 6&#xA;2015-12-08 22:26:10,946 [    180]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192&#xA;2015-12-08 22:26:10,946 [    180]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 11&#xA;2015-12-08 22:26:10,946 [    180]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 16777216&#xA;2015-12-08 22:26:10,946 [    180]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.tinyCacheSize: 512&#xA;2015-12-08 22:26:10,946 [    180]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256&#xA;2015-12-08 22:26:10,947 [    181]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64&#xA;2015-12-08 22:26:10,947 [    181]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768&#xA;2015-12-08 22:26:10,947 [    181]  DEBUG - .buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192&#xA;2015-12-08 22:26:10,953 [    187]  DEBUG -    io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled&#xA;2015-12-08 22:26:10,953 [    187]  DEBUG -    io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 65536&#xA;2015-12-08 22:26:10,996 [    230]   INFO - etbrains.jps.cmdline.BuildMain - Connection to IDE established in 206 ms&#xA;2015-12-08 22:26:11,005 [    239]  DEBUG -         io.netty.util.Recycler - -Dio.netty.recycler.maxCapacity.maxCapacity: 262144&#xA;2015-12-08 22:26:11,018 [    252]  DEBUG - etty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple&#xA;2015-12-08 22:26:11,018 [    252]  DEBUG - etty.util.ResourceLeakDetector - -Dio.netty.leakDetection.maxRecords: 4&#xA;2015-12-08 22:26:11,103 [    337]   INFO - jps.cmdline.JpsModelLoaderImpl - Loading model: project path = D:/Codes/android/beepower2/domain, global options path = E:/_Java/IDE/IntellijIdea/.IdeaIC/config/options&#xA;2015-12-08 22:26:11,179 [    413]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: path.macros.xml:PathMacrosImpl in 61ms&#xA;2015-12-08 22:26:11,184 [    418]  DEBUG - .serialization.JpsGlobalLoader - Loading config from E:\_Java\IDE\IntellijIdea\.IdeaIC\config\options&#xA;2015-12-08 22:26:11,184 [    418]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: applicationLibraries.xml:libraryTable in 0ms&#xA;2015-12-08 22:26:11,198 [    432]  DEBUG - .library.JpsSdkTableSerializer - Loading JavaSDK SDK '1.8_x64'&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer - 1.8_x64 SDK classpath (23 roots):&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\charsets.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\deploy.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\javaws.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\jce.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\jfr.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\jfxswt.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\jsse.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\management-agent.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\plugin.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\resources.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\rt.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\access-bridge-64.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\cldrdata.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\dnsns.jar&#xA;2015-12-08 22:26:11,243 [    477]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\jaccess.jar&#xA;2015-12-08 22:26:11,244 [    478]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\jfxrt.jar&#xA;2015-12-08 22:26:11,244 [    478]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\localedata.jar&#xA;2015-12-08 22:26:11,244 [    478]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\nashorn.jar&#xA;2015-12-08 22:26:11,244 [    478]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\sunec.jar&#xA;2015-12-08 22:26:11,244 [    478]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\sunjce_provider.jar&#xA;2015-12-08 22:26:11,244 [    478]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\sunmscapi.jar&#xA;2015-12-08 22:26:11,244 [    478]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\sunpkcs11.jar&#xA;2015-12-08 22:26:11,244 [    478]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_x64\jre\lib\ext\zipfs.jar&#xA;2015-12-08 22:26:11,250 [    484]  DEBUG - .library.JpsSdkTableSerializer - Loading Android SDK SDK 'Android API 22 Platform'&#xA;2015-12-08 22:26:11,251 [    485]  DEBUG - .library.JpsSdkTableSerializer - Android API 22 Platform SDK classpath (2 roots):&#xA;2015-12-08 22:26:11,251 [    485]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\android\platforms\android-22\android.jar&#xA;2015-12-08 22:26:11,251 [    485]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\android\platforms\android-22\data\res&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer - Loading Android SDK SDK 'Android API 19 Platform'&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer - Android API 19 Platform SDK classpath (2 roots):&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\android\platforms\android-19\android.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\android\platforms\android-19\data\res&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer - Loading JavaSDK SDK '1.7_x86'&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer - 1.7_x86 SDK classpath (20 roots):&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\charsets.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\deploy.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\javaws.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\jce.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\jfr.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\jfxrt.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\jsse.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\management-agent.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\plugin.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\resources.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\rt.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\access-bridge-32.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\dnsns.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\jaccess.jar&#xA;2015-12-08 22:26:11,252 [    486]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\localedata.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\sunec.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\sunjce_provider.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\sunmscapi.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\sunpkcs11.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.7.0_x86\jre\lib\ext\zipfs.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer - Loading JavaSDK SDK '1.8_x86'&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer - 1.8_x86 SDK classpath (23 roots):&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\charsets.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\deploy.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\javaws.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\jce.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\jfr.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\jfxswt.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\jsse.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\management-agent.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\plugin.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\resources.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\rt.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\access-bridge-32.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\cldrdata.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\dnsns.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\jaccess.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\jfxrt.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\localedata.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\nashorn.jar&#xA;2015-12-08 22:26:11,253 [    487]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\sunec.jar&#xA;2015-12-08 22:26:11,254 [    488]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\sunjce_provider.jar&#xA;2015-12-08 22:26:11,254 [    488]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\sunmscapi.jar&#xA;2015-12-08 22:26:11,254 [    488]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\sunpkcs11.jar&#xA;2015-12-08 22:26:11,254 [    488]  DEBUG - .library.JpsSdkTableSerializer -  E:\_Java\jdk\jdk1.8.0_45\jre\lib\ext\zipfs.jar&#xA;2015-12-08 22:26:11,254 [    488]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: jdk.table.xml:ProjectJdkTable in 70ms&#xA;2015-12-08 22:26:11,260 [    494]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: filetypes.xml:CommunityFileTypes in 6ms&#xA;2015-12-08 22:26:11,261 [    495]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: encoding.xml:Encoding in 0ms&#xA;2015-12-08 22:26:11,272 [    506]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: other.xml:GlobalAntConfiguration in 9ms&#xA;2015-12-08 22:26:11,284 [    518]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: IntelliLang.xml:LanguageInjectionConfiguration in 11ms&#xA;2015-12-08 22:26:11,296 [    530]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: misc.xml:ProjectRootManager in 5ms&#xA;2015-12-08 22:26:11,303 [    537]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: compiler.xml:CompilerConfiguration in 7ms&#xA;2015-12-08 22:26:11,425 [    659]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: workspace.xml:CompilerWorkspaceConfiguration in 122ms&#xA;2015-12-08 22:26:11,428 [    662]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: compiler.xml:JavacSettings in 3ms&#xA;2015-12-08 22:26:11,429 [    663]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: compiler.xml:EclipseCompilerSettings in 1ms&#xA;2015-12-08 22:26:11,430 [    664]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: compiler.xml:RmicSettings in 1ms&#xA;2015-12-08 22:26:11,440 [    674]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: encodings.xml:Encoding in 9ms&#xA;2015-12-08 22:26:11,441 [    675]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: ant.xml:AntConfiguration in 0ms&#xA;2015-12-08 22:26:11,501 [    735]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: workspace.xml:antWorkspaceConfiguration in 60ms&#xA;2015-12-08 22:26:11,502 [    736]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: groovyc.xml:GroovyCompilerProjectConfiguration in 0ms&#xA;2015-12-08 22:26:11,504 [    738]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: compiler.xml:GreclipseSettings in 2ms&#xA;2015-12-08 22:26:11,505 [    739]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: androidDexCompiler.xml:AndroidDexCompilerConfiguration in 0ms&#xA;2015-12-08 22:26:11,510 [    744]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: kotlinc.xml:KotlinCommonCompilerArguments in 0ms&#xA;2015-12-08 22:26:11,510 [    744]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: kotlinc.xml:Kotlin2JvmCompilerArguments in 0ms&#xA;2015-12-08 22:26:11,510 [    744]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: kotlinc.xml:Kotlin2JsCompilerArguments in 0ms&#xA;2015-12-08 22:26:11,510 [    744]  DEBUG -   #org.jetbrains.jps.TimingLog - loading: kotlinc.xml:KotlinCompilerSettings in 0ms&#xA;2015-12-08 22:26:11,614 [    848]  DEBUG -   #org.jetbrains.jps.TimingLog - loading modules in 103ms&#xA;2015-12-08 22:26:11,771 [   1005]  DEBUG -   #org.jetbrains.jps.TimingLog - loading project libraries in 157ms&#xA;2015-12-08 22:26:11,771 [   1005]  DEBUG -   #org.jetbrains.jps.TimingLog - loading artifacts in 0ms&#xA;2015-12-08 22:26:11,771 [   1005]   INFO - jps.cmdline.JpsModelLoaderImpl - Model loaded in 668 ms&#xA;2015-12-08 22:26:11,771 [   1005]   INFO - jps.cmdline.JpsModelLoaderImpl - Project has 20 modules, 50 libraries&#xA;2015-12-08 22:26:11,874 [   1108]   INFO - ellij.util.io.PagedFileStorage - lower=100; upper=200; buffer=10; max=631767040&#xA;2015-12-08 22:26:12,022 [   1256]  DEBUG -   #org.jetbrains.jps.TimingLog - Project descriptor loaded&#xA;2015-12-08 22:26:12,073 [   1307]   INFO - .incremental.IncProjectBuilder - Building project; isRebuild:false; isMake:true parallel compilation:false&#xA;2015-12-08 22:26:12,075 [   1309]  DEBUG - kotlin.jps.build.KotlinBuilder - ==========================================&#xA;2015-12-08 22:26:12,076 [   1310]   INFO - kotlin.jps.build.KotlinBuilder - is Kotlin incremental compilation enabled: true&#xA;2015-12-08 22:26:12,076 [   1310]   INFO - kotlin.jps.build.KotlinBuilder - is Kotlin experimental incremental compilation enabled: false&#xA;2015-12-08 22:26:12,133 [   1367]   INFO - kotlin.jps.build.KotlinBuilder - is Kotlin compiler daemon enabled: true&#xA;2015-12-08 22:26:12,134 [   1368]   INFO - kotlin.jps.build.KotlinBuilder - Label in local history: build started 303fb50e&#xA;2015-12-08 22:26:12,134 [   1368]  DEBUG - s.incremental.java.JavaBuilder - Java compiler ID: Javac&#xA;2015-12-08 22:26:12,136 [   1370]   INFO - r.api.ClassFilesIndicesBuilder - class files data index disabled&#xA;2015-12-08 22:26:12,138 [   1372]  DEBUG -   #org.jetbrains.jps.TimingLog - 'before' tasks finished&#xA;2015-12-08 22:26:12,188 [   1422]   INFO - der.AndroidGradleTargetBuilder - Using execution settings: BuilderExecutionSettings[buildMode=ASSEMBLE, commandLineOptions=[], embeddedModeEnabled=false, gradleHomeDir=E:\_Java\build\gradle\gradle-2.9, gradleServiceDir=E:\_Java\build\gradle\.gradle, javaHomeDir=E:\_Java\jdk\jdk1.8.0_x64, jvmOptions=[], gradleTasksToInvoke=[], offlineBuild=false, parallelBuild=false, projectDir=D:\Codes\android\beepower2\domain, verboseLoggingEnabled=false]&#xA;2015-12-08 22:26:12,189 [   1423]   INFO - der.AndroidGradleTargetBuilder - No build tasks found for project 'domain'. Nothing done.&#xA;2015-12-08 22:26:12,251 [   1485]   INFO - penapi.util.io.win32.IdeaWin32 - Native filesystem for Windows is operational&#xA;2015-12-08 22:26:12,251 [   1485]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(C:\)&#xA;2015-12-08 22:26:12,251 [   1485]  DEBUG - penapi.util.io.win32.IdeaWin32 -   99 mks&#xA;2015-12-08 22:26:12,252 [   1486]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\resources\D7310010001.jks)&#xA;2015-12-08 22:26:12,252 [   1486]  DEBUG - penapi.util.io.win32.IdeaWin32 -   57 mks&#xA;2015-12-08 22:26:12,252 [   1486]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\resources\noProtection.jks)&#xA;2015-12-08 22:26:12,253 [   1487]  DEBUG - penapi.util.io.win32.IdeaWin32 -   45 mks&#xA;2015-12-08 22:26:12,253 [   1487]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\resources\test.bat)&#xA;2015-12-08 22:26:12,253 [   1487]  DEBUG - penapi.util.io.win32.IdeaWin32 -   36 mks&#xA;2015-12-08 22:26:12,280 [   1514]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\resources\ca.bks)&#xA;2015-12-08 22:26:12,280 [   1514]  DEBUG - penapi.util.io.win32.IdeaWin32 -   68 mks&#xA;2015-12-08 22:26:12,281 [   1515]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\resources\ca.jks)&#xA;2015-12-08 22:26:12,281 [   1515]  DEBUG - penapi.util.io.win32.IdeaWin32 -   61 mks&#xA;2015-12-08 22:26:12,301 [   1535]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\java\cn\beepower\domain\kit\Base64.java)&#xA;2015-12-08 22:26:12,301 [   1535]  DEBUG - penapi.util.io.win32.IdeaWin32 -   60 mks&#xA;2015-12-08 22:26:12,301 [   1535]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\java\cn\beepower\domain\kit\Kit.java)&#xA;2015-12-08 22:26:12,301 [   1535]  DEBUG - penapi.util.io.win32.IdeaWin32 -   43 mks&#xA;2015-12-08 22:26:12,301 [   1535]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\java\cn\beepower\domain\kit\Slf4jLog.java)&#xA;2015-12-08 22:26:12,301 [   1535]  DEBUG - penapi.util.io.win32.IdeaWin32 -   40 mks&#xA;2015-12-08 22:26:12,301 [   1535]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\java\cn\beepower\domain\kit\WatchDir.java)&#xA;2015-12-08 22:26:12,301 [   1535]  DEBUG - penapi.util.io.win32.IdeaWin32 -   38 mks&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\ByteArrayKit.kt)&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 -   45 mks&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\ContextKit.kt)&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 -   39 mks&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\DaemonService.kt)&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 -   40 mks&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\Env.kt)&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 -   38 mks&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\FileKit.kt)&#xA;2015-12-08 22:26:12,302 [   1536]  DEBUG - penapi.util.io.win32.IdeaWin32 -   38 mks&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\IContextUtil.kt)&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 -   39 mks&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\IMainThreadKit.kt)&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 -   41 mks&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\Log.kt)&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 -   38 mks&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\Logger.kt)&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 -   38 mks&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\Password.kt)&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 -   37 mks&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\ProcessKit.kt)&#xA;2015-12-08 22:26:12,303 [   1537]  DEBUG - penapi.util.io.win32.IdeaWin32 -   37 mks&#xA;2015-12-08 22:26:12,304 [   1538]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\SSLContextKit.kt)&#xA;2015-12-08 22:26:12,304 [   1538]  DEBUG - penapi.util.io.win32.IdeaWin32 -   38 mks&#xA;2015-12-08 22:26:12,304 [   1538]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\StringKit.kt)&#xA;2015-12-08 22:26:12,304 [   1538]  DEBUG - penapi.util.io.win32.IdeaWin32 -   37 mks&#xA;2015-12-08 22:26:12,304 [   1538]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\main\kotlin\cn\beepower\domain\kit\SystemLogger.kt)&#xA;2015-12-08 22:26:12,304 [   1538]  DEBUG - penapi.util.io.win32.IdeaWin32 -   37 mks&#xA;2015-12-08 22:26:12,317 [   1551]  DEBUG - kotlin.jps.build.KotlinBuilder - ------------------------------------------&#xA;2015-12-08 22:26:12,328 [   1562]  DEBUG - kotlin.jps.build.KotlinBuilder - Build result: NOTHING_DONE&#xA;2015-12-08 22:26:12,336 [   1570]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\Base64Test.kt)&#xA;2015-12-08 22:26:12,336 [   1570]  DEBUG - penapi.util.io.win32.IdeaWin32 -   54 mks&#xA;2015-12-08 22:26:12,336 [   1570]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\ByteArrayKitTest.kt)&#xA;2015-12-08 22:26:12,336 [   1570]  DEBUG - penapi.util.io.win32.IdeaWin32 -   42 mks&#xA;2015-12-08 22:26:12,337 [   1571]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\ContextKitTest.kt)&#xA;2015-12-08 22:26:12,337 [   1571]  DEBUG - penapi.util.io.win32.IdeaWin32 -   58 mks&#xA;2015-12-08 22:26:12,337 [   1571]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\FileKitTest.kt)&#xA;2015-12-08 22:26:12,337 [   1571]  DEBUG - penapi.util.io.win32.IdeaWin32 -   65 mks&#xA;2015-12-08 22:26:12,337 [   1571]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\LogTest.kt)&#xA;2015-12-08 22:26:12,337 [   1571]  DEBUG - penapi.util.io.win32.IdeaWin32 -   109 mks&#xA;2015-12-08 22:26:12,338 [   1572]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\MainThreadKitTest.kt)&#xA;2015-12-08 22:26:12,338 [   1572]  DEBUG - penapi.util.io.win32.IdeaWin32 -   94 mks&#xA;2015-12-08 22:26:12,338 [   1572]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\MMapTest.java)&#xA;2015-12-08 22:26:12,338 [   1572]  DEBUG - penapi.util.io.win32.IdeaWin32 -   100 mks&#xA;2015-12-08 22:26:12,338 [   1572]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\PasswordTest.kt)&#xA;2015-12-08 22:26:12,338 [   1572]  DEBUG - penapi.util.io.win32.IdeaWin32 -   91 mks&#xA;2015-12-08 22:26:12,339 [   1573]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\ProcessKitTest.kt)&#xA;2015-12-08 22:26:12,339 [   1573]  DEBUG - penapi.util.io.win32.IdeaWin32 -   84 mks&#xA;2015-12-08 22:26:12,339 [   1573]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\SSLContextKitTest.kt)&#xA;2015-12-08 22:26:12,339 [   1573]  DEBUG - penapi.util.io.win32.IdeaWin32 -   41 mks&#xA;2015-12-08 22:26:12,339 [   1573]  DEBUG - penapi.util.io.win32.IdeaWin32 - getInfo(D:\Codes\android\beepower2\domain\kit\src\test\kotlin\cn\beepower\domain\kit\StringKitTest.kt)&#xA;2015-12-08 22:26:12,339 [   1573]  DEBUG - penapi.util.io.win32.IdeaWin32 -   40 mks&#xA;2015-12-08 22:26:12,350 [   1584]  DEBUG - kotlin.jps.build.KotlinBuilder - ------------------------------------------&#xA;2015-12-08 22:26:12,496 [   1730]  DEBUG - kotlin.jps.build.KotlinBuilder - Build result: NOTHING_DONE&#xA;2015-12-08 22:26:12,497 [   1731]  DEBUG -   #org.jetbrains.jps.TimingLog - Building targets finished&#xA;2015-12-08 22:26:12,498 [   1732]  DEBUG -   #org.jetbrains.jps.TimingLog - 'after' tasks finished&#xA;2015-12-08 22:26:12,499 [   1733]   INFO - rains.jps.cmdline.BuildSession - Build duration: 'Kotlin Builder' builder took 157 ms, 0 sources processed&#xA;2015-12-08 22:26:12,501 [   1735]  DEBUG -   #org.jetbrains.jps.TimingLog - Build finished&#xA;" shownForIssueAuthor="false" created="1449584900991" updated="1449570028051" markdown="false"><replies/></comment><comment id="27-1244334" author="hhhxxjj@gmail.com" authorFullName="HE Guangyu" issueId="KT-10220" deleted="false" text="output from Message window:&#xA;Information:Kotlin: Kotlin JPS plugin is disabled&#xA;Information:2015/12/8 22:26 - Compilation completed successfully in 2s 275ms" shownForIssueAuthor="false" created="1449584997415" updated="1449584900876" markdown="false"><replies/></comment><comment id="27-1244406" author="hhhxxjj@gmail.com" authorFullName="HE Guangyu" issueId="KT-10220" deleted="false" text="The project is attatched, see domain.zip" shownForIssueAuthor="false" created="1449586531888" updated="1449584997250" markdown="false"><replies/></comment><comment id="27-1244411" author="hhhxxjj@gmail.com" authorFullName="HE Guangyu" issueId="KT-10220" deleted="false" text=" domain.zip.  In  gradle.properties, I defined:&#xA;_parent = E:/_Java/build/gradle/_doc/parent.gradle&#xA;_kotlin = E:/_Java/build/gradle/_doc/kotlin.gradle&#xA;_kotlinAndroid = E:/_Java/build/gradle/_doc/kotlin-android.gradle&#xA;&#xA;FYI, these files are attached also." shownForIssueAuthor="false" created="1449586683779" updated="1449586531678" markdown="false"><replies/></comment><comment id="27-1265274" author="hhhxxjj@gmail.com" authorFullName="HE Guangyu" issueId="KT-10220" deleted="false" text="The problem was found, which is caused by the facet of &quot;android-gradle&quot;.&#xA;&#xA;hello.zip, hello3.zip, hello4.zip is attached. Each one is a module.&#xA;the only difference of hello,hello3,hello4 module is kit/kit.iml.&#xA;&#xA;hello module:  Error: Class not found: &quot;cn.beepower.domain.kit.Base64Test&quot;&#xA;hello3 module: OK&#xA;hello4 module: using for comparing&#xA;&#xA;&#xA;case 1: using kit.iml of hello module in hello4 module&#xA;   Error: Class not found: &quot;cn.beepower.domain.kit.Base64Test&quot;&#xA;   &#xA;case 2: using kit.iml of hello3 module in hello4 module&#xA;   OK&#xA;   &#xA;case 3:&#xA;  1)  using kit.iml of hello module in hello4 module&#xA;   Error: Class not found: &quot;cn.beepower.domain.kit.Base64Test&quot;&#xA;  &#xA;  2)  using kit.iml of hello3 module in hello4 module&#xA;   OK&#xA;  &#xA; 3) remove the following line from kit.iml&#xA;   &lt;component name=&quot;FacetManager&quot;&gt;&#xA;    &lt;facet type=&quot;android-gradle&quot; name=&quot;Android-Gradle&quot;&gt;&#xA;      &lt;configuration&gt;&#xA;        &lt;option name=&quot;GRADLE_PROJECT_PATH&quot; value=&quot;:kit&quot; /&gt;&#xA;      &lt;/configuration&gt;&#xA;    &lt;/facet&gt;&#xA;  &lt;/component&gt;&#xA;&#xA;  Error: Class not found: &quot;cn.beepower.domain.kit.Base64Test&quot;&#xA;&#xA;   4) gradle clean&#xA;  Now everything is OK.&#xA;" shownForIssueAuthor="false" created="1451275514158" updated="1449586683723" markdown="false"><replies/></comment><comment id="27-1265275" author="hhhxxjj@gmail.com" authorFullName="HE Guangyu" issueId="KT-10220" deleted="false" text="the facet of &quot;android-gradle&quot; is added by IDEA because I write the following lines in build.gradle.&#xA;&#xA;buildscript {&#xA;    ext.kotlin_version = '1.0.0-beta-4584'&#xA;    repositories {&#xA;        mavenCentral()&#xA;    }&#xA;    dependencies {&#xA;        classpath &quot;com.android.tools.build:gradle:1.5.0&quot;&#xA;        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;&#xA;    }&#xA;}&#xA;&#xA;In my projects, I have some java-modules and some android-modules at the same time, so I wrote the above lines.&#xA;Is it OK? What's the best practise?&#xA;&#xA;" shownForIssueAuthor="false" created="1451276063084" updated="1451275513821" markdown="false"><replies/></comment></issue><issue id="KT-10228" entityId="25-1075375"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10228</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Faulty deprecation cleanup in companion objects</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
enum class Foo {
    a, b, c;
    
    companion object {
        val x = values.size // Cleanup changes to this.values(). Should change to just values() instead
    }
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1448881443787</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041592</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>max</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Shafirov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10245" entityId="25-1076729"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10245</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Convert to expression body" intention produces invalid code for constructors</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Before:

{code lang=kotlin}
abstract class First(val name: String)

class Second : First {
    constructor(name: String) : super(name) { // run intention here
        init()
    }
    
    fun init() {}
}
{code}

After:

{code lang=kotlin}
abstract class First(val name: String)

class Second : First {
    constructor(name: String) : super(name) = init() // invalid code

    fun init() {}
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1448982310233</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041592</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yanex</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yan Zhulanow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10270" entityId="25-1078949"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10270</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Enums: ReplaceWith doesn't work properly</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Before:
{code lang=kotlin}
package test
import test.Enm.*

enum class Enm {
    @Deprecated("Replace with BAR", ReplaceWith("this.BAR"))
    FOO,
    BAR
}

fun test() {
    FOO // deprecated
    Enm.FOO // also deprecated
}
{code}

After:
{code lang=kotlin}
package test
import test.Enm.*

enum class Enm {
    @Deprecated("Replace with BAR", ReplaceWith("this.BAR"))
    FOO,
    BAR
}

fun test() {
    this.BAR // invalid code
    BAR // valid, but probably not what we wanted
}
{code}

"{{Enm.BAR}}" and "{{test.Enm.BAR}}" in {{ReplaceWith}} doesn't work as well (quick fix doesn't even shown).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1449165391746</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041594</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yanex</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yan Zhulanow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-7910</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10281" entityId="25-1079897"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10281</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDEA can't automatically choose between a constructor and a function with the same name</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Often it is useful to define a function that has the same name as a class, but resides in another package, so this function serves as a "secondary" (or maybe even "tertiary"?) constructor that is defined outside of that class:

apples/Apple.kt
{code lang=kt}
package apples

class Apple(val size: Int)
{code}

appleExtensions/AppleExt.kt
{code lang=kt}
package appleExtensions

import apples.Apple

fun Apple(description: String): Apple =
    Apple(description.length)
{code}

There are two problems:

1. If I want to use *in the third package* either the primary constructor or the "tertiary constructor function", IDEA won't decide on its own which one to import:
appleClients/AppleClient.kt
{code lang=kt}
package appleClients

class AppleClient {
    fun createApples() {
        Apple("hello")
    }
}

{code}
I'll have to {{Alt+Enter}} and pick the right one, which is not only manual, but is also inconvenient because I don't see the argument types in the import dialog, only class names.

I think IDEA should be choosing the "overload" in such case automatically based on the types of the arguments.

2. If I want to use {{apple.Apple}} and {{appleExtensions.Apple}} in the same source file, and I import either one by {{Alt+Enter}}'ing, then I won't be able to import the second one by {{Alt+Enter}}'ing:

{code lang=kt}
package apples.clients

import appleExtensions.Apple

class AppleClient {
   fun createApples() {
        Apple("super big") // This one is imported already
        Apple(5) // This one is not yet imported
    }
}
{code}

In the code above, I will, of course, get a compile time error:
&gt; The integer literal does not conform to the expected type Kotlin.string

and the worst is, the IDE won't suggest me to import the other function. *But* I can type the import statement manually, and it will compile just fine:

{code lang=kt}
package apples.clients

import appleExtensions.Apple
import apples.Apple // I typed this import character by character, it was saddening

class AppleClient {
   fun createApples() {
        Apple("super big")
        Apple(5)
    }
}
{code}
Another thing with this code piece is while I type {{Apple(5)}}, completion won't suggest {{apple.Apple(Int)}} to use, only {{appleExtension.Apple(String)}} (see an attached screenshot).

I'm sure IDEA is perfectly capable of resolving those ambiguities automatically, because if I import everything manually the code will compile.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1449255788963</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041594</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Suseika</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Georgy Vlasov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>5</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0 Beta 2 (2423)</value><valueId>1.0 Beta 2 (2423)</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-275167" url="https://youtrack.jetbrains.com/_persistent/1b2bd5f6f66a6c362f1368cf07a7bf00.png?file=74-275167&amp;c=true">1b2bd5f6f66a6c362f1368cf07a7bf00.png</value></field><comment id="27-1242221" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-10281" deleted="false" text="Even though Kotlin does allow you to create such &quot;tertiary constructor&quot; functions, my experience with them is that they make the code quite a bit more difficult to understand. My personal preference would be not to add any IDE features encouraging people to use such functions.&#xA;&#xA;Creating a function with its own, dedicated name almost always makes the code easier to understand." shownForIssueAuthor="false" created="1449485155936" updated="1449485206371" markdown="false"><replies/></comment><comment id="27-1242313" author="Suseika" authorFullName="Georgy Vlasov" issueId="KT-10281" deleted="false" text="I have tons of cases where this code style helps. &#xA;&#xA;Often the name of an interface is a perfect name for a constructor, but interfaces can't have constructors. Imagine interface {{Polygon}} with a single property {{val points: List&lt;Point&gt;}} and with extension methods/properties to work on those points. An ugly way to construct a {{Polygon}} would be to instantiate a concrete implementation named like {{BasicPolygon}} or {{DefaultPolygon}} or something like that, I've seen that in Java a lot, and those prefixes are unnecessary as hell. If I need a Polygon, I should be able to just call a constructor that is called Polygon.&#xA;&#xA;And I think a similar approach could be followed by naming function {{listOf()}} as just {{List()}}, {{setOf()}} as just {{Set()}} etc.&#xA; &#xA;In my opinion, if a function constructs an object from its components, then that function should be treated as a constructor and have a name that starts with a capital letter and so the name just states what is being returned by that function.&#xA;&#xA;&gt; Creating a function with its own, dedicated name almost always makes the code easier to understand.&#xA;&#xA;That often introduces a lot of redundancy, i.e. the method name is repeating the method parameters and return type. &#xA;&#xA;Imagine class {{Vector2D}} that has {{val x: Double}} and {{val y: Double}}. What if I wanted to create {{Vector2D}}s from magnitude and angle instead, so {{x}} and {{y}} are calculated from those, how would I do that? &#xA;&#xA;Should I add a new constructor to {{Vector2D}}? But I don't need that constructor to be inside {{Vector2D}} declaration to be able to create {{Vector2D}}s from magnitude and angle. I think you'd agree that everything that can be outside of a module (class, file etc) should be outside of it. So this functionality would be better outisde {{Vector2D}} declaration.&#xA;&#xA;Then, how about {{fun vectorFromMagnitudeAndAngle(magnitude: Double, angle: Double)}}? That's bad again, because the function name contains information that is already contained in function parameters.&#xA;&#xA;Why not {{fun Vector(magnitude: Double, angle: Double)}}? The latter is named after what it returns, and it describes itself with parameter names. It is just that: a constructor that is not a part of class declaration, but which does nothing more than assembling an instance after some simple operations on its parameters. It is illogical to give such function any different name. Of course, it could be mixed up with a constructor call. So what? Property names can be mixed up with local variables if there is no {{this}} before property name, but no one's complaining.&#xA;&#xA;So I think this technique is very useful and I would like Kotlin to support it better." shownForIssueAuthor="false" created="1449488678260" updated="1449488972968" markdown="false"><replies/></comment><comment id="27-1242321" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-10281" deleted="false" text="Your example with `Vector` actually illustrates my point perfectly. Imagine you see this somewhere in your code: {{val v = Vector(1, 2)}}&#xA;&#xA;What do those values mean? Are they coordinates, or an angle and a magnitude? You can only tell if you use &quot;Goto declaration&quot; or &quot;Quick documentation&quot; to see where the reference resolves to.&#xA;&#xA;Now, of course, {{vectorFromMagnitudeAndAngle}} is a long and clumsy name for the function. If, instead, you define a method named {{fromPolar}} in the companion object of {{Vector}}, there is no more chance for confusion, and you also get better discoverability through completion.&#xA;&#xA;And if you want to define this function outside of {{Vector}}, you still can do that - Kotlin allows you to define extension functions on a companion object." shownForIssueAuthor="false" created="1449489210496" updated="1449485155742" markdown="false"><replies/></comment><comment id="27-1242587" author="Suseika" authorFullName="Georgy Vlasov" issueId="KT-10281" deleted="false" text="@yole Right, that's a really bad example with Vector, but please don't ignore my other point. I don't see a better way to construct default implementations of interfaces like {{Polygon}} interface I described above." shownForIssueAuthor="false" created="1449494509573" updated="1449488678189" markdown="false"><replies/></comment><comment id="27-1242599" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-10281" deleted="false" text="In my book, a default implementation of the polygon concept is a class called {{Polygon}}." shownForIssueAuthor="false" created="1449494857449" updated="1449489210422" markdown="false"><replies/></comment></issue><issue id="KT-10319" entityId="25-1081570"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10319</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Imports optimizing broke imports if there is an unused import</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin plugin broke imports if I try to optimize not used imports. 

My imports:
{monospace}
import com.xxx.R
import com.xxx.data.api.xxxApiV1
import com.xxx.data.api.xxxApiV2
import com.xxx.data.api.response.BaseResponse
import com.xxx.entities.Feedback
import com.xxx.rest.entity.Item
import com.xxx.rest.entity.Transaction
import com.xxx.rest.entity.User
import com.xxx.test.base.RobolectricTestBase
import com.xxx.test.mocks.ObjectMother
import org.junit.Before
import org.junit.Test
import org.mockito.Mockito
import org.mockito.Mockito.anyInt
import org.mockito.Mockito.anyString
import org.mockito.Mockito.anyBoolean
import org.mockito.Mockito.`when`
import org.mockito.Mockito.eq
import java.util.*
import javax.inject.Inject
import rx.Observable.just
import kotlinx.android.synthetic.main.fragment_new_feedback.*
import org.robolectric.Shadows
{monospace}

run optimize imports and got the result:
{monospace}
com.xxx.data .api.xxxApiV1import com.xxx.data .api.xxxApiV2import com.xxx.data .api.response.BaseResponseimport com.xxx.entities.Feedbackimport com.xxx.rest.entity.Itemimport com.xxx.rest.entity.Transactionimport com.xxx.rest.entity.Userimport com.xxx.test.base.RobolectricTestBaseimport com.xxx.test.mocks.ObjectMotherimport kotlinx.android.synthetic.main.fragment_new_feedback.*import org.junit.Beforeimport org.junit.Testimport org.mockito.Mockitoimport org.mockito.Mockito.*import org.robolectric.Shadowsimport rx.Observable.justimport javax.inject.Inject
{monospace}

Sometimes this works. Probably there is some race-condition</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1449583139562</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041595</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>aneworld</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrius Semionovas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2437</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0</value><value>1.0 Beta Candidate (M15)</value><value>M14</value><value>1.0 Beta (1103)</value><value>1.0 Beta 2 (2423)</value><value>1.0 Beta 3 (3595)</value><value>1.0 Beta 4</value><valueId>1.0</valueId><valueId>1.0 Beta Candidate (M15)</valueId><valueId>M14</valueId><valueId>1.0 Beta (1103)</valueId><valueId>1.0 Beta 2 (2423)</valueId><valueId>1.0 Beta 3 (3595)</valueId><valueId>1.0 Beta 4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1244324" author="aurimas" authorFullName="Aurimas Slapsys" issueId="KT-10319" deleted="false" text="For me, it usually breaks if there are unused imports.&#xA;" shownForIssueAuthor="false" created="1449584473757" markdown="false"><replies/></comment><comment id="27-1244342" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-10319" deleted="false" text="Are there any exceptions reported when that happens?" shownForIssueAuthor="false" created="1449585113006" markdown="false"><replies/></comment><comment id="27-1244457" author="aneworld" authorFullName="Andrius Semionovas" issueId="KT-10319" deleted="false" text="{{Event log}} still empty. Logs probably same. I restart and invalidate cache. Log:&#xA;&#xA;{monospace}&#xA;2015-12-08 17:28:36,228 [      0]   INFO -        #com.intellij.idea.Main - ------------------------------------------------------ IDE STARTED ------------------------------------------------------ &#xA;2015-12-08 17:28:36,279 [     51]   INFO -        #com.intellij.idea.Main - IDE: Android Studio (build #AI-141.2456560, 01 Dec 2015 00:00) &#xA;2015-12-08 17:28:36,279 [     51]   INFO -        #com.intellij.idea.Main - OS: Mac OS X (10.11.1, x86_64) &#xA;2015-12-08 17:28:36,280 [     52]   INFO -        #com.intellij.idea.Main - JRE: 1.8.0_51-b16 (Oracle Corporation) &#xA;2015-12-08 17:28:36,280 [     52]   INFO -        #com.intellij.idea.Main - JVM: 25.51-b03 (Java HotSpot(TM) 64-Bit Server VM) &#xA;2015-12-08 17:28:36,286 [     58]   INFO -        #com.intellij.idea.Main - JVM Args: -Dfile.encoding=UTF-8 -XX:+UseConcMarkSweepGC -XX:SoftRefLRUPolicyMSPerMB=50 -da -Djna.nosys=true -Djna.boot.library.path=  -Djna.debug_load=true -Djna.debug_load.jna=true -Dsun.io.useCanonCaches=false -Djava.net.preferIPv4Stack=true -Xverify:none -Xbootclasspath/a:../lib/boot.jar -Xms256m -Xmx1280m -XX:MaxPermSize=350m -XX:ReservedCodeCacheSize=225m -XX:+UseCompressedOops -Djb.vmOptionsFile=/Applications/Android Studio.app/Contents/bin/studio.vmoptions -Didea.java.redist=NoJavaDistribution -Didea.home.path=/Applications/Android Studio.app/Contents -Didea.executable=studio -Didea.platform.prefix=AndroidStudio -Didea.paths.selector=AndroidStudio1.5 &#xA;2015-12-08 17:28:36,300 [     72]   INFO -        #com.intellij.idea.Main - JNA library loaded (64-bit) in 14 ms &#xA;2015-12-08 17:28:36,307 [     79]   INFO -        #com.intellij.idea.Main - initializing environment &#xA;2015-12-08 17:28:36,309 [     81]   INFO - .intellij.util.EnvironmentUtil - loading shell env: /bin/bash -l -i -c '/Applications/Android Studio.app/Contents/bin/printenv.py' '/private/var/folders/qn/9cyrkx1s5b5dcjmjw63rgrrw0000gn/T/intellij-shell-env0.tmp' &#xA;2015-12-08 17:28:36,473 [    245]   INFO - .intellij.util.EnvironmentUtil - shell environment loaded (29 vars) &#xA;2015-12-08 17:28:37,793 [   1565]   INFO - llij.ide.plugins.PluginManager - 32 plugins initialized in 579 ms &#xA;2015-12-08 17:28:37,794 [   1566]   INFO - llij.ide.plugins.PluginManager - Loaded bundled plugins: Android NDK Support (1.0), Android Support (10.1.5.1), Coverage, EditorConfig (1.0), Git Integration (8.1), GitHub, Google Analytics Uploader (1.0), Gradle, Groovy (9.0), I18n for Java, IDEA CORE, IntelliLang (8.0), JUnit (1.0), Java Bytecode Decompiler (0.1), Maven Integration, Properties Support, SDK Updater (1.0), Task Management (1.0), Terminal (0.1), TestNG-J (8.0) &#xA;2015-12-08 17:28:37,794 [   1566]   INFO - llij.ide.plugins.PluginManager - Loaded custom plugins: JRebel for Android (0.9.44), Kotlin (1.0.0-beta-3595-IJ141-11) &#xA;2015-12-08 17:28:37,794 [   1566]   INFO - llij.ide.plugins.PluginManager - Disabled plugins: CVS Integration (11), Copyright (8.1), Google App Indexing (0.1), Google Cloud Testing (1.0), Google Cloud Tools Core (0.2.8), Google Cloud Tools For Android Studio (0.2.8), Google Login (1.0), Google Services (0.1), Subversion Integration (1.1), hg4idea (10.0) &#xA;2015-12-08 17:28:38,887 [   2659]   INFO - ellij.vfs.persistent.FSRecords - Marking VFS as corrupted &#xA;2015-12-08 17:28:38,888 [   2660]   INFO - ellij.vfs.persistent.FSRecords - Filesystem storage is corrupted or does not exist. [Re]Building. Reason: Corruption marker file found &#xA;2015-12-08 17:28:38,896 [   2668]   INFO - ellij.vfs.persistent.FSRecords - Marking VFS as corrupted &#xA;2015-12-08 17:28:38,897 [   2669]   INFO - ellij.util.io.PagedFileStorage - lower=100; upper=200; buffer=10; max=1276510208 &#xA;2015-12-08 17:28:38,924 [   2696]   INFO - api.vfs.impl.local.FileWatcher - Starting file watcher: /Applications/Android Studio.app/Contents/bin/fsnotifier &#xA;2015-12-08 17:28:38,935 [   2707]   INFO - api.vfs.impl.local.FileWatcher - Native file watcher is operational. &#xA;2015-12-08 17:28:39,175 [   2947]   INFO - .history.utils.LocalHistoryLog - FS has been rebuild, rebuilding local history... &#xA;2015-12-08 17:28:39,418 [   3190]   INFO - lij.diagnostic.DebugLogManager - Set DEBUG for the following categories: [] &#xA;2015-12-08 17:28:39,690 [   3462]   INFO - rains.ide.BuiltInServerManager - built-in server started, port 63342 &#xA;2015-12-08 17:28:40,274 [   4046]   INFO -                  TestNG Runner - Create TestNG Template Configuration &#xA;2015-12-08 17:28:40,312 [   4084]   INFO - ellij.project.impl.ProjectImpl - 21 project components initialized in 246 ms &#xA;2015-12-08 17:28:40,313 [   4085]   INFO - le.impl.ModuleManagerComponent - 0 module(s) loaded in 0 ms &#xA;2015-12-08 17:28:42,199 [   5971]   INFO - pl.stores.ApplicationStoreImpl - 91 application components initialized in 4384 ms &#xA;2015-12-08 17:28:42,216 [   5988]   INFO - .intellij.idea.IdeaApplication - App initialization took 6554 ms &#xA;2015-12-08 17:28:43,189 [   6961]   INFO -                  TestNG Runner - Create TestNG Template Configuration &#xA;2015-12-08 17:28:43,783 [   7555]   INFO - ellij.project.impl.ProjectImpl - 154 project components initialized in 1027 ms &#xA;2015-12-08 17:28:44,120 [   7892]   INFO - le.impl.ModuleManagerComponent - 2 module(s) loaded in 336 ms &#xA;2015-12-08 17:28:48,728 [  12500]   INFO - tartup.impl.StartupManagerImpl - /Users/neworld/projects/vinted/android/.idea/misc.xml case-sensitivity: false &#xA;2015-12-08 17:28:50,457 [  14229]   INFO - tor.impl.FileEditorManagerImpl - Project opening took 7741 ms &#xA;2015-12-08 17:28:53,569 [  17341]   INFO - indexing.UnindexedFilesUpdater - Indexable files iterated in 8137 ms &#xA;2015-12-08 17:28:53,570 [  17342]   INFO - indexing.UnindexedFilesUpdater - Unindexed files update started: 101169 files to update &#xA;2015-12-08 17:29:42,866 [  66638]   INFO - ellij.vfs.persistent.FSRecords - Contents:16384 of 95013058, reuses:258 of 2012874 for 708 &#xA;2015-12-08 17:30:03,478 [  87250]   INFO - ellij.vfs.persistent.FSRecords - Contents:32768 of 207666006, reuses:611 of 2580733 for 1493 &#xA;2015-12-08 17:30:15,128 [  98900]   INFO - indexing.UnindexedFilesUpdater - Unindexed files update done in 81558 ms &#xA;2015-12-08 17:30:15,149 [  98921]   INFO -       #com.jetbrains.cidr.lang - Clearing symbols finished in 0 s. &#xA;2015-12-08 17:30:15,151 [  98923]   INFO -       #com.jetbrains.cidr.lang - Loading symbols finished in 0 s. &#xA;2015-12-08 17:30:15,162 [  98934]   INFO -       #com.jetbrains.cidr.lang - Building symbols finished in 0 s. &#xA;2015-12-08 17:30:15,164 [  98936]   INFO -       #com.jetbrains.cidr.lang - Saving symbols finished in 0 s. &#xA;2015-12-08 17:30:16,611 [ 100383]   INFO - oid.AndroidSdkModuleCustomizer - Setting SDK in the module model: Android API 22 Platform @ /Users/neworld/android/sdk &#xA;2015-12-08 17:30:17,058 [ 100830]   INFO - ls.idea.gradle.GradleSyncState - Skipped sync with Gradle for project 'android'. Data model(s) loaded from cache. &#xA;2015-12-08 17:30:17,287 [ 101059]   INFO - CompilerWorkspaceConfiguration - Available processors: 8 &#xA;2015-12-08 17:30:17,941 [ 101713]   INFO - nject.config.XPathSupportProxy - XPath Support is not available &#xA;2015-12-08 17:30:19,617 [ 103389]   INFO - indexing.UnindexedFilesUpdater - Indexable files iterated in 2342 ms &#xA;2015-12-08 17:30:19,627 [ 103399]   INFO -       #com.jetbrains.cidr.lang - Clearing symbols finished in 0 s. &#xA;2015-12-08 17:30:19,627 [ 103399]   INFO -       #com.jetbrains.cidr.lang - Loading symbols finished in 0 s. &#xA;2015-12-08 17:30:19,629 [ 103401]   INFO -       #com.jetbrains.cidr.lang - Building symbols finished in 0 s. &#xA;2015-12-08 17:30:19,630 [ 103402]   INFO -       #com.jetbrains.cidr.lang - Saving symbols finished in 0 s. &#xA;2015-12-08 17:30:19,784 [ 103556]   INFO - lij.tasks.impl.TaskManagerImpl - Updating issues cache (every 20 min) &#xA;2015-12-08 17:30:23,561 [ 107333]   INFO - attrs.AttributeDefinitionsImpl - Found tag with unknown parent: AndroidManifest.AndroidManifestCompatibleScreens &#xA;2015-12-08 17:30:23,561 [ 107333]   INFO - attrs.AttributeDefinitionsImpl - Found tag with unknown parent: AndroidManifest.AndroidManifestSupportsInput &#xA;2015-12-08 17:30:51,359 [ 135131]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:51,359 [ 135131]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:51,359 [ 135131]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:51,632 [ 135404]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:51,718 [ 135490]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:52,231 [ 136003]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:52,231 [ 136003]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:52,231 [ 136003]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:52,651 [ 136423]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:53,115 [ 136887]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:53,511 [ 137283]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:55,048 [ 138820]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:55,048 [ 138820]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:55,048 [ 138820]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:55,159 [ 138931]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:55,890 [ 139662]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:56,067 [ 139839]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:56,067 [ 139839]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:56,067 [ 139839]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:56,068 [ 139840]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:56,068 [ 139840]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:56,068 [ 139840]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:56,182 [ 139954]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:57,992 [ 141764]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:57,992 [ 141764]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:58,111 [ 141883]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:58,111 [ 141883]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:58,238 [ 142010]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:58,238 [ 142010]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:30:58,663 [ 142435]   INFO - ackerWithProcessCanceledReport - ProcessCancelException was thrown while analyzing libraries. Cache has to be rebuilt. &#xA;2015-12-08 17:31:20,428 [ 164200]   INFO - project.TargetPlatformDetector - Using default platform &#xA;{monospace}" shownForIssueAuthor="false" created="1449588967325" markdown="false"><replies/></comment><comment id="27-1263899" author="aneworld" authorFullName="Andrius Semionovas" issueId="KT-10319" deleted="false" text="Reproduced in beta 4" shownForIssueAuthor="false" created="1450878450684" updated="1449588966387" markdown="false"><replies/></comment></issue><issue id="KT-10343" entityId="25-1082949"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10343</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>No auto-completion for extension functions/properties defined inside objects</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Right now the IDE doesn't auto-complete/suggest extension functions/properties defined like this:

{code:lang=kotlin|title=File1}
object VeryUsefulDelegates {
    val String.something: String
        get() = "Something"

    fun String.delegateString() = lazy { this }
}
{code}

When I try to auto-complete them the IDE just doesn't suggest them on the results:

{code:lang=kotlin|title=File2}
val a = "Hello".somt...
val b by "Bye".delega...
{code}

Kotlin version: 1.0.0-beta-3595</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1449734091036</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216362</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rodrigoquesada</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Rodrigo Quesada</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10467" entityId="25-1090093"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10467</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Do not complete class name in its supertype list</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1450715806657</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216363</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-279369" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202015-12-21%20at%2019.35.01.png?file=74-279369&amp;c=true">Screen Shot 2015-12-21 at 19.35.01.png</value></field></issue><issue id="KT-10617" entityId="25-1097898"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10617</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Reformat code squash synthetic imports and broke code if used layouts with same ID</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have two layouts with same ids and use both of them in single class. Import looks like:
```
import kotlinx.android.synthetic.main.inline_message_input.conversation_message_input_wrapper
import kotlinx.android.synthetic.main.inline_message_input.conversation_input_text_entry
import kotlinx.android.synthetic.main.inline_message_photo_input.*
```

`inline_message_photo_input` already has `conversation_message_input_wrapper` and `conversation_input_text_entry`. But I am using ones from `inline_message_input` layout. Reformat code squash imports into:

```
import kotlinx.android.synthetic.main.inline_message_input.*
import kotlinx.android.synthetic.main.inline_message_photo_input.*
```

and got compile time error about `overload resolution ambiguity`,</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1452520085298</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954519</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>aneworld</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrius Semionovas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0 Beta 4</value><valueId>1.0 Beta 4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><tag cssClass="c32">Android</tag></issue><issue id="KT-10618" entityId="25-1097901"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10618</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Go to declaration" from synthetic import failed to find declaration</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1452520358722</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954519</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>aneworld</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrius Semionovas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0 Beta 4</value><valueId>1.0 Beta 4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-282303" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-282303&amp;c=true">image.png</value></field><tag cssClass="c32">Android</tag></issue><issue id="KT-10874" entityId="25-1104644"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10874</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>AssertionError: Class name must not be root: kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>while indexing Youtrack repo
[2016-01-20 15:37:33,580] ERROR ce shared executor-1                 ndexing.UpsourceFileBasedIndex - Error indexing content for file inlineOptions.kotlin_class in FileTreeId{zip, jA4nyiTcLU9Va4ka8BF4tskAOoY=}
java.lang.AssertionError: Class name must not be root: kotlin
        at org.jetbrains.kotlin.name.ClassId.&lt;init&gt;(ClassId.java:43)
        at org.jetbrains.kotlin.serialization.deserialization.NameResolverImpl.getClassId(NameResolverImpl.kt:38)
        at org.jetbrains.kotlin.idea.decompiler.stubBuilder.ClassClsStubBuilder.&lt;init&gt;(ClassClsStubBuilder.kt:56)
        at org.jetbrains.kotlin.idea.decompiler.stubBuilder.ClassClsStubBuilderKt.createClassStub(ClassClsStubBuilder.kt:43)
        at org.jetbrains.kotlin.idea.decompiler.stubBuilder.ClsStubBuildingKt.createTopLevelClassStub(clsStubBuilding.kt:44)
        at org.jetbrains.kotlin.idea.decompiler.builtIns.KotlinBuiltInStubBuilder.doBuildFileStub(KotlinBuiltInStubBuilder.kt:75)
        at org.jetbrains.kotlin.idea.decompiler.builtIns.KotlinBuiltInStubBuilder.buildFileStub(KotlinBuiltInStubBuilder.kt:49)
        at com.intellij.psi.impl.compiled.ClassFileStubBuilder.buildStubTree(ClassFileStubBuilder.java:58)
        at com.intellij.psi.impl.compiled.ClassFileStubBuilder.buildStubTree(ClassFileStubBuilder.java:38)
        at com.intellij.psi.stubs.StubTreeBuilder.buildStubTree(StubTreeBuilder.java:63)
        at com.jetbrains.upsource.backend.server.psi.indexing.UpsourceStubIndex$LibraryIndexer.lambda$indexLibraryFile$520(UpsourceStubIndex.java:500)
        at com.jetbrains.upsource.backend.server.psi.impl.UpsourceApplication.lambda$runReadAction$669(UpsourceApplication.java:73)
        at com.jetbrains.upsource.backend.server.psi.impl.UpsourceLocksManager.runAction(UpsourceLocksManager.java:307)
        at com.jetbrains.upsource.backend.server.psi.impl.UpsourceLocksManager.runAction(UpsourceLocksManager.java:281)
        at com.jetbrains.upsource.backend.server.psi.impl.UpsourceApplication.runReadAction(UpsourceApplication.java:72)
        at com.jetbrains.upsource.backend.server.psi.indexing.UpsourceStubIndex$LibraryIndexer.indexLibraryFile(UpsourceStubIndex.java:499)
        at com.jetbrains.upsource.backend.server.psi.indexing.UpsourceStubUpdatingIndex.lambda$getIndexer$672(UpsourceStubUpdatingIndex.java:89)
        at com.jetbrains.upsource.backend.server.psi.indexing.UpsourceFileBasedIndex$2.lambda$processFile$638(UpsourceFileBasedIndex.java:695)
        at com.jetbrains.upsource.backend.server.psi.impl.UpsourceApplication.lambda$runReadAction$669(UpsourceApplication.java:73)
        at __.read_lock_zip_jA4nyiTcLU9Va4ka8BF4tskAOoYx.__(JavaGeneratorTemplate.java:52)
        at org.jonnyzzz.stack.NamedStackFrame.frame(NamedStackFrame.java:59)
        at com.jetbrains.upsource.backend.server.psi.impl.UpsourceLocksManager.runAction(UpsourceLocksManager.java:310)
        at com.jetbrains.upsource.backend.server.psi.impl.UpsourceLocksManager.runAction(UpsourceLocksManager.java:281)
        at com.jetbrains.upsource.backend.server.psi.impl.UpsourceApplication.runReadAction(UpsourceApplication.java:72)
        at com.jetbrains.upsource.backend.server.psi.indexing.UpsourceFileBasedIndex$2.processFile(UpsourceFileBasedIndex.java:694)
        at com.jetbrains.upsource.backend.server.psi.indexing.UpsourceFileBasedIndex$3.processFile(UpsourceFileBasedIndex.java:735)
        at com.jetbrains.upsource.backend.server.psi.indexing.UpsourceFileBasedIndex$4.lambda$visitFile$640(UpsourceFileBasedIndex.java:816)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at com.jetbrains.upsource.backend.server.psi.indexing.UpsourceExecutorService$CountingDecorator.lambda$execute$87(UpsourceExecutorService.java:182)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at com.jetbrains.upsource.util.NamedDaemonThreadFactory.lambda$wrapRunnable$4(NamedDaemonThreadFactory.java:34)
        at java.lang.Thread.run(Thread.java:745)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1453296335174</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954483</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ilya.komolkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Komolkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">UP-6118</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1286592" author="nathanwolf" authorFullName="Nathan Wolf" issueId="KT-10874" deleted="false" text="I am getting this error as well- submitted as https://ea.jetbrains.com/browser/ea_reports/1030159 (which I am not allowed to view)&#xA;&#xA;This happens to me when indexing my local Maven repo, which has a Kotlin jar in it. It is causing a constant re-index. I'd love a work-around. Is it possible to disable the Kotlin extensions now that they are built in? I primarily work in Java and this is a little troublesome." shownForIssueAuthor="false" created="1454082036768" markdown="false"><replies/></comment><comment id="27-1286603" author="nathanwolf" authorFullName="Nathan Wolf" issueId="KT-10874" deleted="false" text="Update; I found I was able to disable the Kotlin plugin, which works around the issue (so long as you're not actively using it)" shownForIssueAuthor="false" created="1454082322349" updated="1454082036378" markdown="false"><replies/></comment></issue><issue id="KT-10744" entityId="25-1104848"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10744</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Escape html when sending code to message window</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Type in message has `&lt;S&gt;` type parameter, which seems to be rendered as strike-through.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1453305889049</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954516</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-284524" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-284524&amp;c=true">image.png</value></field></issue><issue id="KT-10816" entityId="25-1108928"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10816</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Highlight usages of element at caret: `super` is resolved to an element, but not highlighted</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Settings / Editor / ... / Highlight usages of element at caret = Yes.
Dummy code:
{code:lang=kotlin}
open class SuperParent {
    open fun up() {}
}
class SuperChild : SuperParent() {
    override fun up() {
        super.up()
    }
} {code}
Put the caret on `super`: all `SuperParent` entries are highlighted, but the `super` itself is not.

Interesting, that in Java support `super` is not resolved to a class, Go to Declaration is rejected.
But in Kotlin support it is resolved.
IDEA 143.1821.5 + Kotlin plugin 1.0.0-dev-95.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1453839417477</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954509</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-3208</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10830" entityId="25-1109774"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10830</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Configure Kotlin in Project: attempt to process all modules with Gradle choice</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. Create a project with a single Gradle module, call Configure Kotlin in Project: get reasonable dialog, and configuration is successful.
2. Same experiment for a single Maven module: success.
3. Same for a single regular (non-Maven, non-Gradle) module: success.

4. Create a project with regular module A, Maven module B, Gradle modules C. Call the same action.
Get the chooser: Maven or Gradle. (With Maven all goes correctly.)
Select Gradle. See that the dialog suggests all modules: A, B, C. Choose "all modules".
Get error messages for A and B:
&gt; Couldn't configure kotlin-gradle plugin automatically.
&gt; Cannot find build.gradle file for module ASee manual installation instructions here
(BTW, absence of a period in the second line.)
IDEA 143.2012 + Kotlin plugin 1.0.0-rc-1010-IJ143-15.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1453927635069</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975938</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-11828</value><value type="Subtask" role="subtask of">KT-2652</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-10907" entityId="25-1114190"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>10907</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDEA doesn't show overrides for "org.jetbrains.kotlin.analyzer.ModuleInfo.friends"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Note that gutter contains "o" icon</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1454520459921</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954508</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-287734" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202016-02-03%20at%2020.26.08.png?file=74-287734&amp;c=true">Screen Shot 2016-02-03 at 20.26.08.png</value></field></issue><issue id="KT-11015" entityId="25-1119840"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11015</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin compiler crash in RC 1050 during gradle and IDE concurrent build</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I got this crash while an IDE build and gradle build were running at same time.  Obviously it probably erased or changed classes being used by one for the other.  But maybe not an exception stack trace crash.  

(user error both running at same time, but just so you have the trace)

```
Error:Kotlin: [Internal Error] org.jetbrains.kotlin.utils.KotlinFrontEndException: Exception while analyzing expression at (70,17) in /Users/jminard/DEV/Collokia/repos/collokia-web-back/rest-api/src/main/kotlin/com/collokia/web/api/App.kt:
AnnotationBusHandler(this)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.logOrThrowException(ExpressionTypingVisitorDispatcher.java:246)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.access$200(ExpressionTypingVisitorDispatcher.java:44)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:216)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:139)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitExpression(ExpressionTypingVisitorForStatements.java:340)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitExpression(ExpressionTypingVisitorForStatements.java:59)
	at org.jetbrains.kotlin.psi.KtVisitor.visitReferenceExpression(KtVisitor.java:190)
	at org.jetbrains.kotlin.psi.KtVisitor.visitCallExpression(KtVisitor.java:266)
	at org.jetbrains.kotlin.psi.KtCallExpression.accept(KtCallExpression.java:35)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:174)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:148)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getBlockReturnedTypeWithWritableScope(ExpressionTypingServices.java:255)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getBlockReturnedType(ExpressionTypingServices.java:175)
	at org.jetbrains.kotlin.types.expressions.FunctionsTypingVisitor.computeUnsafeReturnType(FunctionsTypingVisitor.kt:214)
	at org.jetbrains.kotlin.types.expressions.FunctionsTypingVisitor.computeReturnType(FunctionsTypingVisitor.kt:190)
	at org.jetbrains.kotlin.types.expressions.FunctionsTypingVisitor.visitLambdaExpression(FunctionsTypingVisitor.kt:288)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.visitLambdaExpression(ExpressionTypingVisitorDispatcher.java:255)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$ForDeclarations.visitLambdaExpression(ExpressionTypingVisitorDispatcher.java:51)
	at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:34)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:174)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:139)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getTypeInfo(ExpressionTypingServices.java:102)
	at org.jetbrains.kotlin.resolve.calls.ArgumentTypeResolver.getFunctionLiteralTypeInfo(ArgumentTypeResolver.java:262)
	at org.jetbrains.kotlin.resolve.calls.CallCompleter.completeOneArgument(CallCompleter.kt:291)
	at org.jetbrains.kotlin.resolve.calls.CallCompleter.completeArguments(CallCompleter.kt:258)
	at org.jetbrains.kotlin.resolve.calls.CallCompleter.completeResolvedCallAndArguments(CallCompleter.kt:125)
	at org.jetbrains.kotlin.resolve.calls.CallCompleter.completeCall(CallCompleter.kt:72)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCallOrGetCachedResults(CallResolver.java:544)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.access$200(CallResolver.java:77)
	at org.jetbrains.kotlin.resolve.calls.CallResolver$1.invoke(CallResolver.java:225)
	at org.jetbrains.kotlin.resolve.calls.CallResolver$1.invoke(CallResolver.java:214)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:214)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:202)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.resolveFunctionCall(CallResolver.java:315)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getResolvedCallForFunction(CallExpressionResolver.java:105)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getCallExpressionTypeInfoWithoutFinalTypeCheck(CallExpressionResolver.java:231)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getSelectorReturnTypeInfo(CallExpressionResolver.java:334)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getQualifiedExpressionTypeInfo(CallExpressionResolver.java:460)
	at org.jetbrains.kotlin.types.expressions.BasicExpressionTypingVisitor.visitQualifiedExpression(BasicExpressionTypingVisitor.java:816)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.visitQualifiedExpression(ExpressionTypingVisitorDispatcher.java:376)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$ForBlock.visitQualifiedExpression(ExpressionTypingVisitorDispatcher.java:64)
	at org.jetbrains.kotlin.psi.KtVisitor.visitDotQualifiedExpression(KtVisitor.java:290)
	at org.jetbrains.kotlin.psi.KtDotQualifiedExpression.accept(KtDotQualifiedExpression.java:44)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:174)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:139)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitExpression(ExpressionTypingVisitorForStatements.java:340)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitExpression(ExpressionTypingVisitorForStatements.java:59)
	at org.jetbrains.kotlin.psi.KtVisitor.visitQualifiedExpression(KtVisitor.java:274)
	at org.jetbrains.kotlin.psi.KtVisitor.visitDotQualifiedExpression(KtVisitor.java:290)
	at org.jetbrains.kotlin.psi.KtDotQualifiedExpression.accept(KtDotQualifiedExpression.java:44)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:174)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:148)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getTypeOfLastExpressionInBlock(ExpressionTypingServices.java:292)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getBlockReturnedTypeWithWritableScope(ExpressionTypingServices.java:243)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getBlockReturnedType(ExpressionTypingServices.java:175)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getBlockReturnedType(ExpressionTypingServices.java:153)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitBlockExpression(ExpressionTypingVisitorForStatements.java:383)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorForStatements.visitBlockExpression(ExpressionTypingVisitorForStatements.java:59)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:174)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:164)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:148)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.checkFunctionReturnType(ExpressionTypingServices.java:148)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.checkFunctionReturnType(ExpressionTypingServices.java:132)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveFunctionBody(BodyResolver.java:835)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveFunctionBody(BodyResolver.java:781)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveFunctionBodies(BodyResolver.java:767)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveBehaviorDeclarationBodies(BodyResolver.java:109)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveBodies(BodyResolver.java:231)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations(LazyTopDownAnalyzer.kt:192)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzerForTopLevel.analyzeDeclarations(LazyTopDownAnalyzerForTopLevel.java:74)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzerForTopLevel.analyzeFiles(LazyTopDownAnalyzerForTopLevel.java:66)
	at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.java:145)
	at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegrationWithCustomContext(TopDownAnalyzerFacadeForJVM.java:78)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.analyze(KotlinToJVMBytecodeCompiler.kt:290)
	at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:129)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:283)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:107)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:171)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:49)
	at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:174)
	at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:135)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execAndOutputXml(CLICompiler.java:63)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$remoteIncrementalCompile$1.invoke(CompileServiceImpl.kt:246)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$remoteIncrementalCompile$1.invoke(CompileServiceImpl.kt:69)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$1$1.invoke(CompileServiceImpl.kt:420)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$1$1.invoke(CompileServiceImpl.kt:69)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:453)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$checkedCompile(CompileServiceImpl.kt:69)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$1.invoke(CompileServiceImpl.kt:419)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$1.invoke(CompileServiceImpl.kt:69)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:559)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:524)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:410)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.remoteIncrementalCompile(CompileServiceImpl.kt:243)
	at sun.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:323)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$256(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.RuntimeException: java.io.FileNotFoundException: /Users/jminard/DEV/Collokia/repos/collokia-web-back/recommend/build/classes/main/com/collokia/recommend/AnnotationBusHandler.class (No such file or directory)
	at com.intellij.psi.stubs.CoreStubTreeLoader.readOrBuild(CoreStubTreeLoader.java:54)
	at com.intellij.psi.impl.compiled.ClsFileImpl.getStubTree(ClsFileImpl.java:469)
	at com.intellij.psi.impl.compiled.ClsFileImpl.getStub(ClsFileImpl.java:441)
	at com.intellij.psi.impl.compiled.ClsFileImpl.getClasses(ClsFileImpl.java:176)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl$Companion.findClassInPsiFile(KotlinCliJavaFileManagerImpl.kt:127)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl$Companion.access$findClassInPsiFile(KotlinCliJavaFileManagerImpl.kt:123)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl.findClassGivenPackage(KotlinCliJavaFileManagerImpl.kt:120)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl.access$findClassGivenPackage(KotlinCliJavaFileManagerImpl.kt:36)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl$findClass$1$1.invoke(KotlinCliJavaFileManagerImpl.kt:50)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl$findClass$1$1.invoke(KotlinCliJavaFileManagerImpl.kt:36)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex$findClass$1.invoke(JvmDependenciesIndex.kt:87)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex$findClass$1.invoke(JvmDependenciesIndex.kt:42)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex$doSearch$3.invoke(JvmDependenciesIndex.kt:162)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex.doSearch(JvmDependenciesIndex.kt:189)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex.access$doSearch(JvmDependenciesIndex.kt:42)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex$search$1.invoke(JvmDependenciesIndex.kt:110)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex.search(JvmDependenciesIndex.kt:138)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex.findClass(JvmDependenciesIndex.kt:86)
	at org.jetbrains.kotlin.cli.jvm.compiler.JvmDependenciesIndex.findClass$default(JvmDependenciesIndex.kt:83)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl$findClass$1.invoke(KotlinCliJavaFileManagerImpl.kt:49)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl$findClass$1.invoke(KotlinCliJavaFileManagerImpl.kt:36)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCliJavaFileManagerImpl.findClass(KotlinCliJavaFileManagerImpl.kt:47)
	at org.jetbrains.kotlin.resolve.jvm.KotlinJavaPsiFacade$KotlinPsiElementFinderImpl.findClass(KotlinJavaPsiFacade.java:326)
	at org.jetbrains.kotlin.resolve.jvm.KotlinJavaPsiFacade.findClass(KotlinJavaPsiFacade.java:103)
	at org.jetbrains.kotlin.load.java.JavaClassFinderImpl.findClass(JavaClassFinderImpl.java:89)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaPackageScope$classes$1.invoke(LazyJavaPackageScope.kt:76)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaPackageScope$classes$1.invoke(LazyJavaPackageScope.kt:35)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:394)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaPackageScope.getContributedClassifier(LazyJavaPackageScope.kt:91)
	at org.jetbrains.kotlin.resolve.scopes.ChainedMemberScope.getContributedClassifier(ChainedMemberScope.kt:33)
	at org.jetbrains.kotlin.resolve.scopes.AbstractScopeAdapter.getContributedClassifier(AbstractScopeAdapter.kt:41)
	at org.jetbrains.kotlin.resolve.QualifiedExpressionResolver.collectCandidateDescriptors(QualifiedExpressionResolver.kt:210)
	at org.jetbrains.kotlin.resolve.QualifiedExpressionResolver.processSingleImport(QualifiedExpressionResolver.kt:187)
	at org.jetbrains.kotlin.resolve.QualifiedExpressionResolver.processImportReference(QualifiedExpressionResolver.kt:163)
	at org.jetbrains.kotlin.resolve.lazy.LazyImportResolver$importedScopesProvider$1.invoke(LazyImportScope.kt:84)
	at org.jetbrains.kotlin.resolve.lazy.LazyImportResolver$importedScopesProvider$1.invoke(LazyImportScope.kt:73)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:394)
	at org.jetbrains.kotlin.resolve.lazy.LazyImportResolver.getImportScope(LazyImportScope.kt:161)
	at org.jetbrains.kotlin.resolve.lazy.LazyImportResolver$selectSingleFromImports$1.invoke(LazyImportScope.kt:136)
	at org.jetbrains.kotlin.resolve.lazy.LazyImportResolver$selectSingleFromImports$2.invoke(LazyImportScope.kt:142)
	at org.jetbrains.kotlin.resolve.lazy.LazyImportResolver$selectSingleFromImports$2.invoke(LazyImportScope.kt:73)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.resolve.lazy.LazyImportResolver.selectSingleFromImports(LazyImportScope.kt:142)
	at org.jetbrains.kotlin.resolve.lazy.LazyImportScope.getContributedClassifier(LazyImportScope.kt:187)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerLevelsKt.getContributedFunctionsAndConstructors(TowerLevels.kt:228)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerLevelsKt.access$getContributedFunctionsAndConstructors(TowerLevels.kt:1)
	at org.jetbrains.kotlin.resolve.calls.tower.ScopeBasedTowerLevel.getFunctions(TowerLevels.kt:158)
	at org.jetbrains.kotlin.resolve.calls.tower.ScopeTowerProcessorsKt$createFunctionProcessor$1.invoke(ScopeTowerProcessors.kt:141)
	at org.jetbrains.kotlin.resolve.calls.tower.ScopeTowerProcessorsKt$createFunctionProcessor$1.invoke(ScopeTowerProcessors.kt)
	at org.jetbrains.kotlin.resolve.calls.tower.NoExplicitReceiverScopeTowerProcessor.simpleProcess(ScopeTowerProcessors.kt:103)
	at org.jetbrains.kotlin.resolve.calls.tower.AbstractSimpleScopeTowerProcessor.process(ScopeTowerProcessors.kt:48)
	at org.jetbrains.kotlin.resolve.calls.tower.CompositeScopeTowerProcessor.process(ScopeTowerProcessors.kt:38)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.run(TowerResolver.kt:174)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.runResolve$kotlin_compiler(TowerResolver.kt:69)
	at org.jetbrains.kotlin.resolve.calls.tower.NewResolveOldInference.runResolve(NewResolveOldInference.kt:96)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCall(CallResolver.java:615)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCallOrGetCachedResults(CallResolver.java:532)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.access$200(CallResolver.java:77)
	at org.jetbrains.kotlin.resolve.calls.CallResolver$1.invoke(CallResolver.java:225)
	at org.jetbrains.kotlin.resolve.calls.CallResolver$1.invoke(CallResolver.java:214)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:92)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:214)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:202)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.resolveFunctionCall(CallResolver.java:315)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getResolvedCallForFunction(CallExpressionResolver.java:105)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getCallExpressionTypeInfoWithoutFinalTypeCheck(CallExpressionResolver.java:231)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getCallExpressionTypeInfo(CallExpressionResolver.java:208)
	at org.jetbrains.kotlin.types.expressions.BasicExpressionTypingVisitor.visitCallExpression(BasicExpressionTypingVisitor.java:822)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.visitCallExpression(ExpressionTypingVisitorDispatcher.java:381)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$ForBlock.visitCallExpression(ExpressionTypingVisitorDispatcher.java:64)
	at org.jetbrains.kotlin.psi.KtCallExpression.accept(KtCallExpression.java:35)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$1.invoke(ExpressionTypingVisitorDispatcher.java:174)
	... 127 more
Caused by: java.io.FileNotFoundException: /Users/jminard/DEV/Collokia/repos/collokia-web-back/recommend/build/classes/main/com/collokia/recommend/AnnotationBusHandler.class (No such file or directory)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)
	at com.intellij.openapi.util.io.FileUtil.loadFileBytes(FileUtil.java:219)
	at com.intellij.openapi.vfs.local.CoreLocalVirtualFile.contentsToByteArray(CoreLocalVirtualFile.java:115)
	at com.intellij.psi.stubs.CoreStubTreeLoader.readOrBuild(CoreStubTreeLoader.java:46)
	... 199 more
```

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1455202615538</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954479</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jayson.minard</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jayson Minard</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2652</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Tools. Gradle</value><valueId>IDE</valueId><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-11122" entityId="25-1126793"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11122</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Improve targeted annotation target completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Given code
```kotlin
class Test(val a: String,
           @&lt;caret&gt;field:kotlin.Suppress("X") val b: String) {
    val x = true
    val y = false
}
```
Invoking 'Basic Completion', then 'Choose Lookup Item' produces incorrect code. I'd suggest to force 'Choose Lookup Item with Replace' here.
Also parser fails to recover if annotation have string value, see screenshot.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1455829509295</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216365</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Vladislav.Rassokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladislav Rassokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0</value><valueId>1.0</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-291577" url="https://youtrack.jetbrains.com/_persistent/kotlin%20targeted%20annotation%20parser%20failure.png?file=74-291577&amp;c=true">kotlin targeted annotation parser failure.png</value></field></issue><issue id="KT-11124" entityId="25-1126818"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11124</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Non-equivalent replacement by lambda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Let's consider following code
{code}
disposable = object: Disposable {
  override fun dispose() {
  }
}
{code}
"disposable" is mutable property. The IDE suggests to replace it with this code:
{code}
disposable = Disposable {}
{code}
However, in the first code a new object is created each time, but in the second one the property is always assigned to the same object.
BTW, I'm not sure if it is correct behaviour or not, so I'm not sure if it is an IDE bug.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1455833935809</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954490</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Eugene.Kudelevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Kudelevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1305882" author="asedunov" authorFullName="Alexey Sedunov" issueId="KT-11124" deleted="false" text="In fact, ```Disposable {}``` also creates a new object which is derived from Disposable and delegates to the lambda, so both assignments basically do the same" shownForIssueAuthor="false" created="1455894786446" updated="1455894833373" markdown="false"><replies/></comment><comment id="27-1305890" author="ilya.gorbunov" authorFullName="Ilya Gorbunov" issueId="KT-11124" deleted="false" text="Here you can read more about SAM-conversions: https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions" shownForIssueAuthor="false" created="1455895003933" markdown="false"><replies/></comment><comment id="27-1306016" author="udalov" authorFullName="Alexander Udalov" issueId="KT-11124" deleted="false" text="@asedunov In fact `Disposable {}` does not create a new object each time, it loads a static instance, exactly as OP has stated in the issue. The question if it's a misfeature of the compiler or a bug in the IDE, or both, remains open." shownForIssueAuthor="false" created="1455901333463" markdown="false"><replies/></comment></issue><issue id="KT-11143" entityId="25-1128280"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11143</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Do not insert closing brace for string template between open brace and identifier</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
val value = 42
val text = "result = &lt;caret&gt;value"
```

Type `${`, expected result:
```
"result = ${value"
```
Actual result:
```
"result = ${}value"
```
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1455966393515</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954334</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>13</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-5728</value><value type="Subtask" role="subtask of">KT-2446</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field><comment id="27-1356897" author="yarulan" authorFullName="Yaroslav Ulanovych" issueId="KT-11143" deleted="false" text="Hi, can I fix this issue?" shownForIssueAuthor="false" created="1458308625241" markdown="false"><replies/></comment><comment id="27-1356902" author="orangy" authorFullName="Ilya Ryzhenkov" issueId="KT-11143" deleted="false" text="I think expected result should be&#xA;```&#xA;&quot;result = ${value}&quot;&#xA;```" shownForIssueAuthor="false" created="1458308732527" markdown="false"><replies/></comment><comment id="27-1356913" author="udalov" authorFullName="Alexander Udalov" issueId="KT-11143" deleted="false" text="@orangy I cannot agree: if you intended to type something ''before'' `value`, then you'd need to go to the right and delete that brace" shownForIssueAuthor="false" created="1458308885476" markdown="false"><replies/></comment><comment id="27-1356928" author="orangy" authorFullName="Ilya Ryzhenkov" issueId="KT-11143" deleted="false" text="@udalov Indeed, you are right." shownForIssueAuthor="false" created="1458309001459" updated="1458308732442" markdown="false"><replies/></comment><comment id="27-1357056" author="udalov" authorFullName="Alexander Udalov" issueId="KT-11143" deleted="false" text="@yarulan Sure, go ahead, no one is working on it right now. Good luck!" shownForIssueAuthor="false" created="1458310002560" updated="1458308885403" markdown="false"><replies/></comment><comment id="27-1357108" author="yarulan" authorFullName="Yaroslav Ulanovych" issueId="KT-11143" deleted="false" text="@udalov Ok, thanks!" shownForIssueAuthor="false" created="1458310642155" updated="1458308624962" markdown="false"><replies/></comment><comment id="27-1357796" author="yarulan" authorFullName="Yaroslav Ulanovych" issueId="KT-11143" deleted="false" text="Pull request https://github.com/JetBrains/kotlin/pull/835" shownForIssueAuthor="false" created="1458322600120" updated="1458310642089" markdown="false"><replies/></comment><comment id="27-1441832" author="yarulan" authorFullName="Yaroslav Ulanovych" issueId="KT-11143" deleted="false" text="Can anyone take a look?" shownForIssueAuthor="false" created="1463754129060" updated="1458322600068" markdown="false"><replies/></comment><comment id="27-1995082" author="Daniil.Vodopian" authorFullName="Daniil Vodopian" issueId="KT-11143" deleted="false" text="Guys, this bug is freaking me out. Can someone take a look at the PR? The work has already been done, just check it!" shownForIssueAuthor="false" created="1489345764198" markdown="false"><replies/></comment><comment id="27-1995237" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-11143" deleted="false" text="I've checked the PR and I'm unconvinced that this behavior is actually a bug. Why do you know that the user's intention is to turn `value` into a variable and not to enter a new variable that goes before `value` which remains a static text?" shownForIssueAuthor="false" created="1489354514679" updated="1489354527426" markdown="false"><replies/></comment><comment id="27-1995239" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-11143" deleted="false" text="Moreover: if you do want to print the value of `value`, you don't actually need the curly braces, so if you do type a curly brace, you clearly want something different." shownForIssueAuthor="false" created="1489354746983" updated="1489354514667" markdown="false"><replies/></comment><comment id="27-1995438" author="Daniil.Vodopian" authorFullName="Daniil Vodopian" issueId="KT-11143" deleted="false" text="When I encounter this behaviour, it is usually that I print a variable &quot;$list&quot;, but then need I to print a method of this variable &quot;${list.size}&quot;. To do that I start by typing `{`, and then I have to delete the wrong `}`. I would much prefer having to type the closing brace myself in controversial situations than being annoyed by this bug. " shownForIssueAuthor="false" created="1489376143305" updated="1489345764185" markdown="false"><replies/></comment><comment id="27-1995578" author="kirill.rakhman" authorFullName="Kirill Rakhman" issueId="KT-11143" deleted="false" text="When you type `&quot;$list.&lt;caret&gt;`, the autocompletion popup will appear and when you select an entry, the curly braces will be inserted automatically. " shownForIssueAuthor="false" created="1489388257476" markdown="false"><replies/></comment><tag cssClass="c18">Up For Grabs</tag></issue><issue id="KT-11232" entityId="25-1135592"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11232</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Icons of compiled Kotlin files are ugly because lock icon overlaps K icon</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1456754334484</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975940</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SprintField" name="sprint"><value id="Kotlin-old:No Target versions">No Target versions</value></field></issue><issue id="KT-11378" entityId="25-1148323"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11378</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Prefer anonymous class completion to keyword completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>If I type `obj` and hit `Ctrl+Space` then the first suggestion is a simple keyword completion `obj -&gt; object`. Anonymous class completion (`obj -&gt; object : Class { }`) is present in the completion list, but only at the last position. 

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1457700806630</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216366</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>aleksey.kladov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksey Kladov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-296653" url="https://youtrack.jetbrains.com/_persistent/obj_completion.png?file=74-296653&amp;c=true">obj_completion.png</value></field></issue><issue id="KT-11583" entityId="25-1161079"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11583</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Compiler Daemon tests use dist classes </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Compiler Daemon tests use dist classes but should use out/production/daemon, at least in IDEA to avoid possible confusion 

```
val daemonClientClassPath =
  listOf( File(KotlinIntegrationTestBase.getCompilerLib(), "kotlin-daemon-client.jar"),
    File(KotlinIntegrationTestBase.getCompilerLib(), "kotlin-compiler.jar"))
```

`getCompilerLib()` points to `dist`
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1458744840036</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535381094986</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Vyacheslav.Gerasimov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Vyacheslav Gerasimov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Mashkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Chernikov">ilya.chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Infrastructure</value><valueId>Infrastructure</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-11591" entityId="25-1161529"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11591</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Parameter Info on dynamic call shows empty tooltip</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
fun test(dyn: dynamic) {
    dyn.foo(&lt;caret&gt;1, 2)
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1458754787853</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041600</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-300318" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202016-03-23%20at%2020.37.33.png?file=74-300318&amp;c=true">Screen Shot 2016-03-23 at 20.37.33.png</value></field></issue><issue id="KT-11592" entityId="25-1161535"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11592</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Parameter info is available in too wide "scope"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Example:
```
fun foo(f: () -&gt; Unit) {}

fun test() {
    foo({
       println()
        
        if (true) &lt;caret&gt; {}
    })
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1458755252353</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041601</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-300319" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202016-03-23%20at%2020.42.14.png?file=74-300319&amp;c=true">Screen Shot 2016-03-23 at 20.42.14.png</value></field></issue><issue id="KT-11623" entityId="25-1164204"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11623</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>New Module wizard: Kotlin page: "Create" does not open the dialog</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>New Project wizard. Select Java module type, select Kotlin (Java) in "Additional Libraries".
Press Create: get the dialog to create a library. Ok to create.
You may try Create again: get the dialog again. Expected.
Finish creating the project. Get it with created Kotlin project library.

Here call New Module wizard. Select Java module type, select Kotlin (Java) in "Additional Libraries".
Press Create: get no dialog. New entry appears in the combobox immediately.

That's the issue.
If user has no more option (i.e. required library already exists) then why "Create" enabled?
Otherwise why no dialog?
IDEA 145.258.11 + Kotlin plugin 1.0.2-dev-825.
IDEA 146.828 + Kotlin plugin 1.0.2-dev-825.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1458926378984</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975935</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-11624" entityId="25-1164214"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11624</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>New Module wizard: Kotlin page: new library is suggested to create for every new module</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>New Project wizard. Select Java module type and Kotlin (Java) in "Additional Libraries".
Do not edit Kotlin library. Finish to create the project with default settings.

In the project call New Module wizard. Select the same: Java, Kotlin inside.
See that new library "KotlinJavaRuntime (2)" is suggested to create.
Do not edit. Finish to create the module with default settings.

Check the project structure: 2 libraries are really created, but their settings are identical. Why two then?
IDEA 145.258.11 + Kotlin plugin 1.0.2-dev-825.
IDEA 146.828 + Kotlin plugin 1.0.2-dev-825.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1458926966152</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975936</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-11654" entityId="25-1165978"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11654</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>New Project wizard: paths in Configure dialog does not correspond to the choice in Create dialog</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>New Project wizard.
Select Java module to create, Kotlin (Java) in Additional Libraries.
Below in Kotlin library panel press Create. Select the option "Copy to", Ok. New library entry is created in the combo box.
Press Configure. Check jars paths. They are not for "Copy", but for "Use from plugin".
IDEA 145.710 + Kotlin plugin 1.0.2-dev-920.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1459187294214</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975868</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1914705" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-11654" deleted="false" text="1.1.0-rc-69.&#xA;&#xA;NB: in specified case, when user does not change anything, the project is actually created with &quot;use from plugin&quot; settings." shownForIssueAuthor="false" created="1487085923554" markdown="false"><replies/></comment></issue><issue id="KT-11746" entityId="25-1171394"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11746</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>The IDE eats memory too actively</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See uploaded IntelliJIdea2016.2-2016-04-02.snapshot</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1459591996574</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975924</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Eugene.Kudelevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Kudelevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1386213" author="goodwinnk" authorFullName="Nikolay Krasko" issueId="KT-11746" deleted="false" text="Please check the presence of snapshot file and attachment visibility options. Nothing is attached to the issue right now." shownForIssueAuthor="false" created="1459787337681" markdown="false"><replies/></comment><comment id="27-1386558" author="Eugene.Kudelevsky" authorFullName="Eugene Kudelevsky" issueId="KT-11746" deleted="false" text="The snapshot cannot be attached to the issue because of its size (more than 10Mb). I've uploaded it through http://uploads.jetbrains.com/ and now it is here: ftp://ftp.intellij.net/.uploads/" shownForIssueAuthor="false" created="1459801276466" markdown="false"><replies/></comment></issue><issue id="KT-11812" entityId="25-1175078"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11812</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Intermittent "Uncompilable Source Code - Cannot Find Symbol" during unit tests in maven build</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I'm currently working on a web project, and just introduced Kotlin into the codebase. Since I've done so, some of my co-workers that use Netbeans to develop have started to see an issue with running unit tests (not building, which apparently runs fine) causing the RuntimeException mentioned in the title, looking like this:

Caused by: java.lang.RuntimeException: Uncompilable source code - cannot find symbol
  symbol:   class FooService
  location: package com.foo.bar.trigger
    at com.foo.bar.other.BarService.&lt;clinit&gt;(BarService.java:81)
    ... 82 more 

where FooService is Kotlin, and BarService is Java. Myself and the last co-worker have not seen this issue. I use IntelliJ, and the other co-worker uses vim. It is reported by my co-workers that doing a clean build makes this go away, at least for a while. Nobody has been able to figure out a consistent way of reproducing this, it seemingly happens randomly. The maven configuration for compiling the Kotlin code is basically copy-pasted from the Kotlin website, so it isn't doing anything odd. The Kotlin compilation step does happen before the Java compilation step. This has been happening for versions: 1.0, 1.0.1, and 1.0.1-1

FooService is in the "middle" of other Java classes: Java classes depend upon using it, and it depends upon using Java classes. The only other Kotlin code is at the "top" of other Java classes: it purely depends upon other Java classes. Struts is the only thing that calls into it. (it's a FooBarAction)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1459960409024</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1523122168749</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>freezerburnv</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vincent Kuyatt</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Problem</value><valueId>Problem</valueId><color><bg>#fce5f1</bg><fg>#dc5766</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Mashkov">cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools</value><valueId>Tools</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.1</value><valueId>1.0.1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1395956" author="cy6erGn0m" authorFullName="Sergey Mashkov" issueId="KT-11812" deleted="false" text="isn't it pure netbeans issue? http://stackoverflow.com/questions/4386076/uncompilable-source-code-runtimeexception-in-netbeans &#xA;&#xA;http://stackoverflow.com/questions/2333285/java-lang-runtimeexception-uncompilable-source-code-what-can-cause-this&#xA;&#xA;perhaps NetBeans doesn't run kotlin compiler at all?" shownForIssueAuthor="false" created="1460135350338" markdown="false"><replies/></comment><comment id="27-1395988" author="cy6erGn0m" authorFullName="Sergey Mashkov" issueId="KT-11812" deleted="false" text="It looks like Netbrans compiles java code itself somehow. In spite of the fact that there are compiled kotlin's class files, Netbeans won't see them and generates stub code that throws error `RuntimeException: Uncompilable source code`" shownForIssueAuthor="false" created="1460136273804" updated="1460136778902" markdown="false"><replies/></comment><comment id="27-1396036" author="cy6erGn0m" authorFullName="Sergey Mashkov" issueId="KT-11812" deleted="false" text="For me it only happens if I click &quot;test file&quot; (file's context menu) but doesn't happen if I use &quot;test project&quot; (project's menu or main menu). The difference is that &quot;test file&quot; runs compiler via embedded javac but &quot;test project&quot; runs maven compile and test so it works well" shownForIssueAuthor="false" created="1460138637166" updated="1460136362755" markdown="false"><replies/></comment><comment id="27-1396050" author="cy6erGn0m" authorFullName="Sergey Mashkov" issueId="KT-11812" deleted="false" text="https://netbeans.org/bugzilla/show_bug.cgi?id=258734" shownForIssueAuthor="false" created="1460139810196" updated="1460138637103" markdown="false"><replies/></comment><comment id="27-1399056" author="freezerburnv" authorFullName="Vincent Kuyatt" issueId="KT-11812" deleted="false" text="My co-workers have turned off &quot;Compile On Save&quot;, and the issue seems to have gone away. Netbeans generating bad code does seem to be the issue here." shownForIssueAuthor="false" created="1460386115324" markdown="false"><replies/></comment><comment id="27-1399367" author="cy6erGn0m" authorFullName="Sergey Mashkov" issueId="KT-11812" deleted="false" text="@freezerburnv thank you for the workaround. Will keep it until netbeans plugin will be available" shownForIssueAuthor="false" created="1460394915495" updated="1460139810150" markdown="false"><replies/></comment></issue><issue id="KT-11832" entityId="25-1176887"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11832</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Configure Kotlin in Project: Gradle: can't configure child module when parent is done</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In IDEA create new Gradle project with Java and without Kotlin.
In the project call Configure Kotlin, get updated build.gradle and updated project.

Create Gradle sub-module (child project in Gradle terms), again without Kotlin.
In its source directory (src/main/java by default) create .kt source, get "Kotlin not configured" warning.

Try Configure quick fix link from the editor. Check the dialog: its modules combo box is empty. Problem 1.
Try main menu / Tools / Kotlin / Configure Kotlin in Project. Reply: "All modules with Kotlin files are configured." Problem 2.
It's an obvious inconsistency at least.

NB: running gradle "build" for the project shows Kotlin tasks (like `compileKotlin`) for parent module, but not for child one.
NB: no this problem when parent module has no configured Kotlin yet.

145.884 + 1.0.2-eap-27.
146.1093 + 1.0.3-dev-257.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1460069481050</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954447</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-11843" entityId="25-1178263"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11843</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Configure Kotlin in Project: failure for Gradle modules with non-standard name for build script file</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider Gradle-based project with non-default name for build file.
E.g. create a Gradle project, rename `build.gradle` to `custom.gradle`, and update `settings.gradle`:
`rootProject.rootProject.buildFileName = 'custom.gradle'`
Import to IDEA. IDEA pick this up.

Apply Configure Kotlin in Project to such module: it fails:
&gt; Couldn't configure kotlin-gradle plugin automatically. Cannot find build.gradle file...
IDEA 146.1130 + Kotlin plugin 1.0.3-dev-306.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1460144582000</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522846628882</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-11828</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Igushkin">h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Gradle</value><valueId>IDE. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1396165" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-11843" deleted="false" text="Related, but different to KT-11828.&#xA;Here IDE should correctly pick proper build script file.&#xA;There IDE should filter fake &quot;gradle&quot; modules out." shownForIssueAuthor="false" created="1460144661389" markdown="false"><replies/></comment><comment id="27-2126305" author="agomez" authorFullName="Alejandro Gomez" issueId="KT-11843" deleted="false" text="also fails if gradle build file is written in kotlin even though is specified in settings.gradle as&#xA;rootProject.buildFileName = 'build.gradle.kts'&#xA;" shownForIssueAuthor="false" created="1493144078001" markdown="false"><replies/></comment><comment id="27-2126421" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-11843" deleted="false" text="Support for GSK in &quot;Configure Kotlin&quot; is a separate issue: KT-14965" shownForIssueAuthor="false" created="1493147801417" markdown="false"><replies/></comment><comment id="27-2126427" author="agomez" authorFullName="Alejandro Gomez" issueId="KT-11843" deleted="false" text="@yole thanks for pointing it out, i'll keep an eye on it" shownForIssueAuthor="false" created="1493148044533" updated="1493144077987" markdown="false"><replies/></comment><comment id="27-2243328" author="cfieber" authorFullName="Cameron Fieber" issueId="KT-11843" deleted="false" text="Customizing the project buildFileName is a fairly common practice in gradle builds, typically we have the file name = the module name in `settings.gradle`:&#xA;&#xA;{code:lang=groovy}&#xA;def setBuildFile(project) {&#xA;  project.buildFileName = &quot;${project.name}.gradle&quot;&#xA;  project.children.each {&#xA;    setBuildFile(it)&#xA;  }&#xA;}&#xA;&#xA;rootProject.children.each {&#xA;  setBuildFile it&#xA;}&#xA;{code}&#xA;&#xA;" shownForIssueAuthor="false" created="1497629443865" updated="1497629494739" markdown="false"><replies/></comment><comment id="27-2769784" author="megamiun" authorFullName="Gabryel Monteiro" issueId="KT-11843" deleted="false" text="Hello, just confirming before starting, this is responsability of [KotlinWithGradleConfigurator](https://github.com/JetBrains/kotlin/blob/48f2fd8607b5504fba70af1e9155d6c70f3d4ea8/idea/idea-gradle/src/org/jetbrains/kotlin/idea/configuration/KotlinWithGradleConfigurator.kt), no?&#xA;&#xA;I'm interested in trying to solve this bug.&#xA;" shownForIssueAuthor="false" created="1521751062438" markdown="true"><replies/></comment></issue><issue id="KT-11947" entityId="25-1185422"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11947</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Companion object appears twice in Java Code completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
// BaseDateJava.java
public class BaseDateJava {

    public static void main(String[] args) {
        BaseDate.Companion.now();
    }
}
{code}

!companion.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1460878715661</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216379</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>dittert</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dirk Dittert</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.1</value><valueId>1.0.1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-306987" url="https://youtrack.jetbrains.com/_persistent/companion.png?file=74-306987&amp;c=true">companion.png</value></field><comment id="27-1410381" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-11947" deleted="false" text="Technically the completion is correct (there is a field named &quot;Companion&quot; and a nested class named &quot;Companion&quot;) but this may be confusing." shownForIssueAuthor="false" created="1460983679602" markdown="false"><replies/></comment></issue><issue id="KT-11950" entityId="25-1185811"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>11950</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Don't prioritize zero-argument overloads in auto completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Taken from Slack:

Maybe this is a bit subjective, but I don't like having overloads without parameters at the top of the completion list. More often than not they alter the tab/enter behavior to work against my intent. Examples:

# When I type `println` and select the overload without arguments, it places the caret outside the paranthesis. However, I actually wanted to print something, not an empty line.
# When I type `listOf` and select the overload without arguments, it adds the angled brackets for the generic type parameters and places the caret inside them. However, I actually wanted to to have a list of some items where the generic type parameter could have been inferred.

This has bugged me for a while but only now I realized that this behavior is caused because in the completion list, the zero-argument overload is always on top. What would speak against placing zero-argument overloads at the bottom instead of at the top?</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1460972441016</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216381</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kirill.rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Problem</value><valueId>Problem</valueId><color><bg>#fce5f1</bg><fg>#dc5766</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12028" entityId="25-1190287"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12028</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Use static import if possible"  checkbox does not work for Kotlin live templates</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Live Template
{code}
org.assertj.core.api.Assertions.assertThat($ACTUAL$).$END$
{code}
Check *Use static import if possible* (which probably should not be called like that for Kotlin because the intention action is called *Add import for ...*)

Using this live template does not generate an import for the static symbol. It is always qualified by the containing class.

*Inserted code:*
{code}
import org.assertj.core.api.Assertions
import org.junit.Test

class AssertJTest {

    @Test fun insertedCode() {
        Assertions.assertThat().
    }
}
{code}

*Expected code:*
{code}
import org.assertj.core.api.Assertions.assertThat
import org.junit.Test

class AssertJTest {

    @Test fun insertedCode() {
        assertThat().
    }
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1461395309597</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975934</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>dittert</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dirk Dittert</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">IDEA-155205</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.2</value><valueId>1.0.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12087" entityId="25-1191891"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12087</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong qualifier when import nested class from object which name matches to the name of containing package</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
package foo //or foo.aaa

object foo {
    class Class
}
```

```kotlin
package test

import foo.foo

fun test() {
    &lt;caret&gt;Class()
}
```

After apply suggested import:

```kotlin
package test

import foo.foo

fun test() {
    foo.foo.Class() // wrong qualifier
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1461673477315</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041603</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-2970</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1420079" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-12087" deleted="false" text="Well, this can be solved only when we introduce syntax for fq-names starting from the root (&quot;package.&quot; or something)." shownForIssueAuthor="false" created="1461748591281" markdown="false"><replies/></comment><comment id="27-1420777" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12087" deleted="false" text="Why? `foo.Class()` works for me." shownForIssueAuthor="false" created="1461771139404" markdown="false"><replies/></comment><comment id="27-1420986" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-12087" deleted="false" text="@Zalim.Bashorov Because the intentions at first inserts it as fully-qualified name &quot;foo.foo.XXX&quot; and then tries to shorten it (using ShortenReferences). But the fully qualified name is not resolved in this context because of &quot;import foo.foo&quot;. If we would be able to generate fq-name like this: &quot;package.foo.foo.XXX&quot; then it worked." shownForIssueAuthor="false" created="1461784574996" updated="1461748591246" markdown="false"><replies/></comment></issue><issue id="KT-12146" entityId="25-1194156"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12146</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion for annotations does not filter them by Target</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1461917663306</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216382</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1423257" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-12146" deleted="false" text="1. User can start writing a new declaration and the declaration ahead is not the target.&#xA;2. User can have its own declaration and will fix the target for it later.&#xA;3. User can be surprised to not see some annotation in the list and have no explanation." shownForIssueAuthor="false" created="1461946389084" markdown="false"><replies/></comment><comment id="27-1423266" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-12146" deleted="false" text="Alternatively we could make annotation classes with wrong target lower priority and even gray them." shownForIssueAuthor="false" created="1461946488532" updated="1461946389051" markdown="false"><replies/></comment></issue><issue id="KT-12203" entityId="25-1197537"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12203</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>No smart completion for "toTypedArray" when array of more general type expected</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
fun foo(): Array&lt;Any&gt; {
    return listOf("a").&lt;caret&gt;
}
{code}

No smart completion.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1462439933552</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216383</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>valentin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Valentin Kipiatkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12210" entityId="25-1197869"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12210</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Choose sources" for library file adds two entries for the specified source root</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Get a library produced from Kotlin code without sources.
Tested: automatically configured KotlinJavaRuntime with manually removed kotlin-runtime-sources.jar.
Open a class from it in the editor, get decompiled stub.
Do Choose Sources, select the jar with sources.
Check the library definition: the source root is added twice.

IDEA 145.1328 + Kotlin plugin 1.0.2-dev-76.
IDEA 146.1669 + Kotlin plugin 1.0.3-dev-690.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1462463315897</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975921</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1515413" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-12210" deleted="false" text="Couldn't reproduce this as described. Do you still see this with recent IDEA and Kotlin versions?" shownForIssueAuthor="false" created="1468417153418" markdown="false"><replies/></comment><comment id="27-1515724" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-12210" deleted="false" text="IDEA 163.1436 + Kotlin plugin 1.1.0-dev-1719: reproduced.&#xA;&#xA;Got KotlinJavaRuntime library:&#xA;{code:lang=xml}&#xA;&lt;component name=&quot;libraryTable&quot;&gt;&#xA;  &lt;library name=&quot;KotlinJavaRuntime&quot;&gt;&#xA;    &lt;CLASSES&gt;&#xA;      &lt;root url=&quot;jar://$KOTLIN_BUNDLED$/lib/kotlin-runtime.jar!/&quot; /&gt;&#xA;      &lt;root url=&quot;jar://$KOTLIN_BUNDLED$/lib/kotlin-reflect.jar!/&quot; /&gt;&#xA;      &lt;root url=&quot;jar://$KOTLIN_BUNDLED$/lib/kotlin-test.jar!/&quot; /&gt;&#xA;    &lt;/CLASSES&gt;&#xA;    &lt;JAVADOC /&gt;&#xA;    &lt;SOURCES&gt;&#xA;      &lt;root url=&quot;jar://$KOTLIN_BUNDLED$/lib/kotlin-runtime-sources.jar!/&quot; /&gt;&#xA;    &lt;/SOURCES&gt;&#xA;  &lt;/library&gt;&#xA;&lt;/component&gt; {code}&#xA;&#xA;Removed `kotlin-runtime-sources.jar`.&#xA;Opened kotlin/Function interface, get decompiled stub.&#xA;Add sources, select `kotlin-runtime-sources.jar` back: it's added two times." shownForIssueAuthor="false" created="1468423784362" markdown="false"><replies/></comment></issue><issue id="KT-12219" entityId="25-1198219"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12219</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>After switching from EAP to Release channel in plugin updates dialog, "Check for Updates" should downgrade to the latest stable version</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Now it says that I already have the latest version.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1462534130558</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975413</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>peter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Peter Gromov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>5</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-13294</value><value type="Duplicate" role="is duplicated by">KT-23018</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-349732" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-349732&amp;c=true">image.png</value></field><comment id="27-1643245" author="ilya.gorbunov" authorFullName="Ilya Gorbunov" issueId="KT-12219" deleted="false" text="Also, when plugin repository with bootstrap kotlin is engaged, only bootstrap versions are suggested, no matter what channel you have selected. I think, only the selected channel should be checked for updates when &quot;Check for updates now&quot; is invoked.&#xA;&#xA;!image.png!" shownForIssueAuthor="false" created="1475866474501" markdown="false"><replies/></comment></issue><issue id="KT-12306" entityId="25-1202853"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12306</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Parameter info inside square brackets should show info for "get" method, but shows for "assertEquals"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
            val a = arrayOf(1,2)
            assertEquals(0, a[0])
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1463145666639</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041603</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12444" entityId="25-1208643"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12444</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion does not suggest `super` in string template</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Dummy Kotlin, `|` is the caret:
{code:lang=kotlin}
open class SpecRefParent {
    open fun f1() = "value"
}

class SpecRefChild : SpecRefParent() {
    override fun f1() = "$|"
} {code}
In the position specified above start typing `this`, check completion: `this` is suggested.
Check `super`: it is not suggested.

NB: KT-11912.

IDEA 145.1539 + Kotlin plugin 1.0.3-dev-723.
IDEA 162.325 + Kotlin plugin 1.1.0-dev-637.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1463764160832</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216384</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12495" entityId="25-1211437"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12495</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Diagnose clash of file facade names in different modules in IDE</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I'm using a convention in my projects, all of the boilerplate is being separated to a separate file where everything is declared internal.
With some specific class i'm having runtime exceptions claiming method does not exist. While IDEA can clearly detect the extension method
and wont show any problem.

Check for the attached video.

I'm using latest EAP version of IDEA and latest kotlin plugin (however gradle is using 1.0.2)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1464165713966</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954429</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Vachagan_Balayan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vachagan Balayan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>21</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.2</value><valueId>1.0.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-316952" url="https://youtrack.jetbrains.com/_persistent/explanation.mov?file=74-316952&amp;c=true">explanation.mov</value></field><comment id="27-1446679" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12495" deleted="false" text="Does it work after rebuild? Clean build from gradle?" shownForIssueAuthor="false" created="1464200199295" markdown="false"><replies/></comment><comment id="27-1446708" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="Nope its still the same... And is repeating across different machines.. tried renaming package assuming that internal package has special meaning but still no difference... tried removing internal visibility still didnt work.." shownForIssueAuthor="false" created="1464203647790" markdown="false"><replies/></comment><comment id="27-1446710" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="I'm giving you link to the repo, clone it, and go to project common take a look at class AggregatedOrderbook...&#xA;&#xA;https://bitbucket.org/vachagan/jarvis&#xA;&#xA;Master branch has 4 methods outside that class definition, those are ment to be in /internal/stuff.kt&#xA;&#xA;Let me know if you need any further assistance..." shownForIssueAuthor="false" created="1464203837469" updated="1464203855139" markdown="false"><replies/></comment><comment id="27-1447246" author="udalov" authorFullName="Alexander Udalov" issueId="KT-12495" deleted="false" text="&gt; I'm using latest EAP version of IDEA and latest kotlin plugin (however gradle is using 1.0.2)&#xA;&#xA;What do you mean by &quot;however&quot;? 1.0.2 ''is'' the latest Kotlin plugin. What version of the Kotlin plugin for IDEA do you use?" shownForIssueAuthor="false" created="1464265689731" markdown="false"><replies/></comment><comment id="27-1447251" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="Ah forget it, its the latest version, i was thinking that i'm behind cos i've got kotlin idea update after i've been using 1.0.2 for a while..." shownForIssueAuthor="false" created="1464265880264" updated="1464203837436" markdown="false"><replies/></comment><comment id="27-1447420" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12495" deleted="false" text="@Vachagan_Balayan unfortunately I got many errors when try to build your project" shownForIssueAuthor="false" created="1464271775638" updated="1464200199241" markdown="false"><replies/></comment><comment id="27-1447472" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="true" text="Did you execute &quot;generateProto&quot; gradle task?&#xA;" shownForIssueAuthor="false" created="1464272227615" updated="1464265880232" markdown="false"><replies/></comment><comment id="27-1447482" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="@Zalim.Bashorov my bad, please pull latest commit on master branch and just run the gradle compile task... it should work now..." shownForIssueAuthor="false" created="1464272604259" updated="1464272633686" markdown="false"><replies/></comment><comment id="27-1447502" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12495" deleted="false" text="Still can't build:&#xA;```&#xA;jarvis/sources/client/bitfinex/src/test/kotlin/bitfinex/BitfinexTest.kt&#xA;Error:(26, 18) Kotlin: Unresolved reference: streamTrades&#xA;Error:(26, 71) Kotlin: Unresolved reference: it&#xA;Error:(33, 18) Kotlin: Unresolved reference: streamOrders&#xA;Error:(33, 71) Kotlin: Unresolved reference: it&#xA;```" shownForIssueAuthor="false" created="1464273110392" updated="1464271775599" markdown="false"><replies/></comment><comment id="27-1447511" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="BTW in my ide whenever i build it just ignores test sources... i could have compilation issues in tests and have that for days never getting any complains... &#xA;&#xA;Just delete any tests that stand on your way... &#xA;The issue can be reproduced with few files." shownForIssueAuthor="false" created="1464273311755" updated="1464272604224" markdown="false"><replies/></comment><comment id="27-1447515" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="Or you can pull again..." shownForIssueAuthor="false" created="1464273418373" updated="1464273311717" markdown="false"><replies/></comment><comment id="27-1447564" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="Have you been able to reproduce the issue?" shownForIssueAuthor="false" created="1464275659996" updated="1464273418329" markdown="false"><replies/></comment><comment id="27-1447619" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12495" deleted="false" text="What I should run?" shownForIssueAuthor="false" created="1464279490692" updated="1464273110356" markdown="false"><replies/></comment><comment id="27-1447624" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="Run for example bitfinex/internal/tryout.kt, you will see how it normally works, the AggregatedOrderbook is working all the time...&#xA;&#xA;Now go to AggregatedOrderbook class, and move those 4 methods that are outside of the class itself to same proejcts stuff.kt (common/internal/stuff.kt) it should be empty at this moment...&#xA;&#xA;When you move those methods in there run the bitfinex tryout again..." shownForIssueAuthor="false" created="1464279821494" updated="1464275659955" markdown="false"><replies/></comment><comment id="27-1448055" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12495" deleted="false" text="the `main` function from `tryout.kt` crashes with:&#xA;```&#xA;Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError&#xA;&#x9;at bitfinex.Bitfinex.pairs(Bitfinex.kt:29)&#xA;&#x9;at bitfinex.Bitfinex.market(Bitfinex.kt:52)&#xA;&#x9;at internal.TryoutKt.main(tryout.kt:20)&#xA;&#x9;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xA;&#x9;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&#xA;&#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;&#x9;at java.lang.reflect.Method.invoke(Method.java:497)&#xA;&#x9;at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)&#xA;Caused by: java.lang.IllegalStateException: System.getProperty(&quot;profile&quot;) must not be null&#xA;&#x9;at util.app.&lt;init&gt;(app.kt:18)&#xA;&#x9;at util.app.&lt;clinit&gt;(app.kt:7)&#xA;&#x9;... 8 more&#xA;```" shownForIssueAuthor="false" created="1464341648360" updated="1464279490653" markdown="false"><replies/></comment><comment id="27-1448057" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12495" deleted="false" text="So I tried to write simple main inside `AggregatedOrderbook.kt`&#xA;```kotlin&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    val order = Order()&#xA;    order.isCanceled()&#xA;}&#xA;```&#xA;&#xA;And it works." shownForIssueAuthor="false" created="1464341706492" updated="1464341759528" markdown="false"><replies/></comment><comment id="27-1448079" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="Ok, i know i've tried and thats the weird thing, if you just run it in isolation it works, but with my concrete code it fails and the casue is NoSuchMethod...&#xA;&#xA;To run it make sure you have these variables in your VM args of the run config...&#xA;&#xA;-DlogPath=/choose-some-random-folder&#xA;-Dprofile=dev&#xA;&#xA;" shownForIssueAuthor="false" created="1464342387057" updated="1464279821462" markdown="false"><replies/></comment><comment id="27-1448081" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="Let me know if you have any other issues... this seems like a very weird bug" shownForIssueAuthor="false" created="1464342504746" updated="1464343140027" markdown="false"><replies/></comment><comment id="27-1448126" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12495" deleted="false" text="I caught it!&#xA;The problem is that you have files with the same name (stuff.kt) in the same package in interdependent modules. So all these modules have own internal.StuffKt and at runtime everywhere wins the last occurred in classpath." shownForIssueAuthor="false" created="1464344260691" updated="1464341706456" markdown="false"><replies/></comment><comment id="27-1448132" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-12495" deleted="false" text="Workarounds: &#xA;* rename files&#xA;* use `@file:JvmName` on top of file to get classes with different name&#xA;&#xA;To get more information see [doc|https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html] and [blogpost|http://blog.jetbrains.com/kotlin/2015/06/improving-java-interop-top-level-functions-and-properties/]&#xA;&#xA;Thanks a lot for the help to reproduce!" shownForIssueAuthor="false" created="1464344505133" updated="1464344260565" markdown="false"><replies/></comment><comment id="27-1448559" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="@Zalim.Bashorov oh this makes sense, thanks for quick solution, I think the right thing to do here is just use packages as they are intended to be used.. so this conventional /internal/stuff.kt will be not in the root of each project but in the root of the project specific packages.&#xA;like this : com/company/project/internal/stuff" shownForIssueAuthor="false" created="1464359279244" updated="1464342504712" markdown="false"><replies/></comment><comment id="27-1448592" author="Vachagan_Balayan" authorFullName="Vachagan Balayan" issueId="KT-12495" deleted="false" text="Also may i suggest to add a warning in idea, when it detects cases like this (compiler obviously cannot do anything) but idea can figure this out..." shownForIssueAuthor="false" created="1464360405015" updated="1464359279206" markdown="false"><replies/></comment></issue><issue id="KT-12513" entityId="25-1212767"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12513</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE plugin update: more recent -eap- plugin is not suggested over older -dev- plugin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Got a Kotlin IDE plugin of version `1.0.3-dev-730-IJ2016.1-13`.
The update channel is tuned and the last available plugin is `1.0.3-eap-8-IJ2016.1-19`.
But it is not suggested in the IDE. So, `dev-730` is considered more recent than `eap-8`.

Not sure how serious is this for end users, but looks wrong.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1464273473383</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975922</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12521" entityId="25-1213246"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12521</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Parameter info shows non-applicable zero-arg overload for index operator</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The index operator (`operator fun get`) requires at least one parameter. However, Java classes can define a `get` function with zero parameters as well as an overload with one or more parameters. If you invoke such a method using the index operator and use the Parameter Info action in IntelliJ, the popup will list the zero-arg overload, even though it's not legal to invoke it.

!parameter_info_index.png!
Class invoked in screenshot: http://reactivex.io/RxJava/javadoc/rx/Completable.html</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1464343553168</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041604</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kirill.rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.2</value><valueId>1.0.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-317628" url="https://youtrack.jetbrains.com/_persistent/parameter_info_index.png?file=74-317628&amp;c=true">parameter_info_index.png</value></field></issue><issue id="KT-12670" entityId="25-1222321"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12670</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>When completing `return` keyword before expression, insert space after the keyword</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1465395388486</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216385</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12731" entityId="25-1226296"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12731</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE: references from Java code to function overriding @JvmOverloads are resolved to parent function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Dummy Kotlin:
{code:lang=kotlin}
open class OverFather {
    @JvmOverloads open fun bomb(p1: Int = 1, p2: Int = 2) = println("parent $p1, $p2")
}
class OverSon : OverFather() {
    override fun bomb(p1: Int, p2: Int) = println("child $p1, $p2")
} {code}
Java usage:
{code:lang=java}
public class OverDefJavaUser {
    public static void main(String[] args) {
        OverSon os = new OverSon();
        os.bomb();
        os.bomb(1);
        os.bomb(1, 2);
    }
} {code}

In the IDE check where references in Java code are resolved to.
E.g. try Go to Declaration (Ctrl+B) on `bomb()`, `bomb(1)`, `bomb(1, 2)` calls.
See that in the first and second case you jump to `OverFather` function.
But that's not true: execute the Java `main()` method and see that in all 3 cases the child function works.

Another output (please tell me if another bug): Refactor / Rename `OverSon.bomb()` and _reject_ to rename parent method.
In Java code only the third reference is renamed. Again, incorrect: run the `main()` and see that the execution differs.

NB: no such problems for references in Kotlin code.

IDEA 162.919 + Kotlin plugin 1.0.3-eap-37-IJ2016.1-62.
IDEA 163.171 + Kotlin plugin 1.1.0-dev-1090.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1465930215985</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975929</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12752" entityId="25-1228945"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12752</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Weird braces are inserted after "Complete Statement" action</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have following code:

{code}
if[CARET]
if (added) {
  return if (shorten)
    UpsourceBundle.message("feed.messages.revision.added.short", revisionStr)
  else
    UpsourceBundle.message("feed.messages.revision.added", revisionStr)
}
{code}

Then I press Cmd+Shift+Enter (Complete Statement) and the code becomes:

{code}
if ([CARET]) {
}
if (added) {
  return if (shorten){
    UpsourceBundle.message("feed.messages.revision.added.short", revisionStr)}
  else{}
    UpsourceBundle.message("feed.messages.revision.added", revisionStr)
}
{code}

Braces were inserted into the condition expression after "return". Moreover the braces after "else" are syntactically incorrect.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1466088736823</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975930</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Eugene.Kudelevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Kudelevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12821" entityId="25-1236275"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12821</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion doesn't suggest anything in the middle of expression</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
fun f() {
    listOf(1 to 1, 2 to 2)
        .sortedWith(compareBy({ it.first }, { it.second }).&lt;caret&gt;)  // &lt;-- put caret here
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1466604512990</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216386</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Mashkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-17115</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.3</value><valueId>1.0.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1578620" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-12821" deleted="false" text="I tried on the latest master and it does not provide any completion for at that point. Is it still reproducible for you?" shownForIssueAuthor="false" created="1471598567339" markdown="false"><replies/></comment><comment id="27-1578740" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-12821" deleted="false" text="This actually looks like a bug in the Markdown plugin, not in Kotlin" shownForIssueAuthor="false" created="1471600748904" markdown="false"><replies/></comment><comment id="27-1578754" author="cy6erGn0m" authorFullName="Sergey Mashkov" issueId="KT-12821" deleted="false" text="Yes, it is a bug in markdown plugin. However we don't provide completion at this point so we can amend bug summary. " shownForIssueAuthor="false" created="1471601172793" markdown="false"><replies/></comment></issue><issue id="KT-12840" entityId="25-1237785"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12840</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin color scheme should inherit from 'Java', not 'Language defaults'.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Following usecase is broken due to this:

change color of java theme to some custom colors.
those changes no longer flow to kotlin.
kotlin has a completely different coloring due to this</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1466694518548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954407</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pdeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Prashant Deva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.2</value><valueId>1.0.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12968" entityId="25-1246134"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12968</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Create from usage doesn't show up on too quick alt+enter.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a call to non-existing function and quickly call alt+enter. There will be no 'create function' item.
Moreover, after this unsuccessful call to alt+enter the second call to it also doesn't show the required item.
The third call does it. But the bulb disappears. It reappears on each second call to alt+enter.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1467635794944</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954420</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>serjic.shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Problem</value><valueId>Problem</valueId><color><bg>#fce5f1</bg><fg>#dc5766</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1500768" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-12968" deleted="false" text="I'm not sure we can do much here; this is how the daemon works in IDEA." shownForIssueAuthor="false" created="1467707162746" updated="1467707165718" markdown="false"><replies/></comment><comment id="27-1500846" author="serjic.shkredov" authorFullName="Sergey Shkredov" issueId="KT-12968" deleted="false" text="Should I move it to Idea project? Not available actions on the first call may be considered a usability issue while the others are bugs." shownForIssueAuthor="false" created="1467709620974" markdown="false"><replies/></comment><comment id="27-1500848" author="serjic.shkredov" authorFullName="Sergey Shkredov" issueId="KT-12968" deleted="false" text="Also as I know it IntelliJ tries to calculate inspections for nodes under caret synchronously and uncertainties like this. " shownForIssueAuthor="false" created="1467709699170" updated="1467709620944" markdown="false"><replies/></comment></issue><issue id="KT-12972" entityId="25-1246427"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12972</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>go to implementations doesn't work (no implementations found) when caret in at the end of a class name.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
abstract class ProjectViewActionBase{caret}(name: String, description: String, icon: Icon? = null)
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1467647463012</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975927</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>serjic.shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-12973" entityId="25-1246429"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>12973</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>go to implementation(s) navigates to declaration when invoked on a reference (should navigate to implementations right away)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>class Foo : Ba{caret}r {}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1467647562879</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975926</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>serjic.shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1500764" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-12973" deleted="false" text="{code}&#xA;&#xA;open class Bar&#xA;&#xA;class Foo : B&lt;caret&gt;ar()&#xA;{code}&#xA;&#xA;Pressing Ctrl-Alt-B at this location shows &quot;Choose implementation of Bar&quot; popup." shownForIssueAuthor="false" created="1467706984551" markdown="false"><replies/></comment><comment id="27-1500845" author="serjic.shkredov" authorFullName="Sergey Shkredov" issueId="KT-12973" deleted="false" text="@yole Seems that the base class should have some constructor parameters:&#xA;{code}&#xA;&#xA;abstract class Bar{caret1}(i : Int) {}&#xA;&#xA;class Foo1 : Ba{caret2}r(1)&#xA;&#xA;{code}&#xA;&#xA;Note that when caret in in 'caret1' position navigation doesn't work either. " shownForIssueAuthor="false" created="1467709444193" updated="1467709453639" markdown="false"><replies/></comment><comment id="27-1500854" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-12973" deleted="false" text="Technically that's because the reference resolves to the constructor, which doesn't have any implementations." shownForIssueAuthor="false" created="1467710155929" markdown="false"><replies/></comment></issue><issue id="KT-13048" entityId="25-1250899"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13048</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Strip trailing spaces on Save" should not strip trailing spaces inside multiline strings in Kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have a Kotlin multiline string literal (the one that starts and end with triple double quotes """) in a unit test that has a couple of trailing spaces in one line. These trailing spaces are needed for the unit test. In my mind, those trailing spaces should be honored because they're inside the multiline string. I know I could turn off that feature but I like the idea of getting rid of trailing spaces on save, except for this particular situation I just described. Please correct this behavior when dealing with Kotlin multiline string literals. Thanks!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1468018970789</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975534</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>agarza@xactware.com</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alberto Garza</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Depend" role="depends on">IDEA-85103</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2245082" author="tedyoung" authorFullName="Ted M. Young" issueId="KT-13048" deleted="false" text="We ran into the same problem in a unit test for our code, so it'd be great to have IDEA recognize multi-line strings and not remove important spaces. Since IDEA-85103 is fixed, can we get this fixed for Kotlin?" shownForIssueAuthor="false" created="1497759768974" updated="1497759900247" markdown="false"><replies/></comment></issue><issue id="KT-13137" entityId="25-1259927"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13137</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incremental Make can't recover after inserting `@JvmName` in certain case</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Two Kotlin sources:
{code:lang=kotlin|title=TempK1.kt}
//@file:JvmName("TempK1Kt")
@file:JvmMultifileClass
package conflict
fun funk1() {} {code}
{code:lang=kotlin|title=TempK2.kt}
@file:JvmName("TempK1Kt")
@file:JvmMultifileClass
package conflict
fun funk2() {} {code}
So, the second's file `@JvmName` value matches the first file name.

Rebuild the project: get errors:
&gt; Error:(2, 1) Kotlin: Duplicate JVM class name 'conflict/TempK1Kt' generated from: package-fragment conflict, package-fragment conflict
Is it correct or not, discussed in KT-12756.

Uncomment the `@JvmName` in the first source.
Make (don't Rebuild). Get irrelevant error like:
&gt; Error:(6, 1) Kotlin: 'public fun funk1(): Unit' conflicts with another declaration in package 'pack'
That's the problem reported in this issue.

Rebuild: no errors anymore.

IDEA 163.1614 + Kotlin plugin 1.1.0-dev-1749.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1468861301160</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1523242957075</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-5991</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. JPS</value><valueId>Tools. JPS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2805284" author="tsvetkov" authorFullName="Alexey Tsvetkov" issueId="KT-13137" deleted="false" text="@sashache I cannot reproduce the issue with Kotlin 1.2.31. Can you confirm?" shownForIssueAuthor="false" created="1523237773784" markdown="false"><replies/></comment><comment id="27-2805287" author="tsvetkov" authorFullName="Alexey Tsvetkov" issueId="KT-13137" deleted="false" text="However I see the following:&#xA;```&#xA;// TempK1.kt&#xA;@file:JvmName(&quot;TempK1Kt&quot;)&#xA;@file:JvmMultifileClass&#xA;package conflict&#xA;fun funk1() {}&#xA;```&#xA;```&#xA;// TempK2.kt&#xA;@file:JvmName(&quot;TempK1Kt&quot;)&#xA;@file:JvmMultifileClass&#xA;package conflict&#xA;fun funk2() {}&#xA;```&#xA;1. Comment `JvmMultifileClass` in any file and make. Get error:&#xA;```&#xA;Error:(1, 1) Kotlin: Duplicate JVM class name 'conflict/TempK1Kt' generated from: package-fragment conflict, package-fragment conflict&#xA;```&#xA;2. Uncomment 'JvmMultifileClass' back. Now you stuck with the following error until rebuild:&#xA;```&#xA;Error:(4, 1) Kotlin: Conflicting overloads: public fun funk1(): Unit defined in conflict in file Tempk1.kt, public fun funk1(): Unit defined in conflict&#xA;```&#xA;But it seems to be different from the description above." shownForIssueAuthor="false" created="1523238072679" markdown="false"><replies/></comment><comment id="27-2805326" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-13137" deleted="false" text="IDEA 182.1410 + Kotlin plugin 1.2.50-dev-330.&#xA;&#xA;My scenario really does not bring an error with text specified in the description.&#xA;But it brings an error with text like:&#xA;&gt; Error:(6, 1) Kotlin: Conflicting overloads: public fun funk1(): Unit defined in compile.p13137 in file TargetName.kt, public fun funk1(): Unit defined in compile.p13137&#xA;&#xA;Is this really a different error? Maybe it's just a modified error text?&#xA;&#xA;Looks like your scenario is another way to get the same error: the final state of files is the same to my scenario, and the error is the same." shownForIssueAuthor="false" created="1523242957075" markdown="false"><replies/></comment></issue><issue id="KT-13223" entityId="25-1267142"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13223</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Parameter info for generic type list</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. The popup for a single-generic-parameter class is shown in a wrong place:
{code}class GenericValue&lt;V&gt; {}{code}
!1.png!

2. The popup for a non-generic class is quite weird:
{code}class GenericVariable {}{code}
!2.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1469541211837</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041605</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-331539" url="https://youtrack.jetbrains.com/_persistent/1.png?file=74-331539&amp;c=true">1.png</value><value id="74-331540" url="https://youtrack.jetbrains.com/_persistent/2.png?file=74-331540&amp;c=true">2.png</value></field></issue><issue id="KT-13325" entityId="25-1272476"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13325</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>NPE from SrcFileAnnotator.createRangeHighlighter() on Kotlin code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```

null
java.lang.NullPointerException
	at com.intellij.coverage.SrcFileAnnotator.createRangeHighlighter(SrcFileAnnotator.java:513)
	at com.intellij.coverage.SrcFileAnnotator.access$200(SrcFileAnnotator.java:78)
	at com.intellij.coverage.SrcFileAnnotator$1HighlightersCollector$1.run(SrcFileAnnotator.java:399)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:337)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:866)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:654)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:381)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1470154698318</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975919</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>AAverin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anton Averin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-333208" url="https://youtrack.jetbrains.com/_persistent/idea.log?file=74-333208&amp;c=true">idea.log</value></field><comment id="27-1551306" author="AAverin" authorFullName="Anton Averin" issueId="KT-13325" deleted="false" text="Might be related to KT-13082" shownForIssueAuthor="false" created="1470154722771" markdown="false"><replies/></comment><comment id="27-1551310" author="adernov" authorFullName="Andrey Dernov" issueId="KT-13325" deleted="false" text="What is the code you are refactoring, is it Java, Kotlin? Could you attach idea.log file, containing full error please? Thanks." shownForIssueAuthor="false" created="1470154961100" markdown="false"><replies/></comment><comment id="27-1551464" author="AAverin" authorFullName="Anton Averin" issueId="KT-13325" deleted="false" text="@adernov project is full Kotlin. Log attached" shownForIssueAuthor="false" created="1470160134462" updated="1470154722717" markdown="false"><replies/></comment></issue><issue id="KT-13413" entityId="25-1278489"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13413</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Going to https://try.kotl.in/ in Chrome shows a full-page certificate error</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>"Attackers might be trying to steal your information from try.kotl.in (for example, passwords, messages, or credit cards). NET::ERR_CERT_COMMON_NAME_INVALID"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1470826862665</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1471003114104</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sergey</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Sergey Zhukov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Site</value><valueId>Web Site</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1563086" author="Semyon.Atamas" authorFullName="Semyon Atamas" issueId="KT-13413" deleted="false" text="We don't have certificate for try.kotl.in. We have two options: &#xA;1) We can by one. That would cost ~200$/year and would take 2-3 weeks&#xA;2) We can somehow use certificate from amazon. That would cost us nothing, but it is not clear how to do it, because Amazon certificate is designed for use with Amazone services." shownForIssueAuthor="false" created="1470835349599" markdown="false"><replies/></comment><comment id="27-1563132" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-13413" deleted="false" text="I'm not sure how the Amazon certificate would help; it would also have a different host name in it. &#xA;Can we use https://letsencrypt.org/ ?" shownForIssueAuthor="false" created="1470836144962" markdown="false"><replies/></comment><comment id="27-1568186" author="sergey" authorFullName="Sergey Zhukov" issueId="KT-13413" deleted="false" text="We can use it if somebody support this. LetsEncrypt needs some tasks on server's side. Certificate should be reissued and reapplied to the server every 1-3 months." shownForIssueAuthor="false" created="1471003114113" markdown="false"><replies/></comment></issue><issue id="KT-13415" entityId="25-1278665"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13415</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Two exceptions (AIOOBE / ISE) from one file</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Example:
```
object &lt;Imported
```

We get two different exceptions from this file (see comments).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1470835023812</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975427</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mikhail Glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>7</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-11292</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Frontend. Resolution and Inference</value><valueId>IDE</valueId><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1</value><value>1.0.3</value><valueId>1.1</valueId><valueId>1.0.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1563046" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-13415" deleted="false" text="The first (AIOBE):&#xA;```&#xA;0&#xA;java.lang.ArrayIndexOutOfBoundsException: 0&#xA;&#x9;at org.jetbrains.kotlin.asJava.LightClassUtilsKt.toPsiTypeParameters(lightClassUtils.kt:122)&#xA;&#x9;at org.jetbrains.kotlin.asJava.LightClassUtilsKt.toLightElements(lightClassUtils.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.idea.search.ideaExtensions.KotlinReferencesSearcher$processQuery$effectiveSearchScope$1.invoke(KotlinReferencesSearcher.kt:82)&#xA;&#x9;at org.jetbrains.kotlin.idea.search.ideaExtensions.KotlinReferencesSearcher$processQuery$effectiveSearchScope$1.invoke(KotlinReferencesSearcher.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt$sam$Computable$4590d3de.compute(ApplicationUtils.kt)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:867)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt.runReadAction(ApplicationUtils.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.idea.search.ideaExtensions.KotlinReferencesSearcher.processQuery(KotlinReferencesSearcher.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.idea.search.ideaExtensions.KotlinReferencesSearcher.processQuery(KotlinReferencesSearcher.kt:67)&#xA;&#x9;at com.intellij.openapi.application.QueryExecutorBase.execute(QueryExecutorBase.java:95)&#xA;&#x9;at com.intellij.util.ExecutorsQuery.processResults(ExecutorsQuery.java:45)&#xA;&#x9;at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:79)&#xA;&#x9;at com.intellij.util.MergeQuery.processSubQuery(MergeQuery.java:85)&#xA;&#x9;at com.intellij.util.MergeQuery.forEach(MergeQuery.java:57)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.process(UniqueResultsQuery.java:66)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.forEach(UniqueResultsQuery.java:56)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.findAll(UniqueResultsQuery.java:79)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.iterator(UniqueResultsQuery.java:91)&#xA;&#x9;at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinTypeParameterFindUsagesHandler.searchReferences(KotlinTypeParameterFindUsagesHandler.kt:51)&#xA;&#x9;at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinFindUsagesHandler.findReferencesToHighlight(KotlinFindUsagesHandler.kt:77)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.IdentifierHighlighterPass.a(IdentifierHighlighterPass.java:162)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.IdentifierHighlighterPass.getHighlightUsages(IdentifierHighlighterPass.java:139)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.IdentifierHighlighterPass.a(IdentifierHighlighterPass.java:195)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.IdentifierHighlighterPass.doCollectInformation(IdentifierHighlighterPass.java:106)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:434)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1034)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:427)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:494)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:443)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:426)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:402)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:154)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;```" shownForIssueAuthor="false" created="1470835063773" markdown="false"><replies/></comment><comment id="27-1563050" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-13415" deleted="false" text="The second (ISE):&#xA;```&#xA;Type parameter Imported not found for lazy class &lt;no name provided&gt;&#xA;java.lang.IllegalStateException: Type parameter Imported not found for lazy class &lt;no name provided&gt;&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitTypeParameter(LazyDeclarationResolver.java:160)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitTypeParameter(LazyDeclarationResolver.java:118)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtTypeParameter.accept(KtTypeParameter.java:40)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:118)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:113)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.ResolveSession.resolveToDescriptor(ResolveSession.java:320)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.resolveToElement(ResolveElementCache.kt:198)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:50)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyze(resolutionApi.kt:60)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.resolveToDescriptorIfAny(resolutionApi.kt:46)&#xA;&#x9;at org.jetbrains.kotlin.idea.inspections.UnusedSymbolInspection$buildVisitor$1.visitDeclaration(UnusedSymbolInspection.kt:156)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:445)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:390)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:373)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:951)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitTypeParameter(KtVisitor.java:122)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitTypeParameter(KtVisitorVoid.java:109)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitTypeParameter(KtVisitorVoid.java:565)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitTypeParameter(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtTypeParameter.accept(KtTypeParameter.java:40)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:58)&#xA;&#x9;at com.intellij.codeInspection.InspectionEngine.acceptElements(InspectionEngine.java:81)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:310)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.c(ApplierCompleter.java:123)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1034)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.b(ApplierCompleter.java:96)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:494)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:443)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.a(ApplierCompleter.java:106)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:91)&#xA;&#x9;at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;```" shownForIssueAuthor="false" created="1470835101452" updated="1470835063737" markdown="false"><replies/></comment><comment id="27-1563056" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-13415" deleted="false" text="Checked on 1.1.0-dev-2222" shownForIssueAuthor="false" created="1470835132906" updated="1470835101416" markdown="false"><replies/></comment><comment id="27-1563095" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-13415" deleted="false" text="BTW: for 1.0.3-release, ISE occurs, but AIOBE does not." shownForIssueAuthor="false" created="1470835507923" updated="1470835132857" markdown="false"><replies/></comment><comment id="27-1563123" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-13415" deleted="false" text="AIOBE: see EA-85853" shownForIssueAuthor="false" created="1470835931728" updated="1470835507881" markdown="false"><replies/></comment><comment id="27-1563141" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-13415" deleted="false" text="ISE: see EA-85313" shownForIssueAuthor="false" created="1470836221096" updated="1470835931682" markdown="false"><replies/></comment><comment id="27-1625917" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-13415" deleted="false" text="@adernov this AIOOBE is a different problem, fixed in 1.0.4" shownForIssueAuthor="false" created="1474967098929" markdown="false"><replies/></comment></issue><issue id="KT-13538" entityId="25-1285404"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13538</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>PRIMARY_CONSTRUCTOR_DELEGATION_CALL_EXPECTED reporting range is too wide</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Start a declaration of a secondary constructor in a class, like that:
```kotlin
class A(val x: Int, val y: Int) {
  constructor A(&lt;caret&gt;)
}
```

PRIMARY_CONSTRUCTOR_DELEGATION_CALL_EXPECTED is reported.
This looks inevitable: you are just typing the constructor parameters, you didn't get to constructor delegation call yet.
At the same time, THE WHOLE constructor signature is red, making it harder to notice other, more meaningful diagnostics.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1471588340491</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954388</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Frontend. Declarations</value><valueId>IDE</valueId><valueId>Frontend. Declarations</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-13539" entityId="25-1285569"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13539</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Show better message when try to navigate on dynamic call</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1471601433167</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975910</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-337294" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202016-08-19%20at%2013.09.33.png?file=74-337294&amp;c=true">Screen Shot 2016-08-19 at 13.09.33.png</value></field></issue><issue id="KT-13631" entityId="25-1291020"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13631</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Compilation fails on Turkish locale because of locale-sensitive uppercasing</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Error:Kotlin: Unknown compiler message tag: INFO
Error:Kotlin: Unknown compiler message tag: LOGGING

See https://discuss.kotlinlang.org/t/kotlin-build-error/1560 for more information.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1472465798323</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522854530425</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. JPS</value><valueId>Tools. JPS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1590949" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-13631" deleted="false" text="Maybe relates to KT-9954" shownForIssueAuthor="false" created="1472561473398" markdown="false"><replies/></comment></issue><issue id="KT-13831" entityId="25-1302105"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13831</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Presentation of companion object seems to depend on it being opened in editor or not</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>All `Feature` types are same structure, companion object in some class. Some are presented with containing class, some not. 
!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1473774497513</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975916</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-342800" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-342800&amp;c=true">image.png</value></field></issue><issue id="KT-13899" entityId="25-1305265"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13899</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Library class incorrectly considered synthetic</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Steps to reproduce: Open a file with text `foo.toRegex()`

Expected behavior: `StringsKt.class` is analyzed in GlobalFacade.facadeForLibraries

Actual behavior: A new synthetic files facade is created for `StringsKt.class`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1474038008912</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975898</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-13913" entityId="25-1305470"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13913</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Automatic project Make: moving file to dependent module is not detected</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In a project Settings / ... / Compiler / Build project automatically = Yes.
Make sure Problems tool window is present and contains no errors.

Provide modules A and B, A depends on B.
In module A create sources:
{code:lang=kotlin|title=TempAH.kt}
package samePackage
open internal class TempAH
val load = 0
{code}
{code:lang=kotlin|title=TempAI.kt}
package samePackage
internal class TempAI : TempAH() {code}

In the project tree select `TempAH.kt` item: this is _file_ item because contains several top-level elements.
Refactor / Move (F6) `TempAH.kt` to the same package in module B. Get no warning (KT-13911), or just press Continue if any.
The file is moved, the project is not compilable. But Problems contains no error. I.e. the compilation is not restarted. That's the issue.

NB: no problem (i.e. the re-make is performed) when A and B are independent.

No issue in IDEA 162.2113 + Kotlin plugin 1.0.4-eap-118-IJ2016.1-102.
The problem is present in IDEA 163.4589 + Kotlin plugin 1.1.0-dev-3125.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1474051094022</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1474056958917</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. JPS</value><valueId>Tools. JPS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-13940" entityId="25-1306886"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13940</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>With existent test pattern run configuration attempt to run single test class runs the whole pattern</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Dummy:
{code:lang=kotlin}
import org.junit.Test

class TestOne {
    @Test fun testOneA() {}
    @Test fun testOneB() {}
}

class TestTwo {
    @Test fun testTwo() {}
} {code}
Caret inside `TestOne`, Ctrl+Shift+F10: all tests in `TestOne` class, but not `TestTwo` run. Expected.
Caret between `TestOne` and `TestTwo` definitions, Ctrl+Shift+F10: run configuration with both classes is created and runs. Expected.
Now again caret inside `TestOne`, Ctrl+Shift+F10: the configuration with both classes runs. Wrong.

IDEA 163.4748 + Kotlin plugin 1.1.0-dev-3167.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1474304032526</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975880</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-15805</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.3</value><valueId>1.0.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1615098" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-13940" deleted="false" text="Following to IDEA-160247 + KT-13084." shownForIssueAuthor="false" created="1474304392669" markdown="false"><replies/></comment><comment id="27-1723938" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-13940" deleted="false" text="Still occurs in IDEA 163.8321 + Kotlin plugin 1.1.0-dev-4646." shownForIssueAuthor="false" created="1479301303470" updated="1474304392637" markdown="false"><replies/></comment></issue><issue id="KT-13989" entityId="25-1309130"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>13989</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>The choosing from completion list in the string (after '$' sign) doesn't work for properties with spaces in names</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Build
IntelliJ IDEA 2016.2.5 EAP, Build #IU-162.2180 + Kotlin plugin 1.1.0-dev-3252

The choosing from help list in the string (after '$' sign) doesn't work in trunk, (but works in IntelliJ IDEA 2016.3 EAP, Build #IU-163.4986 + Kotlin plugin  1.0.4-IJ2016.1-109):

{code}class ClassWithSpace {
   val `val with spaces` = 5
   var `var with spaces` = 5

    fun `fun with spaces`(`param with spaces`: String) = "$var"
}{code}

parameter can be chosen, but val and var properties are not
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1474534146992</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216389</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Viktoria.Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Viktoria Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1</value><valueId>1.1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-14026" entityId="25-1311672"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Tooltip for breadcrumbs not informative</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1474881785594</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041607</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>max</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Shafirov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-346191" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-346191&amp;c=true">image.png</value></field><comment id="27-1632702" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-14026" deleted="false" text="Well, I know. What would you like to see there?" shownForIssueAuthor="false" created="1475252227657" markdown="false"><replies/></comment><comment id="27-1632709" author="max" authorFullName="Maxim Shafirov" issueId="KT-14026" deleted="false" text="I'm not even sure what you've been trying to show. Type signature of a lamda? Then something like `(RouteComponent) -&gt; Boolean` could be useful" shownForIssueAuthor="false" created="1475252502745" markdown="false"><replies/></comment></issue><issue id="KT-14103" entityId="25-1316085"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14103</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Cannot delete" error during plugin update</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See screenshot.

```
Cannot delete &lt;home&gt;/.../plugins/Kotlin
Please, check your access rights on folder...
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1475141307600</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975865</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>batrdmi</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Batrak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-347428" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-347428&amp;c=true">image.png</value></field><comment id="27-1629831" author="batrdmi" authorFullName="Dmitry Batrak" issueId="KT-14103" deleted="false" text="Usually I update IDEA from sources. Today I've seen a notification prompting for the plugin update. During restart I got the error message shown in screenshot. Then IDEA failed to start. Repeated launching of IDEA succeeded, 'Plugins' screen reports Kotlin plugin version 1.0.4-release-IJ2016.1-112." shownForIssueAuthor="false" created="1475141545423" markdown="false"><replies/></comment><comment id="27-1629861" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-14103" deleted="false" text="@Viktoria.Shirunova: do you remember, we saw this effect once. Maybe you can help with reproducing if necessary.&#xA;&#xA;@batrdmi: BTW, is your OS Win10?" shownForIssueAuthor="false" created="1475141998659" markdown="false"><replies/></comment><comment id="27-1629869" author="batrdmi" authorFullName="Dmitry Batrak" issueId="KT-14103" deleted="false" text="@sashache Yes, I'm on Windows 10." shownForIssueAuthor="false" created="1475142144460" updated="1475141545390" markdown="false"><replies/></comment><comment id="27-1812082" author="ilya.gorbunov" authorFullName="Ilya Gorbunov" issueId="KT-14103" deleted="false" text="I see this quite often." shownForIssueAuthor="false" created="1482374675289" markdown="false"><replies/></comment><comment id="27-1872143" author="ilya.gorbunov" authorFullName="Ilya Gorbunov" issueId="KT-14103" deleted="false" text="I believe this might be caused by plugin files being locked by compiler daemon that doesn't have time to finish when IDEA is restarted after installing new plugin version." shownForIssueAuthor="false" created="1485435555967" updated="1482374675260" markdown="false"><replies/></comment><comment id="27-1916856" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-14103" deleted="false" text="Under Windows I see this one about 50% times I update Kotlin plugin" shownForIssueAuthor="false" created="1487162258787" markdown="false"><replies/></comment></issue><issue id="KT-14135" entityId="25-1317546"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14135</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>high memory usage of IntelliJ plugin.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>//msdc/Snapshots/Kotlin/IU-163.5433_serjic_30.09.2016_17.03.53.zip</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1475244536012</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975911</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>serjic.shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-14127</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-14204" entityId="25-1321465"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14204</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Find overriding methods for Java interface should not show Kotlin implementations via delegation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin plugin version 1.1-M01-IJ2016.1-29

Create Simple.java:
```
public interface Simple {
    void doAction();
}
```

create delegate.kt:

```
fun delegate(s: Simple): Simple {
    return object: Simple by s {}
}
```

Look at doAction method in Simple interface. IDEA shows that doAction is implemented by anonymous in delegate(). This is wrong. doAction is not actually implemented there. 

Moreover, this problem only happens with Java interface. Remove Simple.java and change delegate.kt to:

```
interface Simple {
    fun doAction()
}

fun delegate(s: Simple): Simple {
    return object: Simple by s {}
}
```

In this case IDEA correctly shows that "doAction" is not implemented</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1475742340635</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975907</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roman Elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-14226" entityId="25-1322453"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14226</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Idea's suggestions doesn't work.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>IntelliJ IDEA 2016.3 EAP
Build #IU-163.5644.15, built on October 5, 2016
IntelliJ IDEA EAP User
Expiration date: November 4, 2016
JRE: 1.8.0_112-release-b408 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o

Kotlin 1.0.4
Kotlin Plugin 1.1

(have same issue in previous eap build)

Demonstration: https://drive.google.com/file/d/0B90geJfEOzlzU3NyRS1KVDJaZ0U/view?usp=sharing

---

In function scope i can write some class and get auto-complete for it, example:

```
fun main(args: Array&lt;String&gt;) {
     Htt -&gt; then auto-complete to HttpClientImpl() 
}
```

Also i can use "Introduce local variable" quick-fix.

In case of package scope, IDEA doesn't suggest me anything (Ctrl+Space -&gt; No suggestions), and "Introduce Local Variable" quick-fix doesn't work too.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1475782893051</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954320</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>iruslan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ruslan Ibragimov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>9</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1641830" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-14226" deleted="false" text="Which exactly version of the Kotlin plugin are you using?" shownForIssueAuthor="false" created="1475836389645" markdown="false"><replies/></comment><comment id="27-1644665" author="iruslan" authorFullName="Ruslan Ibragimov" issueId="KT-14226" deleted="false" text="Version: 1.1-M01-IJ2016.1-29" shownForIssueAuthor="false" created="1476074299409" markdown="false"><replies/></comment><comment id="27-1656349" author="iruslan" authorFullName="Ruslan Ibragimov" issueId="KT-14226" deleted="false" text="Build #IU-163.5644.15 and Kotlin Plugin Version: 1.0.4-release-IJ2016.1-112 works fine together" shownForIssueAuthor="false" created="1476674333864" updated="1476074299390" markdown="false"><replies/></comment><comment id="27-1656354" author="iruslan" authorFullName="Ruslan Ibragimov" issueId="KT-14226" deleted="false" text="Same issue for &#xA;&#xA;IntelliJ IDEA 2016.3 EAP&#xA;Build #IU-163.6110.12, built on October 12, 2016&#xA;IntelliJ IDEA EAP User&#xA;Expiration date: November 11, 2016&#xA;JRE: 1.8.0_112-release-b408 amd64&#xA;JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o&#xA;" shownForIssueAuthor="false" created="1476675128065" updated="1476674333837" markdown="false"><replies/></comment><comment id="27-1880136" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-14226" deleted="false" text="Does this still happen in more recent 1.1 versions?" shownForIssueAuthor="false" created="1485787686908" updated="1475836389593" markdown="false"><replies/></comment><comment id="27-1880399" author="iruslan" authorFullName="Ruslan Ibragimov" issueId="KT-14226" deleted="false" text="Yep, i checked with kotlin 1.1.0-beta-22&#xA;Plugin: Version: 1.1.0-beta-22-IJ2016.3-1" shownForIssueAuthor="false" created="1485791883988" updated="1485791945037" markdown="false"><replies/></comment><comment id="27-1883190" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-14226" deleted="false" text="As far as I understand you describe two problems: completion not working at all in some specific case, and completion for constructors of non-imported classes at package level. For the first problem, we'd need more context to reproduce. The second is by design: a constructor invocation is not a valid expression on the top level of a file, so it's not offered by completion.&#xA;&#xA;What exactly did you check with 1.1-beta?" shownForIssueAuthor="false" created="1485882595458" updated="1485787686868" markdown="false"><replies/></comment><comment id="27-1890736" author="iruslan" authorFullName="Ruslan Ibragimov" issueId="KT-14226" deleted="false" text="On package-level completion not work at all.&#xA;&#xA;Example:&#xA;&#xA;i have file with:&#xA;&#xA;```&#xA;fun answer() = 42&#xA;```&#xA;&#xA;I want to call this function, and assign result to local variable using &quot;Introduce Local Variable&quot; quick-fix.&#xA;&#xA;So i'm start writing *te* and Idea doesn't suggest me anything, i had to write *test()* and at this point i'm expecting that i can introduce local variable via quick fix but this doesn't work either.&#xA;&#xA;For me it's common way to writing code: write some expression -&gt; introduce variable. And every time i'm trying to write top-level variables i'm stuck for few seconds." shownForIssueAuthor="false" created="1486136475463" updated="1485791883954" markdown="false"><replies/></comment><comment id="27-2677905" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-14226" deleted="false" text="IDEA 181.2979 + Kotlin plugin 1.2.30-dev-584.&#xA;&#xA;Below `|` is the caret.&#xA;&#xA;In this case:&#xA;{code:lang=kotlin}&#xA;fun answer() = 42&#xA;te|&#xA;{code}&#xA;Nothing is suggested, and that's correct, at least because there is nothing starting with `te` is declared at the moment. The `answer()` is declared, not `teAnything`.&#xA;&#xA;You have to start typing a declaration you want to get, like `val v = ans|`, `fun f() = ans|`, then completion suggests existing `answer()` in valid context.&#xA;&#xA;Is it Ok?&#xA;" shownForIssueAuthor="false" created="1516652209938" markdown="false"><replies/></comment></issue><issue id="KT-14228" entityId="25-1322560"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14228</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDEA action to "Select In-&gt;Project view" does not open Kotlin class source when working on Kotlin source itself</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. Open Kotlin project in IDEA (https://github.com/JetBrains/kotlin)
2. Build it
3. Go to core/builtins/src/kotlin/Function.kt
4. Click on Function
5. Press Alt+F1 (Select in) and "Project"
6. dist/builtis/kotlin/kotlin.kotlin_builtins opens on the left
Expected: original source file to be left open. Should not open its compiled representation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1475825078149</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975906</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roman Elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1641796" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-14228" deleted="false" text="The setup of Kotlin builtins is very special, and would require special-case support, which I don't think is worthwhile to add." shownForIssueAuthor="false" created="1475834884022" markdown="false"><replies/></comment></issue><issue id="KT-14230" entityId="25-1322597"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14230</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Breadcrumbs context duplicated</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>for() shown twice</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1475830081698</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041608</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>max</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Shafirov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-12852</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-349501" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-349501&amp;c=true">image.png</value></field></issue><issue id="KT-14522" entityId="25-1338993"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14522</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Duplicate parameter info for map.get with indexer syntax</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
        val x = mapOf("s" to 1)
        x[]
```
!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1477414164450</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041612</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-354387" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-354387&amp;c=true">image.png</value></field><comment id="27-1692302" author="valentin" authorFullName="Valentin Kipiatkov" issueId="KT-14522" deleted="false" text="It's duplicated for &quot;get()&quot; too." shownForIssueAuthor="false" created="1478243843200" markdown="false"><replies/></comment></issue><issue id="KT-14523" entityId="25-1338996"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14523</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Weird parameter info tooltip for map.getValue type arguments</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1477414247030</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041613</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-354388" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-354388&amp;c=true">image.png</value></field></issue><issue id="KT-14739" entityId="25-1354466"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14739</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion: 'this' should have higher priority</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When `this` implements the inferred type, it should appear higher in completion. Example use case is Android, where inside an `Activity` you have to pass `this` as `Context` all the time.

!this.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1478717131466</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216391</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kirill.rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-359330" url="https://youtrack.jetbrains.com/_persistent/this.png?file=74-359330&amp;c=true">this.png</value></field></issue><issue id="KT-14742" entityId="25-1354903"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14742</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion does not list all static members</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I use gRPC-java and it's generated protobuf v3 messages. There are a number of static functions for each message data object.
Code completion does not list the most actual one `newBuilder` and shows a number of other methods.
I have to type in actual method name, because it will not work unless I have the appropriate import for a data object

!image.png!
!image2.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1478769826867</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216404</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-359433" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-359433&amp;c=true">image.png</value><value id="74-359434" url="https://youtrack.jetbrains.com/_persistent/image2.png?file=74-359434&amp;c=true">image2.png</value><value id="74-359436" url="https://youtrack.jetbrains.com/_persistent/ExceptionInfo.java?file=74-359436&amp;c=true">ExceptionInfo.java</value><value id="74-359437" url="https://youtrack.jetbrains.com/_persistent/ExceptionInfoOrBuilder.java?file=74-359437&amp;c=true">ExceptionInfoOrBuilder.java</value></field></issue><issue id="KT-14758" entityId="25-1355634"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14758</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Move statement up shouldn't move top level declarations above package and import directives</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1478799703051</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954367</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-14784" entityId="25-1356820"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14784</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>js gradle plugin: multi-module build generated wrong module name in js with "Create separate module per source set" enabled</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When using gradle to build a kotlin js project, I found that if the "Create separate module per source set" option is enabled in preference, the compileKotlin2Js task will produce names such as ``module-a-main``, ``module-b-main`` in generated js file, e.g.
``
this['module-test'] = function (Kotlin, $module$module_a_main, $module$module_b_main) {
...
}(kotlin, this['module-a-main'], this['module-b-main']);
``
while the ``module a`` is defined as:
``
Kotlin.defineModule('module-a', _);
``
thus ``module-test`` cannot find ``module-a`` correctly.

Module dependencies are defined by:
``
dependencies {
compile project(":module-a")
}
``
in ``build.gradle``.

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1478938854708</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954316</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>notsyncing</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Song Fuchang</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Tools. Gradle</value><valueId>IDE</valueId><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1-M02</value><value>1.1-Beta</value><valueId>1.1-M02</valueId><valueId>1.1-Beta</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1859307" author="notsyncing" authorFullName="Song Fuchang" issueId="KT-14784" deleted="false" text="Now it prevents mixed-platform project (having both JVM and JS modules) to generate correct js module name, because I cannot just disable this option for JS modules only." shownForIssueAuthor="false" created="1484920030781" markdown="false"><replies/></comment></issue><issue id="KT-14844" entityId="25-1361380"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14844</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Tab should override string completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have some Kotlin code with Strings, and IntelliJ nicely code completes my Strings (it's resources in the classpath). However, when doing completing with ctrl+space,enter, or with ctrl+space,tab, the effect is the same: the string is always appended, instead of replaced (I expect that when halfway a string, pressing ctrl+space,tab will replace the rest of the string, and ctrl+space,enter will append, just like with method names.

So, say, this is my code:

{code}
    val countryLocations = listOf(
            "/ip/GeoLite2-Country-Locations-de.csv"
    )
{code}

Then pressing ctrl+space after Country will bring up the screenshot. Completing with either tab or enter has the same effect. Completing with tab to override the rest of the string would be nice. 


</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1479386016627</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216408</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>bodiam</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Erik Pragt</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-361522" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202016-11-17%20at%2023.29.05.png?file=74-361522&amp;c=true">Screen Shot 2016-11-17 at 23.29.05.png</value></field></issue><issue id="KT-14929" entityId="25-1365972"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14929</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Deprecated ReplaceWith for type aliases</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Support deprecation replacement for typealiases same as for types.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1479820335586</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536667938538</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Depend" role="is required for">KT-25368</value><value type="Duplicate" role="is duplicated by">KT-16211</value><value type="Subtask" role="subtask of">KT-13709</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Feature</value><valueId>Feature</valueId><color><bg>#7dbd36</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>IDE. Inspections and Intentions</value><valueId>IDE</valueId><valueId>IDE. Inspections and Intentions</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.70</value><valueId>1.2.70</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3046774" author="cy6erGn0m" authorFullName="Sergey Mashkov" issueId="KT-14929" deleted="false" text="Doesn't work anymore again for objects, see  KT-16211 for example" shownForIssueAuthor="false" created="1535567493669" markdown="true"><replies/></comment></issue><issue id="KT-14945" entityId="25-1367760"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14945</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Find usages doesn't find anything</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See the screenshots: find usages of {{putDuplicate}} from the usage itself yields "No usages".
The thing is {{contentStorage}} is a Kotlin field. If I introduce a variable for {{myDb.getContentStorage()}}, it starts to work.
Looks like IDEA failed to infer the type of the Kotlin field when it's not specified explicitly.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1479910753277</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975891</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxim.podkolzine</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Podkolzine</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-363272" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20from%202016-11-23%2015%3A12%3A02.png?file=74-363272&amp;c=true">Screenshot from 2016-11-23 15:12:02.png</value><value id="74-363273" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20from%202016-11-23%2015%3A11%3A53.png?file=74-363273&amp;c=true">Screenshot from 2016-11-23 15:11:53.png</value><value id="74-363274" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20from%202016-11-23%2015%3A14%3A42.png?file=74-363274&amp;c=true">Screenshot from 2016-11-23 15:14:42.png</value></field><comment id="27-1743663" author="maxim.podkolzine" authorFullName="Maxim Podkolzine" issueId="KT-14945" deleted="false" text="Update: &quot;Find in path&quot; also ignores this usage." shownForIssueAuthor="false" created="1479911083379" markdown="false"><replies/></comment></issue><issue id="KT-14946" entityId="25-1367909"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>14946</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Moving declarations up/down (with Ctrl+Shift+Up/Down) messes with empty lines</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
class Outer {
    class N1 {
        fun foo1() {}
    }

    class N2 {
        fun foo2() {}
    }

    class N3 {
        fun foo3() {}
    }
}
```

1. Place caret at `class N1`

2. Press Ctrl+Shift+Down several times until classes are ordered like this:
```kotlin
class Outer {
    class N2 {

        fun foo2() {}
    }
    class N3 {

        fun foo3() {}
    }
    class N1 {
        fun foo1() {}
    }
}
```

As you can see, empty lines are inserted at the begging of `N2` and `N3`, and are lost after `N2` and `N3`.
This may look like a minor issue, but is actually quite painful and disturbing (considering diffs &amp; version control).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1479915633102</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954363</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15095" entityId="25-1378604"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15095</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE: file name matches `@JvmName` argument: many actions (Move, Copy, Delete) are blocked</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create Kotlin source `CertainName.kt`. Insert the content:
{code:lang=kotlin}
@file:JvmName("CertainName")
var someElementToReproduce = 0 {code}

Get the effects:
. Check the file item appearance in Project tool window: it has no extension.
. Select the file item: main menu / Refactoring has many actions lost or disable.
. Try to do Delete on the file item, confirm deletion: get message "File is read-only". Confirm deletion again: get error dialog:
&gt; org.jetbrains.kotlin.asJava.classes.KtLightClassForFacade
And no effect.

All problems have gone, when the file name does not match `@JvmName` argument.

Of course, having same names in these positions is not useful in long term, but user may meet this situation as intermediate.
(E.g. he wants to insert the annotation, and then rename the file - and gets blocked.)

IDEA 163.9487 + Kotlin plugin 1.1.0-dev-5083.
Studio 162.3508619 (2.3.0 canary 2) + Kotlin plugin 1.0.6-eap-76.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1480693320010</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975886</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15108" entityId="25-1379910"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15108</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion: Invoke convention is not proposed for higher order function objects</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
fun foo(callback: ((String, Int) -&gt; String) -&gt; String) {
    // neither of the following is proposed
    callback.invoke { a, b -&gt; "" }
    callback  { a, b -&gt; "" } 
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1480930497198</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216409</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kirill.rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15119" entityId="25-1380711"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15119</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Editor: ISE at AsmUtil.getVisibilityAccessFlag() on illegal modifier on accessor in interface with child</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Dummy Kotlin:
{code:lang=kotlin}
interface ContentParent {
    fun fill() = "filler"
    fun accept(p: String) {}
    var faceProp: String
        /*private*/ get() = fill()
        /*private*/ set(p) = accept(p)
}
interface ContentChild : ContentParent {} {code}

Uncomment any `private` token: get exception. (Yes, the resulted code is incompilable.)
NB: after removing `ContentChild` there is no exception in this case.

IDEA 162.2771 + Kotlin plugin 1.1.0-dev-5125.
Studio 162.3508619 (2.3.0 canary 2) + Kotlin plugin 1.0.6-eap-77.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1480961048942</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975888</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1775095" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-15119" deleted="false" text="The trace from master.&#xA;&#xA;-----&#xA;&#xA;Could not generate LightClass for org.jetbrains.ache.jarc_01_lint.structure.member declared in &lt;null&gt;&#xA;System: Linux 3.19.8-100.fc20.x86_64 Java Runtime: 1.8.0_112-release-287-b3: invisible_fake is not a valid visibility in backend for invisible_fake open fun &lt;get-faceProp&gt;(): kotlin.String defined in org.jetbrains.ache.jarc_01_lint.structure.member.ContentChild&#xA;java.lang.IllegalStateException: invisible_fake is not a valid visibility in backend for invisible_fake open fun &lt;get-faceProp&gt;(): kotlin.String defined in org.jetbrains.ache.jarc_01_lint.structure.member.ContentChild&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getVisibilityAccessFlag(AsmUtil.java:251)&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getCommonCallableFlags(AsmUtil.java:232)&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getMethodAsmFlags(AsmUtil.java:190)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:179)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:160)&#xA;&#x9;at org.jetbrains.kotlin.codegen.InterfaceImplBodyCodegen.generateDelegationToSuperDefaultImpls(InterfaceImplBodyCodegen.kt:115)&#xA;&#x9;at org.jetbrains.kotlin.codegen.InterfaceImplBodyCodegen.generateSyntheticParts(InterfaceImplBodyCodegen.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:122)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateDefaultImplsIfNeeded(ImplementationBodyCodegen.java:242)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:120)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:266)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject.generate(LightClassDataProvider.kt:258)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProvider.computeLightClassData(LightClassDataProvider.kt:108)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProvider.compute(LightClassDataProvider.kt:71)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:65)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$Companion.getLightClassData(KtLightClassForSourceDeclaration.kt:386)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getLightClassData(KtLightClassForSourceDeclaration.kt:112)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getJavaFileStub(KtLightClassForSourceDeclaration.kt:105)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.access$getJavaFileStub(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$clsDelegate$2.invoke(KtLightClassForSourceDeclaration.kt:83)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$clsDelegate$2.invoke(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at kotlin.SafePublicationLazyImpl.getValue(Lazy.kt:188)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getClsDelegate(KtLightClassForSourceDeclaration.kt)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getClsDelegate(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getDelegate(KtLightClassBase.java:57)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getOwnMethods(KtLightClassBase.java:136)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.b(ClassInnerStuffCache.java:169)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.access$300(ClassInnerStuffCache.java:38)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache$3.compute(ClassInnerStuffCache.java:75)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager$1.compute(CachedValuesManager.java:137)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:65)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:84)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:133)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.getMethods(ClassInnerStuffCache.java:71)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.c(ClassInnerStuffCache.java:198)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.access$600(ClassInnerStuffCache.java:38)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache$6.compute(ClassInnerStuffCache.java:114)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager$1.compute(CachedValuesManager.java:137)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:65)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:84)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:133)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.findMethodsByName(ClassInnerStuffCache.java:110)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.findMethodsByName(KtLightClassBase.java:110)&#xA;&#x9;at com.intellij.psi.impl.search.JavaOverridingMethodsSearcher.findOverridingMethod(JavaOverridingMethodsSearcher.java:145)&#xA;&#x9;at com.intellij.psi.impl.search.JavaAllOverridingMethodsSearcher.a(JavaAllOverridingMethodsSearcher.java:56)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery$MyProcessor.process(UniqueResultsQuery.java:105)&#xA;&#x9;at com.intellij.openapi.application.QueryExecutorBase$1.process(QueryExecutorBase.java:67)&#xA;&#x9;at com.intellij.psi.impl.search.JavaClassInheritorsSearcher.a(JavaClassInheritorsSearcher.java:94)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:859)&#xA;&#x9;at com.intellij.psi.impl.search.JavaClassInheritorsSearcher.a(JavaClassInheritorsSearcher.java:93)&#xA;&#x9;at com.intellij.psi.impl.search.JavaClassInheritorsSearcher.processQuery(JavaClassInheritorsSearcher.java:60)&#xA;&#x9;at com.intellij.psi.impl.search.JavaClassInheritorsSearcher.processQuery(JavaClassInheritorsSearcher.java:43)&#xA;&#x9;at com.intellij.openapi.application.QueryExecutorBase.execute(QueryExecutorBase.java:95)&#xA;&#x9;at com.intellij.util.ExecutorsQuery.processResults(ExecutorsQuery.java:45)&#xA;&#x9;at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:79)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.process(UniqueResultsQuery.java:66)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.forEach(UniqueResultsQuery.java:56)&#xA;&#x9;at com.intellij.psi.impl.search.JavaAllOverridingMethodsSearcher.execute(JavaAllOverridingMethodsSearcher.java:63)&#xA;&#x9;at com.intellij.psi.impl.search.JavaAllOverridingMethodsSearcher.execute(JavaAllOverridingMethodsSearcher.java:40)&#xA;&#x9;at com.intellij.util.ExecutorsQuery.processResults(ExecutorsQuery.java:45)&#xA;&#x9;at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:79)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.process(UniqueResultsQuery.java:66)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.forEach(UniqueResultsQuery.java:56)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.markers.OverridenFunctionMarkerKt.getOverriddenDeclarations(OverridenFunctionMarker.kt:54)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.markers.KotlinLineMarkerProviderKt.collectOverriddenFunctions(KotlinLineMarkerProvider.kt:220)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.markers.KotlinLineMarkerProviderKt.access$collectOverriddenFunctions(KotlinLineMarkerProvider.kt:1)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.markers.KotlinLineMarkerProvider.collectSlowLineMarkers(KotlinLineMarkerProvider.kt:83)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.SlowLineMarkersPass.addLineMarkers(SlowLineMarkersPass.java:78)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.SlowLineMarkersPass.doCollectInformation(SlowLineMarkersPass.java:65)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:434)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1026)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:427)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:494)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:443)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:426)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:402)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:154)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;&#xA;&#xA;java.lang.IllegalStateException: invisible_fake is not a valid visibility in backend for invisible_fake open fun &lt;get-faceProp&gt;(): kotlin.String defined in org.jetbrains.ache.jarc_01_lint.structure.member.ContentChild&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getVisibilityAccessFlag(AsmUtil.java:251)&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getCommonCallableFlags(AsmUtil.java:232)&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getMethodAsmFlags(AsmUtil.java:190)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:179)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:160)&#xA;&#x9;at org.jetbrains.kotlin.codegen.InterfaceImplBodyCodegen.generateDelegationToSuperDefaultImpls(InterfaceImplBodyCodegen.kt:115)&#xA;&#x9;at org.jetbrains.kotlin.codegen.InterfaceImplBodyCodegen.generateSyntheticParts(InterfaceImplBodyCodegen.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:122)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateDefaultImplsIfNeeded(ImplementationBodyCodegen.java:242)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:120)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:266)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject.generate(LightClassDataProvider.kt:258)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProvider.computeLightClassData(LightClassDataProvider.kt:108)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProvider.compute(LightClassDataProvider.kt:71)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:65)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$Companion.getLightClassData(KtLightClassForSourceDeclaration.kt:386)&#xA;&#x9;at org.jetbrains.kotlin.asJava.DuplicateJvmSignatureUtilKt$getJvmSignatureDiagnostics$2.invoke(duplicateJvmSignatureUtil.kt:45)&#xA;&#x9;at org.jetbrains.kotlin.asJava.DuplicateJvmSignatureUtilKt$getJvmSignatureDiagnostics$3.invoke(duplicateJvmSignatureUtil.kt:64)&#xA;&#x9;at org.jetbrains.kotlin.asJava.DuplicateJvmSignatureUtilKt.getJvmSignatureDiagnostics(duplicateJvmSignatureUtil.kt:82)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.DuplicateJvmSignatureAnnotator.annotate(DuplicateJvmSignatureAnnotator.java:47)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.a(DefaultHighlightVisitor.java:139)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.visit(DefaultHighlightVisitor.java:102)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.a(GeneralHighlightingPass.java:334)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.a(GeneralHighlightingPass.java:269)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.a(GeneralHighlightingPass.java:293)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.a(GeneralHighlightingPass.java:296)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.analyze(DefaultHighlightVisitor.java:86)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.a(GeneralHighlightingPass.java:296)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.a(GeneralHighlightingPass.java:268)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.collectInformationWithProgress(GeneralHighlightingPass.java:207)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:82)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:434)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1026)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:427)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:494)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:443)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:426)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:402)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:154)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;&#xA;&#xA;java.lang.IllegalStateException: invisible_fake is not a valid visibility in backend for invisible_fake open fun &lt;get-faceProp&gt;(): kotlin.String defined in org.jetbrains.ache.jarc_01_lint.structure.member.ContentChild&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getVisibilityAccessFlag(AsmUtil.java:251)&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getCommonCallableFlags(AsmUtil.java:232)&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getMethodAsmFlags(AsmUtil.java:190)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:179)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:160)&#xA;&#x9;at org.jetbrains.kotlin.codegen.InterfaceImplBodyCodegen.generateDelegationToSuperDefaultImpls(InterfaceImplBodyCodegen.kt:115)&#xA;&#x9;at org.jetbrains.kotlin.codegen.InterfaceImplBodyCodegen.generateSyntheticParts(InterfaceImplBodyCodegen.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:122)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateDefaultImplsIfNeeded(ImplementationBodyCodegen.java:242)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:120)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:266)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject.generate(LightClassDataProvider.kt:258)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProvider.computeLightClassData(LightClassDataProvider.kt:108)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProvider.compute(LightClassDataProvider.kt:71)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:65)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$Companion.getLightClassData(KtLightClassForSourceDeclaration.kt:386)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getLightClassData(KtLightClassForSourceDeclaration.kt:112)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getJavaFileStub(KtLightClassForSourceDeclaration.kt:105)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.access$getJavaFileStub(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$clsDelegate$2.invoke(KtLightClassForSourceDeclaration.kt:83)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$clsDelegate$2.invoke(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at kotlin.SafePublicationLazyImpl.getValue(Lazy.kt:188)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getClsDelegate(KtLightClassForSourceDeclaration.kt)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getClsDelegate(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getDelegate(KtLightClassBase.java:57)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getOwnMethods(KtLightClassBase.java:136)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.b(ClassInnerStuffCache.java:169)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.access$300(ClassInnerStuffCache.java:38)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache$3.compute(ClassInnerStuffCache.java:75)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager$1.compute(CachedValuesManager.java:137)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:65)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:84)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:133)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.getMethods(ClassInnerStuffCache.java:71)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getMethods(KtLightClassBase.java:69)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.a(PsiClassImplUtil.java:686)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.access$500(PsiClassImplUtil.java:63)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil$MembersMap.create(PsiClassImplUtil.java:405)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil$MembersMap.create(PsiClassImplUtil.java:353)&#xA;&#x9;at com.intellij.util.containers.FactoryMap.get(FactoryMap.java:56)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.b(PsiClassImplUtil.java:208)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.a(PsiClassImplUtil.java:154)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.findMethodsByName(PsiClassImplUtil.java:97)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.findMethodsByName(ClassInnerStuffCache.java:108)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.findMethodsByName(KtLightClassBase.java:110)&#xA;&#x9;at com.intellij.psi.util.PsiMethodUtil.hasMainMethod(PsiMethodUtil.java:79)&#xA;&#x9;at com.intellij.codeInspection.deadCode.UnusedDeclarationInspectionBase.isEntryPoint(UnusedDeclarationInspectionBase.java:409)&#xA;&#x9;at org.jetbrains.kotlin.idea.inspections.UnusedSymbolInspection$Companion.isEntryPoint(UnusedSymbolInspection.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.idea.inspections.UnusedSymbolInspection$buildVisitor$1.visitDeclaration(UnusedSymbolInspection.kt:170)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:445)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:390)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:373)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:951)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitClassOrObject(KtVisitor.java:41)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:37)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:457)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitClass(KtVisitor.java:33)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:33)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:451)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtClass.accept(KtClass.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:58)&#xA;&#x9;at com.intellij.codeInspection.InspectionEngine.acceptElements(InspectionEngine.java:81)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:310)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.a(ApplierCompleter.java:123)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1026)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.b(ApplierCompleter.java:96)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:494)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:443)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.a(ApplierCompleter.java:106)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:91)&#xA;&#x9;at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.pollAndExecCC(ForkJoinPool.java:1190)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1879)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.awaitJoin(ForkJoinPool.java:2045)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doJoin(ForkJoinTask.java:390)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:719)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.invoke(ForkJoinPool.java:2616)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl.invokeConcurrentlyUnderProgress(JobLauncherImpl.java:60)&#xA;&#x9;at com.intellij.concurrency.JobLauncher.invokeConcurrentlyUnderProgress(JobLauncher.java:57)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:321)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:229)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.collectInformationWithProgress(LocalInspectionsPass.java:136)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:82)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:434)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1026)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:427)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:494)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:443)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:426)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:402)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:154)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;&#xA;&#xA;java.lang.IllegalStateException: invisible_fake is not a valid visibility in backend for invisible_fake open fun &lt;get-faceProp&gt;(): kotlin.String defined in org.jetbrains.ache.jarc_01_lint.structure.member.ContentChild&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getVisibilityAccessFlag(AsmUtil.java:251)&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getCommonCallableFlags(AsmUtil.java:232)&#xA;&#x9;at org.jetbrains.kotlin.codegen.AsmUtil.getMethodAsmFlags(AsmUtil.java:190)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:179)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:160)&#xA;&#x9;at org.jetbrains.kotlin.codegen.InterfaceImplBodyCodegen.generateDelegationToSuperDefaultImpls(InterfaceImplBodyCodegen.kt:115)&#xA;&#x9;at org.jetbrains.kotlin.codegen.InterfaceImplBodyCodegen.generateSyntheticParts(InterfaceImplBodyCodegen.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:122)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateDefaultImplsIfNeeded(ImplementationBodyCodegen.java:242)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:120)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:266)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject.generate(LightClassDataProvider.kt:258)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProvider.computeLightClassData(LightClassDataProvider.kt:108)&#xA;&#x9;at org.jetbrains.kotlin.asJava.builder.LightClassDataProvider.compute(LightClassDataProvider.kt:71)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:65)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$Companion.getLightClassData(KtLightClassForSourceDeclaration.kt:386)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getLightClassData(KtLightClassForSourceDeclaration.kt:112)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getJavaFileStub(KtLightClassForSourceDeclaration.kt:105)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.access$getJavaFileStub(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$clsDelegate$2.invoke(KtLightClassForSourceDeclaration.kt:83)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration$clsDelegate$2.invoke(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at kotlin.SafePublicationLazyImpl.getValue(Lazy.kt:188)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getClsDelegate(KtLightClassForSourceDeclaration.kt)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getClsDelegate(KtLightClassForSourceDeclaration.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getDelegate(KtLightClassBase.java:57)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getOwnMethods(KtLightClassBase.java:136)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.b(ClassInnerStuffCache.java:169)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.access$300(ClassInnerStuffCache.java:38)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache$3.compute(ClassInnerStuffCache.java:75)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager$1.compute(CachedValuesManager.java:137)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:65)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:84)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:133)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.getMethods(ClassInnerStuffCache.java:71)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getMethods(KtLightClassBase.java:69)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.a(PsiClassImplUtil.java:686)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.access$500(PsiClassImplUtil.java:63)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil$MembersMap.create(PsiClassImplUtil.java:405)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil$MembersMap.create(PsiClassImplUtil.java:353)&#xA;&#x9;at com.intellij.util.containers.FactoryMap.get(FactoryMap.java:56)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.b(PsiClassImplUtil.java:208)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.a(PsiClassImplUtil.java:154)&#xA;&#x9;at com.intellij.psi.impl.PsiClassImplUtil.findMethodsByName(PsiClassImplUtil.java:97)&#xA;&#x9;at com.intellij.psi.impl.source.ClassInnerStuffCache.findMethodsByName(ClassInnerStuffCache.java:108)&#xA;&#x9;at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.findMethodsByName(KtLightClassBase.java:110)&#xA;&#x9;at com.intellij.psi.util.PsiMethodUtil.hasMainMethod(PsiMethodUtil.java:79)&#xA;&#x9;at com.intellij.codeInspection.deadCode.UnusedDeclarationInspectionBase.isEntryPoint(UnusedDeclarationInspectionBase.java:409)&#xA;&#x9;at org.jetbrains.kotlin.idea.inspections.UnusedSymbolInspection$Companion.isEntryPoint(UnusedSymbolInspection.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.idea.inspections.UnusedSymbolInspection$buildVisitor$1.visitDeclaration(UnusedSymbolInspection.kt:170)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:445)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:390)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:373)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:951)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitClassOrObject(KtVisitor.java:41)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:37)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:457)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitClass(KtVisitor.java:33)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:33)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:451)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtClass.accept(KtClass.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:58)&#xA;&#x9;at com.intellij.codeInspection.InspectionEngine.acceptElements(InspectionEngine.java:81)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:310)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.a(ApplierCompleter.java:123)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1026)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.b(ApplierCompleter.java:96)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:494)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:443)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.a(ApplierCompleter.java:106)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:91)&#xA;&#x9;at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.pollAndExecCC(ForkJoinPool.java:1190)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1879)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.awaitJoin(ForkJoinPool.java:2045)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doJoin(ForkJoinTask.java:390)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:719)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.invoke(ForkJoinPool.java:2616)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl.invokeConcurrentlyUnderProgress(JobLauncherImpl.java:60)&#xA;&#x9;at com.intellij.concurrency.JobLauncher.invokeConcurrentlyUnderProgress(JobLauncher.java:57)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:321)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:229)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.collectInformationWithProgress(LocalInspectionsPass.java:136)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:82)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:434)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1026)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:427)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:494)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:443)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:426)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:402)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:154)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)" shownForIssueAuthor="false" created="1480961057889" updated="1480961077335" markdown="false"><replies/></comment></issue><issue id="KT-15143" entityId="25-1382042"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15143</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin: Colors&amp;Fonts -&gt; "Enum entry" should use Language Default -&gt; Classes - Static field</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>now it uses "Instance field"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1481056520934</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975889</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yannc76</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yann Cebron</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15197" entityId="25-1386238"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15197</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Flaky test FindUsagesTestGenerated$Kotlin$Conventions$Components.testDataClass </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>https://teamcity.jetbrains.com/project.html?projectId=Kotlin&amp;tab=testDetails&amp;testNameId=-2923488100606523350#analysis
Unmute the test when fixed.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1481535004371</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975885</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roman Elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15214" entityId="25-1387170"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15214</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Override completion popup issues with placement of elements</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>!image.png!
!image2.png!
notice remnants of selection on first screenshot on `componentWillReceiveProps`, and different location of interface implementation icon on `componentWillMount` on second screenshot compared to first.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1481580559541</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216410</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-368781" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-368781&amp;c=true">image.png</value><value id="74-368782" url="https://youtrack.jetbrains.com/_persistent/image2.png?file=74-368782&amp;c=true">image2.png</value><value id="74-368784" url="https://youtrack.jetbrains.com/_persistent/image3.png?file=74-368784&amp;c=true">image3.png</value></field><comment id="27-1791858" author="orangy" authorFullName="Ilya Ryzhenkov" issueId="KT-15214" deleted="false" text="It also looks like size calculations for extended selection is slightly off&#xA;!image3.png!&#xA;see light-blue brick at the end of selection…" shownForIssueAuthor="false" created="1481581334615" markdown="false"><replies/></comment></issue><issue id="KT-15265" entityId="25-1390113"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15265</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion: When completing stdlib function 'repeat', fully qualified call is inserted</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin 1.1.0-dev-5380

```
repea&lt;caret&gt; // select 'repeat'

//inserts:

kotlin.repeat()
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1481792704817</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216411</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kirill.rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15274" entityId="25-1390621"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15274</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>ISE: &lt;production sources for module ...&gt; is not contained in resolver Resolver for 'sdk 1.8: java version "1.8.0_66": at ResolverForProjectImpl.resolverForModuleDescriptor()</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Got exception once and cannot reproduce for now.
IDEA 171.1690 + Kotlin plugin 1.1.0-dev-5471.

Got a .kt source. Added one inner class. Moved the caret across the KDoc section with arrow keys.
At some point got an exception from compiler. (Was set to build the project automatically.)
Same actions do not repeat the trace.

If does matter, my project JDK is really JDK 1.8.0_66.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1481816918710</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975884</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1800260" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-15274" deleted="false" text="My source was the following. Added class is `MoreContainingClass`:&#xA;&#xA;{code:lang=kotlin}&#xA;import eclipse.Parent&#xA;&#xA;/**&#xA; * aaa [topLevelFun] bbb&#xA; * aaa [ContainingClass] bbb&#xA; * aaa [ContainingClass.classLevelVal] bbb&#xA; * aaa [doc.topLevelFun] bbb&#xA; * aaa [doc.ContainingClass] bbb&#xA; * aaa [doc.ContainingClass.classLevelVal] bbb&#xA; * aaa [delegation.DelegateFace] bbb&#xA; * aaa [Parent] bbb&#xA; * aaa [java.io.File] bbb&#xA; * aaa [org.xml.sax.ErrorHandler] bbb&#xA; * @see topLevelFun&#xA; * @see topOverload&#xA; * @see ContainingClass&#xA; * @see ContainingClass.classLevelFun&#xA; * @see ContainingClass.classOverload&#xA; * @see doc.topLevelFun&#xA; * @see doc.topOverload&#xA; * @see doc.ContainingClass&#xA; * @see doc.ContainingClass.classLevelFun&#xA; * @see doc.ContainingClass.classOverload&#xA; * @see delegation.DelegateFace&#xA; * @see Parent&#xA; * @see java.io.File&#xA; * @see org.xml.sax.ErrorHandler&#xA; */&#xA;class DocReferrer&#xA;&#xA;fun topLevelFun() {}&#xA;fun topOverload(p: Int) {}&#xA;fun topOverload(p: String) {}&#xA;class ContainingClass {&#xA;    val classLevelVal = 1&#xA;    fun classLevelFun() {}&#xA;    fun classOverload(p: Int) {}&#xA;    fun classOverload(p: String) {}&#xA;    class MoreContainingClass&#xA;} {code}&#xA;&#xA;-----&#xA;&#xA;2016-12-15 18:31:54,088 [  57792]   INFO - project.TargetPlatformDetector - Using default platform for file: JvmClassMappingKt.class &#xA;2016-12-15 18:32:12,395 [  76099]   INFO - ij.compiler.impl.CompileDriver - COMPILATION STARTED (BUILD PROCESS) &#xA;2016-12-15 18:32:12,510 [  76214]   INFO - j.compiler.server.BuildManager - Using preloaded build process to compile /home/ache/jb-projects/trunk/darc-02-rf &#xA;2016-12-15 18:32:33,349 [  97053]   INFO - j.compiler.server.BuildManager - BUILDER_PROCESS [system]: /opt/java/jdk1.8.0_66/bin/java -Xmx700m -Djava.awt.headless=true -Djava.endorsed.dirs=\&quot;\&quot; -Djdt.compiler.useSingleThread=true -Dpreload.project.path=/home/ache/jb-projects/trunk/darc-02-rf -Dpreload.config.path=/home/ache/.IntelliJIdea/config/options -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Djava.net.preferIPv4Stack=true -Dio.netty.initialSeedUniquifier=802549583277736919 -Dfile.encoding=UTF-8 -Djps.file.types.component.name=FileTypeManager -Duser.language=en -Duser.country=GB -Didea.paths.selector=IntelliJIdea2017.1 &quot;-Didea.home.path=/home/ache/JB Soft/idea-IU-171.1713&quot; -Didea.config.path=/home/ache/.IntelliJIdea/config -Didea.plugins.path=/home/ache/.IntelliJIdea/config/plugins -Djps.log.dir=/home/ache/.IntelliJIdea/system/log/build-log &quot;-Djps.fallback.jdk.home=/home/ache/JB Soft/idea-IU-171.1713/jre/jre&quot; -Djps.fallback.jdk.version=1.8.0_112-release -Dio.netty.noUnsafe=true -Djava.io.tmpdir=/home/ache/.IntelliJIdea/system/compile-server/_temp_ -Djps.backward.ref.index.builder=true -Dkotlin.incremental.compilation.experimental=true -Dkotlin.daemon.client.alive.path=\&quot;/tmp/kotlin-idea-2083478221710544007-is-running\&quot; -classpath &quot;/home/ache/JB Soft/idea-IU-171.1713/lib/jps-launcher.jar:/opt/java/jdk1.8.0_66/lib/tools.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/optimizedFileManager.jar&quot; org.jetbrains.jps.cmdline.Launcher &quot;/home/ache/JB Soft/idea-IU-171.1713/lib/jps-model.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/jps-builders.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/resources_en.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/oromatcher.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/jna.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/netty-all-4.1.6.Final.Patched.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/nanoxml-2.2.3.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/protobuf-2.5.0.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/javac2.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/util.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/idea_rt.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/log4j.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/trove4j.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/forms_rt.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/openapi.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/annotations.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/jgoodies-forms.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/snappy-in-java-0.5.1.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/asm-all.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/xercesImpl.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/jps-builders-6.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/rt/jps-plugin-system.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/jna-platform.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/jdom.jar::/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-messaging-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-core-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-model-groovy-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-base-services-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/kryo-2.22.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-tooling-extension-api.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-freebsd-i386-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/commons-io-2.2.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/commons-lang-2.6.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/reflectasm-1.07.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-model-core-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-logging-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/minlog-1.2.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-tooling-api-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-linux-i386-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-resources-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-process-services-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-freebsd-amd64-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/objenesis-1.2.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-linux-amd64-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-osx-i386-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-base-services-groovy-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-osx-amd64-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-windows-amd64-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-windows-i386-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/jsr305-1.3.9.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-native-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-cli-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/resources_en.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/native-platform-0.11.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-wrapper-3.1.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/guava-jdk5-17.0.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-tooling-extension-impl.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/gson-2.5.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/jarutils.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/ant/lib/ant-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/devkit/lib/devkit-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/uiDesigner/lib/jps/ui-designer-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/IntelliLang/lib/intellilang-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/Groovy/lib/groovy-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/Groovy/lib/groovy-rt-constants.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/eclipse/lib/eclipse-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/eclipse/lib/common-eclipse-util.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/maven/lib/maven-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/maven/lib/aether-dependency-resolver.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/maven/lib/aether-1.1.0-all.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/maven/lib/maven-aether-provider-3.3.9-all.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/maven/lib/plexus-utils-2.0.6.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/osmorc/lib/osmorc-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/osmorc/lib/bndlib-3.3.0.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/osmorc/lib/bnd-repository-3.3.0.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/osmorc/lib/bnd-resolve-3.3.0.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/osmorc/lib/plexus-utils-3.0.10.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/osmorc/lib/bundlor-all.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/aspectj/lib/aspectj-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/flex/lib/flex-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/flex/lib/flex-shared.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/gradle/lib/gradle-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/JavaEE/lib/javaee-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/JavaEE/lib/jps/jpa-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/webSphereIntegration/lib/jps/webSphere-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/weblogicIntegration/lib/jps/weblogic-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/Grails/lib/grails-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/Grails/lib/grails-compiler-patch.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/jps/android-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/jps/android-gradle-jps.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/android-common.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/android-rt.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/sdk-common.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/repository.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/sdklib.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/common.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/jarutils.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/layoutlib-api.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/android/lib/manifest-merger.jar:/home/ache/.IntelliJIdea/config/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar:/home/ache/.IntelliJIdea/config/plugins/Kotlin/lib/kotlin-runtime.jar:/home/ache/.IntelliJIdea/config/plugins/Kotlin/lib/kotlin-reflect.jar:/home/ache/.IntelliJIdea/config/plugins/Kotlin/lib/kotlin-plugin.jar:/home/ache/.IntelliJIdea/config/plugins/Kotlin/lib/kotlin-android-extensions-plugin.jar:/home/ache/.IntelliJIdea/config/plugins/Kotlin/lib/kotlin-android-extensions-compiler-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/javaFX/lib/javaFX-jps-plugin.jar:/home/ache/JB Soft/idea-IU-171.1713/plugins/javaFX/lib/common-javaFX-plugin.jar&quot; org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 55584 9c15d01e-57a4-4343-bbea-68a5aa4fc580 /home/ache/.IntelliJIdea/system/compile-server &#xA;2016-12-15 18:32:33,394 [  97098]   INFO - lij.compiler.impl.CompilerUtil - &#x9;COMPILATION FINISHED (BUILD PROCESS); Errors: 0; warnings: 452 took 21006 ms: 0 min 21sec &#xA;2016-12-15 18:32:33,605 [  97309]   INFO - j.compiler.server.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /home/ache/JB Soft/idea-IU-171.1713/lib/jps-launcher.jar:/opt/java/jdk1.8.0_66/lib/tools.jar:/home/ache/JB Soft/idea-IU-171.1713/lib/optimizedFileManager.jar &#xA;2016-12-15 18:36:55,293 [ 358997]   INFO - j.compiler.server.BuildManager - Using preloaded build process to compile /home/ache/jb-projects/trunk/darc-02-rf &#xA;2016-12-15 18:36:58,724 [ 362428]  ERROR - aemon.impl.PassExecutorService - &lt;production sources for module crs-a&gt; is a module[ModuleDescriptorImpl@1bc7bbfb] is not contained in resolver Resolver for 'sdk 1.8: java version &quot;1.8.0_66&quot; (/opt/java/jdk1.8.0_66)' &#xA;java.lang.IllegalStateException: &lt;production sources for module crs-a&gt; is a module[ModuleDescriptorImpl@1bc7bbfb] is not contained in resolver Resolver for 'sdk 1.8: java version &quot;1.8.0_66&quot; (/opt/java/jdk1.8.0_66)'&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:95)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForDescriptor(ProjectResolutionFacade.kt:50)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ResolutionFacadeImpl.kt:90)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocLink(resolveKDocLink.kt:69)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.KDocReference.getTargetDescriptors(KDocReference.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference.resolveToDescriptors(KtReference.kt:78)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$Companion.targets(KotlinImportOptimizer.kt:201)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$Companion.access$targets(KotlinImportOptimizer.kt:168)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$CollectUsedDescriptorsVisitor.visitKtElement(KotlinImportOptimizer.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtElement(KtVisitorVoid.java:439)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtElement(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImpl.accept(KtElementImpl.java:72)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImpl.accept(KtElementImpl.java:50)&#xA;&#x9;at com.intellij.psi.impl.PsiElementBase.acceptChildren(PsiElementBase.java:69)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$CollectUsedDescriptorsVisitor.visitElement(KotlinImportOptimizer.kt:80)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitKtElement(KtVisitor.java:24)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtElement(KtVisitorVoid.java:25)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$CollectUsedDescriptorsVisitor.visitKtElement(KotlinImportOptimizer.kt:115)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtElement(KtVisitorVoid.java:439)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtElement(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImpl.accept(KtElementImpl.java:72)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImpl.accept(KtElementImpl.java:50)&#xA;&#x9;at com.intellij.psi.impl.PsiElementBase.acceptChildren(PsiElementBase.java:69)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$CollectUsedDescriptorsVisitor.visitElement(KotlinImportOptimizer.kt:80)&#xA;&#x9;at com.intellij.psi.impl.PsiElementBase.accept(PsiElementBase.java:274)&#xA;&#x9;at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:106)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$CollectUsedDescriptorsVisitor.visitElement(KotlinImportOptimizer.kt:80)&#xA;&#x9;at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.accept(LazyParseablePsiElement.java:245)&#xA;&#x9;at com.intellij.psi.impl.PsiElementBase.acceptChildren(PsiElementBase.java:69)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$CollectUsedDescriptorsVisitor.visitElement(KotlinImportOptimizer.kt:80)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitKtElement(KtVisitor.java:24)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtElement(KtVisitorVoid.java:25)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$CollectUsedDescriptorsVisitor.visitKtElement(KotlinImportOptimizer.kt:115)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtElement(KtVisitorVoid.java:439)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtElement(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitExpression(KtVisitor.java:178)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitExpression(KtVisitorVoid.java:165)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitExpression(KtVisitorVoid.java:651)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitExpression(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitDeclaration(KtVisitor.java:29)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:29)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:445)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:390)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:373)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:951)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitClassOrObject(KtVisitor.java:41)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:37)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:457)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitClass(KtVisitor.java:33)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:33)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:451)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtClass.accept(KtClass.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:58)&#xA;&#x9;at com.intellij.psi.impl.source.tree.SharedImplUtil.acceptChildren(SharedImplUtil.java:200)&#xA;&#x9;at com.intellij.psi.impl.source.PsiFileImpl.acceptChildren(PsiFileImpl.java:849)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$CollectUsedDescriptorsVisitor.visitElement(KotlinImportOptimizer.kt:80)&#xA;&#x9;at com.intellij.psi.PsiElementVisitor.visitFile(PsiElementVisitor.java:34)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitKtFile(KtVisitor.java:73)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtFile(KtVisitorVoid.java:69)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtFile(KtVisitorVoid.java:505)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtFile(KtVisitorVoid.java:21)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtFile.accept(KtFile.java:234)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtFile.accept(KtFile.java:214)&#xA;&#x9;at org.jetbrains.kotlin.idea.imports.KotlinImportOptimizer$Companion.collectDescriptorsToImport(KotlinImportOptimizer.kt:171)&#xA;&#x9;at org.jetbrains.kotlin.idea.inspections.KotlinUnusedImportInspection.checkFile(KotlinUnusedImportInspection.kt:62)&#xA;&#x9;at com.intellij.codeInspection.LocalInspectionTool$1.visitFile(LocalInspectionTool.java:156)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtFile.accept(KtFile.java:217)&#xA;&#x9;at com.intellij.codeInspection.InspectionEngine.acceptElements(InspectionEngine.java:81)&#xA;&#x9;at com.intellij.codeInspection.InspectionEngine.createVisitorAndAcceptElements(InspectionEngine.java:69)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:282)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.a(LocalInspectionsPass.java:250)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.a(ApplierCompleter.java:133)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1128)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.a(ApplierCompleter.java:105)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:587)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:532)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.b(ApplierCompleter.java:116)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.c(ApplierCompleter.java:96)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:142)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:238)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)&#xA;&#x9;at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;2016-12-15 18:36:58,735 [ 362439]  ERROR - aemon.impl.PassExecutorService - IntelliJ IDEA 2017.1 EAP  Build #IU-171.1713 &#xA;2016-12-15 18:36:58,735 [ 362439]  ERROR - aemon.impl.PassExecutorService - JDK: 1.8.0_112-release &#xA;2016-12-15 18:36:58,735 [ 362439]  ERROR - aemon.impl.PassExecutorService - VM: OpenJDK 64-Bit Server VM &#xA;2016-12-15 18:36:58,735 [ 362439]  ERROR - aemon.impl.PassExecutorService - Vendor: JetBrains s.r.o &#xA;2016-12-15 18:36:58,735 [ 362439]  ERROR - aemon.impl.PassExecutorService - OS: Linux &#xA;2016-12-15 18:36:58,735 [ 362439]  ERROR - aemon.impl.PassExecutorService - Last Action: EditorUp " shownForIssueAuthor="false" created="1481816986391" markdown="false"><replies/></comment></issue><issue id="KT-15333" entityId="25-1393271"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15333</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Exception in KtSimpleNameReference.getRangeInElement()</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>java.lang.Throwable
    at com.intellij.openapi.diagnostic.Logger.error(Logger.java:132)
    at com.intellij.openapi.util.TextRange.assertProperRange(TextRange.java:222)
    at com.intellij.openapi.util.TextRange.assertProperRange(TextRange.java:217)
    at com.intellij.openapi.util.TextRange.assertProperRange(TextRange.java:213)
    at com.intellij.openapi.util.TextRange.&lt;init&gt;(TextRange.java:43)
    at com.intellij.openapi.util.TextRange.&lt;init&gt;(TextRange.java:32)
    at com.intellij.openapi.util.TextRange.shiftRight(TextRange.java:133)
    at org.jetbrains.kotlin.idea.references.KtSimpleNameReference.getRangeInElement(KtSimpleNameReference.kt:90)
    at com.jetbrains.upsource.psi.impl.lang.LanguagePsiServiceBase.a(LanguagePsiServiceBase.java:65)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1482158944207</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975883</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15591" entityId="25-1405912"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15591</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion in interpolated string eats the following dollar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
val foo = 92
val s = "$fo&lt;caret&gt;$"
```

Hitting `Ctrl+Space, Tab` yields `"$foo"`, while `"$foo$"` is expected. </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1483965091451</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216412</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>aleksey.kladov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksey Kladov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.6</value><valueId>1.0.6</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15617" entityId="25-1406747"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15617</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Fully add a required library on adding new Kotlin module</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. create Java project
2. Open `Project Structure`
3. Open `Modules`, add `New Module`, choose `Kotlin (JVM)` or `Kotlin (JavaScript)`
Result: new module is added and its `Dependencies` tab shows new library `KotlinJavaRuntime` or `KotlinJavaScript`, but this library is shown red, as really no library is added - tab `Libraries` is empty even after closing and reopening `Project Structure`
Expected: a corresponding required library is added fully and shown in the `Libraries` tab 

Note: it doesn't matter what project is created on the step #1 - it can be `Kotlin (JVM)` project and then add `Kotlin (JavaScript)` module or vice versa.

Build:
IntelliJ IDEA 2016.3   EAP, Build #IU-163.11639 + Kotlin plugin 1.1.0-dev-5819 (master)
IntelliJ IDEA 2017.1   EAP, Build #IU-171.2272 + Kotlin plugin 1.0.7-eap-12-IJ2016.3-1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1484044943376</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975882</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Viktoria.Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Viktoria Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1</value><value>1.0.7</value><valueId>1.1</valueId><valueId>1.0.7</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15720" entityId="25-1411083"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15720</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unversioned java file becomes versioned (Git) after converting file to Kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1484395566122</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975881</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>panell</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Igor Wojda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.6</value><valueId>1.0.6</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1846343" author="panell" authorFullName="Igor Wojda" issueId="KT-15720" deleted="false" text="Similar to&#xA;https://youtrack.jetbrains.com/issue/KT-8424" shownForIssueAuthor="false" created="1484395686393" markdown="false"><replies/></comment></issue><issue id="KT-15799" entityId="25-1414550"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15799</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion of type parameter does not work in an argument list of base type of anonymous object</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
interface Foo&lt;TSubject&gt;

open class Bar&lt;TSubject&gt; {
    fun x() {
        val foo = object : Foo&lt;TSubject&gt; {}
    }
}
```
!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1484759646798</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216427</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.6</value><valueId>1.0.6</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-376945" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-376945&amp;c=true">image.png</value></field></issue><issue id="KT-15927" entityId="25-1419356"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15927</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Create Kotlin File/Class dialog doesn't remember last used type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>My workflow is extending Java based API (IntelliJ Platform) by components and EPs written in Kotlin. So, most of the time I create Kotlin classes. It would be very nice if the dialog remembers my last choice.  </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1485265000676</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975873</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kb</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Konstantin Bulenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1869227" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-15927" deleted="false" text="The corresponding Java dialog doesn't remember the selection either. Perhaps we should only remember whether a file or a class was selected, and reset any other selection to class." shownForIssueAuthor="false" created="1485349152567" markdown="false"><replies/></comment><comment id="27-1870500" author="kb" authorFullName="Konstantin Bulenkov" issueId="KT-15927" deleted="false" text="It's true that Java dialog doesn't remember last selected option and I like it. It doesn't break my workflow at all.&#xA;By the way, what's the idea behind having &quot;Kotlin file&quot; as default in the dialog? As I can see in IJ project people create classes more frequently than files. (interfaces and objects are missed in the dialog)&#xA;Not sure this is relevant for all projects.    " shownForIssueAuthor="false" created="1485384381320" updated="1485384410081" markdown="false"><replies/></comment></issue><issue id="KT-15944" entityId="25-1419833"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15944</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDEA doesn't suggest to replace deprecated get set operator functions when it used as operator</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
interface T {
    @Deprecated("", replaceWith = ReplaceWith("this"))
    operator fun get(i: Int)
    @Deprecated("", replaceWith = ReplaceWith("this"), level = DeprecationLevel.ERROR)
    operator fun set(i: Int, v: Int)
    @Deprecated("", replaceWith = ReplaceWith("this"))
    operator fun plus(i: Int)
}

fun test_(t: T) {
    t[0] //&lt;&lt; doesn't work here
    t.get(0)
    t[0] = 1 //&lt;&lt; doesn't work here
    t.set(0, 1)
    t + 1
    t.plus(1)
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1485284888692</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522842041615</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>IDE. Inspections and Intentions</value><valueId>IDE</valueId><valueId>IDE. Inspections and Intentions</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-15982" entityId="25-1422095"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>15982</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Completion inserts extra whitespace before arguments in a subsequent call</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
fun KClass&lt;*&gt;.toProjection(arguments: List&lt;KTypeProjection&gt; = emptyList()): KTypeProjection {
    return &lt;caret&gt;createType(arguments)
}
```

In the example below, start typing and select the following completion variant: `KTypeProjection.invariant(type: KType)`. After pressing Enter, the code now looks like this:
```
fun KClass&lt;*&gt;.toProjection(arguments: List&lt;KTypeProjection&gt; = emptyList()): KTypeProjection {
    return KTypeProjection.invariant()createType (arguments)
}
```

Note the unneeded whitespace between `createType` and `(arguments)`, which I now must remove manually.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1485441748569</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216429</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-16105" entityId="25-1426784"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16105</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>'Make static' quickfix does not play well with Kotlin class</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Invoking the 'Make static' quickfix on a call from Java to a Kotlin function leads to the following exception:

com.intellij.util.IncorrectOperationException: Cannot modify compiled element in file '/sandboxes/untitled/src/MyClass.kt'
	at com.intellij.psi.impl.compiled.ClsElementImpl.cannotModifyException(ClsElementImpl.java:114)
	at com.intellij.psi.impl.compiled.ClsModifierListImpl.setModifierProperty(ClsModifierListImpl.java:54)
	at org.jetbrains.kotlin.asJava.elements.KtLightModifierList.setModifierProperty(KtLightModifierListWithExplicitModifiers.kt)
	at com.intellij.codeInsight.daemon.impl.quickfix.ModifierFix.a(ModifierFix.java:127)
	at com.intellij.codeInsight.daemon.impl.quickfix.ModifierFix.invoke(ModifierFix.java:165)
	at com.intellij.codeInspection.LocalQuickFixAndIntentionActionOnPsiElement.invoke(LocalQuickFixAndIntentionActionOnPsiElement.java:41)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.a(ShowIntentionActionsHandler.java:186)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.a(ShowIntentionActionsHandler.java:191)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.a(CoreCommandProcessor.java:149)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:109)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:99)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:85)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.chooseActionAndInvoke(ShowIntentionActionsHandler.java:185)
	at com.intellij.codeInsight.intention.impl.IntentionListStep.d(IntentionListStep.java:276)
	at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:204)
	at com.intellij.ui.popup.AbstractPopup.a(AbstractPopup.java:1394)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:843)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:679)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:391)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)



Kotlin class:
{code:lang=kotlin}
object MyClass {
    fun foo(): Boolean {
        return true
    }
}
{code}

Java class:
{code:lang=java}
public class MyMainClass {
    public static void main(String[] args) {
        MyClass.foo();
    }
}
{code}

The static call to ''foo()'' is annotated with message ''Non-static method 'foo()' cannot be referenced from a static context''; choosing the ''Make 'foo' static'' quick fix produces the exception. </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1485944510366</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975410</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>guno</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Guno Heitman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.30</value><valueId>1.2.30</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2727440" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-16105" deleted="false" text="Reproduced with IDEA 2018.1 EAP (181.3870.7), Kotlin Plugin 1.2.40-dev-662" shownForIssueAuthor="false" created="1519994298432" markdown="false"><replies/></comment><comment id="27-2731896" author="fg123" authorFullName="Felix Guo" issueId="KT-16105" deleted="false" text="Is the &quot;correct&quot; behaviour in this case to add `@JvmStatic` to the method defined in the Kotlin class? " shownForIssueAuthor="false" created="1520306058557" markdown="true"><replies/></comment><comment id="27-2732246" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-16105" deleted="false" text="@fg123, one of the possible solutions. Please take a look at [Kotlin reference|https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods]" shownForIssueAuthor="false" created="1520326832159" updated="1519994298322" markdown="false"><replies/></comment></issue><issue id="KT-16106" entityId="25-1426840"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16106</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Navigation broken to typealias declared in the api</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. Kotlin facet settings: "Use project settings" is on
2. Kotlin compiler settings: `Language Version = 1.1`, `API Version = 1.1`
3. Consider following Kotlin code:
{code}throw Exception(""){code}
4. Ctrl+click on `Exception` - the error popup "Cannot find declaration to go to"
Expected: navigation to "TypeAliases.kt" file
5. If on step 2 set `API Version = 1.0`
then ctrl+click on `Exception` goes to "Exception.java"
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1485946001128</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975871</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Viktoria.Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Viktoria Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1-Beta2</value><valueId>1.1-Beta2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-16112" entityId="25-1427111"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16112</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cross-module dependency on test classes flags up as errors</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>==Context==

I have a Gradle multi-project build in Kotlin where I require cross-module dependency on test classes. For example, I have a module with some test fixtures in the test source set and I have another module which is the test framework for the previous module which also depends on the test fixtures.


==Steps to reproduce==

# Open the attached Gradle project with the ''Create separate module per source set'' checked.

# Open `projectb.InKotlin`.


==Expected behaviour==

The below imports are allowed and the project builds successfully.

{code:lang=kt}
import projecta.JavaTestData
import projecta.KotlinTestData
{code}


==Current behaviour==

The imports are flagged as errors but the project actually builds successfully. Note that `projectb.InJava` does not show up any errors for the same imports.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1485955052672</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954341</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jonathan.yan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jonathan Yan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-380705" url="https://youtrack.jetbrains.com/_persistent/cross-project-dependency-on-test-classes.zip?file=74-380705&amp;c=true">cross-project-dependency-on-test-classes.zip</value></field></issue><issue id="KT-16302" entityId="25-1438362"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16302</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>WebDemo unusable from Chrome Mobile on Android</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Tried using web demo, but editor caret works really bad. I ever can't place it where needed. Also it won't work propely while typing, jumps somewhere after typing a few letters or dot.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1486893374994</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1486927652727</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Simon Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-383914" url="https://youtrack.jetbrains.com/_persistent/125134.png?file=74-383914&amp;c=true">125134.png</value></field></issue><issue id="KT-16324" entityId="25-1439985"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16324</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Sources are not displayed for file facades opened from Project View</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a new Gradle project, add the following dependency
```
    compile "com.github.czyzby:ktx-scene2d:1.9.5-b1"
```

Open the library in the Project View. Clicking on some of the files shown there leads to the corresponding source, but to some (presumably, for compiled file facades) -- to the decompiled text. I expect the navigation to sources work for all files there.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1487060336235</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975868</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-10534</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.0.6</value><valueId>1.0.6</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-384381" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-02-14%20at%2011.05.25.png?file=74-384381&amp;c=true">Screen Shot 2017-02-14 at 11.05.25.png</value></field></issue><issue id="KT-16397" entityId="25-1443583"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16397</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>No implementations gutter icon for Continuation or CoroutineContext in Kotlin JS project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1487244435709</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975862</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-385248" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-02-16%20at%2014.20.00.png?file=74-385248&amp;c=true">Screen Shot 2017-02-16 at 14.20.00.png</value><value id="74-385249" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-02-16%20at%2014.23.58.png?file=74-385249&amp;c=true">Screen Shot 2017-02-16 at 14.23.58.png</value></field></issue><issue id="KT-16398" entityId="25-1443614"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16398</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Can't navigate to CoroutineContext declaration from Continuation in Kotlin JS project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>`Continuation` from kotlin-stdlib-js-sources.jar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1487244783889</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975861</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-385254" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-02-16%20at%2014.30.54.png?file=74-385254&amp;c=true">Screen Shot 2017-02-16 at 14.30.54.png</value></field></issue><issue id="KT-16476" entityId="25-1451791"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16476</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Extend selection (Select Word) doesn't select just KDoc if cursor is just before the KDoc</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
class C {
&lt;cursor1&gt;  /** &lt;cursor2&gt;
   * 
   */
  fun f() {  
  }  
}
```

If the cursor is at the &lt;cursor1&gt; point, i.e. is separated from the KDoc by at least one space, the very first Extend Selection invocation selects both KDoc and the method. 

If the cursor is inside the KDoc (e.g. at &lt;cursor2&gt; position), then it is possible to select the whole KDoc in 3 steps of Extend Selection.

Note: This works correctly in Java.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1487671648800</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975856</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Kirill.Likhodedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Likhodedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-3947</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-16503" entityId="25-1456880"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16503</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Exception when typing interface delegation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
interface X
class Y : X by
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1487938812464</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975609</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1</value><value>1.0.5</value><valueId>1.1</valueId><valueId>1.0.5</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1957464" author="Stanislav.Erokhin" authorFullName="Stanislav Erokhin" issueId="KT-16503" deleted="false" text="Reproduced in 1.0.5" shownForIssueAuthor="false" created="1488283488381" markdown="false"><replies/></comment></issue><issue id="KT-16542" entityId="25-1460233"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16542</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Show Kotlin bytecode failure on select statement blocks (IllegalStateException: More than one package fragment)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. Checkout kotlixn.coroutines. https://github.com/Kotlin/kotlinx.coroutines/tree/master
2. Open `SelectRendezvousChannelTest` 
3. Navigate to the first test case `testSelectSendSuccess` 
4. Invoke "Show Kotlin Bytecode" action

Result is the following exception:

```
java.lang.IllegalStateException: More than one package fragment, files: [JetFile: SelectRendezvousChannelTest.kt, JetFile: Select.kt] | fragments: [package kotlinx.coroutines.experimental.selects, package kotlinx.coroutines.experimental.selects]
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.getOnlyPackageFragment(PackageCodegenImpl.java:151)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.&lt;init&gt;(PackageCodegenImpl.java:57)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.createPackageCodegen(CodegenFactory.kt:30)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.createPackageCodegen(CodegenFactory.kt:28)
	at org.jetbrains.kotlin.codegen.ClassFileFactory.forPackage(ClassFileFactory.java:174)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:98)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow.compileSingleFile(KotlinBytecodeToolWindow.java:332)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow.getBytecodeForFile(KotlinBytecodeToolWindow.java:251)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.java:140)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.java:78)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:884)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)
	at com.intellij.openapi.progress.impl.CoreProgressManager$3.run(CoreProgressManager.java:179)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:568)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:519)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:164)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)
	at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:309)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1488274996700</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975610</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roman Elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-16582" entityId="25-1462592"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16582</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Empty Generated class files tab</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1488390662599</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1496061178831</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>alextrotsenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alex Trotsenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Roman_Belov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roman Belov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-1962369" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-16582" deleted="false" text="I suggest fixing this issue by removing the Generated class files tab entirely." shownForIssueAuthor="false" created="1488390930918" markdown="false"><replies/></comment><comment id="27-2170169" author="ilya.gorbunov" authorFullName="Ilya Gorbunov" issueId="KT-16582" deleted="false" text="I suggest showing the generated bytecode in textual form instead, it would be more informative." shownForIssueAuthor="false" created="1495119239723" markdown="false"><replies/></comment><comment id="27-2172153" author="alextrotsenko" authorFullName="Alex Trotsenko" issueId="KT-16582" deleted="false" text="As end-user of try.kotlinlang.org I would like to see at least any kind of info. Dunno what was there before, but textual form sounds better then nothing. &#xA;&#xA;I will add an example of Kotlin code, which was confusing to me, in order to show why Java code would be nice to have there." shownForIssueAuthor="false" created="1495191962597" markdown="false"><replies/></comment><comment id="27-2193225" author="alextrotsenko" authorFullName="Alex Trotsenko" issueId="KT-16582" deleted="false" text="Sorry for delay with an example: I used to have it in the Chrome's tab, but lost.&#xA;&#xA;Here is very similar example, which looks confusing after reading [https://kotlinlang.org/docs/reference/classes.html &quot;Classes and Inheritance&quot;] as there is no info about initialisation order as well as constructor's arguments visibility.&#xA;&#xA;{code lang=kt}&#xA;fun printlnAndReturn(toPrint: String): String {&#xA;    println(toPrint)&#xA;    &#xA;    return toPrint;&#xA;}&#xA;&#xA;class Person constructor(firstName: String) {&#xA;    val firstName = printlnAndReturn(&quot;Field value&quot;)&#xA;    &#xA;    val lastName = printlnAndReturn(&quot;LastOf &quot; + firstName)&#xA;        &#xA;    fun printFirstName() {&#xA;        println(firstName)&#xA;    }&#xA;}&#xA;&#xA;fun main(args: Array&lt;String&gt;) {  &#xA;    var person = Person(printlnAndReturn(&quot;value_from_main&quot;));&#xA;    person.printFirstName()&#xA;}&#xA;{code}&#xA;&#xA;The output is:&#xA;&#xA;```&#xA;value_from_main&#xA;Field value&#xA;LastOf value_from_main&#xA;Field value&#xA;```&#xA;&#xA;As far as I see, for the field (lastName) it's taking values from constructor's arguments, but not from the another field (firstName). As for me, it would be really nice to see generated Java classes for such situation to makes things fully clear.&#xA;&#xA;Generally I would agree with [https://kotlin.link/articles/An-in-depth-look-at-Kotlin%E2%80%99s-initializers.html Conclusion of &quot;An in-depth look at Kotlin’s initializers&quot;]: &#xA; &#xA;&gt;So there you have it: Kotlin’s execution order for constructors and initializers is straight forward, but there are a lot of pieces that come in to play. Since it’s not documented very explicitly, it’s easy to get tripped up.&#xA;&#xA;I would only add, that having ability to look on the generated Java classes would help for the such ambiguous not documented cases." shownForIssueAuthor="false" created="1496061178833" updated="1495191962574" markdown="false"><replies/></comment></issue><issue id="KT-16677" entityId="25-1466987"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16677</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Error highlighting in REPL doesn't work correctly after :help command</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The error message is put on the ":help" command instead of the expression.

!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1488804177282</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954330</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>svtk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Svetlana Isakova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-390412" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-390412&amp;c=true">image.png</value></field></issue><issue id="KT-16794" entityId="25-1474374"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16794</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Settings search doesn't show Editor -&gt; Code Style -&gt; Kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When entering "tab" in Search in Preferences, Kotlin is not on the list. (Screenshot 1)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1489251672656</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975600</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mg6maciej</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maciej Górski</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-392041" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-03-11%20at%2017.56.45.png?file=74-392041&amp;c=true">Screen Shot 2017-03-11 at 17.56.45.png</value><value id="74-392042" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-03-11%20at%2017.57.00.png?file=74-392042&amp;c=true">Screen Shot 2017-03-11 at 17.57.00.png</value></field></issue><issue id="KT-16852" entityId="25-1478459"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16852</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Spring Boot controller tests running via PowerMock result in `inconsistent stack height` error</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Having a spring controller written in Kotlin, like
```
@RestController
class HighlightsController
@Autowired
constructor(
        private var highlightsService: HighlightsService,
        private var articleTeasersWidgetizer: ArticleTeasersWidgetizer
) {
...
}
```

And a test for that controller:
```
@RunWith(PowerMockRunner::class)
@PrepareForTest(
        HighlightsService::class,
        ArticleTeasersWidgetizer::class
)
class HighlightsControllerTest {

    @Mock private lateinit var highlightsService: HighlightsService
    @Mock private lateinit var articleTeasersWidgetizer: ArticleTeasersWidgetizer

    @InjectMocks lateinit var controller: HighlightsController

}
```

Results in:

```
java.lang.IllegalStateException: Failed to transform class with name ....content.controller.HighlightsControllerTest. Reason: &lt;init&gt; ()V in ....content.controller.HighlightsControllerTest: inconsistent stack height -1

	at org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:284)
	at org.powermock.core.classloader.MockClassLoader.loadModifiedClass(MockClassLoader.java:192)
	at org.powermock.core.classloader.DeferSupportingClassLoader.loadClass1(DeferSupportingClassLoader.java:77)
	at org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:67)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:161)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:48)
	at org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.createTestDelegators(AbstractTestSuiteChunkerImpl.java:111)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.&lt;init&gt;(JUnit4TestSuiteChunkerImpl.java:71)
	at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.&lt;init&gt;(AbstractCommonPowerMockRunner.java:32)
	at org.powermock.modules.junit4.PowerMockRunner.&lt;init&gt;(PowerMockRunner.java:34)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)
	at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)
	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)
	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:101)
	at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:87)
	at com.intellij.junit4.JUnit46ClassesRequestBuilder.collectWrappedRunners(JUnit46ClassesRequestBuilder.java:90)
	at com.intellij.junit4.JUnit46ClassesRequestBuilder.getClassesRequest(JUnit46ClassesRequestBuilder.java:51)
	at com.intellij.junit4.JUnit4TestRunnerUtil.buildRequest(JUnit4TestRunnerUtil.java:91)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:46)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)
Caused by: javassist.CannotCompileException: &lt;init&gt; ()V in ....content.controller.HighlightsControllerTest: inconsistent stack height -1
	at javassist.expr.ExprEditor.doit(ExprEditor.java:117)
	at javassist.CtClassType.instrument(CtClassType.java:1465)
	at org.powermock.core.transformers.impl.ClassMockTransformer.transformMockClass(ClassMockTransformer.java:65)
	at org.powermock.core.transformers.impl.AbstractMainMockTransformer.transform(AbstractMainMockTransformer.java:62)
	at org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:265)
	... 35 more
Caused by: javassist.bytecode.BadBytecode: &lt;init&gt; ()V in ....content.controller.HighlightsControllerTest: inconsistent stack height -1
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:111)
	at javassist.bytecode.MethodInfo.rebuildStackMap(MethodInfo.java:456)
	at javassist.bytecode.MethodInfo.rebuildStackMapIf6(MethodInfo.java:438)
	at javassist.expr.ExprEditor.doit(ExprEditor.java:113)
	... 39 more
Caused by: javassist.bytecode.BadBytecode: inconsistent stack height -1
	at javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:84)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:187)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:164)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:108)
	... 42 more
Caused by: java.lang.ArrayIndexOutOfBoundsException: -1
	at javassist.bytecode.stackmap.Tracer.doASTORE(Tracer.java:425)
	at javassist.bytecode.stackmap.Tracer.doOpcode54_95(Tracer.java:342)
	at javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:76)
	... 53 more
```

Same controller written in Java works fine

Kotlin 1.1.1
Spring boot 1.5.2 RELEASE
Powermock 1.6.6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1489584308197</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1492436050723</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>AAverin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anton Averin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-17008</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2101357" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-16852" deleted="false" text="@AAverin could you attach sample project?" shownForIssueAuthor="false" created="1492004178639" markdown="false"><replies/></comment></issue><issue id="KT-16866" entityId="25-1479264"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16866</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin script compilation (1.1.1) produces code that doesn't verify when called</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have a script that I'm compiling and it is throwing exceptions when I try to execute:

```
mar 15, 2017 9:43:11 PM com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException
ADVERTENCIA: Uncaught exception in thread: Thread[elasticsearch[node_sd2][search][T#1],5,TGRP-NodePreferenceInterceptTest]
java.lang.VerifyError: Bad local variable type
Exception Details:
  Location:
    Line_1.&lt;init&gt;(Ljava/util/Map;DLjava/util/Map;Ljava/util/Map;Ljava/lang/Object;)V @3: aload_3
  Reason:
    Type double_2nd (current frame, locals[3]) is not assignable to reference type
  Current Frame:
    bci: @3
    flags: { flagThisUninit }
    locals: { uninitializedThis, 'java/util/Map', double, double_2nd, 'java/util/Map', 'java/util/Map', 'java/lang/Object' }
    stack: { uninitializedThis, 'java/util/Map', double, double_2nd }
  Bytecode:
    0x0000000: 2a2b 282d 1904 1905 b700 0a2a 2a2a c000
    0x0000010: 0212 0c04 b600 102a c000 0212 1204 b600
    0x0000020: 1568 b800 1bb5 001d b1                 

	at __randomizedtesting.SeedInfo.seed([34D3F7475D5BC0D2]:0)
	at java.lang.Class.getDeclaredConstructors0(Native Method)
	at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)
	at java.lang.Class.getConstructor0(Class.java:3075)
	at java.lang.Class.getConstructor(Class.java:1825)
	at org.jetbrains.kotlin.cli.common.repl.GenericReplEvaluator.eval(GenericReplEvaluator.kt:171)
	at org.jetbrains.kotlin.cli.common.repl.GenericReplCompilingEvaluator.eval(GenericReplCompilingEvaluator.kt:84)
	at org.jetbrains.kotlin.cli.jvm.repl.GenericRepl.eval(GenericRepl.kt:79)
	at uy.kohesive.keplin.kotlin.script.Evaluable.eval(SimplifiedRepl.kt:150)
	at uy.kohesive.keplin.kotlin.script.Evaluable.eval$default(SimplifiedRepl.kt:149)
	at com.bremeld.es.topology.planner.plugin.KotlinScriptEngineService$LeafSearchScriptKotlin.run(KotlinScriptPlugin.kt:133)
	at org.elasticsearch.search.fetch.subphase.ScriptFieldsFetchSubPhase.hitExecute(ScriptFieldsFetchSubPhase.java:52)
	at org.elasticsearch.search.fetch.FetchPhase.execute(FetchPhase.java:163)
	at org.elasticsearch.search.SearchService.executeFetchPhase(SearchService.java:370)
	at org.elasticsearch.action.search.SearchTransportService$9.messageReceived(SearchTransportService.java:322)
	at org.elasticsearch.action.search.SearchTransportService$9.messageReceived(SearchTransportService.java:319)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:69)
	at org.elasticsearch.transport.local.LocalTransport$3.doRun(LocalTransport.java:378)
	at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:596)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
```

from this script template:

```
private val SCRIPT_ARGS_TYPES: Array&lt;out KClass&lt;out Any&gt;&gt; = arrayOf(Map::class, Double::class, Map::class, Map::class, Any::class)
private val EMPTY_SCRIPT_ARGS: Array&lt;out Any?&gt; = makeArgs().scriptArgs  // must be after types

private fun makeArgs(variables: Map&lt;String, EsWrappedValue&gt; = emptyMap(),
                     score: Double = 0.0,
                     doc: MutableMap&lt;String, List&lt;Any&gt;&gt; = hashMapOf(),
                     ctx: Map&lt;Any, Any&gt; = emptyMap(),
                     value: Any? = null): ScriptArgsWithTypes {
    return ScriptArgsWithTypes(arrayOf(variables, score, doc, ctx, value), SCRIPT_ARGS_TYPES)
}


abstract class EsKotlinScriptTemplate(val parm: Map&lt;String, EsWrappedValue&gt;,
                                      val _score: Double,
                                      val doc: MutableMap&lt;String, List&lt;Any&gt;&gt;,
                                      val ctx: Map&lt;Any, Any&gt;,
                                      val _value: Any?) { ... }
```

if I move the `_score: Double` to the last parameter it works, but it fails as the second.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1489625068351</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1493304224914</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jayson.minard</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jayson Minard</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2089419" author="stangl0r" authorFullName="Stefan Dangl" issueId="KT-16866" deleted="false" text="I got a similar issue:&#xA;{code}&#xA;Exception in thread &quot;main&quot; java.lang.VerifyError: Bad local variable type&#xA;Exception Details:&#xA;  Location:&#xA;    io/github/stangls/kSelenium/pageObjects/BriPageObject$Companion.init(Lio/github/stangls/kSelenium/pageObjects/BriPageObject;J)Z @94: lload&#xA;  Reason:&#xA;    Type top (current frame, locals[6]) is not assignable to long&#xA;  Current Frame:&#xA;    bci: @94&#xA;    flags: { }&#xA;    locals: { 'io/github/stangls/kSelenium/pageObjects/BriPageObject$Companion', 'io/github/stangls/kSelenium/pageObjects/BriPageObject', long, long_2nd, integer, integer, top, long, long_2nd }&#xA;    stack: { long, long_2nd }&#xA;  Bytecode:&#xA;    0x0000000: 2b12 09b8 000f 0336 0405 3605 013a 0615&#xA;    0x0000010: 0504 7e99 001b b200 15b6 0019 b200 1eb6&#xA;    0x0000020: 0022 b900 2802 00c0 002a b600 2e41 1505&#xA;    0x0000030: 057e 9900 0603 3604 bb00 3059 b700 34b6&#xA;    0x0000040: 0037 3706 0937 0700 2bb6 003d 9a00 5315&#xA;    0x0000050: 0499 0012 bb00 3059 b700 34b6 0037 1606&#xA;    0x0000060: 6537 0716 0720 949e 0007 03a7 0035 2007&#xA;    0x0000070: 856d 370a 1400 3e37 0c16 0a16 0cb8 0045&#xA;    0x0000080: 370a 1400 4637 0c16 0a16 0cb8 004a 370e&#xA;    0x0000090: 160e b800 5016 0716 0e61 3707 a7ff ab04&#xA;    0x00000a0: 9900 0fb2 0015 b600 542b b800 5a04 ac03&#xA;    0x00000b0: ac                                     &#xA;  Stackmap Table:&#xA;    append_frame(@46,Integer,Integer,Null)&#xA;    same_frame(@56)&#xA;    full_frame(@71,{Object[#2],Object[#57],Long,Integer,Integer,Top,Long},{})&#xA;    same_frame(@99)&#xA;    same_frame(@110)&#xA;    same_frame(@159)&#xA;    same_locals_1_stack_item_frame(@160,Integer)&#xA;    same_frame(@175)&#xA;&#xA;&#x9;at io.github.stangls.kSelenium.pageObjects.BriPageObject.&lt;clinit&gt;(ConditionalPageObject.kt)&#xA;&#x9;at biz.bluerain.bri.clienttest.Main.main(Main.kt:24)&#xA;{code}&#xA;&#xA;from this class:&#xA;&#xA;{code}&#xA;package io.github.stangls.kSelenium.pageObjects&#xA;&#xA;import io.github.stangls.kSelenium.Testbase&#xA;import io.github.stangls.kSelenium.config.testsuite&#xA;import io.github.stangls.kSelenium.helper.elseExc&#xA;import org.openqa.selenium.support.PageFactory&#xA;import io.github.stangls.kSelenium.waitFor&#xA;import java.util.*&#xA;import java.util.logging.Logger&#xA;&#xA;abstract class BriPageObject {&#xA;    val driver = Testbase.driver&#xA;&#xA;    protected abstract fun isApplicable(): Boolean&#xA;    companion object {&#xA;        fun &lt;T : BriPageObject&gt; init(&#xA;                pageObject: T,&#xA;                timeoutMS: Long = Testbase.config[testsuite.defaultTimeout]&#xA;        ) : Boolean {&#xA;            if (waitFor(timeoutMS) { pageObject.isApplicable() }){&#xA;                PageFactory.initElements(Testbase.driver, pageObject)&#xA;                return true&#xA;            }else{&#xA;                return false&#xA;            }&#xA;        }&#xA;&#xA;    }&#xA;}&#xA;&#xA;fun &lt;T:BriPageObject&gt; auto(pageObject: T, block: T.() -&gt; Unit) {&#xA;    BriPageObject.init(pageObject).elseExc {&#xA;        &quot;Current browser content is not applicable for ${pageObject.javaClass.simpleName}&quot;&#xA;    }&#xA;    pageObject.block()&#xA;}&#xA;{code}&#xA;&#xA;whereas the major change is in the called function waitFor (can be undone and everything works again):&#xA;{code}&#xA;-inline fun waitFor(timeoutMS: Long = Testbase.config[testsuite.defaultTimeout], condition: ()-&gt;Boolean) : Boolean {&#xA;+inline fun waitFor(&#xA;+    timeoutMS: Long = Testbase.config[testsuite.defaultTimeout],&#xA;+    realTime: Boolean = false,&#xA;+    condition: ()-&gt;Boolean&#xA;+) : Boolean {&#xA;{code}" shownForIssueAuthor="false" created="1491487889774" markdown="false"><replies/></comment><comment id="27-2133618" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-16866" deleted="false" text="@stangl0r your problem relates to https://youtrack.jetbrains.com/issue/KT-14564&#xA;@jayson.minard could you provide sample project/script?" shownForIssueAuthor="false" created="1493304224915" markdown="false"><replies/></comment></issue><issue id="KT-16886" entityId="25-1480140"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16886</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IntelliJ plugin: command line run configuration should not contain FQN</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When creating a Kotlin run configuration by e.g. clicking the gutter icons or right-clicking and choosing Run/Debug/etc., the name of the run configuration should not contain the fully qualified name of the class.

It should be the class' simple name, just like for Java Application run configurations.

Current IntellJ Plugin version: Version: 1.1.1-release-IJ2017.1-1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1489673302566</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975599</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cvmocanu</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Cristian Vasile Mocanu</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-16887" entityId="25-1480182"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16887</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDEA freeze while working with 'Analyze Dataflow to' toolwindow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I've tried to analyze dataflow to converter field of com.intellij.codeInsight.navigation.NavigationGutterIconBuilder#NavigationGutterIconBuilder(javax.swing.Icon, com.intellij.util.NotNullFunction&lt;T,java.util.Collection&lt;? extends com.intellij.psi.PsiElement&gt;&gt;, com.intellij.util.NotNullFunction&lt;T,java.util.Collection&lt;? extends com.intellij.navigation.GotoRelatedItem&gt;&gt;) constructor in IDEA project.

Thread dump attached.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1489675152599</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975598</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>batrdmi</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Batrak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-393768" url="https://youtrack.jetbrains.com/_persistent/threadDump-20170316-173405.txt?file=74-393768&amp;c=true">threadDump-20170316-173405.txt</value></field></issue><issue id="KT-16933" entityId="25-1482444"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16933</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Anonymous implementation of an abstract class is displayed as "Anonymous in null"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1489863680281</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975568</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-394457" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-394457&amp;c=true">image.png</value></field></issue><issue id="KT-16985" entityId="25-1485975"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>16985</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin update notification (appears in editor) considers 1.1.1 plugin as newer than master-dev-nnn plugin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Install the latest Kotlin plugin `master-dev-nnn` into `IDEA 171.nnn`.
Settings / Plugins / Browse Repositories / Manage Repositories contains the URL:
https://teamcity.jetbrains.com/guestAuth/repository/download/Kotlin_master_CompilerAndPlugin_NoTests/.lastSuccessful/updatePlugins-IJ2017.1.xml

Open Settings / Plugins, call Reload List of Plugins: no updates are shown. Expected.
NB: "Reload List of Plugins" does real check for Kotlin updates for all plugin versions: 1.0.x, 1.1.x, any.
Open .kt source file in the editor, type something, get notification balloon: "Kotlin update is available: 1.1.1-release-..."

Well, why 2 ways of checking updates work differently? And probably the editor is wrong.
NB: not extremely important since master builds are never released.

IDEA 171.3991 + Kotlin plugin master-dev-21.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490114369258</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975597</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-17008" entityId="25-1487328"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17008</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inconsistent stack height mocking kotlin class with PowerMock</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin 1.1.1, Android
Having following class:
```
class FavoriteSectionWidgetDataProvider @Inject constructor(
        private val resources: Resources
) {

    companion object {
        private const val DATA_ID_SUFFIX = "favoriteWidget"
    }

    fun createData(
            titleResourceId: Int,
            articles: List&lt;ArticleTeaser&gt;): List&lt;Any&gt; {

        if (articles.isEmpty())
            return listOf()

        val sectionArticleIds = articles.map { it.id }

        return listOf&lt;Any&gt;(
                ListTitleData(
                        "startPageFavorites-title-datareferenceId",
                        resources.getString(titleResourceId),
                        action = if (articles.isNotEmpty()) ListTitleDataAction(
                                SectionIds.VIRTUAL_SECTION_FAVORITE
                        ) else null
                )
        ).plus(
                articles.map {
                    ArticleSmallTeaserWidgetData(it, sectionArticleIds, it.id + DATA_ID_SUFFIX, showFavorite = true)
                }
        )
    }
}
```

When mocking it with PowerMockito I get:
```
java.lang.IllegalStateException: Failed to transform class with name .news.sections.FavoriteSectionWidgetDataProvider. Reason: createData (ILjava/util/List;)Ljava/util/List; in .news.sections.FavoriteSectionWidgetDataProvider: inconsistent stack height null

	at org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:283)
	at org.powermock.core.classloader.MockClassLoader.loadModifiedClass(MockClassLoader.java:192)
	at org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:71)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)
	at sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)
	at sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)
	at sun.reflect.annotation.AnnotationParser.parseSig(AnnotationParser.java:439)
	at sun.reflect.annotation.AnnotationParser.parseClassValue(AnnotationParser.java:420)
	at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724)
	at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531)
	at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355)
	at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286)
	at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)
	at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)
	at java.lang.Class.createAnnotationData(Class.java:3521)
	at java.lang.Class.annotationData(Class.java:3510)
	at java.lang.Class.getAnnotation(Class.java:3415)
	at org.junit.internal.MethodSorter.getDeclaredMethods(MethodSorter.java:52)
	at org.junit.internal.runners.TestClass.getAnnotatedMethods(TestClass.java:45)
	at org.junit.internal.runners.MethodValidator.validateTestMethods(MethodValidator.java:71)
	at org.junit.internal.runners.MethodValidator.validateStaticMethods(MethodValidator.java:44)
	at org.junit.internal.runners.MethodValidator.validateMethodsForDefaultRunner(MethodValidator.java:50)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.validate(PowerMockJUnit44RunnerDelegateImpl.java:108)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.&lt;init&gt;(PowerMockJUnit44RunnerDelegateImpl.java:70)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl.&lt;init&gt;(PowerMockJUnit47RunnerDelegateImpl.java:42)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit49RunnerDelegateImpl.&lt;init&gt;(PowerMockJUnit49RunnerDelegateImpl.java:25)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:172)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:48)
	at org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.createTestDelegators(AbstractTestSuiteChunkerImpl.java:113)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.&lt;init&gt;(JUnit4TestSuiteChunkerImpl.java:71)
	at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.&lt;init&gt;(AbstractCommonPowerMockRunner.java:32)
	at org.powermock.modules.junit4.PowerMockRunner.&lt;init&gt;(PowerMockRunner.java:34)
	at sun.reflect.GeneratedConstructorAccessor7.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)
	at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)
	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)
	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:101)
	at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:87)
	at com.intellij.junit4.JUnit46ClassesRequestBuilder.collectWrappedRunners(JUnit46ClassesRequestBuilder.java:90)
	at com.intellij.junit4.JUnit46ClassesRequestBuilder.getClassesRequest(JUnit46ClassesRequestBuilder.java:51)
	at com.intellij.junit4.JUnit4TestRunnerUtil.buildRequest(JUnit4TestRunnerUtil.java:91)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:93)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)
Caused by: javassist.CannotCompileException: createData (ILjava/util/List;)Ljava/util/List; in de.weltn24.news.sections.FavoriteSectionWidgetDataProvider: inconsistent stack height null
	at javassist.expr.ExprEditor.doit(ExprEditor.java:117)
	at javassist.CtClassType.instrument(CtClassType.java:1437)
	at org.powermock.core.transformers.impl.ClassMockTransformer.transformMockClass(ClassMockTransformer.java:65)
	at org.powermock.core.transformers.impl.AbstractMainMockTransformer.transform(AbstractMainMockTransformer.java:247)
	at org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:264)
	... 60 more
Caused by: javassist.bytecode.BadBytecode: createData (ILjava/util/List;)Ljava/util/List; in de.weltn24.news.sections.FavoriteSectionWidgetDataProvider: inconsistent stack height null
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:111)
	at javassist.bytecode.MethodInfo.rebuildStackMap(MethodInfo.java:440)
	at javassist.bytecode.MethodInfo.rebuildStackMapIf6(MethodInfo.java:422)
	at javassist.expr.ExprEditor.doit(ExprEditor.java:113)
	... 64 more
Caused by: javassist.bytecode.BadBytecode: inconsistent stack height null
	at javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:84)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:187)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:164)
	at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:108)
	... 67 more
Caused by: java.lang.ArrayIndexOutOfBoundsException
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490195801589</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1492436050724</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>AAverin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anton Averin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>12</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-16852</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1</value><value>1.1.1</value><valueId>1.1</valueId><valueId>1.1.1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2036796" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="Could be related to KT-16852" shownForIssueAuthor="false" created="1490253706980" markdown="false"><replies/></comment><comment id="27-2036995" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="Refactoring the method fixes the problem:&#xA;&#xA;```&#xA;fun createData(titleResourceId: Int, articles: List&lt;ArticleTeaser&gt;): List&lt;Any&gt; {&#xA;&#xA;        if (articles.isEmpty())&#xA;            return emptyList()&#xA;&#xA;        val sectionArticleIds = articles.map { it.id }&#xA;&#xA;        var action: ListTitleDataAction? = null&#xA;        if (articles.isNotEmpty())&#xA;            action = ListTitleDataAction(&#xA;                    SectionIds.VIRTUAL_SECTION_FAVORITE&#xA;            )&#xA;&#xA;        return listOf(&#xA;                ListTitleData(&#xA;                        &quot;startPageFavorites-title-datareferenceId&quot;,&#xA;                        resources.getString(titleResourceId),&#xA;                        action = action&#xA;                )&#xA;        ).plus(&#xA;                articles.map {&#xA;                    ArticleSmallTeaserWidgetData(it, sectionArticleIds, it.id + DATA_ID_SUFFIX, showFavorite = true)&#xA;                }&#xA;        )&#xA;    }&#xA;```" shownForIssueAuthor="false" created="1490257049465" updated="1490253706972" markdown="false"><replies/></comment><comment id="27-2037001" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="Basically I have removed `if () _ else null`" shownForIssueAuthor="false" created="1490257069389" updated="1490257049459" markdown="false"><replies/></comment><comment id="27-2037059" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="Another example of method that results in `inconsistent stack height`&#xA;&#xA;```&#xA;@Test&#xA;    fun clearItemsIfNoContent() {&#xA;        //given&#xA;        given(listContract.getItems()).willReturn(listOf(Any()))&#xA;        given(arnoldInteractor.startPageFavorites()).willReturn(Observable.just(WidgetData(mutableListOf())))&#xA;&#xA;        // when&#xA;        classToTest.onCreate()&#xA;&#xA;        // then&#xA;        verify(listContract).setItems(mutableListOf())&#xA;    }&#xA;```" shownForIssueAuthor="false" created="1490258240649" updated="1490257069338" markdown="false"><replies/></comment><comment id="27-2037062" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="```&#xA;java.lang.IllegalStateException: Failed to transform class with name .news.home.start.presenter.StartViewPagePresenterTest. Reason: clearItemsIfNoContent ()V in .news.home.start.presenter.StartViewPagePresenterTest: inconsistent stack height -1&#xA;&#xA;&#x9;at org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:283)&#xA;&#x9;at org.powermock.core.classloader.MockClassLoader.loadModifiedClass(MockClassLoader.java:192)&#xA;&#x9;at org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:71)&#xA;&#x9;at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&#xA;&#x9;at java.lang.Class.forName0(Native Method)&#xA;&#x9;at java.lang.Class.forName(Class.java:348)&#xA;&#x9;at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:161)&#xA;&#x9;at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:48)&#xA;&#x9;at org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.createTestDelegators(AbstractTestSuiteChunkerImpl.java:113)&#xA;&#x9;at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.&lt;init&gt;(JUnit4TestSuiteChunkerImpl.java:71)&#xA;&#x9;at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.&lt;init&gt;(AbstractCommonPowerMockRunner.java:32)&#xA;&#x9;at org.powermock.modules.junit4.PowerMockRunner.&lt;init&gt;(PowerMockRunner.java:34)&#xA;&#x9;at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&#xA;&#x9;at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)&#xA;&#x9;at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&#xA;&#x9;at java.lang.reflect.Constructor.newInstance(Constructor.java:423)&#xA;&#x9;at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)&#xA;&#x9;at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)&#xA;&#x9;at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)&#xA;&#x9;at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)&#xA;&#x9;at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)&#xA;&#x9;at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)&#xA;&#x9;at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:96)&#xA;&#x9;at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)&#xA;&#x9;at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)&#xA;&#x9;at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)&#xA;&#x9;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xA;&#x9;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&#xA;&#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;&#x9;at java.lang.reflect.Method.invoke(Method.java:498)&#xA;&#x9;at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)&#xA;Caused by: javassist.CannotCompileException: clearItemsIfNoContent ()V in de.weltn24.news.home.start.presenter.StartViewPagePresenterTest: inconsistent stack height -1&#xA;&#x9;at javassist.expr.ExprEditor.doit(ExprEditor.java:117)&#xA;&#x9;at javassist.CtClassType.instrument(CtClassType.java:1437)&#xA;&#x9;at org.powermock.core.transformers.impl.ClassMockTransformer.transformMockClass(ClassMockTransformer.java:65)&#xA;&#x9;at org.powermock.core.transformers.impl.AbstractMainMockTransformer.transform(AbstractMainMockTransformer.java:247)&#xA;&#x9;at org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:264)&#xA;&#x9;... 30 more&#xA;Caused by: javassist.bytecode.BadBytecode: clearItemsIfNoContent ()V in de.weltn24.news.home.start.presenter.StartViewPagePresenterTest: inconsistent stack height -1&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:111)&#xA;&#x9;at javassist.bytecode.MethodInfo.rebuildStackMap(MethodInfo.java:440)&#xA;&#x9;at javassist.bytecode.MethodInfo.rebuildStackMapIf6(MethodInfo.java:422)&#xA;&#x9;at javassist.expr.ExprEditor.doit(ExprEditor.java:113)&#xA;&#x9;... 34 more&#xA;Caused by: javassist.bytecode.BadBytecode: inconsistent stack height -1&#xA;&#x9;at javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:84)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:187)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:199)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:164)&#xA;&#x9;at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:108)&#xA;&#x9;... 37 more&#xA;Caused by: java.lang.ArrayIndexOutOfBoundsException: -1&#xA;&#x9;at javassist.bytecode.stackmap.Tracer.doASTORE(Tracer.java:425)&#xA;&#x9;at javassist.bytecode.stackmap.Tracer.doOpcode54_95(Tracer.java:342)&#xA;&#x9;at javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:76)&#xA;&#x9;... 51 more&#xA;```" shownForIssueAuthor="false" created="1490258270697" updated="1490258240642" markdown="false"><replies/></comment><comment id="27-2037317" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="Changing the method resolved the issue, but breaks the test:&#xA;```&#xA;@Test&#xA;    fun clearItemsIfNoContent() {&#xA;        //given&#xA;        given(listContract.getItems()).willReturn(emptyList())&#xA;//        given(arnoldInteractor.startPageFavorites()).willReturn(&#xA;//                Observable.just(&#xA;//                        WidgetData(mutableListOf&lt;Any&gt;())&#xA;//                )&#xA;//        )&#xA;&#xA;        // when&#xA;        classToTest.onCreate()&#xA;&#xA;        // then&#xA;        verify(listContract).setItems(mutableListOf())&#xA;    }&#xA;```" shownForIssueAuthor="false" created="1490260259703" updated="1490258270690" markdown="false"><replies/></comment><comment id="27-2038282" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="Adding following line to a test case resulted in another `inconsistent stack height`&#xA;```&#xA;given(arnoldInteractor.startPage(any())).willReturn(Observable.just(WidgetData(mutableListOf())))&#xA;```&#xA;&#xA;WidgetData is a data class.&#xA;Could something be off with mutableListOf()? It seems to be the only thing present in all cases" shownForIssueAuthor="false" created="1490268576548" updated="1490260259692" markdown="false"><replies/></comment><comment id="27-2046043" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="Following test method also results in `inconsistent stack height`&#xA;&#xA;```&#xA;@Test&#xA;    fun enrich_returnsSameIfNothing() {&#xA;&#xA;        val widgetResponse = WidgetResponse(&#xA;                widgets = AllWidgets(),&#xA;                widgetsSequence = mutableListOf(),&#xA;                id = &quot;id&quot;,&#xA;                shareUrl =  &quot;shareUrl&quot;&#xA;        )&#xA;&#xA;        assertThat(classToTest.enrich(widgetResponse), isEqualTo(widgetResponse))&#xA;    }&#xA;```" shownForIssueAuthor="false" created="1490369502026" updated="1490369516816" markdown="false"><replies/></comment><comment id="27-2046052" author="AAverin" authorFullName="Anton Averin" issueId="KT-17008" deleted="false" text="Is this related to&#xA;```&#xA;/** Returns an empty new [MutableList]. */&#xA;@SinceKotlin(&quot;1.1&quot;)&#xA;@kotlin.internal.InlineOnly&#xA;public inline fun &lt;T&gt; mutableListOf(): MutableList&lt;T&gt; = ArrayList()&#xA;&#xA;```&#xA;&#xA;Probably something changed here in 1.1?" shownForIssueAuthor="false" created="1490369671084" updated="1490369502018" markdown="false"><replies/></comment><comment id="27-2108173" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-17008" deleted="false" text="Sample code:&#xA;{code}&#xA;import org.junit.Test&#xA;import org.junit.runner.RunWith&#xA;import org.powermock.modules.junit4.PowerMockRunner&#xA;&#xA;@RunWith(value = PowerMockRunner::class)&#xA;class A {&#xA;    @Test&#xA;    fun test1() {&#xA;        WidgetResponse(&#xA;                mutableListOf&lt;String&gt;()&#xA;        )&#xA;&#xA;    }&#xA;&#xA;}&#xA;&#xA;class WidgetResponse(widgetsSequence: Any) {&#xA;&#xA;}&#xA;&#xA;{code}" shownForIssueAuthor="false" created="1492424493869" markdown="false"><replies/></comment><comment id="27-2108284" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-17008" deleted="false" text="Without inline:&#xA;{code}&#xA;import org.junit.Test&#xA;import org.junit.runner.RunWith&#xA;import org.powermock.modules.junit4.PowerMockRunner&#xA;&#xA;@RunWith(value = PowerMockRunner::class)&#xA;class A {&#xA;    @Test&#xA;    fun test1() {&#xA;        WidgetResponse(&#xA;                try {&quot;123&quot; } catch (e: Exception) {&quot;123&quot;}&#xA;        )&#xA;&#xA;    }&#xA;}&#xA;&#xA;class WidgetResponse(widgetsSequence: Any)&#xA;{code}" shownForIssueAuthor="false" created="1492425721685" updated="1492424493860" markdown="false"><replies/></comment><comment id="27-2108414" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-17008" deleted="false" text="Powermock issue https://github.com/powermock/powermock/issues/779" shownForIssueAuthor="false" created="1492427393324" updated="1492427408079" markdown="false"><replies/></comment></issue><issue id="KT-17419" entityId="25-1488585"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17419</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Structural search seems to be not friendly to Kotlin in project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>*171.3780.107*

STR:
Create new simple Java project with Kotlin (test project attached), invoke Structural search and try to find something (all classes, for example) in Project and Libraries scope =&gt; exception:

jar://C:/Users/Mariya.Vdovina/IdeaProjects/Tests/untitled/lib/kotlin-reflect.jar!/kotlin/reflect/jvm/internal/impl/descriptors/impl/AbstractTypeAliasDescriptor.class: stub:[PsiField:declaredTypeParametersImpl, PsiField:typeConstructor, PsiField:visibilityImpl]; mirror:[PsiField:declaredTypeParametersImpl, PsiField:visibilityImpl] [Plugin: org.jetbrains.java.decompiler]
com.intellij.diagnostic.PluginException: stub:[PsiField:declaredTypeParametersImpl, PsiField:typeConstructor, PsiField:visibilityImpl]; mirror:[PsiField:declaredTypeParametersImpl, PsiField:visibilityImpl] [Plugin: org.jetbrains.java.decompiler]
	at com.intellij.psi.impl.compiled.ClsFileImpl.wrapException(ClsFileImpl.java:441)
	at com.intellij.psi.impl.compiled.ClsFileImpl.getMirror(ClsFileImpl.java:409)
	at com.intellij.psi.impl.compiled.ClsElementImpl.getMirror(ClsElementImpl.java:159)
	at com.intellij.psi.impl.compiled.ClsElementImpl.getTextRange(ClsElementImpl.java:166)
	at com.intellij.usageView.UsageInfo.&lt;init&gt;(UsageInfo.java:44)
	at com.intellij.usageView.UsageInfo.&lt;init&gt;(UsageInfo.java:100)
	at com.intellij.usageView.UsageInfo.&lt;init&gt;(UsageInfo.java:122)
	at com.intellij.structuralsearch.plugin.ui.SearchCommand$4.newMatch(SearchCommand.java:158)
	at com.intellij.structuralsearch.plugin.util.DuplicateFilteringResultSink.newMatch(DuplicateFilteringResultSink.java:28)
	at com.intellij.structuralsearch.impl.matcher.GlobalMatchingVisitor.doDispatch(GlobalMatchingVisitor.java:259)
	at com.intellij.structuralsearch.impl.matcher.GlobalMatchingVisitor.dispatchMatched(GlobalMatchingVisitor.java:242)
	at com.intellij.structuralsearch.impl.matcher.GlobalMatchingVisitor.matchContext(GlobalMatchingVisitor.java:223)
	at com.intellij.structuralsearch.impl.matcher.handlers.TopLevelMatchingHandler.match(TopLevelMatchingHandler.java:65)
	at com.intellij.structuralsearch.impl.matcher.handlers.MatchingHandler.matchSequentially(MatchingHandler.java:87)
	at com.intellij.structuralsearch.impl.matcher.handlers.TopLevelMatchingHandler.matchSequentially(TopLevelMatchingHandler.java:81)
	at com.intellij.structuralsearch.impl.matcher.GlobalMatchingVisitor.matchContext(GlobalMatchingVisitor.java:211)
	at com.intellij.structuralsearch.impl.matcher.MatcherImpl.match(MatcherImpl.java:547)
	at com.intellij.structuralsearch.impl.matcher.MatcherImpl$MatchOneFile.lambda$run$0(MatcherImpl.java:530)
	at com.intellij.openapi.project.DumbService.lambda$runReadActionInSmartMode$1(DumbService.java:128)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:946)
	at com.intellij.openapi.project.DumbService.runReadActionInSmartMode(DumbService.java:124)
	at com.intellij.structuralsearch.impl.matcher.MatcherImpl$MatchOneFile.run(MatcherImpl.java:524)
	at com.intellij.structuralsearch.impl.matcher.MatcherImpl$TaskScheduler.executeNext(MatcherImpl.java:455)
	at com.intellij.structuralsearch.impl.matcher.MatcherImpl$TaskScheduler.access$100(MatcherImpl.java:401)
	at com.intellij.structuralsearch.impl.matcher.MatcherImpl.findMatches(MatcherImpl.java:255)
	at com.intellij.structuralsearch.Matcher.findMatches(Matcher.java:32)
	at com.intellij.structuralsearch.plugin.ui.SearchCommand.findUsages(SearchCommand.java:169)
	at com.intellij.structuralsearch.plugin.ui.SearchCommand$3.generate(SearchCommand.java:85)
	at com.intellij.usages.impl.SearchForUsagesRunnable.searchUsages(SearchForUsagesRunnable.java:328)
	at com.intellij.usages.impl.SearchForUsagesRunnable.run(SearchForUsagesRunnable.java:310)
	at com.intellij.usages.impl.UsageViewManagerImpl$1.run(UsageViewManagerImpl.java:138)
	at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:726)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:176)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:556)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:163)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$1.run(ProgressManagerImpl.java:137)
	at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:334)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.intellij.psi.impl.compiled.ClsElementImpl$InvalidMirrorException: stub:[PsiField:declaredTypeParametersImpl, PsiField:typeConstructor, PsiField:visibilityImpl]; mirror:[PsiField:declaredTypeParametersImpl, PsiField:visibilityImpl]
	at com.intellij.psi.impl.compiled.ClsElementImpl.setMirrors(ClsElementImpl.java:296)
	at com.intellij.psi.impl.compiled.ClsClassImpl.setMirror(ClsClassImpl.java:422)
	at com.intellij.psi.impl.compiled.ClsElementImpl.setMirror(ClsElementImpl.java:278)
	at com.intellij.psi.impl.compiled.ClsElementImpl.setMirrors(ClsElementImpl.java:299)
	at com.intellij.psi.impl.compiled.ClsElementImpl.setMirrors(ClsElementImpl.java:291)
	at com.intellij.psi.impl.compiled.ClsFileImpl.setMirror(ClsFileImpl.java:352)
	at com.intellij.psi.impl.compiled.ClsFileImpl.lambda$getMirror$1(ClsFileImpl.java:403)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:556)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeNonCancelableSection(CoreProgressManager.java:204)
	at com.intellij.psi.impl.compiled.ClsFileImpl.getMirror(ClsFileImpl.java:402)
	... 42 more</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490271517468</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975589</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Mariya.Vdovina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mariya Vdovina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-396195" url="https://youtrack.jetbrains.com/_persistent/untitled.rar?file=74-396195&amp;c=true">untitled.rar</value></field><comment id="27-2109832" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-17419" deleted="false" text="Which version of kotlin-reflect.jar and which version of the Kotlin plugin are you using?" shownForIssueAuthor="false" created="1492496640524" markdown="false"><replies/></comment><comment id="27-2110461" author="Mariya.Vdovina" authorFullName="Mariya Vdovina" issueId="KT-17419" deleted="false" text="@yole Using bundled Kotlin plugin (1.1.1.-release-IJ2017.1-1). What about kotlin-reflect.jar, looks like version is 1.1.1.. (at least, this version is given in build.txt).&#xA;With the test project attached and yesterday's IU build 171.4316 the issue is reproducible for me." shownForIssueAuthor="false" created="1492512467336" updated="1492512480479" markdown="false"><replies/></comment><comment id="27-2110485" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-17419" deleted="false" text="Does File | Invalidate Caches help?" shownForIssueAuthor="false" created="1492512976830" updated="1492496640485" markdown="false"><replies/></comment><comment id="27-2110523" author="Mariya.Vdovina" authorFullName="Mariya Vdovina" issueId="KT-17419" deleted="false" text="@yole Actualy, the exception is thrown at first invocation after project opening/restart (with or without invalidating caches..), the further searches do not cause error. " shownForIssueAuthor="false" created="1492513646963" updated="1492512467322" markdown="false"><replies/></comment></issue><issue id="KT-17036" entityId="25-1489573"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17036</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unstable name resolution in IDE</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
class Foo {
    private object Bar {
        val foo get() = { it: String -&gt; Integer.MAX_&lt;caret&gt;VALUE }
    }
}
```

Type space and get (see screenshot).

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490304013071</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975595</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-396398" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-03-24%20at%2000.18.21.png?file=74-396398&amp;c=true">Screen Shot 2017-03-24 at 00.18.21.png</value></field></issue><issue id="KT-17063" entityId="25-1491259"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17063</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inline functions with lambdas do not create multiple lambda classes when used in the same compilation unit.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Given the following contrived example:

{code:lang=kotlin}
inline fun Executor.myExecute(body: () -&gt; Unit) {
  this.execute { body() }
}
{code}

The bytecode will create a class for this lambda and re-use it for all call-sites that are inside the same compilation unit. If you move this code to a library, however, calls to this method will produce a class for each call site in the consuming application.

Whether called from the same compilation unit or a different one this inline method should unconditionally cause a class to be created for each call site.

My actual use case for this deals with re-throwing an exception inside a lambda. When used in the same module, the shared lambda class is used which means the stack trace doesn't match what would happen if I manually inlined the function. When used from a downstream module consuming the code as a dependency, the lambda is inlined, a new class is created, and the stack trace correctly contains information from the call-site.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490398498033</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004618</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Jake.Wharton</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jake Wharton</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1</value><valueId>1.1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-17084" entityId="25-1492689"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17084</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bogus quick fix to change parameter type in an errorneous code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490610620460</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975594</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-397235" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-397235&amp;c=true">image.png</value></field></issue><issue id="KT-17123" entityId="25-1494725"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17123</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>New Kotlin file/class dialog not functioning help button</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The dialog "New Kotlin file/class dialog" has an up and down arrow right of the name textbox, i am not sure what this does. Pressing the help button says "There is no help for this dialog"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490705591657</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975592</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jasperbsmit</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jasper Smit</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2057154" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-17123" deleted="false" text="To see what the arrows do, hover your mouse over them, and an explanation hint will be shown. The &quot;Create Java class&quot; dialog has exactly the same UI." shownForIssueAuthor="false" created="1490706988967" markdown="false"><replies/></comment></issue><issue id="KT-17127" entityId="25-1494939"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17127</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>NoClassDefFoundError thrown for anonymous class inside lambda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>``java.lang.NoClassDefFoundError: com/intellij/javascript/debugger/sourcemap/SourceMapHelperKt$createResolver$1$1$1$1`` thrown for code
```
fun createResolver(project: Project, sourceFile: VirtualFile): Lazy&lt;SourceFileResolver?&gt;? {
  return lazy(LazyThreadSafetyMode.NONE) {
    FileUrlMapper.EP_NAME.extensions.computeOrNull {
      it.createSourceResolver(sourceFile, project)?.let {
        object : SourceFileResolver {
          override fun resolve(sourceFile: VirtualFile?, map: ObjectIntHashMap&lt;Url&gt;) = it.resolve(map, project)
        }
      }
    }
  }
}
```

Works fine for 
```
fun createResolver(project: Project, sourceFile: VirtualFile): Lazy&lt;SourceFileResolver?&gt;? {
  return lazy(LazyThreadSafetyMode.NONE) {
    @Suppress("LoopToCallChain")
    for (fileUrlMapper in FileUrlMapper.EP_NAME.extensions) {
      val sourceResolver = fileUrlMapper.createSourceResolver(sourceFile, project)
      if (sourceResolver != null) {
        object : SourceFileResolver {
          override fun resolve(sourceFile: VirtualFile?, map: ObjectIntHashMap&lt;Url&gt;) = sourceResolver.resolve(map, project)
        }
      }
    }
    null
  }
}
```

See IDEA-170329 for details.
Version: 1.1.1-release-IJ2017.1-1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490711770380</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004620</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kulitin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Konstantin Ulitin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.1</value><valueId>1.1.1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-17181" entityId="25-1498976"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17181</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Creating new Object instance via reflection shouldn't update INSTANCE fields</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Right now when somehow object will be instantiated via reflection it will rewrite INSTANCE static field and it will rewrite previously initiated object.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1490937354599</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1490970674137</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ex3ndr</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Stepan Korshakov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-15378</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2072031" author="ilya.gorbunov" authorFullName="Ilya Gorbunov" issueId="KT-17181" deleted="false" text="Possible duplicate of KT-15378 " shownForIssueAuthor="false" created="1490970674144" markdown="false"><replies/></comment></issue><issue id="KT-18202" entityId="25-1501643"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18202</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Adding Kotlin facet ruins build.gradle in multi-module project.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have multi-module gradle project. ext.kotlin_version variable and plugins{...} are configured in the root script. When IDEA recognizes Kotlin in a module, it offers to add a facet and then it adds duplicate variable and plugin configuration to the module.

Expected behaviour: Kotlin should be configured globally in the root of the project; existing configuration should be recognized.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1491221401404</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975539</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Željko_Trogrlić</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Željko Trogrlić</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2080260" author="Željko_Trogrlić" authorFullName="Željko Trogrlić" issueId="KT-18202" deleted="false" text="Excerpt from root build.gradle:&#xA;{code lang=groovy}&#xA;plugins {&#xA;    id &quot;org.jetbrains.kotlin.jvm&quot; version '1.1.1'&#xA;    id &quot;org.jetbrains.kotlin.plugin.allopen&quot; version '1.1.1'&#xA;}&#xA;&#xA;ext.kotlin_version = '1.1.1'&#xA;{code}&#xA;&#xA;Module (IDEA wants to insert stuff here):&#xA;&#xA;{code lang=groovy}&#xA;apply plugin: 'org.jetbrains.kotlin.jvm'&#xA;apply plugin: 'kotlin-allopen'&#xA;apply plugin: 'war'&#xA;&#xA;description = 'w2live Server'&#xA;&#xA;allOpen {&#xA;    annotation(&quot;javax.ws.rs.Path&quot;)&#xA;    annotation(&quot;javax.ejb.Stateless&quot;)&#xA;}&#xA;&#xA;dependencies {&#xA;    compile 'org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version'&#xA;    compile 'org.jetbrains.kotlin:kotlin-reflect:$kotlin_version'&#xA;}&#xA;{code}&#xA;" shownForIssueAuthor="false" created="1491246943366" markdown="false"><replies/></comment><comment id="27-2084268" author="Akshay.Gupta" authorFullName="Akshay Gupta" issueId="KT-18202" deleted="false" text="I see this problem with single module projects as well. In addition, even if I configure Kotlin via the buildscript method, IntelliJ keeps giving me a message to configure Kotlin2js. Kotlin files don't recognize the Kotlin Java facet added to the module.&#xA;&#xA;I tried it with Kotlin dependencies in both the 1.0.x and 1.1.x lines, but IntelliJ isn't able to accept a Kotlin Java facet configured using Gradle. This means Kotlin cannot be used with Gradle in 2017.1 at all. Please raise the priority for this issue." shownForIssueAuthor="false" created="1491340264585" markdown="false"><replies/></comment></issue><issue id="KT-17258" entityId="25-1503727"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17258</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bogus autocomplete on try.kotlinlang.org</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>*Steps to reproduce*:

# http://try.kotlinlang.org
# "Simplest version"
# Any version, any target
# Type ``val a = ::`` 
# See autocomplete suggestions


*Expected*: top level functions and classes

*Actual*: see on the screenshot 1.png

If we choose the first of suggestions line become senseless ``val a = :&lt;init&gt;()``</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1491348893079</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1491383621549</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>speshuric</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Speshilov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-400511" url="https://youtrack.jetbrains.com/_persistent/1.png?file=74-400511&amp;c=true">1.png</value></field></issue><issue id="KT-17262" entityId="25-1504208"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17262</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin not configured banner disappears after Move Right/Down</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. Let there is a project with *.kt file, but no Kotlin is configured
2. Open the kt file in the editor, let some other files (at least one) are open too
3. On the kt file the banner "Kotlin not configured" appears - OK
4. Now perform `Move Right` or `Move Down` on the file - the banner disappears
but it was expected to be kept

If to relocate the file with the banner to another position with drag-n-drop the banner is kept as expected.

Build
2017.1 EAP (#IU-171.4173) + Kotlin 1.1.3-dev-1051</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1491389879455</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975497</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Viktoria.Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Viktoria Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.3</value><valueId>1.1.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-17317" entityId="25-1507518"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17317</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin plugin in Android Studio won't download Kotlin-based dependencies sources</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I noticed that Android Studio rejects to download sources for Anko libraries and instead just shows the decompiled version, with no possibility to download sources automatically (see first screenshot). I filed a bug here: https://github.com/Kotlin/anko/issues/336 and I was suggested to try another Kotlin library. 

I thus tried adding dependency on https://github.com/mcxiaoke/kotlin-koi which also correctly includes sources in JCenter at https://jcenter.bintray.com/com/mcxiaoke/koi/core/0.5.4/
Yet Android Studio also fails to download sources for that library (see screenshot 2).

Yet, when I downgrade Anko dependencies to 0.9, suddenly Android Studio offers sources (see screenshot 3).

I'm using Kotlin plugin 1.1.1-release-Studio2.3-1; Android Studio is
Android Studio 2.3.1
Build #AI-162.3871768, built on April 1, 2017
JRE: 1.8.0_112-release-b06 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1491599884743</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975510</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Martin_Vysny</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Martin Vysny</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.1</value><valueId>1.1.1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-401793" url="https://youtrack.jetbrains.com/_persistent/Screenshot_20170408_001259.png?file=74-401793&amp;c=true">Screenshot_20170408_001259.png</value><value id="74-401794" url="https://youtrack.jetbrains.com/_persistent/Screenshot_20170408_001640.png?file=74-401794&amp;c=true">Screenshot_20170408_001640.png</value><value id="74-401795" url="https://youtrack.jetbrains.com/_persistent/Screenshot_20170408_001720.png?file=74-401795&amp;c=true">Screenshot_20170408_001720.png</value></field><comment id="27-2175809" author="jtietema" authorFullName="Jeroen Tietema" issueId="KT-17317" deleted="false" text="I am having the same issue with Conductor and MaterialDrawer. It seems broken with all AAR dependencies.&#xA;I think it is a Android Studio/Gradle bug, see https://issuetracker.google.com/issues/37140074" shownForIssueAuthor="false" created="1495436082328" markdown="false"><replies/></comment><comment id="27-2176850" author="Martin_Vysny" authorFullName="Martin Vysny" issueId="KT-17317" deleted="false" text="Yeah, I suspected that the Anko sources for 0.9 were already downloaded and thus Gradle would just pick those up. Thanks for letting me know." shownForIssueAuthor="false" created="1495452428066" markdown="false"><replies/></comment><comment id="27-2266820" author="Martin_Vysny" authorFullName="Martin Vysny" issueId="KT-17317" deleted="false" text="In Intellij IDEA I'm using the `compile('com.github.vok.karibudsl:karibu-dsl-v8:0.2.4')` dependency (you need to add a Gradle repo of `maven { url &quot;https://dl.bintray.com/mvysny/vaadin-on-kotlin&quot; }`). The point is, when I press Ctrl+Alt+Shift+N and type in `trimmingConverter`, the navigation shows a decompiler output. However, when I navigate to this method by pressing Ctrl+B at where the function is called, the proper source file opens! :) It's IDEA 2017.2 public preview and Kotlin 1.1.3. It thus seems that the difference in the way of navigating to the library is important." shownForIssueAuthor="false" created="1498314672247" updated="1498314729172" markdown="false"><replies/></comment><comment id="27-2294559" author="Martin_Vysny" authorFullName="Martin Vysny" issueId="KT-17317" deleted="false" text="This is easily reproducible: `git clone https://github.com/mvysny/karibu-helloworld-application`, then open the `MyUI.kt` file. If you press `Ctrl+B` on the `verticalLayout {` stanza, it will correctly show the sources of that function. However if you press `Ctrl+Alt+Shift+N` two times and type in `verticalLayout`, then the decompiler output is shown. So this is definitely a bug in Intellij 2017.2 and Kotlin plugin 1.1.3." shownForIssueAuthor="false" created="1499163675883" updated="1499163733856" markdown="false"><replies/></comment></issue><issue id="KT-17385" entityId="25-1512196"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17385</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Go to inheritor doesn't work on interface members</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>It work on interface declaration but not on members. 
Build: 1.1.3-dev-1282
Seems that 'suspend' is to blame/
+ the interface is declared in a separate module. </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1492080652009</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975471</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>serjic.shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Shkredov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-403405" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-04-13%20at%2013.48.54.png?file=74-403405&amp;c=true">Screen Shot 2017-04-13 at 13.48.54.png</value></field><comment id="27-2432572" author="serjic.shkredov" authorFullName="Sergey Shkredov" issueId="KT-17385" deleted="false" text="fixed now." shownForIssueAuthor="false" created="1505978262163" markdown="false"><replies/></comment></issue><issue id="KT-17431" entityId="25-1513888"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17431</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Getting 'VerifyError: Bad return type' with inlined method</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kt

import java.lang.ref.WeakReference
import java.util.*

class LabelHolder {

    companion object {
        @JvmStatic
        fun main(args: Array&lt;String&gt;) {
            // just run it, and you'll get VerifyError
        }
    }

    private val labels = IdentityHashMap&lt;String?, WeakReference&lt;String&gt;&gt;()
    private val String?.label: String
        get(): String = labels.getOrPutWeak(this) { "hello" }
}

// removing 'inline' removes this error
inline fun &lt;K, V&gt; MutableMap&lt;K, WeakReference&lt;V&gt;&gt;.getOrPutWeak(key: K, defaultValue: ()-&gt;V): V {
    val value = get(key)?.get()
    return if (value == null) {
        val answer = defaultValue()
        put(key, WeakReference(answer))
        answer
    } else {
        value // adding 'as V' removes this error
    }
}
```

This leads to the following error, when running from IDEA:
```
Error: A JNI error has occurred, please check your installation and try again
Exception in thread "main" java.lang.VerifyError: Bad return type
Exception Details:
  Location:
    LabelHolder.getLabel(Ljava/lang/String;)Ljava/lang/String; @63: areturn
  Reason:
    Type 'java/lang/Object' (current frame, stack[0]) is not assignable to 'java/lang/String' (from method signature)
  Current Frame:
    bci: @63
    flags: { }
    locals: { 'LabelHolder', 'java/lang/String', 'java/util/Map', 'java/lang/Object' }
    stack: { 'java/lang/Object' }
  Bytecode:
    0x0000000: 2ab4 000c c000 0e4d 2c2b b900 1202 00c0
    0x0000010: 0014 59c6 0009 b600 17a7 0005 5701 4e2d
    0x0000020: c700 1e00 1219 3a04 2c2b bb00 1459 1904
    0x0000030: b700 1db9 0021 0300 5719 04a7 0004 2db0
    0x0000040:                                        
  Stackmap Table:
    full_frame(@28,{Object[#2],Object[#47],Object[#14]},{Object[#20]})
    same_locals_1_stack_item_frame(@30,Object[#4])
    append_frame(@62,Object[#4])
    same_locals_1_stack_item_frame(@63,Object[#4])

	at java.lang.Class.getDeclaredMethods0(Native Method)
	at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)
	at java.lang.Class.privateGetMethodRecursive(Class.java:3048)
	at java.lang.Class.getMethod0(Class.java:3018)
	at java.lang.Class.getMethod(Class.java:1784)
	at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)
	at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)
```

Error on Android/ART is very similar.

Software:
```
IntelliJ IDEA 2017.1
Build #IC-171.3780.107, built on March 22, 2017
JRE: 1.8.0_112-release-736-b13 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Linux 4.8.0-040800rc1-lowlatency
```
Kotlin 1.1.2-eap-44 and eap-69.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1492279302792</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535453453585</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Miha-x64</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mihail</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-26346</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.2</value><valueId>1.1.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2823082" author="kkecerin" authorFullName="Kristijan Kecerin" issueId="KT-17431" deleted="false" text="I am getting a similar error with the piece of code shown below.&#xA;The `WORKING VERSION` throws `CustomException`, after printing `Start`, as expected.&#xA;However, the `FAILING VERSION` runs and compiles, but as soon as it starts running, the program crashes (`Start ` is not printed).&#xA;```&#xA;JDK 8&#xA;Kotlin 1.2.31&#xA;```&#xA;---&#xA;```kotlin&#xA;package weirdbug&#xA;&#xA;fun main(args: Array&lt;String&gt;) {&#xA;  println(&quot;Start&quot;)&#xA;  doSth(A(Id.ID_B))&#xA;}&#xA;&#xA;enum class Id {&#xA;  ID_A,&#xA;  ID_B&#xA;}&#xA;&#xA;sealed class Base(val id: Id)&#xA;class A(id: Id) : Base(id)&#xA;class B(id: Id) : Base(id)&#xA;&#xA;&#xA;&#xA;// ### FAILING VERSION ###&#xA;fun doSth(base: Base): Base = when (base) {&#xA;  is A -&gt; process(base, f = ::doSomethingInCaseOfA)&#xA;  is B -&gt; process(base, f = ::doSomethingInCaseOfB)&#xA;}&#xA;&#xA;// ### WORKING VERSION ###&#xA;//private fun doSth(base: Base): Base = when (base) {&#xA;//  is A -&gt; indirectProcess(base)&#xA;//  is B -&gt; indirectProcess(base)&#xA;//}&#xA;//&#xA;//fun indirectProcess(a: A): A = process(a, f = ::doSomethingInCaseOfA)&#xA;//&#xA;//fun indirectProcess(b: B): B = process(b, f = ::doSomethingInCaseOfB)&#xA;&#xA;&#xA;&#xA;fun doSomethingInCaseOfA(a: A) {&#xA;  // Normally I would do something useful with a&#xA;}&#xA;&#xA;fun doSomethingInCaseOfB(b: B) {&#xA;  // Normally I would do something useful with b&#xA;}&#xA;&#xA;inline fun &lt;reified T : Base&gt; process(t: T, f: (T) -&gt; Unit): T {&#xA;  f(t)&#xA;  return getSomeBaseObject(t.id) as? T ?: throw CustomException()&#xA;}&#xA;&#xA;fun getSomeBaseObject(id: Id): Base = if (id == Id.ID_A) A(id) else B(id)&#xA;&#xA;class CustomException : RuntimeException()&#xA;```&#xA;---&#xA;```stacktrace&#xA;Error: A JNI error has occurred, please check your installation and try again&#xA;Exception in thread &quot;main&quot; java.lang.VerifyError: Bad return type&#xA;Exception Details:&#xA;  Location:&#xA;    weirdbug/MainKt.doSth(Lweirdbug/Base;)Lweirdbug/Base; @130: areturn&#xA;  Reason:&#xA;    Type 'java/lang/Object' (current frame, stack[0]) is not assignable to 'weirdbug/Base' (from method signature)&#xA;  Current Frame:&#xA;    bci: @130&#xA;    flags: { }&#xA;    locals: { 'weirdbug/Base', 'weirdbug/Base', 'java/lang/Object' }&#xA;    stack: { 'java/lang/Object' }&#xA;  Bytecode:&#xA;    0x0000000: 2a12 32b8 000f 2a4c 2bc1 001f 9900 352a&#xA;    0x0000010: c000 1f4d 2cb8 0036 2ab6 003a b800 3e59&#xA;    0x0000020: c100 1f9a 0005 5701 c000 1f59 c600 06a7&#xA;    0x0000030: 000f 57bb 0040 59b7 0043 c000 45bf a700&#xA;    0x0000040: 442b c100 4799 0035 2ac0 0047 4d2c b800&#xA;    0x0000050: 4b2a b600 3ab8 003e 59c1 0047 9a00 0557&#xA;    0x0000060: 01c0 0047 59c6 0006 a700 0f57 bb00 4059&#xA;    0x0000070: b700 43c0 0045 bfa7 000b bb00 4d59 b700&#xA;    0x0000080: 4ebf b0                                &#xA;  Stackmap Table:&#xA;    full_frame(@40,{Object[#43],Object[#43],Object[#31]},{Object[#43]})&#xA;    same_locals_1_stack_item_frame(@50,Object[#31])&#xA;    same_locals_1_stack_item_frame(@62,Object[#31])&#xA;    chop_frame(@65,1)&#xA;    full_frame(@97,{Object[#43],Object[#43],Object[#71]},{Object[#43]})&#xA;    same_locals_1_stack_item_frame(@107,Object[#71])&#xA;    same_locals_1_stack_item_frame(@119,Object[#71])&#xA;    chop_frame(@122,1)&#xA;    full_frame(@130,{Object[#43],Object[#43],Object[#4]},{Object[#4]})&#xA;&#xA;&#x9;at java.lang.Class.getDeclaredMethods0(Native Method)&#xA;&#x9;at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)&#xA;&#x9;at java.lang.Class.privateGetMethodRecursive(Class.java:3048)&#xA;&#x9;at java.lang.Class.getMethod0(Class.java:3018)&#xA;&#x9;at java.lang.Class.getMethod(Class.java:1784)&#xA;&#x9;at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)&#xA;&#x9;at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)&#xA;```&#xA;---&#xA;The code is taken from a class that acts as a repository, but stripped of all the unnecessary details." shownForIssueAuthor="false" created="1523794115314" markdown="true"><replies/></comment><comment id="27-3044000" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-17431" deleted="false" text="@kkecerin problem extracted to separate issue KT-26435, as workaround you can compile problem class under jvm-target 1.6" shownForIssueAuthor="false" created="1535453453586" updated="1535453734455" markdown="false"><replies/></comment></issue><issue id="KT-17539" entityId="25-1520036"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17539</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Coverage is not shown in the editor for anonymous classes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The coverage view shows correct number of classes/methods corresponding to the package.
!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1492793682823</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975575</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>anet</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anna Kozlova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-405767" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-405767&amp;c=true">image.png</value></field></issue><issue id="KT-17548" entityId="25-1520200"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Rename of Kotlin class doesn't update Run Configuration</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a junit test in Kotlin. Run it. Rename the class. Run configuration is now invalid. Such rename works with Java classes.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1492805887103</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975574</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kb</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Konstantin Bulenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-17563" entityId="25-1521222"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17563</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unneeded Configure Kotlin prompt in Event Log</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code:title=Gradle Project Structure}
parent (no code)
├ subproject1
├ subproject2
│ ├ subsubproject1
│ ├ subsubproject2
│ │...
│ ╰ subsubprojectN
╰ subproject3
{code}

{code:title=Parent's build.gradle}
buildscript {
 ext { kotlinVersion = '1.1.1' }
 //other stuff
 dependencies {
  classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
  //other stuff
 }
}
{code}

In subproject2's `build.gradle` and *only* there I have:
{code:title=subproject2's build.gradle}
configure(subprojects) {
 apply plugin: 'kotlin'
 //other stuff
}
{code}

In IntelliJ in Event Log following is shown:
{color:brown}{monospace}
1:39 PM	Configure Kotlin
		Configure modules in 'parent' project
		as Kotlin (Gradle) modules
		as Kotlin (Gradle (JavaScript)) modules
{monospace}{color}

From my point of view I have Kotlin properly configured and fully working both in IntelliJ and Gradle.

Note: I have Kotlin plugin from April 19 20:00, 1.1.3 snapshot.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1493030251556</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975555</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alexander_Czar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Czar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-17677</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.3</value><valueId>1.1.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2166558" author="Mike_Hearn" authorFullName="Mike Hearn" issueId="KT-17563" deleted="false" text="Also see https://youtrack.jetbrains.com/issue/KT-9275 which is incorrectly marked as fixed." shownForIssueAuthor="false" created="1495009472925" markdown="false"><replies/></comment></issue><issue id="KT-17718" entityId="25-1530081"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17718</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>UpToDateStubIndexMismatch: "PSI and index do not match"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I get reproducible exception in very specific case, for now can't reproduce in simplified case.

Get a source file in the project:
{code:lang=kotlin}
package refactor.inline.function3

class ExtendedClass {
    val extRefVal = 6
    var extRefVar = 7
}

fun simpleUnit(p: Int) { println(p) }
fun simpleValue(p: Int) = p
fun compoundUnit(p: Int) { println(p); println(p + 1) }
fun compoundValue(p: Int): Int { var v = p; v += 5; return v }

fun ExtendedClass.extendSimpleUnit() { println(extRefVal) }
fun ExtendedClass.extendSimpleValue() = extRefVal
fun ExtendedClass.extendCompoundUnit() { println(extRefVal); println(extRefVar) }
fun ExtendedClass.extendCompoundValue(): Int { var v = extRefVal; v += extRefVar; return v }

fun acceptUnit(p: Unit) { println(p.toString()) }
fun &lt;T: Any&gt; acceptValue(p: T) { println(p.hashCode()) }

fun simpleFor(): Iterable&lt;String&gt; = listOf("a", "b")
fun compoundFor(): Iterable&lt;String&gt; {
    var list = listOf("a", "b")
    list += "c"
    return list
}

fun simpleExtendedClass(flag: Boolean) = if (flag) ExtendedClass() else null
fun compoundExtendedClass(flag: Boolean): ExtendedClass? {
    val result = if (flag) ExtendedClass() else null
    return result
}

fun callUsage(isBlock: Boolean, ecn: ExtendedClass?) {
    simpleUnit(0)
    val su = simpleUnit(0)
    acceptUnit(simpleUnit(0))
    if (isBlock) simpleUnit(0)
    if (isBlock) {} else simpleUnit(0)
    if (isBlock) { println(); simpleUnit(0) }
    if (isBlock) {} else { println(); simpleUnit(0) }
    ecn?.extendSimpleUnit()

    simpleValue(1)
    val sv = simpleValue(1)
    acceptValue(simpleValue(1))
    val svb1 = if (isBlock) simpleValue(1) else 0
    val svb2 = if (isBlock) 0 else simpleValue(1)
    val svb3 = if (isBlock) { println(); simpleValue(1) } else 0
    val svb4 = if (isBlock) { simpleValue(1); 11 } else 0
    val svb5 = if (isBlock) 0 else { println(); simpleValue(1) }
    val svb6 = if (isBlock) 0 else { simpleValue(1); 11 }
    val svb7 = ecn?.extendSimpleValue()
    val svb8 = simpleExtendedClass(true) ?: simpleExtendedClass(true)

    compoundUnit(2)
    val cu = compoundUnit(2)
    acceptUnit(compoundUnit(2))
    if (isBlock) compoundUnit(2) else println()
    if (isBlock) { println(); compoundUnit(2) } else println()
    if (isBlock) { compoundUnit(2); println() } else println()
    if (isBlock) println() else compoundUnit(2)
    if (isBlock) println() else { println(); compoundUnit(2) }
    if (isBlock) println() else { compoundUnit(2); println() }
    ecn?.extendCompoundUnit()

    compoundValue(4)
    val cv = compoundValue(4)
    acceptValue(compoundValue(4))
    val cvb1 = if (isBlock) compoundValue(4) else 0
    val cvb2 = if (isBlock) { println(); compoundValue(4) } else 0
    val cvb3 = if (isBlock) { compoundValue(4); 44 } else 0
    val cvb4 = if (isBlock) 0 else compoundValue(4)
    val cvb5 = if (isBlock) 0 else { println(); compoundValue(4) }
    val cvb6 = if (isBlock) 0 else { compoundValue(4); 44 }
    val cvb7 = ecn?.extendCompoundValue()
    val cvb8 = compoundExtendedClass(true) ?: compoundExtendedClass(true)
    val cvb9 = ecn?.extendCompoundValue() ?: compoundValue(99)

    for (s in simpleFor()) simpleUnit(1)
    for (s in simpleFor()) compoundUnit(2)
    for (s in simpleFor()) { compoundUnit(3) }
    for (s in compoundFor()) compoundUnit(4)
    for (s in compoundFor()) { compoundUnit(5) }
    for (s in 6..simpleValue(7)) simpleUnit(8)
    for (s in simpleValue(9)..10) { simpleUnit(11) }
    for (s in 1..compoundValue(12)) { compoundUnit(13) }
    for (s in compoundValue(14)..15 step compoundValue(16)) compoundUnit(17)

    while (simpleValue(1) &gt; compoundValue(2)) simpleUnit(3)
    while (simpleValue(4) &gt; compoundValue(5)) { simpleUnit(6) }
    while (compoundValue(7) &lt; simpleValue(8)) compoundUnit(9)
    while (compoundValue(10) &lt; simpleValue(11)) { compoundUnit(12) }

    when (simpleValue(0)) {
        1 -&gt; simpleUnit(1)
        2 -&gt; { simpleUnit(2) }
        3 -&gt; { println(); simpleUnit(3) }
        4 -&gt; { simpleUnit(4); println() }
        else -&gt; simpleUnit(5)
    }
    when (simpleValue(6)) {
        else -&gt; { simpleUnit(6) }
    }
    when (compoundValue(0)) {
        1 -&gt; compoundUnit(1)
        2 -&gt; { compoundUnit(2) }
        3 -&gt; { println(); compoundUnit(3) }
        4 -&gt; { compoundUnit(4); println() }
        else -&gt; compoundUnit(5)
    }
    when (compoundValue(6)) {
        else -&gt; { compoundUnit(6) }
    }
    val whenVal = when (compoundValue(0)) {
        1 -&gt; compoundValue(1)
        2 -&gt; { compoundValue(2) }
        3 -&gt; { println(); compoundValue(3) }
        4 -&gt; { compoundValue(4); 44 }
        else -&gt; compoundValue(5)
    }
    val whenValApx = when (compoundValue(6)) {
        else -&gt; { compoundValue(6) }
    }

    val mapTo = mapOf(simpleValue(1) to compoundValue(2), compoundValue(3) to simpleValue(4))

    ecn!!.extendCompoundUnit()
    val last = ecn!!.extendCompoundValue()
}

interface DelegateFace
fun simpleDelegate() = object : DelegateFace {}
fun compoundDelegate(): DelegateFace {
    val result = object : DelegateFace {}
    return result
}
class DelegatingA : DelegateFace by simpleDelegate()
class DelegatingB : DelegateFace by compoundDelegate() {code}

Go to `compoundDelegate()` usage in the very last line.
Call Refactor / Inline. Try "Inline this only and keep the function" option.
The code is modified (BTW, to currently incompilable, KT-17715), and exception is thrown.

After removing this or that part of code the exception stops to be reproduced.

IDEA 172.1947 + Kotlin plugin master-dev-272.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1493837971094</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975572</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2143916" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-17718" deleted="false" text="PSI and index do not match.&#xA;Please report the problem to JetBrains with the files attached&#xA;INDEXED VERSION IS THE CURRENT ONE file=JetFile: CallUsageTemp.kt, file.class=class org.jetbrains.kotlin.psi.KtFile, file.lang=Language: kotlin, modStamp=1176&#xA; AST INCONSISTENT, perhaps after incremental reparse; JetFile: CallUsageTemp.kt&#xA; stub debugInfo=created in calcStubTree; with backReference&#xA;latestIndexedStub=StubTree{myDebugInfo='created from index; with backReference', myRoot=PsiJetFileStubImpl[package=refactor.inline.function3]}1606296081&#xA;   same size=false&#xA;   debugInfo=created from index; with backReference&#xA; viewProvider=SingleRootFileViewProvider{myVirtualFile=file:///home/ache/jb-projects/kotlin-master/darc-02-rf/crs-a/cases/refactor/inline/function3/CallUsageTemp.kt, content=VirtualFileContent{size=5095}}&#xA; viewProvider stamp: 709124; file stamp: 709124; file modCount: 1493837332270; file length: 5095&#xA; doc saved: true; doc stamp: 709124; doc size: 5095; committed: true&#xA;in many projects: false&#xA;indexing info: indexed at 1493837332270 with document size 5095&#xA;com.intellij.psi.stubs.UpToDateStubIndexMismatch: PSI and index do not match.&#xA;Please report the problem to JetBrains with the files attached&#xA;INDEXED VERSION IS THE CURRENT ONE file=JetFile: CallUsageTemp.kt, file.class=class org.jetbrains.kotlin.psi.KtFile, file.lang=Language: kotlin, modStamp=1176&#xA; AST INCONSISTENT, perhaps after incremental reparse; JetFile: CallUsageTemp.kt&#xA; stub debugInfo=created in calcStubTree; with backReference&#xA;latestIndexedStub=StubTree{myDebugInfo='created from index; with backReference', myRoot=PsiJetFileStubImpl[package=refactor.inline.function3]}1606296081&#xA;   same size=false&#xA;   debugInfo=created from index; with backReference&#xA; viewProvider=SingleRootFileViewProvider{myVirtualFile=file:///home/ache/jb-projects/kotlin-master/darc-02-rf/crs-a/cases/refactor/inline/function3/CallUsageTemp.kt, content=VirtualFileContent{size=5095}}&#xA; viewProvider stamp: 709124; file stamp: 709124; file modCount: 1493837332270; file length: 5095&#xA; doc saved: true; doc stamp: 709124; doc size: 5095; committed: true&#xA;in many projects: false&#xA;indexing info: indexed at 1493837332270 with document size 5095&#xA;&#x9;at com.intellij.psi.stubs.StubTreeLoader.a(StubTreeLoader.java:135)&#xA;&#x9;at com.intellij.psi.stubs.StubTreeLoader.stubTreeAndIndexDoNotMatch(StubTreeLoader.java:131)&#xA;&#x9;at com.intellij.psi.stubs.StubProcessingHelperBase.a(StubProcessingHelperBase.java:178)&#xA;&#x9;at com.intellij.psi.stubs.StubProcessingHelperBase.processStubsInFile(StubProcessingHelperBase.java:168)&#xA;&#x9;at com.intellij.psi.stubs.StubProcessingHelperBase.processStubsInFile(StubProcessingHelperBase.java:53)&#xA;&#x9;at com.intellij.psi.stubs.StubIndexImpl$2.process(StubIndexImpl.java:336)&#xA;&#x9;at com.intellij.psi.stubs.StubIndexImpl$StubIdListContainerAction.perform(StubIndexImpl.java:617)&#xA;&#x9;at com.intellij.psi.stubs.StubIndexImpl$StubIdListContainerAction.perform(StubIndexImpl.java:605)&#xA;&#x9;at com.intellij.util.indexing.ValueContainer.forEach(ValueContainer.java:62)&#xA;&#x9;at com.intellij.psi.stubs.StubIndexImpl.a(StubIndexImpl.java:363)&#xA;&#x9;at com.intellij.psi.stubs.StubIndexImpl.processElements(StubIndexImpl.java:328)&#xA;&#x9;at com.intellij.psi.stubs.StubIndex.getElements(StubIndex.java:145)&#xA;&#x9;at com.intellij.psi.stubs.StubIndex.getElements(StubIndex.java:134)&#xA;&#x9;at org.jetbrains.kotlin.idea.stubindex.KotlinSuperClassIndex.get(KotlinSuperClassIndex.java:50)&#xA;&#x9;at org.jetbrains.kotlin.idea.search.ideaExtensions.KotlinDirectInheritorsSearcher$processQuery$2.invoke(KotlinDirectInheritorsSearcher.kt:65)&#xA;&#x9;at org.jetbrains.kotlin.idea.search.ideaExtensions.KotlinDirectInheritorsSearcher$processQuery$2.invoke(KotlinDirectInheritorsSearcher.kt:32)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt$sam$Computable$73d042ed.compute(ApplicationUtils.kt)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:950)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt.runReadAction(ApplicationUtils.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.idea.search.ideaExtensions.KotlinDirectInheritorsSearcher.processQuery(KotlinDirectInheritorsSearcher.kt:60)&#xA;&#x9;at org.jetbrains.kotlin.idea.search.ideaExtensions.KotlinDirectInheritorsSearcher.processQuery(KotlinDirectInheritorsSearcher.kt:32)&#xA;&#x9;at com.intellij.openapi.application.QueryExecutorBase.execute(QueryExecutorBase.java:87)&#xA;&#x9;at com.intellij.util.ExecutorsQuery.processResults(ExecutorsQuery.java:45)&#xA;&#x9;at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:79)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.process(UniqueResultsQuery.java:66)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.forEach(UniqueResultsQuery.java:56)&#xA;&#x9;at com.intellij.util.AbstractQuery$1.processResults(AbstractQuery.java:104)&#xA;&#x9;at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:79)&#xA;&#x9;at com.intellij.util.AbstractQuery.findFirst(AbstractQuery.java:56)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.markers.KotlinLineMarkerProviderKt.collectInheritedClassMarker(KotlinLineMarkerProvider.kt:237)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.markers.KotlinLineMarkerProviderKt.access$collectInheritedClassMarker(KotlinLineMarkerProvider.kt:1)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.markers.KotlinLineMarkerProvider.collectSlowLineMarkers(KotlinLineMarkerProvider.kt:74)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LineMarkersPass.a(LineMarkersPass.java:209)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LineMarkersPass.a(LineMarkersPass.java:111)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.Divider.divideInsideAndOutsideInOneRoot(Divider.java:96)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LineMarkersPass.doCollectInformation(LineMarkersPass.java:106)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.d(PassExecutorService.java:438)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1161)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:431)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:556)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:63)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:430)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:406)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:142)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:250)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:404)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:165)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)" shownForIssueAuthor="false" created="1493837980364" markdown="false"><replies/></comment></issue><issue id="KT-17758" entityId="25-1532162"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17758</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Web demo: make copying compiler messages convenient</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The only way to copy error message now is to select it with cursor and, while holding the mouse button down, press ctrl+c.
If you let the mouse button go, the "normal" browser selection will disappear. Instead the message will be highlighted with grey background.

I would expect either:
1. Browser selection not disappearing when the mouse button is unpressed.
2. Some button near the message to copy its text into the clipboard. </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1494000286219</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1494231538059</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-17893" entityId="25-1539267"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>17893</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unresolved reference in IntelliJ only</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I'm trying to call the dom method Node.getTextContent(). However, when compiling inside IntelliJ, we get an unresolved reference error. The exact same code compiles just fine in Gradle, and the editor doesn't show any errors, but the compilation fails.

I can't reproduce it in a smaller test case... it works fine in a smaller project. I have cleared caches and still get the same error.

Here's the code that is failing. Other references to textContent throughout the project are also failing.

{code}
val extrasChildren = extrasElement.childNodes
for (i in 0..extrasChildren.length - 1) {
  val node = extrasChildren.item(i)
  val text = node.textContent
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1494859026801</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975556</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sandtiger</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jon Nichols</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.2</value><valueId>1.1.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18004" entityId="25-1545470"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18004</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Choose/Go to method implementation in Java shouldn't show synthetic implementations from Kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
// A.java
public interface A {
    void foo(); // ctrl+alt+b at `foo` leads to the `B` (while there is no actual code there) 
}
// B.kt
class B(a: A) : A by a

```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1495444768500</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975554</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Denis Zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18060" entityId="25-1548887"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18060</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>New project/module with Kotlin: overwriting existing jars: Throwable "AWT events are not allowed inside write action"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Get a directory `project-01/lib` with kotlin jar files inside (e.g. with `kotlin-stdlib.jar`).
New Project wizard, ask to create project in `project-01`, include Kotlin (Java), ask to copy jars into `lib`.
On project creating get question dialog about existing `kotlin-stdlib.jar`. Ask to overwrite.
All goes as requested, but exception occurs.

IDEA 172.2495 + Kotlin plugin master-dev-585.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1495633169326</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975551</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2183554" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-18060" deleted="false" text="AWT events are not allowed inside write action: sun.awt.PeerEvent[INVOCATION_DEFAULT,runnable=sun.awt.SunToolkit$1@473cc5c6,notifier=null,catchExceptions=false,when=1495632928729] on sun.awt.X11.XToolkit@609e3993&#xA;java.lang.Throwable&#xA;&#x9;at com.intellij.openapi.diagnostic.Logger.error(Logger.java:132)&#xA;&#x9;at com.intellij.openapi.application.impl.NoSwingUnderWriteAction.a(NoSwingUnderWriteAction.java:36)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:376)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109)&#xA;&#x9;at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:190)&#xA;&#x9;at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:235)&#xA;&#x9;at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:233)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:233)&#xA;&#x9;at java.awt.Dialog.show(Dialog.java:1084)&#xA;&#x9;at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl$MyDialog.show(DialogWrapperPeerImpl.java:735)&#xA;&#x9;at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl.show(DialogWrapperPeerImpl.java:457)&#xA;&#x9;at com.intellij.openapi.ui.DialogWrapper.invokeShow(DialogWrapper.java:1702)&#xA;&#x9;at com.intellij.openapi.ui.DialogWrapper.show(DialogWrapper.java:1651)&#xA;&#x9;at com.intellij.openapi.ui.Messages$MessageDialog.show(Messages.java:1472)&#xA;&#x9;at com.intellij.openapi.ui.Messages.showIdeaMessageDialog(Messages.java:188)&#xA;&#x9;at com.intellij.openapi.ui.Messages.showDialog(Messages.java:174)&#xA;&#x9;at com.intellij.openapi.ui.Messages.showDialog(Messages.java:143)&#xA;&#x9;at com.intellij.openapi.ui.Messages.showYesNoDialog(Messages.java:381)&#xA;&#x9;at org.jetbrains.kotlin.idea.framework.ui.FileUIUtils.copyWithOverwriteDialog(FileUIUtils.java:94)&#xA;&#x9;at org.jetbrains.kotlin.idea.framework.ui.FileUIUtils.copyWithOverwriteDialog(FileUIUtils.java:47)&#xA;&#x9;at org.jetbrains.kotlin.idea.configuration.KotlinWithLibraryConfigurator.copyFileToDir(KotlinWithLibraryConfigurator.kt:177)&#xA;&#x9;at org.jetbrains.kotlin.idea.framework.CustomLibraryDescriptorWithDeferredConfig$DeferredCopyFileRequests.performRequests(CustomLibraryDescriptorWithDeferredConfig.kt:121)&#xA;&#x9;at org.jetbrains.kotlin.idea.framework.CustomLibraryDescriptorWithDeferredConfig.finishLibConfiguration(CustomLibraryDescriptorWithDeferredConfig.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.idea.framework.JavaFrameworkSupportProvider$createConfigurable$1.addSupport(JavaFrameworkSupportProvider.kt:58)&#xA;&#x9;at com.intellij.ide.util.newProjectWizard.AddSupportForFrameworksPanel.addSupport(AddSupportForFrameworksPanel.java:454)&#xA;&#x9;at com.intellij.ide.projectWizard.ProjectTypeStep$7.update(ProjectTypeStep.java:202)&#xA;&#x9;at com.intellij.ide.util.projectWizard.ModuleBuilder.setupModule(ModuleBuilder.java:265)&#xA;&#x9;at com.intellij.ide.util.projectWizard.ModuleBuilder.createModule(ModuleBuilder.java:256)&#xA;&#x9;at com.intellij.ide.util.projectWizard.ModuleBuilder.createAndCommitIfNeeded(ModuleBuilder.java:294)&#xA;&#x9;at com.intellij.ide.util.projectWizard.ModuleBuilder.lambda$commitModule$3(ModuleBuilder.java:337)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1055)&#xA;&#x9;at com.intellij.ide.util.projectWizard.ModuleBuilder.commitModule(ModuleBuilder.java:336)&#xA;&#x9;at com.intellij.ide.util.projectWizard.ModuleBuilder.commit(ModuleBuilder.java:322)&#xA;&#x9;at com.intellij.ide.util.projectWizard.JavaModuleBuilder.commit(JavaModuleBuilder.java:179)&#xA;&#x9;at com.intellij.ide.impl.NewProjectUtil.a(NewProjectUtil.java:149)&#xA;&#x9;at com.intellij.ide.impl.NewProjectUtil.createFromWizard(NewProjectUtil.java:76)&#xA;&#x9;at com.intellij.ide.impl.NewProjectUtil.createNewProject(NewProjectUtil.java:71)&#xA;&#x9;at com.intellij.ide.actions.NewProjectAction.actionPerformed(NewProjectAction.java:36)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:216)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:86)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:151)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:231)&#xA;&#x9;at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.a(ActionMenuItem.java:310)&#xA;&#x9;at com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:911)&#xA;&#x9;at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:136)&#xA;&#x9;at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:300)&#xA;&#x9;at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)&#xA;&#x9;at com.intellij.openapi.actionSystem.impl.ActionMenuItem.a(ActionMenuItem.java:117)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:86)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:109)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransaction(TransactionGuardImpl.java:118)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuard.submitTransaction(TransactionGuard.java:122)&#xA;&#x9;at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:117)&#xA;&#x9;at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:513)&#xA;&#x9;at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:45)&#xA;&#x9;at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:533)&#xA;&#x9;at java.awt.Component.processMouseEvent(Component.java:6541)&#xA;&#x9;at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)&#xA;&#x9;at java.awt.Component.processEvent(Component.java:6306)&#xA;&#x9;at java.awt.Container.processEvent(Container.java:2237)&#xA;&#x9;at java.awt.Component.dispatchEventImpl(Component.java:4897)&#xA;&#x9;at java.awt.Container.dispatchEventImpl(Container.java:2295)&#xA;&#x9;at java.awt.Component.dispatchEvent(Component.java:4719)&#xA;&#x9;at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)&#xA;&#x9;at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)&#xA;&#x9;at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)&#xA;&#x9;at java.awt.Container.dispatchEventImpl(Container.java:2281)&#xA;&#x9;at java.awt.Window.dispatchEventImpl(Window.java:2746)&#xA;&#x9;at java.awt.Component.dispatchEvent(Component.java:4719)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)&#xA;&#x9;at java.awt.EventQueue$4.run(EventQueue.java:737)&#xA;&#x9;at java.awt.EventQueue$4.run(EventQueue.java:735)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.i(IdeEventQueue.java:821)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:645)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:365)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)" shownForIssueAuthor="false" created="1495633175670" markdown="false"><replies/></comment></issue><issue id="KT-18082" entityId="25-1549689"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18082</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cant select Kotlin class from the TreeJavaClassChooserDialog</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Having `TreeJavaClassChooserDialog` i cant select Kotlin class ( *OK* button is grayed). But I can select Java class (even if it is not runnable, it doesn't matter here).

As I see the reason that in `TreeJavaClassChooserDialog` :

```
  @Override
  @Nullable
  protected PsiClass getSelectedFromTreeUserObject(DefaultMutableTreeNode node) {
    Object userObject = node.getUserObject();
    if (!(userObject instanceof ClassTreeNode)) return null;
    ClassTreeNode descriptor = (ClassTreeNode)userObject;
    return descriptor.getPsiClass();
  }
```

`userObject` is `KtClassOrObjectTreeNode` and does not implement `ClassTreeNode`.

What can we do with it?
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1495704076640</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975551</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Nicolay.Mitropolsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nicolay Mitropolsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">IDEA-161121</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-414664" url="https://youtrack.jetbrains.com/_persistent/Screenshot_2017-05-25_12-13-07.png?file=74-414664&amp;c=true">Screenshot_2017-05-25_12-13-07.png</value></field></issue><issue id="KT-18154" entityId="25-1553159"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18154</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Configure Kotlin Popup Appears After Changing Gradle Wrapper</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>After changing the Gradle wrapper version (from 3.5 to 4.1 and back again) via the terminal and doing a Gradle refresh a popup appears in IntelliJ with the following message:
    "Configure Kotlin ...as Kotlin (JavaScript) modules"

In the "build.gradle" file the "kotlin" plugin (for Kotlin JVM) is applied. Why does the popup appear when the Kotlin JVM plugin has been applied after a Gradle refresh? Popup still appears after restarting IntelliJ and even after reopening the project.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1496042313408</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975537</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>napperley</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nick Apperley</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2207202" author="napperley" authorFullName="Nick Apperley" issueId="KT-18154" deleted="false" text="@yole - Have the same thing occurring with a Kotlin JS project with the popup being the inverse (&quot;Configure Kotlin ... as Kotlin (Gradle) modules&quot;), even when using GSK (Gradle Script Kotlin) v0.9." shownForIssueAuthor="false" created="1496473037317" markdown="false"><replies/></comment></issue><issue id="KT-18179" entityId="25-1554391"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18179</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Protected abstract function in private class overridden in anonymous object is not a reference</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
class C {
    private abstract class PA {
        fun foo() { bar() }
        protected abstract fun bar() // (*)
    }

    private val test = object : PA() {
        override fun bar() { // (**)
            println("test")
        }
    }
}
```

1. Navigate to PA#bar definition (*). See that `bar` usage in `foo` is highlighted, but `bar` overridden in `test` (**) is not.
2. Rename PA#bar. `bar` in `test` is not renamed, the code no longer compiles.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1496126435341</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975549</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18270" entityId="25-1558741"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18270</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Trying to access skipped parameter" exception in LocalVarRemapper</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Error:Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'entityListCache' into
public final fun getAll(): kotlin.collections.List&lt;com.amsarmada.model.OrganizationType&gt; defined in com.amsarmada.api.repositories.OrganizationTypeRepository
fun getAll(): List&lt;OrganizationType&gt; = cacheHelper.entityListCache(
            cacheHelper.getCacheKey(ResourceChangeType.OrganizationType, "all"),
            { context.use { it.selectFrom(ORGANIZATION_TYPE).fetch { it.toModel() } } },
            this::idIndexer,
            emptyIndexFunction = this::createIndexer)
Cause: Method inlining entityListCache(
            cacheHelper.getCacheKey(ResourceChangeType.OrganizationType, "all"),
            { context.use { it.selectFrom(ORGANIZATION_TYPE).fetch { it.toModel() } } },
            this::idIndexer,
            emptyIndexFunction = this::createIndexer): couldn't inline method call
Cause: entityListCache$default (Lcom/amsarmada/cache/RepositoryCacheHelper;Ljava/lang/String;Lkotlin/jvm/functions/Function0;[Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function0;Lorg/joda/time/Duration;ILjava/lang/Object;Lcom/amsarmada/api/repositories/OrganizationTypeRepository;Lcom/amsarmada/api/repositories/OrganizationTypeRepository;)Ljava/util/List;:
    TRYCATCHBLOCK L0 L1 L2 java/lang/Throwable
    TRYCATCHBLOCK L0 L1 L3 null
    TRYCATCHBLOCK L2 L3 L3 null
    TRYCATCHBLOCK L3 L4 L3 null
    TRYCATCHBLOCK L5 L6 L7 java/lang/RuntimeException
   L8
    ILOAD 6
    BIPUSH 8
    IAND
    IFEQ L9
   L10
    LINENUMBER 103 L10
    ACONST_NULL
    CHECKCAST kotlin/jvm/functions/Function0
    ASTORE 4
   L9
    ILOAD 6
    BIPUSH 16
    IAND
    IFEQ L11
   L12
    LINENUMBER 104 L12
    GETSTATIC com/amsarmada/cache/RepositoryCacheHelper.Companion : Lcom/amsarmada/cache/RepositoryCacheHelper$Companion;
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper$Companion.getDefaultCacheDuration ()Lorg/joda/time/Duration;
    ASTORE 5
   L11
    LINENUMBER 106 L11
    ALOAD 0
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.getObjectMapper ()Lcom/fasterxml/jackson/databind/ObjectMapper;
    INVOKEVIRTUAL com/fasterxml/jackson/databind/ObjectMapper.getTypeFactory ()Lcom/fasterxml/jackson/databind/type/TypeFactory;
    LDC Ljava/util/List;.class
    LDC Lcom/amsarmada/model/OrganizationType;.class
    INVOKEVIRTUAL com/fasterxml/jackson/databind/type/TypeFactory.constructCollectionLikeType (Ljava/lang/Class;Ljava/lang/Class;)Lcom/fasterxml/jackson/databind/type/CollectionLikeType;
    ASTORE 7
   L13
    LINENUMBER 107 L13
   L5
    NOP
   L14
    LINENUMBER 108 L14
    ALOAD 0
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.getCache ()Lcom/amsarmada/cache/CacheClient;
    ALOAD 1
    NEW com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$1
    DUP
    ALOAD 0
    ALOAD 7
    INVOKESPECIAL com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$1.&lt;init&gt; (Lcom/amsarmada/cache/RepositoryCacheHelper;Lcom/fasterxml/jackson/databind/type/CollectionLikeType;)V
    CHECKCAST kotlin/jvm/functions/Function1
    INVOKEINTERFACE com/amsarmada/cache/CacheClient.get (Ljava/lang/String;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;
    CHECKCAST java/util/List
    ASTORE 10
   L15
    LINENUMBER 109 L15
    ALOAD 10
    IFNULL L6
    ALOAD 10
    ARETURN
   L6
    GOTO L16
   L7
    LINENUMBER 110 L7
    ASTORE 10
   L17
    LINENUMBER 111 L17
    ALOAD 0
    ALOAD 10
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.logException (Ljava/lang/RuntimeException;)V
   L16
    LINENUMBER 112 L16
    LINENUMBER 114 L16
    NOP
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L18
    LINENUMBER 31 L18
    GETSTATIC com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$1.$$$this$0 : Lcom/amsarmada/api/repositories/OrganizationTypeRepository;
    INVOKEVIRTUAL com/amsarmada/api/repositories/OrganizationTypeRepository.getContext ()Lorg/jooq/DSLContext;
    CHECKCAST java/lang/AutoCloseable
    ASTORE 11
    NOP
   L19
    ACONST_NULL
    CHECKCAST java/lang/Throwable
    ASTORE 12
   L20
   L0
    NOP
   L21
    ALOAD 11
    CHECKCAST org/jooq/DSLContext
    ASTORE 13
   L22
    LINENUMBER 31 L22
    ALOAD 13
    GETSTATIC com/amsarmada/database/models/Tables.ORGANIZATION_TYPE : Lcom/amsarmada/database/models/tables/OrganizationType;
    CHECKCAST org/jooq/Table
    INVOKEINTERFACE org/jooq/DSLContext.selectFrom (Lorg/jooq/Table;)Lorg/jooq/SelectWhereStep;
    NEW com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$lambda$1
    DUP
    GETSTATIC com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$1.$$$this$0 : Lcom/amsarmada/api/repositories/OrganizationTypeRepository;
    INVOKESPECIAL com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$lambda$1.&lt;init&gt; (Lcom/amsarmada/api/repositories/OrganizationTypeRepository;)V
    CHECKCAST org/jooq/RecordMapper
    INVOKEINTERFACE org/jooq/SelectWhereStep.fetch (Lorg/jooq/RecordMapper;)Ljava/util/List;
    DUP
    LDC "it.selectFrom(ORGANIZATI\u2026E).fetch { it.toModel() }"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkExpressionValueIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L23
    GOTO L24
   L24
   L25
    LINENUMBER 31 L25
    ASTORE 13
   L1
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyStart (I)V
   L26
    ALOAD 11
    ALOAD 12
    INVOKESTATIC kotlin/AutoCloseableKt.closeFinally (Ljava/lang/AutoCloseable;Ljava/lang/Throwable;)V
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyEnd (I)V
    ALOAD 13
    GOTO L27
   L2
    ASTORE 13
   L28
    ALOAD 13
    ASTORE 12
   L29
    ALOAD 13
    ATHROW
   L3
    ASTORE 13
   L4
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyStart (I)V
    ALOAD 11
    ALOAD 12
    INVOKESTATIC kotlin/AutoCloseableKt.closeFinally (Ljava/lang/AutoCloseable;Ljava/lang/Throwable;)V
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyEnd (I)V
    ALOAD 13
    ATHROW
   L27
    DUP
    LDC "context.use { it.selectF\u2026.fetch { it.toModel() } }"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkExpressionValueIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    CHECKCAST java/util/List
   L30
    LINENUMBER 31 L30
    GOTO L31
   L32
   L33
   L31
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    CHECKCAST java/util/List
    ASTORE 10
   L34
    LINENUMBER 115 L34
    ALOAD 0
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.getCache ()Lcom/amsarmada/cache/CacheClient;
    ALOAD 1
    ALOAD 10
    NEW com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$2
    DUP
    ALOAD 0
    INVOKESPECIAL com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$2.&lt;init&gt; (Lcom/amsarmada/cache/RepositoryCacheHelper;)V
    CHECKCAST kotlin/jvm/functions/Function1
    ALOAD 5
    INVOKEINTERFACE com/amsarmada/cache/CacheClient.set (Ljava/lang/String;Ljava/lang/Object;Lkotlin/jvm/functions/Function1;Lorg/joda/time/Duration;)Z
    POP
   L35
    LINENUMBER 116 L35
    ALOAD 3
    CHECKCAST [Ljava/lang/Object;
    ASTORE 16
    ALOAD 16
    ASTORE 17
    ALOAD 17
    ARRAYLENGTH
    IFNE L36
    ICONST_1
    GOTO L37
   L36
    ICONST_0
   L37
    IFNE L38
    ICONST_1
    GOTO L39
   L38
    ICONST_0
   L39
    IFEQ L40
   L41
    LINENUMBER 117 L41
    NEW java/util/LinkedHashSet
    DUP
    INVOKESPECIAL java/util/LinkedHashSet.&lt;init&gt; ()V
    CHECKCAST java/util/Set
   L42
    LINENUMBER 117 L42
    ASTORE 16
   L43
    LINENUMBER 118 L43
    ALOAD 3
    CHECKCAST [Ljava/lang/Object;
    ASTORE 17
   L44
    LINENUMBER 119 L44
    ICONST_0
    ISTORE 18
   L45
    ILOAD 18
    ALOAD 17
    ARRAYLENGTH
    IF_ICMPGE L46
    ALOAD 17
    ILOAD 18
    AALOAD
    ASTORE 19
   L47
    LINENUMBER 120 L47
    ALOAD 19
    CHECKCAST kotlin/jvm/functions/Function1
    ASTORE 20
   L48
    LINENUMBER 118 L48
    ALOAD 10
    CHECKCAST java/lang/Iterable
    ASTORE 21
   L49
    LINENUMBER 121 L49
    ALOAD 21
    ASTORE 22
    NEW java/util/ArrayList
    DUP
    ALOAD 21
    BIPUSH 10
    INVOKESTATIC kotlin/collections/CollectionsKt.collectionSizeOrDefault (Ljava/lang/Iterable;I)I
    INVOKESPECIAL java/util/ArrayList.&lt;init&gt; (I)V
    CHECKCAST java/util/Collection
    ASTORE 23
   L50
    LINENUMBER 122 L50
    ALOAD 22
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 24
   L51
    ALOAD 24
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L52
    ALOAD 24
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 25
   L53
    LINENUMBER 123 L53
    ALOAD 23
    ALOAD 20
    ALOAD 25
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    INVOKEINTERFACE java/util/Collection.add (Ljava/lang/Object;)Z
    POP
   L54
    LINENUMBER 122 L54
    GOTO L51
   L52
    LINENUMBER 124 L52
    ALOAD 23
   L55
    CHECKCAST java/util/List
   L56
    LINENUMBER 118 L56
    CHECKCAST java/lang/Iterable
    ASTORE 20
   L57
    LINENUMBER 125 L57
    ALOAD 16
    CHECKCAST java/util/Collection
    ALOAD 20
    INVOKESTATIC kotlin/collections/CollectionsKt.addAll (Ljava/util/Collection;Ljava/lang/Iterable;)Z
    POP
   L58
    LINENUMBER 119 L58
    IINC 18 1
   L59
    GOTO L45
   L46
    LINENUMBER 127 L46
    ALOAD 16
    CHECKCAST java/util/Collection
    POP
   L60
    LINENUMBER 128 L60
    DUP
    IFNULL L61
   L62
    LINENUMBER 128 L62
    ALOAD 16
    NOP
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L63
    GETSTATIC com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$3.$$$receiver$0 : Ljava/lang/Object;
    CHECKCAST com/amsarmada/api/repositories/OrganizationTypeRepository
   L64
    LINENUMBER 33 L64
    INVOKESPECIAL com/amsarmada/api/repositories/OrganizationTypeRepository.createIndexer ()Ljava/lang/String;
    GOTO L65
   L66
   L67
   L65
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    INVOKEINTERFACE java/util/Set.add (Ljava/lang/Object;)Z
   L68
    POP
   L69
    LINENUMBER 128 L69
    GOTO L70
   L61
    POP
   L70
    LINENUMBER 129 L70
    ALOAD 0
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.getCache ()Lcom/amsarmada/cache/CacheClient;
    ALOAD 16
    CHECKCAST java/util/Collection
    ALOAD 1
    INVOKESTATIC kotlin/collections/CollectionsKt.listOf (Ljava/lang/Object;)Ljava/util/List;
    CHECKCAST java/util/Collection
    INVOKEINTERFACE com/amsarmada/cache/CacheClient.setAdd (Ljava/util/Collection;Ljava/util/Collection;)V
   L40
    LINENUMBER 132 L40
    ALOAD 10
    ARETURN
   L71
    LOCALVARIABLE it Lorg/jooq/DSLContext; L22 L24 13
    LOCALVARIABLE $i$a$1$use I L22 L24 14
    LOCALVARIABLE $i$a$1$entityListCache I L18 L33 15
    LOCALVARIABLE $i$a$3$unknown I L63 L67 11
    LOCALVARIABLE cachedEntity$iv Ljava/util/List; L15 L6 10
    LOCALVARIABLE e$iv Ljava/lang/RuntimeException; L17 L16 10
    LOCALVARIABLE item$iv$iv$iv Ljava/lang/Object; L53 L54 25
    LOCALVARIABLE $receiver$iv$iv$iv Ljava/lang/Iterable; L50 L55 22
    LOCALVARIABLE destination$iv$iv$iv Ljava/util/Collection; L50 L55 23
    LOCALVARIABLE $i$f$mapTo I L50 L55 26
    LOCALVARIABLE $receiver$iv$iv Ljava/lang/Iterable; L49 L56 21
    LOCALVARIABLE $i$f$map I L49 L56 27
    LOCALVARIABLE indexFunction$iv Lkotlin/jvm/functions/Function1; L48 L56 20
    LOCALVARIABLE $i$a$2$flatMapTo I L48 L56 28
    LOCALVARIABLE list$iv$iv Ljava/lang/Iterable; L57 L58 20
    LOCALVARIABLE element$iv$iv Ljava/lang/Object; L47 L59 19
    LOCALVARIABLE $receiver$iv$iv [Ljava/lang/Object; L44 L60 17
    LOCALVARIABLE $i$f$flatMapTo I L44 L60 29
    LOCALVARIABLE it$iv Lkotlin/jvm/functions/Function0; L62 L68 18
    LOCALVARIABLE $i$a$3$let I L62 L68 19
    LOCALVARIABLE indexKeys$iv Ljava/util/Set; L43 L40 16
    LOCALVARIABLE calculatedEntity$iv Ljava/util/List; L34 L71 10
    LOCALVARIABLE type$iv Lcom/fasterxml/jackson/databind/type/CollectionLikeType; L13 L71 7
    LOCALVARIABLE this_$iv Lcom/amsarmada/cache/RepositoryCacheHelper; L8 L71 0
    LOCALVARIABLE cacheKey$iv Ljava/lang/String; L8 L71 1
    LOCALVARIABLE missingEntitySupplier$iv Lkotlin/jvm/functions/Function0; L8 L71 2
    LOCALVARIABLE indexFunctions$iv [Lkotlin/jvm/functions/Function1; L8 L71 3
    LOCALVARIABLE emptyIndexFunction$iv Lkotlin/jvm/functions/Function0; L8 L71 4
    LOCALVARIABLE expiration$iv Lorg/joda/time/Duration; L8 L71 5
    LOCALVARIABLE $i$f$entityListCache I L11 L71 6
    MAXSTACK = 6
    MAXLOCALS = 30
File being compiled and position: (29,56) in /Users/jasonfry/AMS/armada/services/api/src/main/kotlin/com/amsarmada/api/repositories/OrganizationTypeRepository.kt
PsiElement: entityListCache(
            cacheHelper.getCacheKey(ResourceChangeType.OrganizationType, "all"),
            { context.use { it.selectFrom(ORGANIZATION_TYPE).fetch { it.toModel() } } },
            this::idIndexer,
            emptyIndexFunction = this::createIndexer)
The root cause was thrown at: MethodInliner.java:775
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.java:208)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:187)
	at org.jetbrains.kotlin.codegen.CallGenerator.genCall(CallGenerator.kt:104)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2905)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2854)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:102)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:350)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:2256)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:494)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:254)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:175)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:146)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:194)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:150)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:76)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:128)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:295)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:279)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:162)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:124)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:99)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:417)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:151)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:165)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:54)
	at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:178)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.execCompiler(CompileServiceImpl.kt:387)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execCompiler(CompileServiceImpl.kt:93)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1.invoke(CompileServiceImpl.kt:350)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1.invoke(CompileServiceImpl.kt:93)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:784)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:93)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:811)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$checkedCompile(CompileServiceImpl.kt:93)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:783)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:93)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:971)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:851)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:777)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$doCompile(CompileServiceImpl.kt:93)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:348)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:93)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:971)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:851)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:327)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jetbrains.kotlin.codegen.inline.InlineException: Method inlining entityListCache(
            cacheHelper.getCacheKey(ResourceChangeType.OrganizationType, "all"),
            { context.use { it.selectFrom(ORGANIZATION_TYPE).fetch { it.toModel() } } },
            this::idIndexer,
            emptyIndexFunction = this::createIndexer): couldn't inline method call
Cause: entityListCache$default (Lcom/amsarmada/cache/RepositoryCacheHelper;Ljava/lang/String;Lkotlin/jvm/functions/Function0;[Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function0;Lorg/joda/time/Duration;ILjava/lang/Object;Lcom/amsarmada/api/repositories/OrganizationTypeRepository;Lcom/amsarmada/api/repositories/OrganizationTypeRepository;)Ljava/util/List;:
    TRYCATCHBLOCK L0 L1 L2 java/lang/Throwable
    TRYCATCHBLOCK L0 L1 L3 null
    TRYCATCHBLOCK L2 L3 L3 null
    TRYCATCHBLOCK L3 L4 L3 null
    TRYCATCHBLOCK L5 L6 L7 java/lang/RuntimeException
   L8
    ILOAD 6
    BIPUSH 8
    IAND
    IFEQ L9
   L10
    LINENUMBER 103 L10
    ACONST_NULL
    CHECKCAST kotlin/jvm/functions/Function0
    ASTORE 4
   L9
    ILOAD 6
    BIPUSH 16
    IAND
    IFEQ L11
   L12
    LINENUMBER 104 L12
    GETSTATIC com/amsarmada/cache/RepositoryCacheHelper.Companion : Lcom/amsarmada/cache/RepositoryCacheHelper$Companion;
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper$Companion.getDefaultCacheDuration ()Lorg/joda/time/Duration;
    ASTORE 5
   L11
    LINENUMBER 106 L11
    ALOAD 0
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.getObjectMapper ()Lcom/fasterxml/jackson/databind/ObjectMapper;
    INVOKEVIRTUAL com/fasterxml/jackson/databind/ObjectMapper.getTypeFactory ()Lcom/fasterxml/jackson/databind/type/TypeFactory;
    LDC Ljava/util/List;.class
    LDC Lcom/amsarmada/model/OrganizationType;.class
    INVOKEVIRTUAL com/fasterxml/jackson/databind/type/TypeFactory.constructCollectionLikeType (Ljava/lang/Class;Ljava/lang/Class;)Lcom/fasterxml/jackson/databind/type/CollectionLikeType;
    ASTORE 7
   L13
    LINENUMBER 107 L13
   L5
    NOP
   L14
    LINENUMBER 108 L14
    ALOAD 0
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.getCache ()Lcom/amsarmada/cache/CacheClient;
    ALOAD 1
    NEW com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$1
    DUP
    ALOAD 0
    ALOAD 7
    INVOKESPECIAL com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$1.&lt;init&gt; (Lcom/amsarmada/cache/RepositoryCacheHelper;Lcom/fasterxml/jackson/databind/type/CollectionLikeType;)V
    CHECKCAST kotlin/jvm/functions/Function1
    INVOKEINTERFACE com/amsarmada/cache/CacheClient.get (Ljava/lang/String;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;
    CHECKCAST java/util/List
    ASTORE 10
   L15
    LINENUMBER 109 L15
    ALOAD 10
    IFNULL L6
    ALOAD 10
    ARETURN
   L6
    GOTO L16
   L7
    LINENUMBER 110 L7
    ASTORE 10
   L17
    LINENUMBER 111 L17
    ALOAD 0
    ALOAD 10
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.logException (Ljava/lang/RuntimeException;)V
   L16
    LINENUMBER 112 L16
    LINENUMBER 114 L16
    NOP
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L18
    LINENUMBER 31 L18
    GETSTATIC com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$1.$$$this$0 : Lcom/amsarmada/api/repositories/OrganizationTypeRepository;
    INVOKEVIRTUAL com/amsarmada/api/repositories/OrganizationTypeRepository.getContext ()Lorg/jooq/DSLContext;
    CHECKCAST java/lang/AutoCloseable
    ASTORE 11
    NOP
   L19
    ACONST_NULL
    CHECKCAST java/lang/Throwable
    ASTORE 12
   L20
   L0
    NOP
   L21
    ALOAD 11
    CHECKCAST org/jooq/DSLContext
    ASTORE 13
   L22
    LINENUMBER 31 L22
    ALOAD 13
    GETSTATIC com/amsarmada/database/models/Tables.ORGANIZATION_TYPE : Lcom/amsarmada/database/models/tables/OrganizationType;
    CHECKCAST org/jooq/Table
    INVOKEINTERFACE org/jooq/DSLContext.selectFrom (Lorg/jooq/Table;)Lorg/jooq/SelectWhereStep;
    NEW com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$lambda$1
    DUP
    GETSTATIC com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$1.$$$this$0 : Lcom/amsarmada/api/repositories/OrganizationTypeRepository;
    INVOKESPECIAL com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$lambda$1.&lt;init&gt; (Lcom/amsarmada/api/repositories/OrganizationTypeRepository;)V
    CHECKCAST org/jooq/RecordMapper
    INVOKEINTERFACE org/jooq/SelectWhereStep.fetch (Lorg/jooq/RecordMapper;)Ljava/util/List;
    DUP
    LDC "it.selectFrom(ORGANIZATI\u2026E).fetch { it.toModel() }"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkExpressionValueIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L23
    GOTO L24
   L24
   L25
    LINENUMBER 31 L25
    ASTORE 13
   L1
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyStart (I)V
   L26
    ALOAD 11
    ALOAD 12
    INVOKESTATIC kotlin/AutoCloseableKt.closeFinally (Ljava/lang/AutoCloseable;Ljava/lang/Throwable;)V
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyEnd (I)V
    ALOAD 13
    GOTO L27
   L2
    ASTORE 13
   L28
    ALOAD 13
    ASTORE 12
   L29
    ALOAD 13
    ATHROW
   L3
    ASTORE 13
   L4
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyStart (I)V
    ALOAD 11
    ALOAD 12
    INVOKESTATIC kotlin/AutoCloseableKt.closeFinally (Ljava/lang/AutoCloseable;Ljava/lang/Throwable;)V
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyEnd (I)V
    ALOAD 13
    ATHROW
   L27
    DUP
    LDC "context.use { it.selectF\u2026.fetch { it.toModel() } }"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkExpressionValueIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    CHECKCAST java/util/List
   L30
    LINENUMBER 31 L30
    GOTO L31
   L32
   L33
   L31
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    CHECKCAST java/util/List
    ASTORE 10
   L34
    LINENUMBER 115 L34
    ALOAD 0
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.getCache ()Lcom/amsarmada/cache/CacheClient;
    ALOAD 1
    ALOAD 10
    NEW com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$2
    DUP
    ALOAD 0
    INVOKESPECIAL com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$$inlined$entityListCache$2.&lt;init&gt; (Lcom/amsarmada/cache/RepositoryCacheHelper;)V
    CHECKCAST kotlin/jvm/functions/Function1
    ALOAD 5
    INVOKEINTERFACE com/amsarmada/cache/CacheClient.set (Ljava/lang/String;Ljava/lang/Object;Lkotlin/jvm/functions/Function1;Lorg/joda/time/Duration;)Z
    POP
   L35
    LINENUMBER 116 L35
    ALOAD 3
    CHECKCAST [Ljava/lang/Object;
    ASTORE 16
    ALOAD 16
    ASTORE 17
    ALOAD 17
    ARRAYLENGTH
    IFNE L36
    ICONST_1
    GOTO L37
   L36
    ICONST_0
   L37
    IFNE L38
    ICONST_1
    GOTO L39
   L38
    ICONST_0
   L39
    IFEQ L40
   L41
    LINENUMBER 117 L41
    NEW java/util/LinkedHashSet
    DUP
    INVOKESPECIAL java/util/LinkedHashSet.&lt;init&gt; ()V
    CHECKCAST java/util/Set
   L42
    LINENUMBER 117 L42
    ASTORE 16
   L43
    LINENUMBER 118 L43
    ALOAD 3
    CHECKCAST [Ljava/lang/Object;
    ASTORE 17
   L44
    LINENUMBER 119 L44
    ICONST_0
    ISTORE 18
   L45
    ILOAD 18
    ALOAD 17
    ARRAYLENGTH
    IF_ICMPGE L46
    ALOAD 17
    ILOAD 18
    AALOAD
    ASTORE 19
   L47
    LINENUMBER 120 L47
    ALOAD 19
    CHECKCAST kotlin/jvm/functions/Function1
    ASTORE 20
   L48
    LINENUMBER 118 L48
    ALOAD 10
    CHECKCAST java/lang/Iterable
    ASTORE 21
   L49
    LINENUMBER 121 L49
    ALOAD 21
    ASTORE 22
    NEW java/util/ArrayList
    DUP
    ALOAD 21
    BIPUSH 10
    INVOKESTATIC kotlin/collections/CollectionsKt.collectionSizeOrDefault (Ljava/lang/Iterable;I)I
    INVOKESPECIAL java/util/ArrayList.&lt;init&gt; (I)V
    CHECKCAST java/util/Collection
    ASTORE 23
   L50
    LINENUMBER 122 L50
    ALOAD 22
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 24
   L51
    ALOAD 24
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L52
    ALOAD 24
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 25
   L53
    LINENUMBER 123 L53
    ALOAD 23
    ALOAD 20
    ALOAD 25
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    INVOKEINTERFACE java/util/Collection.add (Ljava/lang/Object;)Z
    POP
   L54
    LINENUMBER 122 L54
    GOTO L51
   L52
    LINENUMBER 124 L52
    ALOAD 23
   L55
    CHECKCAST java/util/List
   L56
    LINENUMBER 118 L56
    CHECKCAST java/lang/Iterable
    ASTORE 20
   L57
    LINENUMBER 125 L57
    ALOAD 16
    CHECKCAST java/util/Collection
    ALOAD 20
    INVOKESTATIC kotlin/collections/CollectionsKt.addAll (Ljava/util/Collection;Ljava/lang/Iterable;)Z
    POP
   L58
    LINENUMBER 119 L58
    IINC 18 1
   L59
    GOTO L45
   L46
    LINENUMBER 127 L46
    ALOAD 16
    CHECKCAST java/util/Collection
    POP
   L60
    LINENUMBER 128 L60
    DUP
    IFNULL L61
   L62
    LINENUMBER 128 L62
    ALOAD 16
    NOP
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L63
    GETSTATIC com/amsarmada/api/repositories/OrganizationTypeRepository$getAll$3.$$$receiver$0 : Ljava/lang/Object;
    CHECKCAST com/amsarmada/api/repositories/OrganizationTypeRepository
   L64
    LINENUMBER 33 L64
    INVOKESPECIAL com/amsarmada/api/repositories/OrganizationTypeRepository.createIndexer ()Ljava/lang/String;
    GOTO L65
   L66
   L67
   L65
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    INVOKEINTERFACE java/util/Set.add (Ljava/lang/Object;)Z
   L68
    POP
   L69
    LINENUMBER 128 L69
    GOTO L70
   L61
    POP
   L70
    LINENUMBER 129 L70
    ALOAD 0
    INVOKEVIRTUAL com/amsarmada/cache/RepositoryCacheHelper.getCache ()Lcom/amsarmada/cache/CacheClient;
    ALOAD 16
    CHECKCAST java/util/Collection
    ALOAD 1
    INVOKESTATIC kotlin/collections/CollectionsKt.listOf (Ljava/lang/Object;)Ljava/util/List;
    CHECKCAST java/util/Collection
    INVOKEINTERFACE com/amsarmada/cache/CacheClient.setAdd (Ljava/util/Collection;Ljava/util/Collection;)V
   L40
    LINENUMBER 132 L40
    ALOAD 10
    ARETURN
   L71
    LOCALVARIABLE it Lorg/jooq/DSLContext; L22 L24 13
    LOCALVARIABLE $i$a$1$use I L22 L24 14
    LOCALVARIABLE $i$a$1$entityListCache I L18 L33 15
    LOCALVARIABLE $i$a$3$unknown I L63 L67 11
    LOCALVARIABLE cachedEntity$iv Ljava/util/List; L15 L6 10
    LOCALVARIABLE e$iv Ljava/lang/RuntimeException; L17 L16 10
    LOCALVARIABLE item$iv$iv$iv Ljava/lang/Object; L53 L54 25
    LOCALVARIABLE $receiver$iv$iv$iv Ljava/lang/Iterable; L50 L55 22
    LOCALVARIABLE destination$iv$iv$iv Ljava/util/Collection; L50 L55 23
    LOCALVARIABLE $i$f$mapTo I L50 L55 26
    LOCALVARIABLE $receiver$iv$iv Ljava/lang/Iterable; L49 L56 21
    LOCALVARIABLE $i$f$map I L49 L56 27
    LOCALVARIABLE indexFunction$iv Lkotlin/jvm/functions/Function1; L48 L56 20
    LOCALVARIABLE $i$a$2$flatMapTo I L48 L56 28
    LOCALVARIABLE list$iv$iv Ljava/lang/Iterable; L57 L58 20
    LOCALVARIABLE element$iv$iv Ljava/lang/Object; L47 L59 19
    LOCALVARIABLE $receiver$iv$iv [Ljava/lang/Object; L44 L60 17
    LOCALVARIABLE $i$f$flatMapTo I L44 L60 29
    LOCALVARIABLE it$iv Lkotlin/jvm/functions/Function0; L62 L68 18
    LOCALVARIABLE $i$a$3$let I L62 L68 19
    LOCALVARIABLE indexKeys$iv Ljava/util/Set; L43 L40 16
    LOCALVARIABLE calculatedEntity$iv Ljava/util/List; L34 L71 10
    LOCALVARIABLE type$iv Lcom/fasterxml/jackson/databind/type/CollectionLikeType; L13 L71 7
    LOCALVARIABLE this_$iv Lcom/amsarmada/cache/RepositoryCacheHelper; L8 L71 0
    LOCALVARIABLE cacheKey$iv Ljava/lang/String; L8 L71 1
    LOCALVARIABLE missingEntitySupplier$iv Lkotlin/jvm/functions/Function0; L8 L71 2
    LOCALVARIABLE indexFunctions$iv [Lkotlin/jvm/functions/Function1; L8 L71 3
    LOCALVARIABLE emptyIndexFunction$iv Lkotlin/jvm/functions/Function0; L8 L71 4
    LOCALVARIABLE expiration$iv Lorg/joda/time/Duration; L8 L71 5
    LOCALVARIABLE $i$f$entityListCache I L11 L71 6
    MAXSTACK = 6
    MAXLOCALS = 30
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.wrapException(MethodInliner.java:775)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:124)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:95)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.java:453)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:181)
	... 71 more
Caused by: java.lang.RuntimeException: Trying to access skipped parameter: Lkotlin/jvm/functions/Function0; at 4
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.remap(LocalVarRemapper.java:90)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.visitVarInsn(LocalVarRemapper.java:118)
	at org.jetbrains.kotlin.codegen.inline.RemapVisitor.visitVarInsn(RemapVisitor.java:49)
	at org.jetbrains.org.objectweb.asm.tree.VarInsnNode.accept(VarInsnNode.java:86)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:121)
	... 74 more</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1496425791446</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004624</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jasonfry89</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jason Fry</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2206718" author="jasonfry89" authorFullName="Jason Fry" issueId="KT-18270" deleted="false" text="When I remove the parameter &quot;emptyIndexFunction: (() -&gt; String)? = null&quot;, the compilation is successful. " shownForIssueAuthor="false" created="1496427002264" markdown="false"><replies/></comment></issue><issue id="KT-18336" entityId="25-1561905"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18336</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin files aren't sorted by type in project view</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I hate alphabetical sorting because it makes things messy so I always use the "Sort by type" option in the project view:
 !image3.png!

However, my Kotlin files aren't being sorted properly:
!image2.png!

If you look at the above screenshot, you can see that the Java interface is above the classes, but everything is all jumbled around in Kotlin.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1496780875512</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975537</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>SUPERCILEX</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alex Saveau</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-417728" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-417728&amp;c=true">image.png</value><value id="74-417729" url="https://youtrack.jetbrains.com/_persistent/image2.png?file=74-417729&amp;c=true">image2.png</value><value id="74-417730" url="https://youtrack.jetbrains.com/_persistent/image3.png?file=74-417730&amp;c=true">image3.png</value></field></issue><issue id="KT-18474" entityId="25-1566663"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18474</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incorrect font used in settings screen</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>While changing my syntax highlighting colors, I noticed that the font under "Use inherited attributes" (inside the settings for Kotlin) was not the same as the font used everywhere else. I have attached screenshots showing what it normally looks like (taken from under the Java settings) and one with the incorrect font (taken from under the Kotlin settings)

I am currently using the latest 2017.2 EAP build</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1497201440159</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975535</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jeffmagma</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jeffrey Gao</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-418948" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-418948&amp;c=true">image.png</value><value id="74-418949" url="https://youtrack.jetbrains.com/_persistent/image2.png?file=74-418949&amp;c=true">image2.png</value></field><comment id="27-2227034" author="adernov" authorFullName="Andrey Dernov" issueId="KT-18474" deleted="false" text="&gt; I noticed that the font under &quot;Use inherited attributes&quot; (inside the settings for Kotlin)&#xA;&#xA;Setting for which text attributes node do you mean exactly? Do you see it for Default Scheme? Thanks." shownForIssueAuthor="false" created="1497253838486" markdown="false"><replies/></comment></issue><issue id="KT-18574" entityId="25-1582631"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18574</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Debug: default function type arguments in generic inline functions are failed to be shown with "Unexpected JDWP Error: 35"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Dummy application (with Kotlin 1.2 language features):
{code:lang=kotlin}
fun &lt;X&gt; nonInlineXU(p: X, f: (X) -&gt; Unit = {
    println(p.toString()) // Breakpoint NXU.
}): Unit = f(p)
inline fun &lt;X&gt; inlineXU(p: X, f: (X) -&gt; Unit = {
    println(p.toString()) // Breakpoint XU.
}): Unit = f(p)
inline fun inlinePU(p: String, f: () -&gt; Unit = {
    println(p) // Breakpoint PU.
}): Unit = f()

fun main(args: Array&lt;String&gt;) {
    nonInlineXU("abc")
    inlineXU("abc")
    inlinePU("abc")
} {code}

Set breakpoints as shown above.
Debug, stop on every breakpoint, check Variables panel, and resume.
For the breakpoint XU the variable `f$iv` is shown with value failed to be calculated:
&gt; Debug info might be corrupt: Unexpected JDWP Error: 35

IDEA 173.318 + Kotlin plugin 1.2-M1-eap-73.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1497975800657</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004625</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Debugger</value><value>Backend. JVM. Inline</value><valueId>IDE. Debugger</valueId><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18622" entityId="25-1586310"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18622</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Plugins have to be reinstalled after upgrade to IDEA 2017.1.3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Plugins: python and kotlin do not work after upgrade to IntelliJ IDEA 2017.1.3. Had to reinstall them to make them work.

Steps to reproduce:
1. Install IDEA 2016 and configure stale kotlin plugin.
2. Install IDEA 2017 and import settings from previous one
3. Check kotlin plugin updates as it shown in attached snapshot
4. Click install
5. The message appears: plugin cannot be installed. See logs.

The log contain:
2017-06-23 10:04:57,989 [327800334]   INFO - nScriptExternalImportsProvider - [kts] unchanged deps for D:/projects/hit/build.gradle.kts 
2017-06-23 10:04:57,990 [327800335]   INFO - nScriptExternalImportsProvider - [kts] unchanged deps for D:/projects/hit/build.gradle.kts 
2017-06-23 10:04:58,092 [327800437]   INFO - nScriptExternalImportsProvider - [kts] unchanged deps for D:/projects/hit/build.gradle.kts 
2017-06-23 10:04:58,093 [327800438]   INFO - nScriptExternalImportsProvider - [kts] unchanged deps for D:/projects/hit/build.gradle.kts 
2017-06-23 10:07:06,159 [327928504]   INFO - ide.actions.ShowFilePathAction - 
Exit code 1 
2017-06-23 10:08:33,273 [328015618]   INFO - ide.actions.ShowFilePathAction - 
Exit code 1 


IntelliJ IDEA 2017.1.3
Build #IU-171.4424.56, built on May 12, 2017
Subscription is active until December 13, 2017
JRE: 1.8.0_112-release-736-b21 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 7 6.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498202617632</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975532</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nmax</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Max Neverov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-422258" url="https://youtrack.jetbrains.com/_persistent/Capture.PNG?file=74-422258&amp;c=true">Capture.PNG</value></field></issue><issue id="KT-18643" entityId="25-1587264"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18643</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cucumber for Java: Navigation/Find Usages not working well between Kotlin and feature file</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Although there is no plugin Cucumber for Kotlin there is possibility to use Cucuber for Java plugin (generate java class and convert to Kotlin). It works except of one bug:
navigation from kotlin step method does not work if this method consists more than one word, e.g:
step: "When some step"
fun someStep() - doesn't work
fun some() - work

Navigation from feature file to Kotlin method  always works.

It's a small bug in my opinion, I've analyzed plugin code but couldn't debug it (btw: there is no guide how to setup intellij-plugins project to make some contribution)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498231221284</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975512</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>test.vas.finanteq</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>test vas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18640" entityId="25-1587268"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18640</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin plugin does not detect included kotlin configuration in gradle</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>
*Steps to reproduce:*
# Create gradle project with Kotlin support in IntelliJ Idea
# Check, that the following gradle plugins are included: idea, kotlin
# Reopen Idea
# Check, that Kotlin support is visible by Idea (e.g. there are not any warning balloons like "Configure Kotlin"
# Move the following lines to new gradle file and include it by using apply from: '../java-projects-header.gradle':
## ``apply plugin: 'kotlin'``
## ``apply plugin: 'idea'``
# Reopen Idea

*Expected result:*
Gradle build sees Kotlin plugins (because of included file). IntelliJ Idea should see Kotlin configuration too

*Actual result:*
IntelliJ Idea shows warning balloon: "Configure Kotlin Configure modules in '....' project as Kotlin (Gradle) modules"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498231469656</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975514</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>imanushin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Igor Manushin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.2</value><valueId>1.1.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18660" entityId="25-1588310"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18660</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inline functions with default or named parameters crash the compiler</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>DEFAULT PARAMETER
================
Context: https://github.com/kategory/kategory/blob/f4fa45c597c0d98c475f17bfe5f07f335f84048c/kategory/src/test/kotlin/kategory/laws/MonadLaws.kt#L8

Crash repro:
Remove all callsite parameters for EQ, replace with default parameter:
```
inline fun &lt;reified F&gt; laws(M: Monad&lt;F&gt; = monad&lt;F&gt;(), EQ: Eq&lt;HK&lt;F, Int&gt;&gt; = Eq()): List&lt;Law&gt;
````

Stacktrace: https://pastebin.com/Pcs6fTrM

Eq constructor: https://github.com/kategory/kategory/blob/f4fa45c597c0d98c475f17bfe5f07f335f84048c/kategory/src/main/kotlin/kategory/typeclasses/Eq.kt#L10

NAMED PARAMETER
================
Context: https://github.com/kategory/kategory/blob/f4fa45c597c0d98c475f17bfe5f07f335f84048c/kategory/src/test/kotlin/kategory/laws/MonadLaws.kt#L15

Crash repro:
Replace explicit values with named parameter:
```
 Law("Monad / JVM: stack safe", { stackSafety(M = M) })
```

Stacktrace: https://pastebin.com/4py1NtpE

StackSafety definition: https://github.com/kategory/kategory/blob/f4fa45c597c0d98c475f17bfe5f07f335f84048c/kategory/src/test/kotlin/kategory/laws/MonadLaws.kt#L43</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498421863800</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004626</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pacoworks</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Paco Estevez</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><value>1.2-M1</value><valueId>1.1.4</valueId><valueId>1.2-M1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2304320" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-18660" deleted="false" text="@pacoworks Which compiler version do you use? Could you try 1.1.3-2?" shownForIssueAuthor="false" created="1499345735810" markdown="false"><replies/></comment><comment id="27-2329259" author="pacoworks" authorFullName="Paco Estevez" issueId="KT-18660" deleted="false" text="@mbogdanov I am using kotlinVersion = '1.1.4-dev-600' and plugin 1.2-M1-release-IJ2017.2-1" shownForIssueAuthor="false" created="1500329745940" markdown="false"><replies/></comment><comment id="27-2329260" author="pacoworks" authorFullName="Paco Estevez" issueId="KT-18660" deleted="false" text="I can confirm it's still an issue on kotlinVersion = '1.2-M1'" shownForIssueAuthor="false" created="1500329853692" updated="1500329745927" markdown="false"><replies/></comment><comment id="27-2329261" author="pacoworks" authorFullName="Paco Estevez" issueId="KT-18660" deleted="false" text="Simplest repro steps are to download the current master of the repo and trigger the second bug described above with M = M" shownForIssueAuthor="false" created="1500330018102" updated="1500330030414" markdown="false"><replies/></comment></issue><issue id="KT-18673" entityId="25-1589653"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18673</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE breaks the code by spiting long escaped method names into two lines</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Just to be clear I am hitting `space`, not `enter`.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498479273722</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975508</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>panell</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Igor Wojda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.2</value><valueId>1.1.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-422729" url="https://youtrack.jetbrains.com/_persistent/Method%20name.mp4?file=74-422729&amp;c=true">Method name.mp4</value></field></issue><issue id="KT-18700" entityId="25-1592380"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18700</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cross-module overrides nothing issue</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Whenever I try to add a new open val inside a class from one module and override in other module I get an overrides nothing error. Attached screenshots. I think it is a regression in 1.1.x. Not sure the version, but it didn't happened before. Maybe some incremental optimization produces the problem.

If you can't reproduce it in simpler projects, you can reproduce the problem cloning this, running some test. Adding marked lines in screenshots and trying to run it again:
https://github.com/jtransc/jtransc/tree/d9791ae9528fa9ae3ee0832fd40231478f3cc5a1

```
com.jtransc.gen.common.CommonGenerator -&gt; open val optionalDoubleDummyDecimals = false
```

```
com.jtransc.gen.js.JsGenerator -&gt; override val optionalDoubleDummyDecimals = true
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498590950860</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1498633060402</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Carlos_Ballesteros_Velasco</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Carlos Ballesteros Velasco</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. JPS</value><valueId>Tools. JPS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-423241" url="https://youtrack.jetbrains.com/_persistent/SNAG-0026.png?file=74-423241&amp;c=true">SNAG-0026.png</value><value id="74-423242" url="https://youtrack.jetbrains.com/_persistent/SNAG-0027.png?file=74-423242&amp;c=true">SNAG-0027.png</value></field><comment id="27-2275665" author="Carlos_Ballesteros_Velasco" authorFullName="Carlos Ballesteros Velasco" issueId="KT-18700" deleted="false" text="Running `Build -&gt; Rebuild project` doesn't fix the issue.&#xA;Deleting `jtransc-core/build` folder does the trick.&#xA;&#xA;I'm using gradle" shownForIssueAuthor="false" created="1498591150930" markdown="false"><replies/></comment></issue><issue id="KT-18701" entityId="25-1592402"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18701</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>try.kotlinlang.org uses different code formatting than IntelliJ IDEA default</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>e.g.

```kotlin
    listOf(1, 2, 3, 4, 5).pairwise { a, b -&gt;
                                    println("$a vs. $b")
                                   }
```

instead of

```kotlin
    listOf(1, 2, 3, 4, 5).pairwise { a, b -&gt;
        println("$a vs. $b")
    }
```

Note the spacing between list elements and block indentation.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498592610840</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1498633272185</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mfulton26</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mark Fulton</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18710" entityId="25-1593058"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18710</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Leaking non-initialized companion object instance</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>``` kotlin
interface Listener {
        val order: Int;
    
        companion object {
            private var calls = 0;
            val order = calls++;
            val implementation = object : Listener {
                override val order = calls++; // threw a java.lang.ExceptionInInitializerError 
            }
        }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498648341717</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1498661847438</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>holi-java</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>holi-java</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-15894</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2-M1</value><valueId>1.2-M1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2278636" author="ilya.gorbunov" authorFullName="Ilya Gorbunov" issueId="KT-18710" deleted="false" text="Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError&#xA;&#x9;at Listener.&lt;clinit&gt;(so-main.kt)&#xA;&#x9;at So_mainKt.main(so-main.kt:10)&#xA;Caused by: java.lang.NullPointerException&#xA;&#x9;at Listener$Companion.access$getCalls$p(so-main.kt:17)&#xA;&#x9;at Listener$Companion$implementation$1.&lt;init&gt;(so-main.kt:21)&#xA;&#x9;at Listener$Companion.&lt;clinit&gt;(so-main.kt:20)&#xA;&#x9;... 2 more" shownForIssueAuthor="false" created="1498661836605" markdown="false"><replies/></comment></issue><issue id="KT-18718" entityId="25-1593208"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18718</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Reference to kotlin class from not configured module showing no error</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Android gradle plugin v 3.0.0-alpha4 
Gradle 4.0

`mylibrary` module not configured as kotlin module but contains kotlin files

Library project `mylibrary` plugged to Main project `app` via `implementation project(':mylibrary')`
Getting compilation error when try to access `mylibrary` classes from `:app`

IDE not showing any errors.

Repo with source code to reproduce: https://github.com/stepango/advanceddagger2/commit/c29316b30ce683bcd7422c786ff61f02ff9e4555</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1498653633416</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975511</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Stepan.Goncharov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Stepan Goncharov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.3</value><valueId>1.1.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18854" entityId="25-1602737"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18854</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Missing Warning/Error in IDE when nullable inline parameter (higher-order function) isn't in first position</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value># *Code (error free; compiles):*
{code lang=hs}
inline fun &lt;T&gt; Iterable&lt;T&gt;.forEachSpecial( other:(T) -&gt; Unit,
                                           noinline  first: ((T) -&gt; Unit)? = null, 
                                           noinline  last:((T) -&gt; Unit)? = null,
                                           noinline  onSingle:((T)-&gt;Unit)? = null,
                                           noinline  onEmpty:(()-&gt;Unit)? = null):Unit{ /** ... **/ }
{code}

# *Code (error shown in IDE; doesn't allow to compile):*
{code lang=hs}
inline fun &lt;T&gt; Iterable&lt;T&gt;.forEachSpecial( other:((T) -&gt; Unit)?,     //IDE Error: Inline-parameter: ... must not be nullable ...
                                           noinline  first: ((T) -&gt; Unit)? = null, 
                                           noinline  last:((T) -&gt; Unit)? = null,
                                           noinline  onSingle:((T)-&gt;Unit)? = null,
                                           noinline  onEmpty:(()-&gt;Unit)? = null):Unit{ /** ... **/ }
{code}

# *Code (error not shown in IDE; allows to compile, throws "Back-end (JVM) Internal error"):*
{code lang=hs}
inline fun &lt;T&gt; Iterable&lt;T&gt;.forEachSpecial( other:(T) -&gt; Unit,
                                           first: ((T) -&gt; Unit)? = null,     //Missing: IDE Error: Inline-parameter: ... must not be nullable ...         
                                           noinline  last:((T) -&gt; Unit)? = null,
                                           noinline  onSingle:((T)-&gt;Unit)? = null,
                                           noinline  onEmpty:(()-&gt;Unit)? = null):Unit{ /** ... **/ }
{code}

*Stacktrace (when compiling code 3. ) :*
{code lang=hs}
e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'forEachSpecial' into
local final fun org.jetbrains.spek.api.dsl.TestBody.&lt;anonymous&gt;(): kotlin.Unit defined in ToolSpek.&lt;init&gt;.&lt;anonymous&gt;.&lt;anonymous&gt;.&lt;anonymous&gt;
{
                val lst = listOf("first", "second", "third", "last")
                try {
                    lst.forEachSpecial(
                            other = {
                                assertTrue { it == "second" || it == "third" }
                            },
                            first = {
                                assertTrue { it == "first" }
                            },
                            last = {
                                assertTrue { it == "last" }
                            },
                            onEmpty = {
                                fail("Empty Called")
                            },
                            onSingle = {
                                fail("Single called")
                            }
                    )
                }catch (e:Exception){
                    fail(e.message)
                }
                assert(true)

            }
Cause: Method inlining forEachSpecial(
                            other = {
                                assertTrue { it == "second" || it == "third" }
                            },
                            first = {
                                assertTrue { it == "first" }
                            },
                            last = {
                                assertTrue { it == "last" }
                            },
                            onEmpty = {
                                fail("Empty Called")
                            },
                            onSingle = {
                                fail("Single called")
                            }
                    ): couldn't inline method call
Cause: forEachSpecial (Ljava/lang/Iterable;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function0;)V:
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 2
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 3
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 4
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 5
   L0
   L1
    LINENUMBER 72 L1
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.count (Ljava/lang/Iterable;)I
    ISTORE 6
   L2
    LINENUMBER 74 L2
    ILOAD 6
    ICONST_1
    IF_ICMPGE L3
   L4
    LINENUMBER 75 L4
    ALOAD 5
    IFNULL L5
    ALOAD 5
    INVOKEINTERFACE kotlin/jvm/functions/Function0.invoke ()Ljava/lang/Object;
    POP
   L5
    LINENUMBER 76 L5
    RETURN
   L3
    LINENUMBER 79 L3
    ILOAD 6
    ICONST_1
    IF_ICMPNE L6
   L7
    LINENUMBER 80 L7
    ALOAD 4
    IFNULL L8
   L9
    LINENUMBER 81 L9
    ALOAD 4
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.single (Ljava/lang/Iterable;)Ljava/lang/Object;
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    POP
   L10
    LINENUMBER 82 L10
    RETURN
   L8
    LINENUMBER 85 L8
    ALOAD 2
    IFNULL L11
   L12
    LINENUMBER 86 L12
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.single (Ljava/lang/Iterable;)Ljava/lang/Object;
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L13
   L14
    LINENUMBER 51 L14
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$2$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$2$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L15
    LINENUMBER 52 L15
    GOTO L16
   L17
   L18
   L16
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L19
    LINENUMBER 87 L19
    RETURN
   L11
    LINENUMBER 90 L11
    ALOAD 3
    IFNULL L20
   L21
    LINENUMBER 91 L21
    ALOAD 3
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.single (Ljava/lang/Iterable;)Ljava/lang/Object;
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    POP
   L22
    LINENUMBER 92 L22
    RETURN
   L20
    LINENUMBER 95 L20
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.single (Ljava/lang/Iterable;)Ljava/lang/Object;
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L23
   L24
    LINENUMBER 48 L24
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$1$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$1$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L25
    LINENUMBER 49 L25
    GOTO L26
   L27
   L28
   L26
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L29
    LINENUMBER 97 L29
    RETURN
   L6
    LINENUMBER 100 L6
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.first (Ljava/lang/Iterable;)Ljava/lang/Object;
    ASTORE 9
   L30
    LINENUMBER 101 L30
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.last (Ljava/lang/Iterable;)Ljava/lang/Object;
    ASTORE 10
   L31
    LINENUMBER 103 L31
    ALOAD 0
    ASTORE 11
   L32
    LINENUMBER 104 L32
    ALOAD 11
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 12
   L33
    ALOAD 12
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L34
    ALOAD 12
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 13
   L35
    ALOAD 13
    ASTORE 14
   L36
    LINENUMBER 105 L36
    ALOAD 14
    ALOAD 9
    IF_ACMPNE L37
   L38
    LINENUMBER 106 L38
    ALOAD 2
    IFNONNULL L39
   L40
    LINENUMBER 107 L40
    ALOAD 14
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L41
   L42
    LINENUMBER 48 L42
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$1$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$1$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L43
    LINENUMBER 49 L43
    GOTO L44
   L45
   L46
   L44
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L47
    LINENUMBER 108 L47
    GOTO L48
   L39
    LINENUMBER 110 L39
    ALOAD 14
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L49
   L50
    LINENUMBER 51 L50
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$2$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$2$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L51
    LINENUMBER 52 L51
    GOTO L52
   L53
   L54
   L52
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
    GOTO L48
   L37
    LINENUMBER 111 L37
    ALOAD 14
    ALOAD 10
    IF_ACMPNE L55
   L56
    LINENUMBER 112 L56
    ALOAD 3
    IFNONNULL L57
   L58
    LINENUMBER 113 L58
    ALOAD 14
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L59
   L60
    LINENUMBER 48 L60
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$1$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$1$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L61
    LINENUMBER 49 L61
    GOTO L62
   L63
   L64
   L62
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L65
    LINENUMBER 114 L65
    GOTO L48
   L57
    LINENUMBER 116 L57
    ALOAD 3
    ALOAD 14
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    POP
    GOTO L48
   L55
    LINENUMBER 118 L55
    ALOAD 14
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L66
   L67
    LINENUMBER 48 L67
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$1$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$1$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L68
    LINENUMBER 49 L68
    GOTO L69
   L70
   L71
   L69
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L48
    LINENUMBER 119 L48
    LINENUMBER 120 L48
    GOTO L33
   L34
    LINENUMBER 121 L34
    LINENUMBER 122 L34
    RETURN
   L72
    LOCALVARIABLE it Ljava/lang/String; L13 L18 7
    LOCALVARIABLE $i$a$2$forEachSpecial I L13 L18 8
    LOCALVARIABLE it Ljava/lang/String; L23 L28 7
    LOCALVARIABLE $i$a$1$forEachSpecial I L23 L28 8
    LOCALVARIABLE it Ljava/lang/String; L41 L46 7
    LOCALVARIABLE $i$a$1$forEachSpecial I L41 L46 8
    LOCALVARIABLE it Ljava/lang/String; L49 L54 7
    LOCALVARIABLE $i$a$2$forEachSpecial I L49 L54 8
    LOCALVARIABLE it Ljava/lang/String; L59 L64 7
    LOCALVARIABLE $i$a$1$forEachSpecial I L59 L64 8
    LOCALVARIABLE it Ljava/lang/String; L66 L71 7
    LOCALVARIABLE $i$a$1$forEachSpecial I L66 L71 8
    LOCALVARIABLE it$iv Ljava/lang/Object; L36 L48 14
    LOCALVARIABLE $i$a$1$forEach I L36 L48 15
    LOCALVARIABLE element$iv$iv Ljava/lang/Object; L35 L48 13
    LOCALVARIABLE $receiver$iv$iv Ljava/lang/Iterable; L32 L34 11
    LOCALVARIABLE $i$f$forEach I L32 L34 16
    LOCALVARIABLE lastV$iv Ljava/lang/Object; L31 L72 10
    LOCALVARIABLE firstV$iv Ljava/lang/Object; L30 L72 9
    LOCALVARIABLE ct$iv I L2 L72 6
    LOCALVARIABLE $receiver$iv Ljava/lang/Iterable; L0 L72 0
    LOCALVARIABLE other$iv Lkotlin/jvm/functions/Function1; L0 L72 1
    LOCALVARIABLE first$iv Lkotlin/jvm/functions/Function1; L0 L72 2
    LOCALVARIABLE last$iv Lkotlin/jvm/functions/Function1; L0 L72 3
    LOCALVARIABLE onSingle$iv Lkotlin/jvm/functions/Function1; L0 L72 4
    LOCALVARIABLE onEmpty$iv Lkotlin/jvm/functions/Function0; L0 L72 5
    LOCALVARIABLE $i$f$forEachSpecial I L0 L72 17
    MAXSTACK = 2
    MAXLOCALS = 18

File being compiled and position: (46,25) in D:/Git/&lt;Project&gt;/src/test/kotlin/Toolkit.spek.kt
PsiElement: forEachSpecial(
                            other = {
                                assertTrue { it == "second" || it == "third" }
                            },
                            first = {
                                assertTrue { it == "first" }
                            },
                            last = {
                                assertTrue { it == "last" }
                            },
                            onEmpty = {
                                fail("Empty Called")
                            },
                            onSingle = {
                                fail("Single called")
                            }
                    )
The root cause was thrown at: MethodInliner.java:817
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.java:211)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:190)
	at org.jetbrains.kotlin.codegen.CallGenerator.genCall(CallGenerator.kt:105)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2189)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateTryExpression$46(ExpressionCodegen.java:3783)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1162)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1108)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:304)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:364)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:330)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:174)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:187)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:175)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:951)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:925)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:916)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:119)
	at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:37)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:304)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:286)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:63)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:66)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2158)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:174)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:187)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:175)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:951)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:925)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:916)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:119)
	at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:37)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:304)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:286)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:63)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:66)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2158)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:174)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:187)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:175)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:951)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:925)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:916)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:119)
	at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:37)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:304)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:286)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:63)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:66)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2158)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:174)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:187)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:175)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:951)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:925)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:916)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:119)
	at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:37)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:304)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:286)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:63)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:66)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2158)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateDelegatorToConstructorCall(ImplementationBodyCodegen.java:1385)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructorImpl(ImplementationBodyCodegen.java:965)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.access$200(ImplementationBodyCodegen.java:95)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen$1.doGenerateBody(ImplementationBodyCodegen.java:916)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructor(ImplementationBodyCodegen.java:912)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateConstructors(ImplementationBodyCodegen.java:391)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:89)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:291)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:275)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:162)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:124)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:99)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:435)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:159)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:167)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:55)
	at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:182)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compileChanged(IncrementalJvmCompilerRunner.kt:443)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compileIncrementally(IncrementalJvmCompilerRunner.kt:301)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compile(IncrementalJvmCompilerRunner.kt:128)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:452)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$$special$$inlined$withIC$lambda$1.invoke(CompileServiceImpl.kt:379)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$$special$$inlined$withIC$lambda$1.invoke(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:798)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:825)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$checkedCompile(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:797)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:791)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$doCompile(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:378)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:336)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jetbrains.kotlin.codegen.inline.InlineException: Method inlining forEachSpecial(
                            other = {
                                assertTrue { it == "second" || it == "third" }
                            },
                            first = {
                                assertTrue { it == "first" }
                            },
                            last = {
                                assertTrue { it == "last" }
                            },
                            onEmpty = {
                                fail("Empty Called")
                            },
                            onSingle = {
                                fail("Single called")
                            }
                    ): couldn't inline method call
Cause: forEachSpecial (Ljava/lang/Iterable;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function0;)V:
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 2
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 3
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 4
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 5
   L0
   L1
    LINENUMBER 72 L1
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.count (Ljava/lang/Iterable;)I
    ISTORE 6
   L2
    LINENUMBER 74 L2
    ILOAD 6
    ICONST_1
    IF_ICMPGE L3
   L4
    LINENUMBER 75 L4
    ALOAD 5
    IFNULL L5
    ALOAD 5
    INVOKEINTERFACE kotlin/jvm/functions/Function0.invoke ()Ljava/lang/Object;
    POP
   L5
    LINENUMBER 76 L5
    RETURN
   L3
    LINENUMBER 79 L3
    ILOAD 6
    ICONST_1
    IF_ICMPNE L6
   L7
    LINENUMBER 80 L7
    ALOAD 4
    IFNULL L8
   L9
    LINENUMBER 81 L9
    ALOAD 4
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.single (Ljava/lang/Iterable;)Ljava/lang/Object;
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    POP
   L10
    LINENUMBER 82 L10
    RETURN
   L8
    LINENUMBER 85 L8
    ALOAD 2
    IFNULL L11
   L12
    LINENUMBER 86 L12
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.single (Ljava/lang/Iterable;)Ljava/lang/Object;
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L13
   L14
    LINENUMBER 51 L14
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$2$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$2$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L15
    LINENUMBER 52 L15
    GOTO L16
   L17
   L18
   L16
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L19
    LINENUMBER 87 L19
    RETURN
   L11
    LINENUMBER 90 L11
    ALOAD 3
    IFNULL L20
   L21
    LINENUMBER 91 L21
    ALOAD 3
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.single (Ljava/lang/Iterable;)Ljava/lang/Object;
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    POP
   L22
    LINENUMBER 92 L22
    RETURN
   L20
    LINENUMBER 95 L20
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.single (Ljava/lang/Iterable;)Ljava/lang/Object;
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L23
   L24
    LINENUMBER 48 L24
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$1$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$1$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L25
    LINENUMBER 49 L25
    GOTO L26
   L27
   L28
   L26
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L29
    LINENUMBER 97 L29
    RETURN
   L6
    LINENUMBER 100 L6
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.first (Ljava/lang/Iterable;)Ljava/lang/Object;
    ASTORE 9
   L30
    LINENUMBER 101 L30
    ALOAD 0
    INVOKESTATIC kotlin/collections/CollectionsKt.last (Ljava/lang/Iterable;)Ljava/lang/Object;
    ASTORE 10
   L31
    LINENUMBER 103 L31
    ALOAD 0
    ASTORE 11
   L32
    LINENUMBER 104 L32
    ALOAD 11
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 12
   L33
    ALOAD 12
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L34
    ALOAD 12
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 13
   L35
    ALOAD 13
    ASTORE 14
   L36
    LINENUMBER 105 L36
    ALOAD 14
    ALOAD 9
    IF_ACMPNE L37
   L38
    LINENUMBER 106 L38
    ALOAD 2
    IFNONNULL L39
   L40
    LINENUMBER 107 L40
    ALOAD 14
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L41
   L42
    LINENUMBER 48 L42
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$1$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$1$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L43
    LINENUMBER 49 L43
    GOTO L44
   L45
   L46
   L44
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L47
    LINENUMBER 108 L47
    GOTO L48
   L39
    LINENUMBER 110 L39
    ALOAD 14
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L49
   L50
    LINENUMBER 51 L50
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$2$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$2$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L51
    LINENUMBER 52 L51
    GOTO L52
   L53
   L54
   L52
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
    GOTO L48
   L37
    LINENUMBER 111 L37
    ALOAD 14
    ALOAD 10
    IF_ACMPNE L55
   L56
    LINENUMBER 112 L56
    ALOAD 3
    IFNONNULL L57
   L58
    LINENUMBER 113 L58
    ALOAD 14
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L59
   L60
    LINENUMBER 48 L60
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$1$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$1$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L61
    LINENUMBER 49 L61
    GOTO L62
   L63
   L64
   L62
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L65
    LINENUMBER 114 L65
    GOTO L48
   L57
    LINENUMBER 116 L57
    ALOAD 3
    ALOAD 14
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    POP
    GOTO L48
   L55
    LINENUMBER 118 L55
    ALOAD 14
    CHECKCAST java/lang/String
    ASTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L66
   L67
    LINENUMBER 48 L67
    ACONST_NULL
    NEW ToolSpek$1$1$2$1$1$1
    DUP
    ALOAD 7
    INVOKESPECIAL ToolSpek$1$1$2$1$1$1.&lt;init&gt; (Ljava/lang/String;)V
    CHECKCAST kotlin/jvm/functions/Function0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC kotlin/test/AssertionsKt.assertTrue$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)V
   L68
    LINENUMBER 49 L68
    GOTO L69
   L70
   L71
   L69
    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    POP
   L48
    LINENUMBER 119 L48
    LINENUMBER 120 L48
    GOTO L33
   L34
    LINENUMBER 121 L34
    LINENUMBER 122 L34
    RETURN
   L72
    LOCALVARIABLE it Ljava/lang/String; L13 L18 7
    LOCALVARIABLE $i$a$2$forEachSpecial I L13 L18 8
    LOCALVARIABLE it Ljava/lang/String; L23 L28 7
    LOCALVARIABLE $i$a$1$forEachSpecial I L23 L28 8
    LOCALVARIABLE it Ljava/lang/String; L41 L46 7
    LOCALVARIABLE $i$a$1$forEachSpecial I L41 L46 8
    LOCALVARIABLE it Ljava/lang/String; L49 L54 7
    LOCALVARIABLE $i$a$2$forEachSpecial I L49 L54 8
    LOCALVARIABLE it Ljava/lang/String; L59 L64 7
    LOCALVARIABLE $i$a$1$forEachSpecial I L59 L64 8
    LOCALVARIABLE it Ljava/lang/String; L66 L71 7
    LOCALVARIABLE $i$a$1$forEachSpecial I L66 L71 8
    LOCALVARIABLE it$iv Ljava/lang/Object; L36 L48 14
    LOCALVARIABLE $i$a$1$forEach I L36 L48 15
    LOCALVARIABLE element$iv$iv Ljava/lang/Object; L35 L48 13
    LOCALVARIABLE $receiver$iv$iv Ljava/lang/Iterable; L32 L34 11
    LOCALVARIABLE $i$f$forEach I L32 L34 16
    LOCALVARIABLE lastV$iv Ljava/lang/Object; L31 L72 10
    LOCALVARIABLE firstV$iv Ljava/lang/Object; L30 L72 9
    LOCALVARIABLE ct$iv I L2 L72 6
    LOCALVARIABLE $receiver$iv Ljava/lang/Iterable; L0 L72 0
    LOCALVARIABLE other$iv Lkotlin/jvm/functions/Function1; L0 L72 1
    LOCALVARIABLE first$iv Lkotlin/jvm/functions/Function1; L0 L72 2
    LOCALVARIABLE last$iv Lkotlin/jvm/functions/Function1; L0 L72 3
    LOCALVARIABLE onSingle$iv Lkotlin/jvm/functions/Function1; L0 L72 4
    LOCALVARIABLE onEmpty$iv Lkotlin/jvm/functions/Function0; L0 L72 5
    LOCALVARIABLE $i$f$forEachSpecial I L0 L72 17
    MAXSTACK = 2
    MAXLOCALS = 18

	at org.jetbrains.kotlin.codegen.inline.MethodInliner.wrapException(MethodInliner.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:125)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:96)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.java:447)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:184)
	... 203 more
Caused by: java.lang.RuntimeException: Trying to access skipped parameter: Lkotlin/jvm/functions/Function1; at 2
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.remap(LocalVarRemapper.java:90)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.visitVarInsn(LocalVarRemapper.java:118)
	at org.jetbrains.kotlin.codegen.inline.RemapVisitor.visitVarInsn(RemapVisitor.java:49)
	at org.jetbrains.org.objectweb.asm.tree.VarInsnNode.accept(VarInsnNode.java:86)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:122)
	... 206 more
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1499257557558</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004626</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>zeugederunity</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Felix Engl</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.3</value><valueId>1.1.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-18896" entityId="25-1604843"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18896</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Calling expression type doesn't respect list elements as acceptable scope</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When selecting or putting cursor next to some list element :

!image.png!

and pressing *ctrl+shift+p* (expression type) it offers help with wider scope:

!image2.png!

My expectation was to be able to find out data type of *5* element as scope for expression check.


IntelliJ IDEA 2017.1.5
Build #IU-171.4694.70, built on July 4, 2017
JRE: 1.8.0_112-release-736-b21 x86_64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Mac OS X 10.12.5

 !image3.png!

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1499378208929</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975507</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>dusanodalovic</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dusan Odalovic</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-426872" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-426872&amp;c=true">image.png</value><value id="74-426873" url="https://youtrack.jetbrains.com/_persistent/image2.png?file=74-426873&amp;c=true">image2.png</value><value id="74-426874" url="https://youtrack.jetbrains.com/_persistent/image3.png?file=74-426874&amp;c=true">image3.png</value></field><comment id="27-2321780" author="dusanodalovic" authorFullName="Dusan Odalovic" issueId="KT-18896" deleted="false" text="Hi, are there any updates? Thanks!" shownForIssueAuthor="false" created="1499859209998" markdown="false"><replies/></comment></issue><issue id="KT-18972" entityId="25-1609872"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>18972</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong compilation result in Android Studio 3.0 Canary 6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>There is a project has three modules, app, lib1, lib2. 

Dependency graph is.. app -&gt; lib1 -&gt; lib2.

app uses lib1's TestWrapper.kt, lib1 uses lib2's Test.kt.

{code:lang=kotlin|title=MainActivity.kt in app module}
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        setSupportActionBar(toolbar)

        fab.setOnClickListener { view -&gt;
            Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)
                    .setAction("Action", null).show()
        }
        TestWrapper().getString()
    }
{code}

{code:lang=kotlin|title=TestWrapper.kt in lib1 module}
class TestWrapper {
    fun getString(): String {
        return Test().getString() + "Wrapper"
    }
}
{code}

{code:lang=kotlin|title=Test.kt in lib2 module}
class Test {
    fun getString(): String {
        return "TEST"
    }
}
{code}

This is a very simple test project.

But when I renamed TestWrapper.getString() to getText() (no using ide refactor function, just edit method name) and compiled, I expected 'Error:(23, 23) Unresolved reference: getString' but there was no error.

And I compiled again, the error, I expected, occurred.

Then, when I renamed TestWrapper.getText() to getString() again and compiled, the error should not occur, but the above error has occurred

In short, although I write some wrong syntax codes, compilation always succeeds at first or although I fix some syntax errors after compilation failed, compilation always fails at first.

So I always compile twice to get a right compilation result.

I think the previous compilation result shows up.

I attached the test project.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1499829271317</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1500309688269</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>_heisenberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Seunghun Choe</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Gradle</value><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-428129" url="https://youtrack.jetbrains.com/_persistent/MyApplication.zip?file=74-428129&amp;c=true">MyApplication.zip</value><value id="74-429455" url="https://youtrack.jetbrains.com/_persistent/MyApplication_2.3.3.zip?file=74-429455&amp;c=true">MyApplication_2.3.3.zip</value><value id="74-429456" url="https://youtrack.jetbrains.com/_persistent/Jul-17-2017%2017-57-42.mp4?file=74-429456&amp;c=true">Jul-17-2017 17-57-42.mp4</value></field><comment id="27-2328049" author="_heisenberg" authorFullName="Seunghun Choe" issueId="KT-18972" deleted="false" text="This issue is reproduced on Android Studio 2.3.3.&#xA;I uploaded the 2.3.3 project zip and a captured video." shownForIssueAuthor="false" created="1500282084605" updated="1500282113209" markdown="false"><replies/></comment></issue><issue id="KT-19076" entityId="25-1620546"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19076</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>OctoTree benchmark runs super-slow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Looks like it caused by inefficient cycle collector?
In JVM it lasts 247 seconds to complete benchmark. In Kotlin/Native, it takes a lot longer.
Benchmark code attached. </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500313214815</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1514452733035</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Igor.Chevdar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Igor Chevdar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Simon Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Igor Chevdar">Igor.Chevdar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-429682" url="https://youtrack.jetbrains.com/_persistent/OcTest.tgz?file=74-429682&amp;c=true">OcTest.tgz</value></field></issue><issue id="KT-19099" entityId="25-1623565"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19099</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Android Studio: Configure Kotlin doesn't appear unless converted kt file is reopened</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Environment: Android Studio 3.0 Canary 7 
kotlin-plugin: 1.1.3-2

Steps to reproduce the issue:
1. Create a new project *without* Kotlin support.
2. Click on ExampleInstrumentedTest and invoke "Code &gt; Convert Java class to Kotlin File"
3. Observe there is no pop up to configure Kotlin 
4. Now Close the file ExampleInstrumentedTest.
5. Open the ExampleInstrumentedTest again and notice that the yellow "Configure Kotlin" bar appears at the top of the editor. 

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500451168929</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975507</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nageshs</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nagesh Susarla</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19116" entityId="25-1625764"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19116</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Intellij code coverage doesn't accurately highlight subject code in Kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Have a class under test with a companion object that has functions.

Jacoco coverage accurately shows lines in object as covered/uncovered (gutter highlighting).
Using the Intellij coverage only shows highlighting for the class code, and not the object code.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500481614061</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975506</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Mike_Wilkes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mike Wilkes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19138" entityId="25-1627805"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19138</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>NoClassDefFoundError for lambda class when multiple nested lambdas/objects present</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>https://github.com/JetBrains/kotlin/tree/4u7/no-class-def-found-lambda
run KotlinUastTypesTest testUnexpectedContainerException

```
java.lang.NoClassDefFoundError: org/jetbrains/uast/kotlin/KotlinUClass$KotlinConstructorUMethod$uastBody$2$2$1

	at org.jetbrains.uast.kotlin.KotlinUClass$KotlinConstructorUMethod$uastBody$2.invoke(KotlinUClass.kt:104)
	at org.jetbrains.uast.kotlin.KotlinUClass$KotlinConstructorUMethod$uastBody$2.invoke(KotlinUClass.kt:98)
	at kotlin.UnsafeLazyImpl.getValue(Lazy.kt:153)
	at org.jetbrains.uast.kotlin.KotlinUClass$KotlinConstructorUMethod.getUastBody(KotlinUClass.kt)
	at org.jetbrains.uast.UMethod$DefaultImpls.asRenderString(UMethod.kt:56)
	at org.jetbrains.uast.UAnnotationMethod$DefaultImpls.asRenderString(UMethod.kt)
	at org.jetbrains.uast.kotlin.declarations.KotlinUMethod.asRenderString(KotlinUMethod.kt:30)
	at org.jetbrains.uast.UClass$DefaultImpls.asRenderString(UClass.kt:68)
	at org.jetbrains.uast.java.AbstractJavaUClass.asRenderString(JavaUClass.kt:26)
	at org.jetbrains.uast.UFile$DefaultImpls.asRenderString(UFile.kt:58)
	at org.jetbrains.uast.kotlin.KotlinUFile.asRenderString(KotlinUFile.kt:30)
	at org.jetbrains.uast.test.common.TypesTestBase$TypesLogger.visitElement(TypesTestBase.kt:31)
	at org.jetbrains.uast.visitor.UastVisitor$DefaultImpls.visitFile(UastVisitor.kt:23)
	at org.jetbrains.uast.test.common.TypesTestBase$TypesLogger.visitFile(TypesTestBase.kt:23)
	at org.jetbrains.uast.UFile$DefaultImpls.accept(UFile.kt:69)
	at org.jetbrains.uast.kotlin.KotlinUFile.accept(KotlinUFile.kt:30)
	at org.jetbrains.uast.test.common.TypesTestBase$DefaultImpls.asLogTypes(TypesTestBase.kt:14)
	at org.jetbrains.uast.test.common.TypesTestBase$DefaultImpls.check(TypesTestBase.kt:20)
	at org.jetbrains.uast.test.kotlin.AbstractKotlinTypesTest.check(AbstractKotlinTypesTest.kt:6)
	at org.jetbrains.uast.test.env.AbstractUastTest$doTest$1.invoke(AbstractUastTest.kt:17)
	at org.jetbrains.uast.test.env.AbstractUastTest$doTest$1.invoke(AbstractUastTest.kt:9)
	at org.jetbrains.uast.test.env.AbstractUastTest.doTest(AbstractUastTest.kt:22)
	at org.jetbrains.uast.test.env.AbstractUastTest.doTest$default(AbstractUastTest.kt:17)
	at org.jetbrains.uast.test.kotlin.KotlinUastTypesTest.testUnexpectedContainerException(KotlinUastTypesTest.kt:8)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: java.lang.ClassNotFoundException: org.jetbrains.uast.kotlin.KotlinUClass$KotlinConstructorUMethod$uastBody$2$2$1
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 42 more
```

Replacing anonymous object with class fixes issue</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500555929740</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1500572272439</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Vyacheslav.Gerasimov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vyacheslav Gerasimov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19169" entityId="25-1630343"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19169</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>JavaScript projects created in 1.0.x versions with saved jars: propose to update library jar files</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Open any of attached projects (java script project created in 1.0.x with needed jar files located within the project)
Though it has correctly configured KotlinJavaScript library, pointing to jar files from the project and added to the module dependencies
but there is a popup "Configure Kotlin"

It would be better
to show popup "out-of-dated jars" and to propose to update them (remove old ones and changed then with the new ones) like it happens in the similar situation in kotlin jvm projects.

Build:
IDEA 172.3317.76 + Kotlin 1.1.4-eap-33-IJ2017.2-1
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500648912529</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975504</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Viktoria.Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Viktoria Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-431585" url="https://youtrack.jetbrains.com/_persistent/CreatedIn105_java_js_configured.zip?file=74-431585&amp;c=true">CreatedIn105_java_js_configured.zip</value><value id="74-431586" url="https://youtrack.jetbrains.com/_persistent/CreatedIn106_java_js_configured.zip?file=74-431586&amp;c=true">CreatedIn106_java_js_configured.zip</value><value id="74-431587" url="https://youtrack.jetbrains.com/_persistent/CreatedIn107_java_js_configured.zip?file=74-431587&amp;c=true">CreatedIn107_java_js_configured.zip</value></field></issue><issue id="KT-19190" entityId="25-1631581"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19190</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unit tests in the Android Studio doesn't work without kotlin incremental compilation reset</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have an Android Studio project with unit tests. But now I can't just start any test without special ritual:

*Step 1: first try out with unit tests*
!step1.png!
ReflectionKt here is a class from another module.
It just doesn't work.


*Step 2: kotlin.incremental=false (gradle.properties)*
!step2.png!
Still not working without incremental compilation, but we are on the right way.


*Step 3: kotlin.incremental=true again*
!step3.png!

Finally! All now is working. Also, all subsequent starts work well.
I can start other tests and all will be good. But after Studio restart I need to do this ritual again.

No kapt is used. Just a multi module android project.

Kotlin plugin: 1.2-M1-release-Studio3.0-1
Kotlin runtime/stdlib: 1.2-M1
Android Studio 3.0 Canary 7
Build #AI-171.4182969, built on July 15, 2017
JRE: 1.8.0_152-release-884-b01 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains
Win 10 10.0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500833825348</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975502</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>amal</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Amal Samally</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2-M1</value><valueId>1.2-M1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-431858" url="https://youtrack.jetbrains.com/_persistent/step1.png?file=74-431858&amp;c=true">step1.png</value><value id="74-431859" url="https://youtrack.jetbrains.com/_persistent/step2.png?file=74-431859&amp;c=true">step2.png</value><value id="74-431862" url="https://youtrack.jetbrains.com/_persistent/step3.png?file=74-431862&amp;c=true">step3.png</value></field></issue><issue id="KT-19204" entityId="25-1632591"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19204</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDEA hangs when editing a secondary constructor in Kotlin class with open Kotlin bytecode window</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>`jstack` output attached.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500902138428</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975498</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-18866</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-432121" url="https://youtrack.jetbrains.com/_persistent/jstack.10408?file=74-432121&amp;c=true">jstack.10408</value></field></issue><issue id="KT-19217" entityId="25-1633806"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19217</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inliner produces different generics than non-inlined for nested inlines</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Description:

We're using reified generics to match on types. The construct has worked correctly, even on the tests. Inlining one of the functions in its call-chain causes the generics not to be picked up correctly anymore.

Repro:

Download the project at this commit:
https://github.com/kategory/kategory/tree/98f407edd2bcc19e455a717559fe6762f8211ab5

Run the tests from the CLI with ./gradlew test 
Tests pass correctly

Modify this function to be inlined:
https://github.com/kategory/kategory/blob/98f407edd2bcc19e455a717559fe6762f8211ab5/kategory/src/main/kotlin/kategory/data/Try.kt#L80

Run the tests from the CLI with ./gradlew test again
Tests fail


Context:

The place where the placed inline fails:
https://github.com/kategory/kategory/blob/98f407edd2bcc19e455a717559fe6762f8211ab5/kategory/src/main/kotlin/kategory/arrow/PartialFunction.kt#L34
https://github.com/kategory/kategory/blob/98f407edd2bcc19e455a717559fe6762f8211ab5/kategory/src/main/kotlin/kategory/data/Try.kt#L20

The tests that fail:
https://github.com/kategory/kategory/blob/98f407edd2bcc19e455a717559fe6762f8211ab5/kategory/src/test/kotlin/kategory/data/PartialFunctionTests.kt</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500939374556</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004628</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pacoworks</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Paco Estevez</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><value>1.2-M1</value><valueId>1.1.4</valueId><valueId>1.2-M1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19223" entityId="25-1634835"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19223</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Use existing KotlinJavaRuntime library if adding another module to IDEA project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I've created a simple Kotlin/JVM IDEA project with a dependency on the KotlinJavaRuntime library (from the bundled plugin). If I select the project root in the Project View and click "New Module" and try to create a new module, IDEA suggests to use the non-existing "KotlinJavaRuntime (2)" library. It's easy to miss this and click Next and end up with two KotlinJavaRuntime libraries in the project.

I believe the existing KotlinJavaRuntime library should be always proposed by default in this dialog.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1500988863658</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975501</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-432587" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-07-25%20at%2016.18.41.png?file=74-432587&amp;c=true">Screen Shot 2017-07-25 at 16.18.41.png</value></field></issue><issue id="KT-19238" entityId="25-1635598"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19238</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Go to implementation" fails on a `invoke` function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
interface Foo: (String)-&gt;Unit

class Impl: Foo {
    override fun invoke(p: String) {} //an `invoke` implementation
}

fun foo(v:Foo) {
    v.invoke("") //"Go to implementation" action shows nothing on "invoke" reference
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1501014525637</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975500</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19380" entityId="25-1645736"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19380</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>try.kotlinlang.org completion suggests stdlib internal functions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>`3.0.toIntExactOrNull()`
       ^ this call is suggested and then produces an error: it is internal in 'ranges'.

!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1501526392800</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1501585929873</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-434725" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-434725&amp;c=true">image.png</value></field></issue><issue id="KT-19391" entityId="25-1645828"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19391</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>java.lang.NoSuchMethodError when using anonymous object inside with(ObjectWithExtensions)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following code:
```kotlin
object Foo {
    operator fun Int.get(key: String) = 42
}

fun bar() = with(Foo) {
    val x = object {
        val y = 38["Hello!"]
    }
}

fun main(args: Array&lt;String&gt;) {
    bar()
}
```

compiles by Kotlin 1.1.3 but crashes in runtime with the following exception:
```
Exception in thread "main" java.lang.NoSuchMethodError: BugKt$bar$1$x$1.&lt;init&gt;(LFoo;)V
	at BugKt.bar(Bug.kt:6)
	at BugKt.main(Bug.kt:12)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1501530500563</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004629</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>gagarski</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Gagarski</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.3</value><valueId>1.1.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19470" entityId="25-1652341"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19470</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Navigate to symbol with method in a library shows decompiled code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When navigating to a symbol located in a Kotlin library IntelliJ shows a "IntelliJ API Decompiler stub source" instead of the actual source of the library. When navigating to the symbol by ctrl-clicking the symbol in my code IntelliJ navigates to the actual library source.

Attached is a build.gradle and a video of the issue.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1501783085019</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975496</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>diesieben07</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Take Weiland</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-435988" url="https://youtrack.jetbrains.com/_persistent/2017-08-03_19-08-07.mp4?file=74-435988&amp;c=true">2017-08-03_19-08-07.mp4</value><value id="74-435989" url="https://youtrack.jetbrains.com/_persistent/build.gradle?file=74-435989&amp;c=true">build.gradle</value></field></issue><issue id="KT-19501" entityId="25-1655085"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19501</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inliner fails when inline function calls the same function with another overload</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Stacktrace:
https://travis-ci.org/kategory/kategory/builds/261430567

https://pastebin.com/WYQN7Vqr

Repro:

## Option A

In:
https://github.com/kategory/kategory/blob/master/kategory/src/test/kotlin/kategory/laws/FunctorLaws.kt#L9

Replace that implementation with
`laws(AP, AP::pure, EQ)`

 ## Option B
Download and test this commit:
https://github.com/kategory/kategory/tree/e0fc0bcde9e2d20226640d20f9f6a08b525f3ce6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1501982691835</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004632</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pacoworks</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Paco Estevez</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><value>1.2-M2</value><valueId>1.1.4</valueId><valueId>1.2-M2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19530" entityId="25-1657741"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19530</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unable to focus a Kotlin JUnit5 test inside of a @Nested class with a name escaped with backticks</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>We're using Kotlin and JUnit5 and we're trying to take advantage of the ability to write our tests in a more readable style using the Kotlin backtick syntax.

We're able to define test functions in the style
```
@Test
fun `it should do the thing`(){}
```
and focus these tests successfully.

But if we use this style for our nested class names, we can not focus any test inside that class.
```
@Nested
inner class `when foo` {
  fun `it should do the foo thing`(){}
}
```
This results in a test that runs when the file is run but can not be focused.

The stacktrace we get is:
```
java.lang.Exception: The inner class org.demo.BackticksTest$backtick classes can not be focused in IntelliJ is not static.

	at org.junit.runners.BlockJUnit4ClassRunner.validateNoNonStaticInnerClass(BlockJUnit4ClassRunner.java:137)
	at org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:126)
	at org.junit.runners.ParentRunner.validate(ParentRunner.java:416)
	at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:84)
	at org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:65)
	at org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)
	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)
	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)
	at org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:36)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:49)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)


java.lang.Exception: No runnable methods

	at org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:191)
	at org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:128)
	at org.junit.runners.ParentRunner.validate(ParentRunner.java:416)
	at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:84)
	at org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:65)
	at org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)
	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)
	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)
	at org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:36)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:49)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
```

It looks like the Junit4 runner is incorrectly being used.

Here is a minimal sample we used to reproduce the problem: https://github.com/cobyrne-pivot/kotlin-junit5-backticks

Please let me know if there's any more information I can provide to help with this issue.

Thanks!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502149341949</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975495</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cobyrne@pivotal.io</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Colin O'Byrne</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19533" entityId="25-1657992"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19533</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>'Show Kotlin Bytecode' fails with 'Back-end (JVM) Internal error'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I invoke 'Show Kotlin Bytecode' action on plugins\settings-repository\src\IcsManager.kt from IDEA community and it failed with the following error. Compilation works fine though.

{quote}
org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'runBackgroundableTask' into
local final fun &lt;anonymous&gt;(): kotlin.Unit defined in org.jetbrains.settingsRepository.IcsManager.commitAlarm
{
    runBackgroundableTask(icsMessage("task.commit.title")) { indicator -&gt;
      LOG.runAndLogException {
        repositoryManager.commit(indicator, fixStateIfCannotCommit = false)
      }
    }
  }
Cause: runBackgroundableTask$default (Ljava/lang/String;Lcom/intellij/openapi/project/Project;ZLkotlin/jvm/functions/Function1;ILjava/lang/Object;)V:
   L0
   L1
    LINENUMBER 33 L1
    ACONST_NULL
    CHECKCAST com/intellij/openapi/project/Project
    ASTORE 1
   L2
   L3
    LINENUMBER 34 L3
    ICONST_1
    ISTORE 2
   L4
   L5
   L6
   L7
    LINENUMBER 42 L7
    INVOKESTATIC com/intellij/openapi/progress/ProgressManager.getInstance ()Lcom/intellij/openapi/progress/ProgressManager;
    NEW com/intellij/openapi/progress/ProgressKt$runBackgroundableTask$1
    DUP
    ALOAD 1
    ALOAD 0
    ILOAD 2
    INVOKESPECIAL com/intellij/openapi/progress/ProgressKt$runBackgroundableTask$1.&lt;init&gt; (Lcom/intellij/openapi/project/Project;Ljava/lang/String;Z)V
    CHECKCAST com/intellij/openapi/progress/Task
    INVOKEVIRTUAL com/intellij/openapi/progress/ProgressManager.run (Lcom/intellij/openapi/progress/Task;)V
   L8
    LINENUMBER 47 L8
    RETURN
   L9
    RETURN
    LOCALVARIABLE title Ljava/lang/String; L0 L9 0
    LOCALVARIABLE project Lcom/intellij/openapi/project/Project; L2 L9 1
    LOCALVARIABLE cancellable Z L4 L9 2
    LOCALVARIABLE task Lkotlin/jvm/functions/Function1; L0 L9 3
    LOCALVARIABLE $i$f$runBackgroundableTask I L5 L9 4
    MAXSTACK = 6
    MAXLOCALS = 6

Cause: Argument for @NotNull parameter 'constructor' of org/jetbrains/kotlin/codegen/inline/AnonymousObjectTransformer.extractParametersMappingAndPatchConstructor must not be null
File being compiled and position: (75,5) in C:/Users/nik/work/idea/community/plugins/settings-repository/src/IcsManager.kt
PsiElement: runBackgroundableTask(icsMessage("task.commit.title")) { indicator -&gt;
      LOG.runAndLogException {
        repositoryManager.commit(indicator, fixStateIfCannotCommit = false)
      }
    }
The root cause was thrown at: AnonymousObjectTransformer.java:-1
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.java:211)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:193)
	at org.jetbrains.kotlin.codegen.CallGenerator.genCall(CallGenerator.kt:105)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2189)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:174)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:187)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:175)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:951)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:925)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genSamInterfaceValue(ExpressionCodegen.java:1981)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitCallExpression(ExpressionCodegen.java:1956)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitCallExpression(ExpressionCodegen.java:119)
	at org.jetbrains.kotlin.psi.KtCallExpression.accept(KtCallExpression.java:35)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:304)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:286)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:63)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:66)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2158)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateConstructorCall$26(ExpressionCodegen.java:3624)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.StackValue$StackValueWithSimpleReceiver.store(StackValue.java:1696)
	at org.jetbrains.kotlin.codegen.StackValue$Property.store(StackValue.java:1286)
	at org.jetbrains.kotlin.codegen.StackValue.store(StackValue.java:128)
	at org.jetbrains.kotlin.codegen.MemberCodegen.initializeProperty(MemberCodegen.java:493)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generateInitializers(MemberCodegen.java:466)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateInitializers(ImplementationBodyCodegen.java:1063)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructorImpl(ImplementationBodyCodegen.java:1002)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.access$200(ImplementationBodyCodegen.java:95)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen$1.doGenerateBody(ImplementationBodyCodegen.java:916)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructor(ImplementationBodyCodegen.java:912)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateConstructors(ImplementationBodyCodegen.java:391)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:89)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:291)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:275)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:162)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:124)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:99)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow.compileSingleFile(KotlinBytecodeToolWindow.java:331)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow.getBytecodeForFile(KotlinBytecodeToolWindow.java:250)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.java:139)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.java:78)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:939)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:170)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:548)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:493)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:157)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)
	at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:343)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: Argument for @NotNull parameter 'constructor' of org/jetbrains/kotlin/codegen/inline/AnonymousObjectTransformer.extractParametersMappingAndPatchConstructor must not be null
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.extractParametersMappingAndPatchConstructor(AnonymousObjectTransformer.java)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.java:140)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$1.handleAnonymousObjectRegeneration(MethodInliner.java:181)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$1.anew(MethodInliner.java:203)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)
	at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:334)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:112)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:96)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.java:447)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:184)
	... 84 more
{quote}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502176676150</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004632</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nikolay Chashnikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Backend. JVM. Inline</value><valueId>IDE</valueId><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19596" entityId="25-1661348"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19596</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>I added a Kotlin file to a maven Java project and it didn't update the pom.xml file correctly</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Not sure if this is IntellJ or Kotlin bug, or possibly a plug-in.

1. Start with Java/Maven project.
2. Add Kotlin file.
3. When IntelliJ or Kotlin plugin or whatever asks, "Do you want to add Kotlin to this project so it will work with your new Kotlin file?"  Say "Yes."
4. It builds and works from IntelliJ.
5. It will not build from the command line because no Kotlin files are built.  Every Java file that relies on a Kotlin thing will have a "not found" message.

Root cause of issue:
In the pom.xml,  plugin/executions/execution/phase should be process-sources and process-test-sources, not compile or test-compile.

Here is the corrected XML:
```xml
&lt;plugin&gt;
	&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
	&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;
	&lt;version&gt;${kotlin.version}&lt;/version&gt;
	&lt;executions&gt;
		&lt;execution&gt;
			&lt;id&gt;compile&lt;/id&gt;
			&lt;!-- NOT compile --&gt;
			&lt;phase&gt;process-sources&lt;/phase&gt;
			&lt;goals&gt;
				&lt;goal&gt;compile&lt;/goal&gt;
			&lt;/goals&gt;
		&lt;/execution&gt;
		&lt;execution&gt;
			&lt;id&gt;test-compile&lt;/id&gt;
			&lt;!-- NOT test-compile --&gt;
			&lt;phase&gt;process-test-sources&lt;/phase&gt;
			&lt;goals&gt;
				&lt;goal&gt;test-compile&lt;/goal&gt;
			&lt;/goals&gt;
		&lt;/execution&gt;
	&lt;/executions&gt;
	&lt;configuration&gt;
		&lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;
	&lt;/configuration&gt;
&lt;/plugin&gt;
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502326083931</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975493</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TrombaMarina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Glen Peterson</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.3</value><valueId>1.1.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2359902" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-19596" deleted="false" text="Running the Kotlin compiler in the process-sources phase is possible, but it's not the recommended configuration. We recommend a different approach for compiling mixed-language projects: http://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources&#xA;&#xA;We'll make sure that the IDE configures this correctly too." shownForIssueAuthor="false" created="1502359962361" markdown="false"><replies/></comment><comment id="27-2361418" author="TrombaMarina" authorFullName="Glen Peterson" issueId="KT-19596" deleted="false" text="@yole Thanks!  That seems to be working just as well as what I did.  In fact, I sometimes get into weird situations with ebean and Kotlin in another project that this might help." shownForIssueAuthor="false" created="1502382867382" markdown="false"><replies/></comment></issue><issue id="KT-19619" entityId="25-1662789"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19619</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>konanInterop/linkerOps are not quoted properly</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I specify only one file as linker opts to a lib.a. 
It turned out I was having whitespace in path. 
Build failed cryptically. 

There are two problems: 
 - parameters are not quoted correctly
 - we do not show linker commandline once it failed (thus making debugging complicated)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502389504217</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1502704920123</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Matveev">Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2365103" author="Nikolay.Igotti" authorFullName="Nikolay Igotti" issueId="KT-19619" deleted="false" text="Did you use quotes for linker paths like in https://github.com/JetBrains/kotlin-native/blob/master/samples/tetris/build.sh#L50?&#xA;It is known to work well for command line containing whitespaces." shownForIssueAuthor="false" created="1502609787106" markdown="false"><replies/></comment><comment id="27-2365211" author="eugene.petrenko" authorFullName="Eugene Petrenko" issueId="KT-19619" deleted="false" text="No, I saw, the 'linkerOpts' in Gradle accepts String[], so I decided it will take care of quotation. " shownForIssueAuthor="false" created="1502628755177" markdown="false"><replies/></comment><comment id="27-2366069" author="Ilya.Matveev" authorFullName="Ilya Matveev" issueId="KT-19619" deleted="false" text="Looks like this issue relates not only to the Gradle plugin but also to the compiler itself. The compiler splits the `-compilerOpts` argument using spaces as delimiters and AFAIK there is no way to escape spaces there. @Alexander.Gorshenev am I right?" shownForIssueAuthor="false" created="1502704920123" markdown="false"><replies/></comment></issue><issue id="KT-19638" entityId="25-1663723"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19638</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>WebDemo: is it possible to login w/o any redirect/full refresh?</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502459130853</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1506975946146</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Roman_Belov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Roman Belov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19640" entityId="25-1663750"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19640</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Strange type displayed in quick doc for a variable of 'Enumeration&lt;*&gt;!' type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
import javax.swing.tree.DefaultMutableTreeNode

class TestJavaExpectedTypeInference {
    fun test(node: DefaultMutableTreeNode) {
        val e = node.children() // (*)
        while (e.hasMoreElements()) {
            // ...
        }
    }
}
```

Select `e` at (*), press Ctrl+Q.

!image.png!

NB "Specify type explicitly" action provides correct type (`Enumeration&lt;*&gt;`).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502459989548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975493</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-19639</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.50</value><valueId>1.1.50</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-438465" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-438465&amp;c=true">image.png</value></field></issue><issue id="KT-19647" entityId="25-1663856"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19647</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>WebDemo: don't redirect to default project after login on user project </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Reproducing steps:
0. Logout
1. Open https://try.kotlinlang.org/#/UserProjects/hi5gtn3e98h5ivrpve1b193j80/e7m31fl1smt0r00jd1ii7pe9nv
3. Login (by FB in my case)

Expected:
The original project is still opened and even modifications aren't lost

Actual:
Browser was redirected to https://try.kotlinlang.org/#_=_</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502463652254</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1502472407637</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19655" entityId="25-1664389"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19655</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion list: Quick Doc/Go to Declaration does not work for property/function import alias entry</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Dummy:
{code:lang=kotlin|title=Imported.kt}
package editor.completion.apx
class ImportedClassA
fun importedFunA() {}
var importedVarA = "" {code}
{code:lang=kotlin|title=Importing.kt}
import editor.completion.apx.ImportedClassA as ClassAlias
import editor.completion.apx.importedFunA as funAlias
import editor.completion.apx.importedVarA as varAlias
fun context() {
   // Try completion here.
} {code}

Call code completion (Ctrl+Space) inside `context()` function, type import alias name (maybe incompletely).
Check Quick Doc (Ctrl+Q) and Go to Declaration (Ctrl+B) from the *completion list*. Effects:
. For `ClassAlias` quick doc shows the documentation of original element `ImportedClassA`, and go to declaration works. Expected.
. For `funAlias`, `varAlias` quick doc says "No documentation found", and go to declaration says "Cannot find declaration". That's the issue.

IDEA 173.1510 + Kotlin plugin 1.1.5-master-dev-1023.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502481833223</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216434</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2377328" author="h0tk3y" authorFullName="Sergey Igushkin" issueId="KT-19655" deleted="false" text="With 1.1.4, I could reproduce this for Java declarations as well." shownForIssueAuthor="false" created="1503260452981" markdown="false"><replies/></comment></issue><issue id="KT-19657" entityId="25-1664451"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19657</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion: different icons are shown for java constant imported with and without alias</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Dummy:
{code:lang=java|title=ImportedStuffJava.java}
package completion;
public class ImportedStuffJava {
    public static final String IMPORTED_CONST_A = "";
    public static final String IMPORTED_CONST_B = "";
} {code}
{code:lang=kotlin|title=Usage.kt}
import completion.ImportedStuffJava.IMPORTED_CONST_A as IMPORTED_CONST
import completion.ImportedStuffJava.IMPORTED_CONST_B
fun context() {
    val v = IMPORTED_CONST // Try code completion inside the reference.
} {code}

Try code completion (Ctrl+Space) inside `IMPORTED_CONST` as shown above, check the list of suggestions.
Both `IMPORTED_CONST` and `IMPORTED_CONST_B` are in the list.
But `IMPORTED_CONST` item has "Kotlin property" icon, while `IMPORTED_CONST_B` item has "Java field" icon.
A bit strange, since essentially these elements are of the same kind.

IDEA 173.1510 + Kotlin plugin 1.1.5-master-dev-1023.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502496148129</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19659" entityId="25-1664460"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19659</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion suggests original name of extension member imported with alias, but can't process this choice</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Dummy:
{code:lang=kotlin|title=Imported.kt}
package completion
fun String.extFun() = this.length {code}
{code:lang=kotlin|title=Importing.kt}
import completion.extFun as extFunAlias
fun context1() {
    val v = "abc".extFu|nAlias() // `|` is the caret position to try.
}  {code}

Call code completion (Ctrl+Space) in the caret position shown above.
Both `extFun()` and `extFunAlias()` are suggested. There is no problem with `extFunAlias()`.
Try to insert `extFun()` instead. The resulted code `"abc".extFun()` is incompilable, since there is no necessary import.
So completion can't process this choice in a way convenient to user.

(Auto-import suggestion appears but does nothing, which can be a separate issue.)

IDEA 173.1510 + Kotlin plugin 1.1.5-master-dev-1023.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502501941636</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-18190</value><value type="Duplicate" role="is duplicated by">KT-19795</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19688" entityId="25-1666794"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19688</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Default focus on hidden search input</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>After opening the page, the focus is set to the hidden input field for searching.

It breaks navigation in some plugins(ex: chrome vimium)
And url turns from:
https://kotlinlang.org/docs/reference/coroutines.html
To something like:
https://kotlinlang.org/docs/reference/coroutines.html?q=tttttsd&amp;p=0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502809042846</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1502816416734</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>leonid.stashevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Leonid Stashevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Semyon Atamas">Semyon.Atamas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Site</value><valueId>Web Site</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19694" entityId="25-1667046"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19694</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incremental compilation fails when no dependency is provided using maven plugin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I hit the following exception when trying to compile a module with the incremental flag on

[WARNING] Using experimental Kotlin incremental compilation
java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.text.StringsKt__StringsKt.split, parameter $receiver
	at kotlin.text.StringsKt__StringsKt.split(Strings.kt)
	at kotlin.text.StringsKt__StringsKt.split$default(Strings.kt:1153)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunnerKt.getClasspathAsList(IncrementalJvmCompilerRunner.kt:479)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.calculateSourcesToCompile(IncrementalJvmCompilerRunner.kt:171)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compile(IncrementalJvmCompilerRunner.kt:127)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunnerKt.makeIncrementally(IncrementalJvmCompilerRunner.kt:63)
	at org.jetbrains.kotlin.maven.K2JVMCompileMojo.runIncrementalCompiler(K2JVMCompileMojo.java:244)
	at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execCompiler(K2JVMCompileMojo.java:224)
	at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execCompiler(K2JVMCompileMojo.java:53)
	at org.jetbrains.kotlin.maven.KotlinCompileMojoBase.execute(KotlinCompileMojoBase.java:218)
	at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execute(K2JVMCompileMojo.java:212)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)

Once I added a single dependency then it worked -- looks like a bug when classPath is empty (No dependency?)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1502818423181</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1502820637908</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>fmzakari</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Farid Zakaria</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Maven</value><value>Tools. Incremental Compile</value><valueId>Tools. Maven</valueId><valueId>Tools. Incremental Compile</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19763" entityId="25-1670353"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19763</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>PsiInvalidElementAccessException: Element class com.intellij.psi.impl.source.tree.CompositeElement of type CLASS</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin repo
In file BasicBoxTest.kt on 400 line 
commit: 905b8cc4e930a7d99203cc3086b50860fb8f9734 
Repro in video

{code}
Element class com.intellij.psi.impl.source.tree.CompositeElement of type CLASS (class org.jetbrains.kotlin.psi.stubs.elements.KtClassElementType)
com.intellij.psi.PsiInvalidElementAccessException: Element class com.intellij.psi.impl.source.tree.CompositeElement of type CLASS (class org.jetbrains.kotlin.psi.stubs.elements.KtClassElementType)
	at com.intellij.psi.PsiInvalidElementAccessException.createByNode(PsiInvalidElementAccessException.java:96)
	at com.intellij.psi.impl.source.SubstrateRef$2.getContainingFile(SubstrateRef.java:101)
	at com.intellij.extapi.psi.StubBasedPsiElementBase.getContainingFile(StubBasedPsiElementBase.java:275)
	at org.jetbrains.kotlin.resolve.source.PsiSourceElement$DefaultImpls.getContainingFile(PsiSourceElement.kt:27)
	at org.jetbrains.kotlin.resolve.source.KotlinSourceElement.getContainingFile(KotlinSourceElement.kt:24)
	at org.jetbrains.kotlin.renderer.DescriptorRendererImpl.appendDefinedIn(DescriptorRendererImpl.kt:389)
	at org.jetbrains.kotlin.renderer.DescriptorRendererImpl.render(DescriptorRendererImpl.kt:571)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.findClassDescriptor(LazyDeclarationResolver.java:108)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.getClassDescriptor(LazyDeclarationResolver.java:73)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.getMemberScopeDeclaredIn(LazyDeclarationResolver.java:297)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitProperty(LazyDeclarationResolver.java:235)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitProperty(LazyDeclarationResolver.java:131)
	at org.jetbrains.kotlin.psi.KtProperty.accept(KtProperty.java:57)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:131)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:126)
	at org.jetbrains.kotlin.resolve.lazy.ResolveSession.resolveToDescriptor(ResolveSession.java:319)
	at org.jetbrains.kotlin.idea.project.ResolveElementCache.propertyAdditionalResolve(ResolveElementCache.kt:469)
	at org.jetbrains.kotlin.idea.project.ResolveElementCache.performElementAdditionalResolve(ResolveElementCache.kt:305)
	at org.jetbrains.kotlin.idea.project.ResolveElementCache.getElementsAdditionalResolve(ResolveElementCache.kt:165)
	at org.jetbrains.kotlin.idea.project.ResolveElementCache.resolveToElements(ResolveElementCache.kt:197)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:57)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:51)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyze(resolutionApi.kt:64)
	at org.jetbrains.kotlin.idea.parameterInfo.ArgumentNameHintsKt.provideArgumentNameHints(ArgumentNameHints.kt:34)
	at org.jetbrains.kotlin.idea.parameterInfo.HintType$PARAMETER_HINT.provideHints(KotlinInlayParameterHintsProvider.kt:86)
	at org.jetbrains.kotlin.idea.parameterInfo.KotlinInlayParameterHintsProvider.getParameterHints(KotlinInlayParameterHintsProvider.kt:130)
	at com.intellij.codeInsight.hints.ParameterHintsPass.a(ParameterHintsPass.java:84)
	at com.intellij.codeInsight.hints.ParameterHintsPass.a(ParameterHintsPass.java:76)
	at java.lang.Iterable.forEach(Iterable.java:75)
	at com.intellij.codeInsight.hints.ParameterHintsPass.doCollectInformation(ParameterHintsPass.java:76)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.d(PassExecutorService.java:438)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1152)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:431)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:548)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:493)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:430)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:406)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:142)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:248)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:404)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:170)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)


com.intellij.psi.PsiInvalidElementAccessException: Element class com.intellij.psi.impl.source.tree.CompositeElement of type CLASS (class org.jetbrains.kotlin.psi.stubs.elements.KtClassElementType)
	at com.intellij.psi.PsiInvalidElementAccessException.createByNode(PsiInvalidElementAccessException.java:96)
	at com.intellij.psi.impl.source.SubstrateRef$2.getContainingFile(SubstrateRef.java:101)
	at com.intellij.extapi.psi.StubBasedPsiElementBase.getContainingFile(StubBasedPsiElementBase.java:275)
	at org.jetbrains.kotlin.resolve.source.PsiSourceElement$DefaultImpls.getContainingFile(PsiSourceElement.kt:27)
	at org.jetbrains.kotlin.resolve.source.KotlinSourceElement.getContainingFile(KotlinSourceElement.kt:24)
	at org.jetbrains.kotlin.renderer.DescriptorRendererImpl.appendDefinedIn(DescriptorRendererImpl.kt:389)
	at org.jetbrains.kotlin.renderer.DescriptorRendererImpl.render(DescriptorRendererImpl.kt:571)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.findClassDescriptor(LazyDeclarationResolver.java:108)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.getClassDescriptor(LazyDeclarationResolver.java:73)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.getMemberScopeDeclaredIn(LazyDeclarationResolver.java:297)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitProperty(LazyDeclarationResolver.java:235)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitProperty(LazyDeclarationResolver.java:131)
	at org.jetbrains.kotlin.psi.KtProperty.accept(KtProperty.java:57)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:131)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:126)
	at org.jetbrains.kotlin.resolve.lazy.ResolveSession.resolveToDescriptor(ResolveSession.java:319)
	at org.jetbrains.kotlin.idea.project.ResolveElementCache.propertyAdditionalResolve(ResolveElementCache.kt:469)
	at org.jetbrains.kotlin.idea.project.ResolveElementCache.performElementAdditionalResolve(ResolveElementCache.kt:305)
	at org.jetbrains.kotlin.idea.project.ResolveElementCache.getElementsAdditionalResolve(ResolveElementCache.kt:165)
	at org.jetbrains.kotlin.idea.project.ResolveElementCache.resolveToElements(ResolveElementCache.kt:197)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:57)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:51)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyze(resolutionApi.kt:64)
	at org.jetbrains.kotlin.idea.parameterInfo.ArgumentNameHintsKt.provideArgumentNameHints(ArgumentNameHints.kt:34)
	at org.jetbrains.kotlin.idea.parameterInfo.HintType$PARAMETER_HINT.provideHints(KotlinInlayParameterHintsProvider.kt:86)
	at org.jetbrains.kotlin.idea.parameterInfo.KotlinInlayParameterHintsProvider.getParameterHints(KotlinInlayParameterHintsProvider.kt:130)
	at com.intellij.codeInsight.hints.ParameterHintsPass.a(ParameterHintsPass.java:84)
	at com.intellij.codeInsight.hints.ParameterHintsPass.a(ParameterHintsPass.java:76)
	at java.lang.Iterable.forEach(Iterable.java:75)
	at com.intellij.codeInsight.hints.ParameterHintsPass.doCollectInformation(ParameterHintsPass.java:76)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.d(PassExecutorService.java:438)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1152)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:431)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:548)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:493)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:430)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:406)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:142)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:248)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:404)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:170)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)



{code}

Invalidation trace: 
{code}
java.lang.Throwable
	at com.intellij.psi.impl.DebugUtil.startPsiModification(DebugUtil.java:500)
	at com.intellij.pom.core.impl.PomModelImpl.runTransaction(PomModelImpl.java:153)
	at com.intellij.psi.impl.DocumentCommitThread.lambda$doActualPsiChange$8(DocumentCommitThread.java:867)
	at com.intellij.psi.impl.source.codeStyle.CodeStyleManagerImpl.lambda$performActionWithFormatterDisabled$5(CodeStyleManagerImpl.java:676)
	at com.intellij.psi.impl.source.PostprocessReformattingAspect.disablePostprocessFormattingInside(PostprocessReformattingAspect.java:117)
	at com.intellij.psi.impl.source.codeStyle.CodeStyleManagerImpl.lambda$performActionWithFormatterDisabled$7(CodeStyleManagerImpl.java:705)
	at com.intellij.formatting.FormatterImpl.runWithFormattingDisabled(FormatterImpl.java:903)
	at com.intellij.psi.impl.source.codeStyle.CodeStyleManagerImpl.performActionWithFormatterDisabled(CodeStyleManagerImpl.java:703)
	at com.intellij.psi.impl.source.codeStyle.CodeStyleManagerImpl.performActionWithFormatterDisabled(CodeStyleManagerImpl.java:675)
	at com.intellij.psi.impl.DocumentCommitThread.doActualPsiChange(DocumentCommitThread.java:855)
	at com.intellij.psi.impl.DocumentCommitThread.lambda$doCommit$7(DocumentCommitThread.java:774)
	at com.intellij.psi.impl.PsiDocumentManagerBase.commitToExistingPsi(PsiDocumentManagerBase.java:406)
	at com.intellij.psi.impl.PsiDocumentManagerBase.finishCommitInWriteAction(PsiDocumentManagerBase.java:382)
	at com.intellij.psi.impl.PsiDocumentManagerImpl.finishCommitInWriteAction(PsiDocumentManagerImpl.java:160)
	at com.intellij.psi.impl.PsiDocumentManagerBase.finishCommitInWriteAction(PsiDocumentManagerBase.java:360)
	at com.intellij.psi.impl.PsiDocumentManagerBase$3.run(PsiDocumentManagerBase.java:333)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1028)
	at com.intellij.psi.impl.PsiDocumentManagerBase.finishCommit(PsiDocumentManagerBase.java:340)
	at com.intellij.psi.impl.DocumentCommitThread.lambda$createEdtRunnable$5(DocumentCommitThread.java:592)
	at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:86)
	at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:109)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.a(LaterInvocator.java:416)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:399)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)
	at java.awt.EventQueue.access$500(EventQueue.java:98)
	at java.awt.EventQueue$3.run(EventQueue.java:715)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:821)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:649)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:365)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503061806084</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975489</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Simon Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-440363" url="https://youtrack.jetbrains.com/_persistent/exceptionOnLetAfterFor.mov?file=74-440363&amp;c=true">exceptionOnLetAfterFor.mov</value></field><comment id="27-2377869" author="Dmitry.Savvinov" authorFullName="Dmitry Savvinov" issueId="KT-19763" deleted="false" text="Another way to reproduce:&#xA;&#xA;1. Clone Kotlin-repo&#xA;2. Go to the `InlineChecker` class&#xA;3. Go to the `check`-method&#xA;4. Type inside it anything with figure brackets (even unused lambda, like `{ 42 }` will do it)&#xA;5. Remove first bracket (so it would be like `42 }`)&#xA;6. Exception is thrown" shownForIssueAuthor="false" created="1503308326977" updated="1503308435087" markdown="false"><replies/></comment></issue><issue id="KT-19770" entityId="25-1670499"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19770</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Gradle: Javascript and common local libraries (specified through files) should be detected correctly</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Import attached gradle project - it contains dependencies to local files:
{code}dependencies {
    compile files('libs/m_common.jar')
    compile files('libs/m_js.jar')
    compile files('libs/m_jvm.jar')
    ...
}
{code}
These dependencies are not detected correctly (or they all are detected as java):
!local.libraries.png!
but "m_js.jar" should be detected as javascript library and "m_common.jar" should be detected as common library.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503066935943</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975488</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Viktoria.Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Viktoria Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-440434" url="https://youtrack.jetbrains.com/_persistent/g_otherlibs.zip?file=74-440434&amp;c=true">g_otherlibs.zip</value><value id="74-440442" url="https://youtrack.jetbrains.com/_persistent/local.libraries.png?file=74-440442&amp;c=true">local.libraries.png</value></field></issue><issue id="KT-19800" entityId="25-1671397"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19800</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin plugin won't update</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When I attempt to update, it says "Plugin update was not installed. See the log for more information". Log attached.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503240907137</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536231231430</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>supuhstar0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kyli Rouge (Supuhstar)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-16031</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Configuration</value><valueId>IDE. Configuration</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-440633" url="https://youtrack.jetbrains.com/_persistent/idea.log?file=74-440633&amp;c=true">idea.log</value></field></issue><issue id="KT-19803" entityId="25-1671563"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19803</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Formatter forces newline before get() with block body</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The Kotlin formatter, as of plugin `1.1.4-2`, now forcefully inserts a newline before the `get()` in a `val` property with a block body. There appears to be *no way to stop this*, which means unstoppable reformatting of any existing code.

Expected:

{code lang=kotlin}
val property: String get() {
    // Long block body likely present here. 
    // Declaring the get() on the same line results in code 
    // symmetrical with function declarations.
    return "Foobar"
}
{code}

Actual:

(after formatting)

{code lang=kotlin}
// Absurd waste of vertical space
val property: String
    get() {
        return ""
    }
{code}

The formatter should not be opinionated about this by default.

IDE:

```
Android Studio 3.0 Beta 2
Build #AI-171.4263559, built on August 11, 2017
JRE: 1.8.0_152-release-915-b01 x86_64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Mac OS X 10.12.6
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503272426063</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975449</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>btilbrook@nextfaze.com</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ben Tilbrook</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19816" entityId="25-1672016"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19816</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Gradle: Invoke warning if Javascript or common local libraries added in the kotlin/jvm project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Let there is a Gradle based project like
{code}
apply plugin: 'kotlin'

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version"
    compile "some_js_library"
    compile "some_common_library"
}{code}
Now the non-jvm libraries are shown as java one, and if an user added them by mistake (e.g. `"org.jetbrains.kotlin:kotlin-test-js:$kotlin_version"` instead of `"org.jetbrains.kotlin:kotlin-test:$kotlin_version"` - it's very easy to mix them up on copying/pasting from another build.gradle).
So, at least, please invoke a warning on compilation that the library of incorrect type is switched on - the similar warning emits on compiling a javascript project when a non-javascript library is included.
As a max, it would be nice if such libraries were detected and shown with their true kind. This would be easier to notice them looking on the big library list.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503319353599</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975490</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Viktoria.Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Viktoria Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><value>1.1.50</value><valueId>1.1.4</valueId><valueId>1.1.50</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19836" entityId="25-1672793"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19836</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context When connecting kotlin daemon</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Edit: seems like the problem was not having `tools.jar` in path.

Trying to build [multiplatform-recipes|https://github.com/jstuyts/kotlin-multiplatform-recipes] from command line fails with the following error:
```
&gt; Task :common:compileKotlinCommon
Caught an exception trying to connect to Kotlin Daemon
java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Unknown Source)
        at org.jetbrains.kotlin.gradle.tasks.JarSearchingUtilKt.findToolsJar(jarSearchingUtil.kt:52)
        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:21)
        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:15)
```

Full stacktrace available on attachment</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503385978173</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1503387268216</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yoav.sternberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yoav Sternberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Gradle</value><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-441000" url="https://youtrack.jetbrains.com/_persistent/error.txt?file=74-441000&amp;c=true">error.txt</value></field></issue><issue id="KT-19912" entityId="25-1676728"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19912</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>No "multiplatform projects are experimental" error on header/impl in project Kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>E.g. add the following to `compiler/builtins-serializer/src/org/jetbrains/kotlin/serialization/builtins/run.kt`:

```
header fun foo()

impl fun foo() {}
```

No error is reported in the editor.

As expected, an error is reported from the compiler on Make.

1.1.5-dev-735</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503666637037</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975487</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19919" entityId="25-1677062"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19919</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE: kotlin.Cloneable cannot be navigated to, and clone() is absent from 'Override members'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Define a class implementing `Cloneable`:

```kotlin
class Foo : Cloneable {

}
```

1. *Go to declaration* says ''Cannot find declaration to go to'' when used on `Cloneable` (from editor and completion)

2. *Override members* does not suggest the `fun clone(): Any`, though the completion does.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503706261548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532000506870</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-25592</value><value type="Relates" role="relates to">KT-16806</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19922" entityId="25-1677212"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19922</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin JavaScript library migration: calling from editor does not update references highlighting</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create JPS-based project with Kotlin JS configured.
Create a .kt source using stdlib, like:
`val v1 = listOf(1)`
Open the source file in the editor.

Change Kotlin JS library to pre-1.1.3 format, i.e. remove `type="kotlin.js"` from library XML.
Switch to the editor with .kt file. Stdlib references are red, the editor shows banner with Configure quick fix.
Apply Configure action. The library is patched, but references in the editor still red.
Reopening the editor does not help, reopening the project helps.

NB: All goes Ok, if the file was not opened in the editor.

IDEA 173.1861 + Kotlin plugin 1.1.5-master-dev-1091.
IDEA 172.4126 + Kotlin plugin 1.1.4-release(-92).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503763203361</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975485</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-19959" entityId="25-1678725"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19959</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin fails with compilation exception on a complex structure of local classes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
Using kotlin incremental compilation

e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Failed to generate function onCreateViewHolder
Cause: Don't know how to generate outer expression for class MainActivity
File being compiled and position: (66,11) in /Users/olegstepanov/Work/android-loyalty/src/main/kotlin/com/github/olegstepanov/android/loyalty/MainActivity.kt
PsiElement: override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {
            return ViewHolder(OfferUI().createView(AnkoContext.create(parent!!.context)))
          }
The root cause was thrown at: CodegenContext.java:218
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:202)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:155)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:81)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitClassOrObject(ExpressionCodegen.java:385)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitClass(ExpressionCodegen.java:369)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitClass(ExpressionCodegen.java:119)
	at org.jetbrains.kotlin.psi.KtClass.accept(KtClass.kt:34)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:31)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtVisitor.visitExpression(KtVisitor.java:178)
	at org.jetbrains.kotlin.psi.KtVisitor.visitDeclaration(KtVisitor.java:29)
	at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:394)
	at org.jetbrains.kotlin.psi.KtVisitor.visitClassOrObject(KtVisitor.java:41)
	at org.jetbrains.kotlin.psi.KtVisitor.visitClass(KtVisitor.java:33)
	at org.jetbrains.kotlin.psi.KtClass.accept(KtClass.kt:34)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:304)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:364)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1156)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1108)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:304)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:364)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:330)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateMethodBody(InlineCodegen.java:608)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateLambdaBody(InlineCodegen.java:541)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.java:518)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.java:420)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:184)
	at org.jetbrains.kotlin.codegen.CallGenerator.genCall(CallGenerator.kt:105)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2189)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.StackValue.moveToTopOfStack(StackValue.java:95)
	at org.jetbrains.kotlin.codegen.StackValue$CallReceiver.putSelector(StackValue.java:1596)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putReceiverAndInlineMarkerIfNeeded(ExpressionCodegen.java:2221)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2150)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateMethodBody(InlineCodegen.java:608)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateLambdaBody(InlineCodegen.java:541)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.java:518)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.java:420)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:184)
	at org.jetbrains.kotlin.codegen.CallGenerator.genCall(CallGenerator.kt:105)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2189)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.StackValue.moveToTopOfStack(StackValue.java:95)
	at org.jetbrains.kotlin.codegen.StackValue$CallReceiver.putSelector(StackValue.java:1596)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putReceiverAndInlineMarkerIfNeeded(ExpressionCodegen.java:2221)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2150)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:174)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:145)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:196)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:155)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:81)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:291)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:275)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:162)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:124)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:99)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:435)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:159)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:167)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:55)
	at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:182)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compileChanged(IncrementalJvmCompilerRunner.kt:443)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compileIncrementally(IncrementalJvmCompilerRunner.kt:301)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compile(IncrementalJvmCompilerRunner.kt:128)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:452)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$$special$$inlined$withIC$lambda$1.invoke(CompileServiceImpl.kt:379)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$$special$$inlined$withIC$lambda$1.invoke(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:798)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:825)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$checkedCompile(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:797)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:791)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$doCompile(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:378)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:99)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:336)
	at sun.reflect.GeneratedMethodAccessor138.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.UnsupportedOperationException: Don't know how to generate outer expression for class MainActivity
	at org.jetbrains.kotlin.codegen.context.CodegenContext.getOuterExpression(CodegenContext.java:218)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:517)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:525)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:525)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:525)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.MethodContext.generateReceiver(MethodContext.java:93)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateExtensionReceiver(ExpressionCodegen.java:2436)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.pushClosureOnStack(ExpressionCodegen.java:1049)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateConstructorCall$26(ExpressionCodegen.java:3618)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.StackValue$CallReceiver.putSelector(StackValue.java:1593)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putReceiverAndInlineMarkerIfNeeded(ExpressionCodegen.java:2221)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2150)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:64)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:66)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2158)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2138)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateConstructorCall$26(ExpressionCodegen.java:3624)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$visitReturnExpression$11(ExpressionCodegen.java:1468)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:106)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:346)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1543)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:49)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:69)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:486)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:174)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:145)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:196)
	... 155 more
{code}

{code}
package com.github.olegstepanov.android.loyalty

import android.content.Context
import android.os.Bundle
import android.support.v7.app.AppCompatActivity
import android.support.v7.widget.CardView
import android.support.v7.widget.LinearLayoutManager
import android.support.v7.widget.RecyclerView
import android.view.Gravity
import android.view.View
import android.view.ViewGroup
import android.widget.ImageView
import android.widget.TextView
import org.jetbrains.anko.*

class MainActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    verticalLayout {
      frameLayout {
        imageView(R.drawable.barcode).lparams {
          width = dip(100)
          height = dip(100)
          topPadding = dip(10)
          bottomPadding = dip(10)
          gravity = Gravity.CENTER
        }
      }
      scrollView {
        val ID_TITLE = 1
        val ID_DETAIL = 2

        class OfferUI : AnkoComponent&lt;Context&gt; {
          override fun createView(ui: AnkoContext&lt;Context&gt;): View =
                  cardView {
                    elevation = 10.0f
                    frameLayout {
                      padding = dip(10)
                      textView().apply {
                        setTextAppearance(R.style.TextAppearance_AppCompat_Large)
                        id = ID_TITLE
                      }
                      textView {
                        id = ID_DETAIL
                      }
                    }
                  }
        }

        class OffersAdapter(private val offers: List&lt;Data.Offer&gt;) : RecyclerView.Adapter&lt;OffersAdapter.ViewHolder&gt;() {
          inner class ViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {
            fun bind(offer: Data.Offer) {
              val title = itemView!!.findViewById(ID_TITLE) as TextView
              val detail = itemView.findViewById(ID_DETAIL) as TextView

              title.text = offer.title
              detail.text = offer.detail
            }
          }

          override fun onBindViewHolder(holder: ViewHolder?, position: Int) {
            holder!!.bind(offers[position])
          }

          override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {
            return ViewHolder(OfferUI().createView(AnkoContext.create(parent!!.context)))
          }

          override fun getItemCount(): Int = offers.size
        }

        recyclerView {
          adapter = OffersAdapter(theApplication.data.offers)
          layoutManager = LinearLayoutManager(ctx)
          backgroundColor = R.color.viewBackground
        }
      }.lparams {
        leftMargin = dip(20)
        rightMargin = dip(20)
      }
    }.applyRecursively { view -&gt;
      view.apply {
        when {
          this is ImageView -&gt; {
          }
          this is CardView -&gt; {
            useCompatPadding = false
          }
          else -&gt; {
            layoutParams.width = matchParent
            layoutParams.height = wrapContent
          }
        }
      }
    }
  }
}
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1503996897574</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1504081865465</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>oleg_stepanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Oleg Stepanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2392152" author="oleg_stepanov" authorFullName="Oleg Stepanov" issueId="KT-19959" deleted="false" text="Most probably it is because in&#xA;&#xA;{code}&#xA;override fun createView(ui: AnkoContext&lt;Context&gt;): View =&#xA;                  cardView {&#xA;                    elevation = 10.0f&#xA;                    frameLayout {&#xA;                      padding = dip(10)&#xA;                      textView().apply {&#xA;                        setTextAppearance(R.style.TextAppearance_AppCompat_Large)&#xA;                        id = ID_TITLE&#xA;                      }&#xA;                      textView {&#xA;                        id = ID_DETAIL&#xA;                      }&#xA;                    }&#xA;                  }&#xA;{code}&#xA;&#xA;Kotlin binds cardView to outer context. Actually, there is {code}with(ui)...{code} missing." shownForIssueAuthor="false" created="1504001638726" markdown="false"><replies/></comment></issue><issue id="KT-19993" entityId="25-1680189"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>19993</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IAE: “Could not find a classifier for File name“ on deleting script file referred from run configuration</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create Kotlin script file. 
{code:lang=Kotlin|title=KotlinScript.kts}
package package01

println("Hello"){code}

Select this file item in Project tool window, copy and paste in some package.
Run one of the files: original or copy, it doesn't matter.
Delete original file. You will get an exception.

Kotlin plugin 1.1.4-release-IJ2017.2-3
IJ 2017.2.3 (#IU-172.3968.16)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1504106876906</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975484</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2394839" author="Aleksandr.Gribovich" authorFullName="Aleksandr Gribovich" issueId="KT-19993" deleted="false" text="Could not find a classifier for File name: KotlinScript.kts Physical: true Injected: false&#xA;&lt;caret&gt;println(&quot;Hello&quot;).&#xA;Found descriptor: public final class KotlinScript : kotlin.script.templates.standard.ScriptTemplateWithArgs defined in package02 in file KotlinScript.kts (class org.jetbrains.kotlin.resolve.lazy.descriptors.LazyPackageDescriptor).&#xA;Scope: lazy scope for package package02.&#xA;Provider: org.jetbrains.kotlin.idea.stubindex.resolve.StubBasedPackageMemberDeclarationProvider@2b609127.&#xA;java.lang.IllegalArgumentException: Could not find a classifier for File name: KotlinScript.kts Physical: true Injected: false&#xA;&lt;caret&gt;println(&quot;Hello&quot;).&#xA;Found descriptor: public final class KotlinScript : kotlin.script.templates.standard.ScriptTemplateWithArgs defined in package02 in file KotlinScript.kts (class org.jetbrains.kotlin.resolve.lazy.descriptors.LazyPackageDescriptor).&#xA;Scope: lazy scope for package package02.&#xA;Provider: org.jetbrains.kotlin.idea.stubindex.resolve.StubBasedPackageMemberDeclarationProvider@2b609127.&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.findClassDescriptor(LazyDeclarationResolver.java:102)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.getScriptDescriptor(LazyDeclarationResolver.java:78)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitScript(LazyDeclarationResolver.java:261)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitScript(LazyDeclarationResolver.java:131)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtScript.accept(KtScript.java:78)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:131)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:126)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.ResolveSession.resolveToDescriptor(ResolveSession.java:318)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.initializerAdditionalResolve(ResolveElementCache.kt:559)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.performElementAdditionalResolve(ResolveElementCache.kt:299)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.getElementsAdditionalResolve(ResolveElementCache.kt:165)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.resolveToElements(ResolveElementCache.kt:197)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:58)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:52)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyze(resolutionApi.kt:64)&#xA;&#x9;at org.jetbrains.kotlin.idea.parameterInfo.ArgumentNameHintsKt.provideArgumentNameHints(ArgumentNameHints.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.idea.parameterInfo.HintType$PARAMETER_HINT.provideHints(KotlinInlayParameterHintsProvider.kt:86)&#xA;&#x9;at org.jetbrains.kotlin.idea.parameterInfo.KotlinInlayParameterHintsProvider.getParameterHints(KotlinInlayParameterHintsProvider.kt:130)&#xA;&#x9;at com.intellij.codeInsight.hints.ParameterHintsPass.a(ParameterHintsPass.java:109)&#xA;&#x9;at com.intellij.codeInsight.hints.ParameterHintsPass.a(ParameterHintsPass.java:68)&#xA;&#x9;at java.lang.Iterable.forEach(Iterable.java:75)&#xA;&#x9;at com.intellij.codeInsight.hints.ParameterHintsPass.doCollectInformation(ParameterHintsPass.java:68)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:438)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1160)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:431)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:548)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:493)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.d(PassExecutorService.java:430)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:406)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:142)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:249)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:404)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:165)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;&#xA;&#xA;java.lang.IllegalArgumentException: Could not find a classifier for File name: KotlinScript.kts Physical: true Injected: false&#xA;&lt;caret&gt;println(&quot;Hello&quot;).&#xA;Found descriptor: public final class KotlinScript : kotlin.script.templates.standard.ScriptTemplateWithArgs defined in package02 in file KotlinScript.kts (class org.jetbrains.kotlin.resolve.lazy.descriptors.LazyPackageDescriptor).&#xA;Scope: lazy scope for package package02.&#xA;Provider: org.jetbrains.kotlin.idea.stubindex.resolve.StubBasedPackageMemberDeclarationProvider@2b609127.&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.findClassDescriptor(LazyDeclarationResolver.java:102)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.getScriptDescriptor(LazyDeclarationResolver.java:78)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitScript(LazyDeclarationResolver.java:261)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$1.visitScript(LazyDeclarationResolver.java:131)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtScript.accept(KtScript.java:78)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:131)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.java:126)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.ResolveSession.resolveToDescriptor(ResolveSession.java:318)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.initializerAdditionalResolve(ResolveElementCache.kt:559)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.performElementAdditionalResolve(ResolveElementCache.kt:299)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.getElementsAdditionalResolve(ResolveElementCache.kt:165)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.resolveToElements(ResolveElementCache.kt:197)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:58)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.analyze(ResolutionFacadeImpl.kt:52)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyze(resolutionApi.kt:64)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolveToPsiElements(KtReference.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:119)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:77)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:142)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:166)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:158)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference.multiResolve(KtReference.kt:49)&#xA;&#x9;at com.intellij.psi.PsiPolyVariantReferenceBase.resolve(PsiPolyVariantReferenceBase.java:46)&#xA;&#x9;at org.jetbrains.kotlin.idea.injection.KotlinLanguageInjector.injectWithCall(KotlinLanguageInjector.kt:231)&#xA;&#x9;at org.jetbrains.kotlin.idea.injection.KotlinLanguageInjector.findInjectionInfo(KotlinLanguageInjector.kt:140)&#xA;&#x9;at org.jetbrains.kotlin.idea.injection.KotlinLanguageInjector.findInjectionInfo$default(KotlinLanguageInjector.kt:138)&#xA;&#x9;at org.jetbrains.kotlin.idea.injection.KotlinLanguageInjector.computeBaseInjection(KotlinLanguageInjector.kt:131)&#xA;&#x9;at org.jetbrains.kotlin.idea.injection.KotlinLanguageInjector.access$computeBaseInjection(KotlinLanguageInjector.kt:50)&#xA;&#x9;at org.jetbrains.kotlin.idea.injection.KotlinLanguageInjector$getLanguagesToInject$baseInjection$1.invoke(KotlinLanguageInjector.kt:85)&#xA;&#x9;at org.jetbrains.kotlin.idea.injection.KotlinLanguageInjector$getLanguagesToInject$baseInjection$1.invoke(KotlinLanguageInjector.kt:50)&#xA;&#x9;at org.jetbrains.kotlin.idea.ProgressUtilKt$runInReadActionWithWriteActionPriorityWithPCE$complete$1.run(ProgressUtil.kt:29)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1154)&#xA;&#x9;at com.intellij.openapi.progress.util.ProgressIndicatorUtils.a(ProgressIndicatorUtils.java:90)&#xA;&#x9;at com.intellij.openapi.progress.util.ProgressIndicatorUtils.a(ProgressIndicatorUtils.java:146)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:170)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:548)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:493)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:157)&#xA;&#x9;at com.intellij.openapi.progress.util.ProgressIndicatorUtils.runWithWriteActionPriority(ProgressIndicatorUtils.java:144)&#xA;&#x9;at com.intellij.openapi.progress.util.ProgressIndicatorUtils.runInReadActionWithWriteActionPriority(ProgressIndicatorUtils.java:90)&#xA;&#x9;at com.intellij.openapi.progress.util.ProgressIndicatorUtils.runInReadActionWithWriteActionPriority(ProgressIndicatorUtils.java:111)&#xA;&#x9;at org.jetbrains.kotlin.idea.ProgressUtilKt.runInReadActionWithWriteActionPriorityWithPCE(ProgressUtil.kt:28)&#xA;&#x9;at org.jetbrains.kotlin.idea.injection.KotlinLanguageInjector.getLanguagesToInject(KotlinLanguageInjector.kt:84)&#xA;&#x9;at com.intellij.psi.impl.source.tree.injected.InjectedPsiCachedValueProvider$MyInjProcessor.process(InjectedPsiCachedValueProvider.java:82)&#xA;&#x9;at com.intellij.psi.impl.source.tree.injected.InjectedLanguageManagerImpl.processInPlaceInjectorsFor(InjectedLanguageManagerImpl.java:461)&#xA;&#x9;at com.intellij.psi.impl.source.tree.injected.InjectedPsiCachedValueProvider.doCompute(InjectedPsiCachedValueProvider.java:62)&#xA;&#x9;at com.intellij.psi.impl.source.tree.injected.InjectedLanguageUtil.probeElementsUp(InjectedLanguageUtil.java:312)&#xA;&#x9;at com.intellij.psi.impl.source.tree.injected.InjectedLanguageUtil.enumerate(InjectedLanguageUtil.java:144)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LineMarkersPass.a(LineMarkersPass.java:241)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LineMarkersPass.a(LineMarkersPass.java:203)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LineMarkersPass.a(LineMarkersPass.java:111)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.Divider.divideInsideAndOutsideInOneRoot(Divider.java:96)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.LineMarkersPass.doCollectInformation(LineMarkersPass.java:106)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:438)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1160)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:431)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:548)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:493)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.d(PassExecutorService.java:430)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.a(PassExecutorService.java:406)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:142)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:249)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:404)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:165)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;&#xA;&#xA;" shownForIssueAuthor="false" created="1504107007635" markdown="false"><replies/></comment></issue><issue id="KT-20042" entityId="25-1681962"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20042</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>NoClassDefFoundError Failed resolution of</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have very strange error, stacktrace is:

Fatal Exception: java.lang.NoClassDefFoundError: Failed resolution of: L寡ppspress/showcase/db/MyProperty$getValue$$inlined$synchronized$lambda$1;
       at ru.appspress.showcase.db.MyProperty.getValue(Util.kt:50)
       at ru.appspress.showcase.db.DbUtilKt.getDb(DbUtil.kt)
       at ru.appspress.showcase.db.DbUtilKt.getWidgetsDao(DbUtil.kt:81)
       at ru.appspress.showcase.Appspress.init(Appspress.java:289)
       at ru.appspress.showcase.Appspress.onCreate(Appspress.java:264)
       at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1016)
       at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4740)
       at android.app.ActivityThread.-wrap1(ActivityThread.java)
       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1406)
       at android.os.Handler.dispatchMessage(Handler.java:102)
       at android.os.Looper.loop(Looper.java:148)
       at android.app.ActivityThread.main(ActivityThread.java:5452)
       at java.lang.reflect.Method.invoke(Method.java)
       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:762)
       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:652)
Caused by java.lang.ClassNotFoundException: Didn't find class "审ppspress.showcase.db.MyProperty$getValue$$inlined$synchronized$lambda$1" on path: DexPathList[[zip file "/data/app/ru.appspress.showcase-2/base.apk"],nativeLibraryDirectories=[/data/app/ru.appspress.showcase-2/lib/arm, /vendor/lib, /system/lib]]
       at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)
       at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
       at java.lang.ClassLoader.loadClass(ClassLoader.java:469)
       at ru.appspress.showcase.db.MyProperty.getValue(Util.kt:50)
       at ru.appspress.showcase.db.DbUtilKt.getDb(DbUtil.kt)
       at ru.appspress.showcase.db.DbUtilKt.getWidgetsDao(DbUtil.kt:81)
       at ru.appspress.showcase.Appspress.init(Appspress.java:289)
       at ru.appspress.showcase.Appspress.onCreate(Appspress.java:264)
       at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1016)
       at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4740)
       at android.app.ActivityThread.-wrap1(ActivityThread.java)
       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1406)
       at android.os.Handler.dispatchMessage(Handler.java:102)
       at android.os.Looper.loop(Looper.java:148)
       at android.app.ActivityThread.main(ActivityThread.java:5452)
       at java.lang.reflect.Method.invoke(Method.java)
       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:762)
       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:652)

The code is:

(Util.kt)
{code lang=kt}
class MyProperty&lt;in R, out T&gt;(private val f: (R) -&gt; T) : ReadOnlyProperty&lt;R, T&gt; {

    @Volatile private var _lazy: Lazy&lt;T&gt;? = null

    override fun getValue(thisRef: R, property: KProperty&lt;*&gt;): T {
        if (_lazy == null) {
            synchronized(this) {
                if (_lazy == null) {
                    _lazy = lazy(LazyThreadSafetyMode.SYNCHRONIZED, { f(thisRef) })
                }
            }
        }
        return _lazy!!.value
    }
}


fun &lt;R, T&gt; myLazy(initializer: (R) -&gt; T): MyProperty&lt;R, T&gt; = MyProperty(initializer)
{code}

Usage in DbUtil.kt:
{code lang=kt}
val Context.db: AppDatabase? by myLazy {
    Room.databaseBuilder(it.applicationContext,
            AppDatabase::class.java, "appspress")
            .addMigrations(MIGRATION_4_5)
            .addMigrations(MIGRATION_5_6)
            .build()
}
{code}


It's only one mistake. Also, I don't realise is it because kotlin problem or not.  </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1504263550602</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1504603619546</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>klgleb</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Глеб Климов</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20077" entityId="25-1682743"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20077</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Parentheses matcher doesn't remove closing parenth</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Press `backspace` at caret:
{code}
extensions.processExtensions(this, { it.processMembers(processor, initialState(&lt;caret&gt;)) })
{code}

Expected result:
{code}
extensions.processExtensions(this, { it.processMembers(processor, initialState&lt;caret&gt;) })
{code}

Actual result:
{code}
extensions.processExtensions(this, { it.processMembers(processor, initialState&lt;caret&gt;)) })
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1504443794431</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975482</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20174" entityId="25-1688839"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20174</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Idea doesn't find kotlin-stdlib-js when adding kotlinx as a dependency</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>This is my current build.gradle: https://gist.github.com/anonymous/67f3768fc19497e9db69037b4de01115

Everything works fine until I add kotlinx-html as a dependency, ie. by uncommenting line 32:
`compile "org.jetbrains.kotlinx:kotlinx-html-js:${kotlinx_version}"`

Idea seems to suddenly lose the kotlin-stdlib-js dependency, all of the DOM-related imports break in Idea. Actually running the build (`gradle web` in my case) does work fine.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1504820814829</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975480</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>karelp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Karel Peeters</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2407087" author="karelp" authorFullName="Karel Peeters" issueId="KT-20174" deleted="false" text="On @Gaetan.Zoritchak's recommendation I tried it with the non-EAP version of Kotlin `0.1.4`, but I still get the same results." shownForIssueAuthor="false" created="1504865782263" markdown="false"><replies/></comment></issue><issue id="KT-20186" entityId="25-1689892"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20186</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Konan: cannot set artifact name without extension</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The compiler Gradle task adds {{.kexe}} to the file under Mac/Linux. I cannot change it in any way</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1504885820950</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1531226439154</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-25384</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Gorshenev">Alexander.Gorshenev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20188" entityId="25-1689915"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20188</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unable to add package to "Packages to Use import with '*'"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>IntelliJ IDEA 2017.2.3
Build #IU-172.3968.16, built on August 21, 2017
JRE: 1.8.0_152-release-915-b11 x86_64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Mac OS X 10.12.6

Kotlin plugin version 1.1.4-release-IJ2017.2-3

In Preferences -&gt; Editor -&gt; Code Style -&gt; Kotlin, it is not possible to add to the table "Packages to Use import with '*'"

Instead of adding an extra row to the table, it moves and selects the next row.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1504888123516</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975480</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jkly25@gmail.com</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jingkei Ly</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-446250" url="https://youtrack.jetbrains.com/_persistent/unable_to_add.mov?file=74-446250&amp;c=true">unable_to_add.mov</value></field></issue><issue id="KT-26731" entityId="25-1693894"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26731</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Result type is not displayed in quick-documentation when defined in Kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>IntelliJ IDEA 2017.3 EAP (Ultimate Edition)
Build #IU-173.2247, built on September 11, 2017
IntelliJ IDEA EAP User
Expiration date: October 11, 2017
JRE: 1.8.0_152-release-991-b1 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 10 10.0

Open quick-doc on this method from IDEA source: `com.intellij.codeInspection.dataFlow.value.DfaValueFactory#controlTransfer`:

!image.png!

Note that neither return type (DfaControlTransferValue) nor `kind` parameter type (`TransferTarget`) are displayed. Both these types are defined in Kotlin, so this probably the reason</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1505202361919</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536654335656</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Tagir.Valeev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tagir Valeev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. KDoc</value><valueId>IDE. KDoc</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-446720" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-446720&amp;c=true">image.png</value></field></issue><issue id="KT-20245" entityId="25-1698201"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20245</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Anonymous interface/object crash with NoSuchFieldError </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following code crashes in runtime:
```
interface ParentInterface {
    val child: ChildInterface
}

interface ChildInterface {
    val field: String
}

fun crash(data: String): ParentInterface =
    Unit.let {
        object : ParentInterface {
            override val child = object : ChildInterface {
                override val field = data
            }
        }
    }

fun main(arg: Array&lt;String&gt;) {
    crash("test")
}
```

```
Exception in thread "main" java.lang.NoSuchFieldError: child
    at TestKt$crash$$inlined$let$lambda$1&lt;init&gt;(Test.kt:12)
    at TestKt.crash(Test.kt:11)
    at TestKt.main(Test.kt:20)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1505376890266</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004633</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>fab1an</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Fabian Zeindl</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><value>1.2.10</value><valueId>1.1.4</valueId><valueId>1.2.10</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20302" entityId="25-1703244"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20302</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inheriting from kotlin.collections.List generates stubs with Java 8 types</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Inheriting from `kotlin.collections.List` seems to generate stubs for the mutating methods. One of those methods is `java.util.List#replaceAll`, which accepts a `java.util.function.UnaryOperator` from Java 8, despite the compiler config not targeting Java 8.

```
class Foo : List&lt;String&gt; by emptyList()
```

The attached Android project demonstrates the issue. Run the app on API 19 or below and it will crash when getting the declared methods reflectively.

Seems to be closely related to KT-12359

Android Studio details:

```
Android Studio 3.0 Beta 6
Build #AI-171.4333198, built on September 14, 2017
JRE: 1.8.0_152-release-915-b01 x86_64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Mac OS X 10.12.6
```

Kotlin details:

```
1.1.4-3
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1505712446225</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1506121430715</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>nreisner</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nathan Eisner</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>btilbrook@nextfaze.com</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ben Tilbrook</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-20358</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Denis Zharkov">denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><value>Java Descriptors and Signatures</value><valueId>Backend. JVM</valueId><valueId>Java Descriptors and Signatures</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-448368" url="https://youtrack.jetbrains.com/_persistent/KotlinBug.zip?file=74-448368&amp;c=true">KotlinBug.zip</value></field><comment id="27-2435737" author="nreisner" authorFullName="Nathan Eisner" issueId="KT-20302" deleted="false" text="I have a similar issue when I was extending `TreeMap` in my Android project. &#xA;```&#xA;class MyTreeMap : TreeMap&lt;String, Object&gt;(String.CASE_INSENSITIVE_ORDER) {...}&#xA;```&#xA;&#xA;I have a min sdk of 19 and running a lint check on this class will fail:&#xA;```&#xA;13: Call requires API level 24 (current min is 19): java.util.TreeMap#getOrDefault&#xA;&#xA;13: Call requires API level 24 (current min is 19): java.util.TreeMap#remove&#xA;```&#xA;&#xA;I am using `1.1.4-3` and &#xA;```&#xA;   compileOptions {&#xA;        sourceCompatibility JavaVersion.VERSION_1_8&#xA;        targetCompatibility JavaVersion.VERSION_1_8&#xA;    }&#xA;```" shownForIssueAuthor="false" created="1506121430726" updated="1506121673522" markdown="false"><replies/></comment></issue><issue id="KT-20345" entityId="25-1706713"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20345</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Ugly rendering of Kotlin function with long parameter lists in search</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See attached image.

IntelliJ IDEA 2017.2.3
Build #IU-172.3968.16, built on August 22, 2017
Licensed to JetBrains Team

JRE: 1.8.0_152-release-915-b11 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Linux 4.4.0-91-generic</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1505891716562</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975475</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.50</value><valueId>1.1.50</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-449175" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20from%202017-09-20%2010-14-04.png?file=74-449175&amp;c=true">Screenshot from 2017-09-20 10-14-04.png</value></field></issue><issue id="KT-20392" entityId="25-1709850"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20392</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin Unit Test Coverage broken in Android Studio 3.0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Issue as per described in https://stackoverflow.com/questions/45819700/android-studio-3-0-gradle-3-0-0-beta2-breaks-kotlin-unit-test-coverage

Met Svetlana Isakova in Melbourne, and was asked to file this issue to Jetbrain.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1506069915494</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975470</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elye.project@gmail.com</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Elye Project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20428" entityId="25-1711926"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20428</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin alert when project opened.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Every time when I open Rider project I get an alert:
{code}
Configure Kotlin
      Configure modules in 'rider' project
      as Kotlin (Java) modules
      as Kotlin (JavaScript) modules
{code}
I already have module KotlinJavaRuntime in module Rider.
I check logs and found only this lines for Kotlin:
{code}
2017-09-21 12:22:03,845 [  13134]   INFO -       ScriptTemplatesProviders - [kts] loading script definitions [] using cp:  
2017-09-21 12:22:03,849 [  13138]   INFO -       ScriptTemplatesProviders - Templates provider KotlinCompilerScriptTemplatesSettings is invalid:  
2017-09-21 12:22:03,869 [  13158]   INFO -       ScriptTemplatesProviders - Templates provider Gradle Kotlin DSL is invalid: Unable to get Gradle home directory 
2017-09-21 12:22:03,869 [  13158]   INFO -       ScriptTemplatesProviders - Templates provider Gradle Script Kotlin is invalid: Unable to get Gradle home directory 
2017-09-21 12:22:03,870 [  13159]   INFO -       ScriptTemplatesProviders - [kts] loading script definitions [kotlin.script.templates.standard.ScriptTemplateWithArgs] using cp:  
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1506332347761</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975467</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Mikhail.Filippov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mikhail Filippov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2454306" author="Mikhail.Filippov" authorFullName="Mikhail Filippov" issueId="KT-20428" deleted="false" text="Every day all Rider developers see this warning many times. Please help to fix it" shownForIssueAuthor="false" created="1507026383206" markdown="false"><replies/></comment></issue><issue id="KT-20456" entityId="25-1713184"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20456</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Read lock not taken in KotlinFindUsagesHandler</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I've received a few exception traces that look like the following. It's being reported as a problem in Cursive, but I don't see any of the other reference searchers in the Community source taking a read lock. I suspect the problem is that Kotlin should be taking one in KotlinFindUsagesHandler. Let me know if I should be doing something different.

```
Read access is allowed from event dispatch thread or inside read-action only (see com.intellij.openapi.application.Application.runReadAction())
Details: Current thread: Thread[ApplicationImpl pooled thread 1044,4,main] 732156420
; dispatch thread: false; isDispatchThread(): false
SystemEventQueueThread: Thread[AWT-EventQueue-0 2017.2#IU-172.3317.76 IDEA, eap:false, os:Mac OS X 10.12.6, java-version:JetBrains s.r.o 1.8.0_152-release-915-b5,6,main] 761874747
java.lang.Throwable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:150)
	at com.intellij.openapi.application.impl.ApplicationImpl.assertReadAccessAllowed(ApplicationImpl.java:1076)
	at com.intellij.psi.impl.source.tree.SharedImplUtil.findFileElement(SharedImplUtil.java:88)
	at com.intellij.psi.impl.source.tree.SharedImplUtil.getContainingFile(SharedImplUtil.java:69)
	at com.intellij.psi.impl.source.SubstrateRef$2.getContainingFile(SubstrateRef.java:100)
	at com.intellij.extapi.psi.StubBasedPsiElementBase.getContainingFile(StubBasedPsiElementBase.java:275)
	at com.intellij.extapi.psi.StubBasedPsiElementBase.getProject(StubBasedPsiElementBase.java:312)
	at com.intellij.compiler.JavaCompilerReferencesCodeUsageScopeOptimizer.getScopeToExclude(JavaCompilerReferencesCodeUsageScopeOptimizer.java:28)
	at com.intellij.psi.search.SearchRequestCollector.searchWord(SearchRequestCollector.java:84)
	at com.intellij.psi.search.SearchRequestCollector.searchWord(SearchRequestCollector.java:113)
	at cursive.findUsages.ClojureReferenceSearcher.execute(ClojureReferenceSearcher.java:81)
	at cursive.findUsages.ClojureReferenceSearcher.execute(ClojureReferenceSearcher.java:25)
	at com.intellij.util.ExecutorsQuery.processResults(ExecutorsQuery.java:45)
	at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:79)
	at com.intellij.util.MergeQuery.processSubQuery(MergeQuery.java:85)
	at com.intellij.util.MergeQuery.forEach(MergeQuery.java:57)
	at com.intellij.util.UniqueResultsQuery.process(UniqueResultsQuery.java:66)
	at com.intellij.util.UniqueResultsQuery.forEach(UniqueResultsQuery.java:56)
	at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinFindMemberUsagesHandler$MySearcher$buildTaskList$$inlined$let$lambda$1.invoke(KotlinFindMemberUsagesHandler.kt:146)
	at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinFindMemberUsagesHandler$MySearcher$buildTaskList$$inlined$let$lambda$1.invoke(KotlinFindMemberUsagesHandler.kt:131)
	at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinFindUsagesHandler$Searcher.executeTasks(KotlinFindUsagesHandler.kt:108)
	at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinFindUsagesHandler.searchReferences(KotlinFindUsagesHandler.kt:73)
	at org.jetbrains.kotlin.idea.findUsages.handlers.KotlinFindUsagesHandler.processElementUsages(KotlinFindUsagesHandler.kt:67)
	at com.intellij.find.findUsages.FindUsagesManager.a(FindUsagesManager.java:370)
	at com.intellij.find.findUsages.FindUsagesManager$1.run(FindUsagesManager.java:294)
	at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:718)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:170)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:548)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:493)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:157)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$2.run(ProgressManagerImpl.java:165)
	at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:343)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
```

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1506376632261</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975468</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>lemming</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Colin Fleming</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2448442" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-20456" deleted="false" text="Reproducible in the following case: &#xA;* create an empty Java Gradle project with IDEA wizard (Kotlin not configured yet)&#xA;* in `src` root, create a new Kotlin file — it will be opened with «Kotlin not configured» header&#xA;* click «Configure...» button on the header — it is important to use this button because in other cases exception is not reproducible&#xA;* choose «Gradle (JavaScript)» option&#xA;* see the exception: &#xA;&gt; Read access is allowed from event dispatch thread or inside read-action only (see com.intellij.openapi.application.Application.runReadAction())&#xA;&#xA;IDEA IU-172.4343.5 + Kotlin 1.1.51-IJ2017.2-1&#xA;IDEA EAP IU-173.2696.26 + Kotlin 1.1.51-IJ2017.3-1" shownForIssueAuthor="false" created="1506677581079" markdown="false"><replies/></comment></issue><issue id="KT-20457" entityId="25-1713273"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20457</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Log warning: JavaDocInfoGenerator - Wrong navElement: FUN; original = KtLightMethodImpl</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>2017-09-26 05:26:16,675 [ 775934]   INFO - t.javadoc.JavaDocInfoGenerator - Wrong navElement: FUN; original = KtLightMethodImpl:memberPropertiesCached of class class org.jetbrains.kotlin.asJava.elements.KtLightMethodImpl 
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1506393621523</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975469</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>AMPivovarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksey Pivovarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20461" entityId="25-1713886"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20461</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Ability to iterate through object's fields in debugger</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Currently all Kotlin objects in the debugger have `ObjHeader *` type and the only operation you can do on them is to get a string representation. In particular, it is impossible to find out the dynamic type of an object and to iterate through its field, so in the IDE it is impossible to show a `+` sign alongside the Kotlin/Native object. </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1506421750496</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1506421750496</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>aleksey.kladov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Aleksey Kladov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>aleksey.kladov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksey Kladov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vasily Levchenko">Vasily.Levchenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20542" entityId="25-1718864"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20542</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inlined private member function with default parameters invocation should be replaced with the corresponding accessor invocation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Here we have two files in different packages. `Internals` contains private function `pvt` with default values (important for this case) and two inline functions accessing `pvt`. Unfortunately the first one (`failing`) doesn't work because it is trying to invoke `pvt` bridge function directly instead of invoking it through accessor as it does `working`.

Internals.kt
```kotlin
package pkg1

internal class Internals {
    private fun pvt(limit: Int = 0) {
    }

    internal inline fun failing() {
        pvt()
    }

    internal inline fun working() {
        pvt(0)
    }
}
```

Caller.kt
```kotlin
package pkg2

import pkg1.*

fun main(args: Array&lt;String&gt;) {
    val o = Internals()
    o.failing()
    o.working()
}
```

bytecode (insignificant parts omitted)
```asm
L1
    .....
    NEW pkg1/Internals
    DUP
    INVOKESPECIAL pkg1/Internals.&lt;init&gt; ()V
......
    ALOAD 2
    ICONST_0
    ICONST_1
    ACONST_NULL
    INVOKESTATIC pkg1/Internals.pvt$default (Lpkg1/Internals;IILjava/lang/Object;)V
   ....
    ALOAD 1
    ASTORE 2
   .......
    ALOAD 2
    ICONST_0
    INVOKESTATIC pkg1/Internals.access$pvt (Lpkg1/Internals;I)V
.....
    RETURN
```

The first invocation is always failing because of IllegalAccessError (we are trying to invoke default function directly) while the second one works perfect as we are invoking accessor function 

Exception in thread "main" java.lang.IllegalAccessError: tried to access method pkg1.Internals.pvt$default(Lpkg1/Internals;IILjava/lang/Object;)V from class pkg2.CallerKt
	at pkg2.CallerKt.main(Caller.kt:10)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1506691612543</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004633</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Mashkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.60</value><valueId>1.1.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20546" entityId="25-1719138"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20546</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>org.jetbrains.kotlin.codegen.CompilationException thrown in Android Studio Plugin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have also filed this with Android Studio not being sure who should handle this. The ticket is https://issuetracker.google.com/issues/67053767

- Android studio 3 beta 6
- Kotlin 1.1.51

The following code:
```
package com.example.kiteflight01
import android.support.v7.app.AppCompatActivity
import android.os.Bundle
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        val r: java.util.Random = java.util.Random()
        val k: Int = r.nextInt()
        when (k) {
            75 -&gt; print("hi\n")
            in 100..(100*100) -&gt; print("cool")
            else -&gt; { return() }
        }
    }
}
```

which has an issue in the "else" case with the return having parentheses -- should either be return(Unit) or return. This will cause the following unhandled exception using the kotlin plugin:

```
org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Argument for @NotNull parameter 'element' of org/jetbrains/kotlin/codegen/ExpressionCodegen.markStartLineNumber must not be null
Cause: Argument for @NotNull parameter 'element' of org/jetbrains/kotlin/codegen/ExpressionCodegen.markStartLineNumber must not be null
File being compiled and position: (15,29) in /Users/andrewadmin/arr-research/kotlin/play/kiteflight01/app/src/main/java/com/example/kiteflight01/MainActivity.kt
PsiElement: ()
The root cause was thrown at: ExpressionCodegen.java:-1
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:325)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:291)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:331)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$visitReturnExpression$11(ExpressionCodegen.java:1550)
        at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
        at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:351)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:336)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateWhenExpression$30(ExpressionCodegen.java:4214)
        at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
        at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:57)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:351)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:336)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1627)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:52)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:72)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:569)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:332)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:298)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:147)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:213)
        at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:168)
        at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:84)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:145)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:319)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:303)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:162)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:124)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:99)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)
        at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow.compileSingleFile(KotlinBytecodeToolWindow.java:333)
        at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow.getBytecodeForFile(KotlinBytecodeToolWindow.java:251)
        at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.java:140)
        at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.java:79)
        at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)
        at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:931)
        at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)
        at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:176)
        at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:556)
        at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)
        at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)
        at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:163)
        at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)
        at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)
        at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:334)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: Argument for @NotNull parameter 'element' of org/jetbrains/kotlin/codegen/ExpressionCodegen.markStartLineNumber must not be null
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.markStartLineNumber(ExpressionCodegen.java)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:291)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitParenthesizedExpression(ExpressionCodegen.java:442)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitParenthesizedExpression(ExpressionCodegen.java:122)
        at org.jetbrains.kotlin.psi.KtParenthesizedExpression.accept(KtParenthesizedExpression.java:30)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:309)
        ... 57 more
``` 

The kotlin version is 1.1.51. When I use version 1.1.4 of kotlinc-jvm command line compilation tool, I get the exception handled cleanly:
```
$ kotlinc-jvm t.kt
t.kt:28:30: error: expecting an expression
            else -&gt; { return() }
                             ^
$
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1506701083234</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975466</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>arrarr</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrew Reiter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20593" entityId="25-1722246"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20593</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Calling static method in interface from Kotlin causes ICCE on JDK 9</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The code – the first 8 lines are elided since they are comment and the package statement, so starting with line 9:
```kotlin
import java.util.stream.IntStream

fun main(args:Array&lt;String&gt;) {
	val n = 1000000000
	val delta = 1.0 / n
	val startTimeNanos = System.nanoTime()
	val pi = 4.0 * delta * IntStream.range(1, n).mapToDouble{i -&gt;
		val x = (i - 0.5) * delta
		1.0 / (1.0 + x * x)
	}.sum()
	val elapseTime = (System.nanoTime() - startTimeNanos) / 1e9
	out("Sequential Streams", pi, n, elapseTime)
}
```
builds and executes entirely fine on Zulu-8 – assuming code is compiled and executing knowing where the out function is – using Gradle 4.2.1 with a Kotlin buildscript on Debian Sid. Unfortunately having cleaned, the same code with the same Gradle and Gradle script results in:
```
&gt; Task :compileKotlin
Using kotlin incremental compilation

&gt; Task :run_pi_sequential_streams
Exception in thread "main" java.lang.IncompatibleClassChangeError: Method java.util.stream.IntStream.range(II)Ljava/util/stream/IntStream; must be InterfaceMethodref constant
        at uk.org.winder.pi_quadrature.Pi_sequential_streamsKt.main(pi_sequential_streams.kt:15)


FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':run_pi_sequential_streams'.
&gt; Process 'command '/usr/lib/jvm/zulu-9-amd64/bin/java'' finished with non-zero exit value 1

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

* Get more help at https://help.gradle.org

BUILD FAILED in 1s
2 actionable tasks: 2 executed
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1507034339760</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1509702145094</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>russel</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Russel Winder</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>russel</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Russel Winder</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-20671</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2460342" author="Dmitry.Petrov.1" authorFullName="Dmitry Petrov" issueId="KT-20593" deleted="false" text="Minimized case:&#xA;```kotlin&#xA;import java.util.stream.IntStream&#xA;&#xA;fun main(args:Array&lt;String&gt;) {&#xA;    val istr = IntStream.range(1, 10)&#xA;    println(istr)&#xA;}&#xA;```&#xA;&#xA;Running it for the first time with JDK 9 GA release&#xA;openjdk version &quot;9&quot;&#xA;OpenJDK Runtime Environment (build 9+181)&#xA;OpenJDK 64-Bit Server VM (build 9+181, mixed mode)&#xA;produced the same exception as above: &#xA;Exception in thread &quot;main&quot; java.lang.IncompatibleClassChangeError: Method java.util.stream.IntStream.range(II)Ljava/util/stream/IntStream; must be InterfaceMethodref constant&#xA;&#xA;However, I can't reproduce it since then: &#xA;```&#xA;&gt; /usr/local/java/jdk-9/bin/java ... TestKt&#xA;java.util.stream.IntPipeline$Head@2fc14f68&#xA;```&#xA;" shownForIssueAuthor="false" created="1507202033613" updated="1507202047342" markdown="false"><replies/></comment><comment id="27-2460501" author="Dmitry.Petrov.1" authorFullName="Dmitry Petrov" issueId="KT-20593" deleted="false" text="After some more experiments with fresh JDK 9 installations it seems that 'java.lang.IncompatibleClassChangeError: Method (...) must be InterfaceMethodref constant' may occur or not occur for the same class file (!).&#xA;&#xA;We generate bytecode that looks legitimate:&#xA;```&#xA;  minor version: 0&#xA;  major version: 52&#xA;&#xA;...&#xA;&#xA;  invokestatic #... // InterfaceMethod java/util/stream/IntStream.range:(II)Ljava/util/stream/IntStream;&#xA;```" shownForIssueAuthor="false" created="1507204847375" updated="1507204909405" markdown="false"><replies/></comment><comment id="27-2468631" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-20593" deleted="false" text="@russel which 'jvm-target' compiler option do you use? Should be 1.8" shownForIssueAuthor="false" created="1507542824345" updated="1507543237483" markdown="false"><replies/></comment><comment id="27-2468683" author="es@syse.no" authorFullName="Edvin Syse" issueId="KT-20593" deleted="false" text="I can confirm the issue is still present even with jvm-target 1.8. Furthermore, as evident by KT-20671, even the Kotlin compiler plugin calls static functions which effectively prevents me from compiling my Java 9 based Kotlin project because of this bug :)" shownForIssueAuthor="false" created="1507543744751" markdown="false"><replies/></comment><comment id="27-2508336" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-20593" deleted="false" text="@russel switching 'jvm-target' should solve your problem.&#xA;KT-20671 fixed in 1.1.60 and 1.1.2 EAPs, and it's linked with another problem." shownForIssueAuthor="false" created="1509626737451" markdown="false"><replies/></comment><comment id="27-2509599" author="russel" authorFullName="Russel Winder" issueId="KT-20593" deleted="false" text="@mbogdanov  Just at the minute Gradle 4.3 will not even clean the project, so it seems I cannot investigate immediately. I'll try in more detail early next week. Sorry for the delay. " shownForIssueAuthor="false" created="1509702145095" markdown="false"><replies/></comment></issue><issue id="KT-20628" entityId="25-1725738"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20628</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Don't show plugin update notification if another such notification is currently visible</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1507190415161</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975453</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-18703</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20640" entityId="25-1726722"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20640</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>New Project/Module with Gradle: correct formatting of `maven` call</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>New Project/Module wizard.
Create Gradle based project with Kotlin, e.g. Kotlin JavaScript, or Kotlin Multiplatform Common.
In the resulted `build.gradle` the repository URL is inserted:
`maven {     url 'http://dl.bintray.com/kotlin/kotlin-dev' }`
It is formatted as shown: with many spaces after the opening brace.

It's minor, but annoying to correct this manually every time.

IDEA 173.3003 + Kotlin plugin 1.1.60-dev-326.
IDEA 172.4530 + Kotlin plugin 1.2.0-beta-33.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1507221510894</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975467</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-20759" entityId="25-1738750"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20759</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>AspectJ Post-Compile weave mode doesn't work for kotlin source in IntelliJ Ultimate</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Adding the AspectJ facet configured in "Post-compile weave mode" to a project with the Kotlin facet configured does not weave kotlin bytecode when run by Intellij Ultimate.

!FacetConfiguration.png!

I would expect that I would be able to use "Post-compile weave mode" to weave kotlin source code in IntelliJ.

Loosely related to KT-20745

== Context ==

I'm developing a gradle plugin that configures your build to support class time  weaving of both Kotlin and Java bytecode with the AspectJ plugin.

== Example of problem ==

This project contains an example of this problem:
https://github.com/JLLeitschuh/gradle-kotlin-aspectj-weaver

To reproduce:
 1. Import the `samples/settings.gradle` file.
 2. Configure IntelliJ Ultimate to use the AJC compiler for Java, and enable "Delegate to Javac".
   Example:
   !JavaCompilerConfig.png!
 3. Add the `AspectJ` facet to the `kotlin` subproject and check "Post-compile weave mode".
 4. Try to run the `example.MyAppTest`. The test will fail.

You can see the tests pass correctly if you run the build with gradle using:
`./samples/gradlew test`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1507830245263</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1508141112588</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>JLLeitschuh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jonathan Leitschuh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. JPS</value><valueId>Tools. JPS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-456522" url="https://youtrack.jetbrains.com/_persistent/FacetConfiguration.png?file=74-456522&amp;c=true">FacetConfiguration.png</value><value id="74-456524" url="https://youtrack.jetbrains.com/_persistent/JavaCompilerConfig.png?file=74-456524&amp;c=true">JavaCompilerConfig.png</value></field></issue><issue id="KT-20909" entityId="25-1748814"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20909</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>When.NEVER inferred as Platform type instead of nullable type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When invoking a Java method annotated with `@Nonnull(when = When.NEVER)` coming from JSR-305, the kotlin compiler is inferring return type as platform type(flexible) instead of `nullable` type. As per [https://kotlinlang.org/docs/reference/java-interop.html kotlin docs] ''When.MAYBE and When.NEVER denote a nullable type''. So the expected output should be something like that:
   ` val mayBeMessage = MessageJava().maybe` // inferred correctly`String?`
    `val neverMessage  = MessageJava().never` // should be inferred as `String?`

But the actual output (please see the attachment with output and IDE version) is different . I am using Kotlin version = 1.1.51

 Here is a link to Java code https://gist.github.com/nklmish/729d835e9240701a247c20d18941191b 

Thank you 
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1508772030099</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1508954382920</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>nklmish</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nakul</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nklmish</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nakul</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Denis Zharkov">denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Java Descriptors and Signatures</value><valueId>Java Descriptors and Signatures</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-460036" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-10-23%20at%2016.58.28.png?file=74-460036&amp;c=true">Screen Shot 2017-10-23 at 16.58.28.png</value><value id="74-460041" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-10-23%20at%2017.05.06.png?file=74-460041&amp;c=true">Screen Shot 2017-10-23 at 17.05.06.png</value></field><comment id="27-2494391" author="denis.zharkov" authorFullName="Denis Zharkov" issueId="KT-20909" deleted="false" text="It seems like you mistyped in `NEVER` (the whole word should be uppercased)" shownForIssueAuthor="false" created="1508772973213" markdown="false"><replies/></comment><comment id="27-2494448" author="nklmish" authorFullName="Nakul" issueId="KT-20909" deleted="false" text="Sorry for the typo, happened during copy and paste. Fixed." shownForIssueAuthor="false" created="1508774025520" updated="1508921984312" markdown="false"><replies/></comment><comment id="27-2497488" author="denis.zharkov" authorFullName="Denis Zharkov" issueId="KT-20909" deleted="false" text="With the same sample everything works fine for me.&#xA;Is it working after fixing the typo?" shownForIssueAuthor="false" created="1508937607245" updated="1508772973192" markdown="false"><replies/></comment><comment id="27-2498033" author="nklmish" authorFullName="Nakul" issueId="KT-20909" deleted="false" text="&gt;With the same sample everything works fine for me.&#xA;@denis.zharkov, Is the Kotlin compiler inferring `String?` instead of `String!` when invoking `MessageJava().never` ?&#xA;&gt;Is it working after fixing the typo?&#xA;First of all sorry for the typo mess, it was introduced when I was preparing gist (typing code inside the plain text editor) rather then copying and pasting the original code from IDE. Inside my IDE, the code is compiling (no typos) and the output of Kotlin's compiler inferences is attached in the original issue. &#xA;&#xA;Thank you." shownForIssueAuthor="false" created="1508954382921" updated="1508774025497" markdown="false"><replies/></comment></issue><issue id="KT-20934" entityId="25-1750185"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>20934</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IntelliJ not recognizing Kotlin JS libs</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In a previous version of IntelliJ, I would simply right click on kotlinx-html-js-0.6.4.jar and say "add as library" and the lib would be recognized correctly within the IDE. Now when I try to this, the lib is not recognized (i.e. gives me errors when I try to use document.create.div). After fiddling for an hour, I found that IntelliJ was omitting this the type="kotlin.js" from the lib file:

{{&lt;component name="libraryTable"&gt;
  &lt;library name="kotlinx-html-js-0.6.4"  type="kotlin.js"&gt;
    &lt;CLASSES&gt;
      &lt;root url="jar://$PROJECT_DIR$/lib/kotlinx-html-js-0.6.4.jar!/" /&gt;
    &lt;/CLASSES&gt;
    &lt;JAVADOC /&gt;
    &lt;SOURCES /&gt;
  &lt;/library&gt;
&lt;/component&gt;}}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1508866726896</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975443</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>stokemasterjack</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dave Ford</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-21953</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21292" entityId="25-1771620"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21292</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Go to definition doesn't work</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I just tried to use `ktor` framework and I've found that `go to definition` doesn't work with Kotlin Plugin versions 1.1.51 and 1.1.60 (possible, other versions also affected) when I try to take a look at the implementation of the `start` function:

{code lang=kotlin}
import io.ktor.application.call
import io.ktor.http.ContentType
import io.ktor.response.respondText
import io.ktor.routing.get
import io.ktor.routing.routing
import io.ktor.server.engine.embeddedServer
import io.ktor.server.netty.Netty

fun main(args: Array&lt;String&gt;) {
    val server = embeddedServer(Netty, 8080) {
        routing {
            get("/") {
                call.respondText("Hello, world!", ContentType.Text.Html)
            }
        }
    }
    server.start(wait = true)
}
{code}

If explicit type is added I'm able to go to the `ApplicationEngine` interface with the `Go to definition` feature, but there is no gutter that allows to follow to implementations of the `ApplicationEngine` interface (For example: `io.ktor.server.netty.NettyApplicationEngine`):

{code lang=kotlin}
import io.ktor.application.call
import io.ktor.http.ContentType
import io.ktor.response.respondText
import io.ktor.routing.get
import io.ktor.routing.routing
import io.ktor.server.engine.ApplicationEngine
import io.ktor.server.engine.embeddedServer
import io.ktor.server.netty.Netty

fun main(args: Array&lt;String&gt;) {
    val server: ApplicationEngine = embeddedServer(Netty, 8080) {
        routing {
            get("/") {
                call.respondText("Hello, world!", ContentType.Text.Html)
            }
        }
    }
    server.start(wait = true)
}
{code}

Gradle build file is attached.

IDEA: 
IntelliJ IDEA 2017.2.6
Build #IC-172.4574.11, built on November 14, 2017
JRE: 1.8.0_152-release-915-b12 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 10 10.0
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1510836403863</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975457</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>damal.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maksim Dadzerkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.50</value><value>1.1.60</value><valueId>1.1.50</valueId><valueId>1.1.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-467256" url="https://youtrack.jetbrains.com/_persistent/bug.PNG?file=74-467256&amp;c=true">bug.PNG</value><value id="74-467257" url="https://youtrack.jetbrains.com/_persistent/build.gradle?file=74-467257&amp;c=true">build.gradle</value><value id="74-467707" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-467707&amp;c=true">image.png</value></field><comment id="27-2532163" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-21292" deleted="false" text="Are there any exceptions reported when you try to use &quot;goto definition&quot;?" shownForIssueAuthor="false" created="1510927033657" markdown="false"><replies/></comment><comment id="27-2532232" author="damal.1" authorFullName="Maksim Dadzerkin" issueId="KT-21292" deleted="false" text="@yole nope&#xA;!image.png!" shownForIssueAuthor="false" created="1510928559034" markdown="false"><replies/></comment></issue><issue id="KT-21345" entityId="25-1774177"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21345</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>ClassCastException when one opens Find In Path popup (seen in Rider)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>org.jetbrains.kotlin.asJava.classes.KtLightClassImpl cannot be cast to com.intellij.psi.impl.compiled.ClsElementImpl
 java.lang.ClassCastException: org.jetbrains.kotlin.asJava.classes.KtLightClassImpl cannot be cast to com.intellij.psi.impl.compiled.ClsElementImpl
     at com.intellij.psi.impl.compiled.ClsElementImpl.setMirror(ClsElementImpl.java:278)
     at com.intellij.psi.impl.compiled.ClsElementImpl.setMirrors(ClsElementImpl.java:299)
     at com.intellij.psi.impl.compiled.ClsElementImpl.setMirrors(ClsElementImpl.java:291)
     at com.intellij.psi.impl.compiled.ClsFileImpl.setMirror(ClsFileImpl.java:352)
     at com.intellij.psi.impl.compiled.ClsFileImpl.lambda$getMirror$1(ClsFileImpl.java:403)
     at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:534)
     at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:479)
     at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)
     at com.intellij.openapi.progress.impl.CoreProgressManager.executeNonCancelableSection(CoreProgressManager.java:185)
     at com.intellij.psi.impl.compiled.ClsFileImpl.getMirror(ClsFileImpl.java:402)
     at com.intellij.psi.impl.compiled.ClsElementImpl.findElementAt(ClsElementImpl.java:184)
     at com.intellij.ide.util.scopeChooser.ClassHierarchyScopeDescriptor.&lt;init&gt;(ClassHierarchyScopeDescriptor.java:56)
     at com.intellij.ide.util.scopeChooser.HierarchyScopeDescriptorProvider.getScopeDescriptors(HierarchyScopeDescriptorProvider.java:31)
     at com.intellij.ide.util.scopeChooser.ScopeChooserCombo.createPredefinedScopeDescriptors(ScopeChooserCombo.java:243)
     at com.intellij.ide.util.scopeChooser.ScopeChooserCombo.createModel(ScopeChooserCombo.java:187)
     at com.intellij.ide.util.scopeChooser.ScopeChooserCombo.rebuildModel(ScopeChooserCombo.java:180)
     at com.intellij.ide.util.scopeChooser.ScopeChooserCombo.init(ScopeChooserCombo.java:108)
     at com.intellij.find.impl.FindPopupScopeUIImpl.initComponents(FindPopupScopeUIImpl.java:96)
     at com.intellij.find.impl.FindPopupScopeUIImpl.&lt;init&gt;(FindPopupScopeUIImpl.java:66)
     at com.intellij.find.impl.FindPopupScopeUIProviderImpl.create(FindPopupScopeUIProviderImpl.java:24)
     at com.intellij.find.impl.FindPopupPanel.&lt;init&gt;(FindPopupPanel.java:143)
     at com.intellij.find.impl.FindUIHelper.getOrCreateUI(FindUIHelper.java:56)
     at com.intellij.find.impl.FindUIHelper.&lt;init&gt;(FindUIHelper.java:46)
     at com.intellij.find.impl.FindManagerImpl.showFindDialog(FindManagerImpl.java:196)
     at com.intellij.find.findInProject.FindInProjectManager.findInProject(FindInProjectManager.java:69)
     at com.intellij.find.actions.FindInPathAction.actionPerformed(FindInPathAction.java:45)
     at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)
     at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:237)
     at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$1.performAction(IdeKeyEventDispatcher.java:576)
     at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$processAction$2(IdeKeyEventDispatcher.java:625)
     at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:195)
     at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:624)
     at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.inInitState(IdeKeyEventDispatcher.java:479)
     at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:213)
     at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:622)
     at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)
     at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
     at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
     at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
     at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
     at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
     at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1511172652901</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534595172651</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Vassiliy.Kudryashov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vassiliy Kudryashov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Pavel Talanov">pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Light Classes</value><valueId>IDE. Light Classes</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3024559" author="develar" authorFullName="Vladimir Krivosheev" issueId="KT-21345" deleted="false" text="Critical?" shownForIssueAuthor="false" created="1534426053485" markdown="false"><replies/></comment><comment id="27-3024560" author="develar" authorFullName="Vladimir Krivosheev" issueId="KT-21345" deleted="false" text="https://ea.jetbrains.com/browser/ea_reports/2071873" shownForIssueAuthor="false" created="1534426062268" markdown="false"><replies/></comment></issue><issue id="KT-21346" entityId="25-1774234"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21346</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin: [Internal Error] org.jetbrains.kotlin.util.KotlinFrontEndException on building of IDEA-based multimode project with JSR annotation </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>* In IDEA, create a Kotlin project with two modules: `A` and `B`, `B` depends on `A`. Just an IDEA-based project, without Maven or Gradle
* Add `com.google.code.findbugs:findbugs:3.0.1` library to module A
* Create a Kotlin file in module `A`, add the following JSR-305 annotation there: {code lang=Kotlin}
@Nonnull(`when` = When.ALWAYS)
@TypeQualifierDefault
annotation class AlwaysMethod
{code}
* Create a Java file in module `B`, with just the single line: {code lang=Java}
public class Application {
    public @AlwaysMethod String alwaysMethod;
}
{code}
* Create a Kotlin file in module `B`, call the string from Java: {code lang=Kotlin}
val alwaysMethod: Int = Application().alwaysMethod.length
{code}
* Perform Build &gt; Rebuild Project. An exception occurs, see the stacktrace in comments.

Reproducible if both parameters, `@Nonnull` and `@TypeQualifierDefault`, are present and `@Nonnull` has `when` parameter explicitly specified (with any valid value). 

Not reproducible for JPS build in Maven or Gradle based multi-module projects. 

Not reproducible if a method is annotated with JSR-305 annotation, only creation of a new instance of a class with annotation (`Application()` in the example above) causes the problem. For the following line: `val test = Application()` just a compilation warning will be shown: `Warning:java: unknown enum constant javax.annotation.meta.When.ALWAYS
  reason: class file for javax.annotation.meta.When not found`

IDEA 2017.2.6 172.4574.11 + Kotlin 1.2.0-rc-75
IDEA 2017.3 CE RC 173.3727.22 + Kotlin 1.2.0-rc-39
IDEA 2017.3 Ultimate RC 173.3727.22 + Kotlin 1.2.20-dev-303</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1511174719357</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1512389521953</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Denis Zharkov">denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Java Descriptors and Signatures</value><valueId>Java Descriptors and Signatures</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2535475" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-21346" deleted="false" text="Error:Kotlin: [Internal Error] org.jetbrains.kotlin.util.KotlinFrontEndException: Exception while analyzing expression at (5,28) in /Users/jetbrains/TestProjects/tmp/tmp-002/B/src/three/User.kt:&#xA;Application().alwaysMethod&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.logOrThrowException(ExpressionTypingVisitorDispatcher.java:250)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.lambda$getTypeInfo$0(ExpressionTypingVisitorDispatcher.java:221)&#xA;&#x9;at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:90)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:171)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:142)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:154)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getTypeInfo(ExpressionTypingServices.java:123)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getTypeInfo(ExpressionTypingServices.java:103)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getType(ExpressionTypingServices.java:139)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.safeGetType(ExpressionTypingServices.java:89)&#xA;&#x9;at org.jetbrains.kotlin.resolve.VariableTypeAndInitializerResolver$setConstantForVariableIfNeeded$1.invoke(VariableTypeAndInitializerResolver.kt:118)&#xA;&#x9;at org.jetbrains.kotlin.resolve.VariableTypeAndInitializerResolver$setConstantForVariableIfNeeded$1.invoke(VariableTypeAndInitializerResolver.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:323)&#xA;&#x9;at org.jetbrains.kotlin.descriptors.impl.VariableDescriptorWithInitializerImpl.getCompileTimeInitializer(VariableDescriptorWithInitializerImpl.java:56)&#xA;&#x9;at org.jetbrains.kotlin.resolve.BodyResolver.resolvePropertyInitializer(BodyResolver.java:818)&#xA;&#x9;at org.jetbrains.kotlin.resolve.BodyResolver.resolveProperty(BodyResolver.java:706)&#xA;&#x9;at org.jetbrains.kotlin.resolve.BodyResolver.resolvePropertyDeclarationBodies(BodyResolver.java:743)&#xA;&#x9;at org.jetbrains.kotlin.resolve.BodyResolver.resolveBehaviorDeclarationBodies(BodyResolver.java:116)&#xA;&#x9;at org.jetbrains.kotlin.resolve.BodyResolver.resolveBodies(BodyResolver.java:241)&#xA;&#x9;at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations(LazyTopDownAnalyzer.kt:215)&#xA;&#x9;at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations$default(LazyTopDownAnalyzer.kt:57)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:111)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:376)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:367)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:132)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:380)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:378)&#xA;&#x9;at sun.reflect.GeneratedMethodAccessor78.invoke(Unknown Source)&#xA;&#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;&#x9;at java.lang.reflect.Method.invoke(Method.java:498)&#xA;&#x9;at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:200)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:197)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.Transport.serviceCall(Transport.java:196)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)&#xA;&#x9;at java.lang.Thread.run(Thread.java:748)&#xA;Caused by: java.lang.UnsupportedOperationException&#xA;&#x9;at org.jetbrains.kotlin.resolve.constants.ErrorValue.getValue(constantValues.kt:161)&#xA;&#x9;at org.jetbrains.kotlin.resolve.constants.ErrorValue.getValue(constantValues.kt:157)&#xA;&#x9;at org.jetbrains.kotlin.resolve.descriptorUtil.DescriptorUtilsKt.firstArgumentValue(DescriptorUtils.kt:418)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement.extractNullabilityTypeFromArgument(signatureEnhancement.kt:52)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement.extractNullabilityFromKnownAnnotations(signatureEnhancement.kt:87)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement.extractNullability(signatureEnhancement.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.ContextKt.extractDefaultNullabilityQualifier(context.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.ContextKt.computeNewDefaultTypeQualifiers(context.kt:121)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.ContextKt$copyWithNewDefaultTypeQualifiers$1.invoke(context.kt:210)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.ContextKt$copyWithNewDefaultTypeQualifiers$1.invoke(context.kt)&#xA;&#x9;at kotlin.UnsafeLazyImpl.getValue(Lazy.kt:153)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.LazyJavaResolverContext.getDefaultTypeQualifiers(context.kt)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement$SignatureParts$toIndexed$1.invoke(signatureEnhancement.kt:312)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement$SignatureParts.toIndexed(signatureEnhancement.kt:327)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement$SignatureParts.computeIndexedQualifiersForOverride(signatureEnhancement.kt:277)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement$SignatureParts.enhance(signatureEnhancement.kt:192)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement.enhanceSignature(signatureEnhancement.kt:161)&#xA;&#x9;at org.jetbrains.kotlin.load.java.typeEnhancement.SignatureEnhancement.enhanceSignatures(signatureEnhancement.kt:94)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope$properties$1.invoke(LazyJavaScope.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope$properties$1.invoke(LazyJavaScope.kt:54)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:408)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunctionToNotNull.invoke(LockBasedStorageManager.java:483)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope.getContributedVariables(LazyJavaScope.kt:315)&#xA;&#x9;at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaClassMemberScope.getContributedVariables(LazyJavaClassMemberScope.kt:661)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.MemberScopeTowerLevel$getVariables$1.invoke(TowerLevels.kt:162)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.MemberScopeTowerLevel$getVariables$1.invoke(TowerLevels.kt:86)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.MemberScopeTowerLevel.collectMembers(TowerLevels.kt:98)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.MemberScopeTowerLevel.getVariables(TowerLevels.kt:162)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.ScopeTowerProcessorsKt$createVariableProcessor$1.invoke(ScopeTowerProcessors.kt:216)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.ScopeTowerProcessorsKt$createVariableProcessor$1.invoke(ScopeTowerProcessors.kt)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.ExplicitReceiverScopeTowerProcessor.resolveAsMember(ScopeTowerProcessors.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.ExplicitReceiverScopeTowerProcessor.simpleProcess(ScopeTowerProcessors.kt:73)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.SimpleScopeTowerProcessor$DefaultImpls.process(TowerResolver.kt:80)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.AbstractSimpleScopeTowerProcessor.process(ScopeTowerProcessors.kt:58)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.PrioritizedCompositeScopeTowerProcessor.process(ScopeTowerProcessors.kt:39)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.processTowerData(TowerResolver.kt:281)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.access$processTowerData(TowerResolver.kt:83)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver$Task.process(TowerResolver.kt:167)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver$Task.run(TowerResolver.kt:186)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.run(TowerResolver.kt:103)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.runResolve(TowerResolver.kt:89)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.tower.NewResolutionOldInference.runResolution(NewResolutionOldInference.kt:174)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCall(CallResolver.java:680)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCallOrGetCachedResults(CallResolver.java:590)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.lambda$computeTasksAndResolveCall$0(CallResolver.java:213)&#xA;&#x9;at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:90)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:211)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:201)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.resolveSimpleProperty(CallResolver.java:144)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getVariableType(CallExpressionResolver.kt:107)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getSimpleNameExpressionTypeInfo(CallExpressionResolver.kt:139)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getUnsafeSelectorTypeInfo(CallExpressionResolver.kt:308)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getSafeOrUnsafeSelectorTypeInfo(CallExpressionResolver.kt:336)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getQualifiedExpressionTypeInfo(CallExpressionResolver.kt:425)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.BasicExpressionTypingVisitor.visitQualifiedExpression(BasicExpressionTypingVisitor.java:709)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.visitQualifiedExpression(ExpressionTypingVisitorDispatcher.java:380)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$ForDeclarations.visitQualifiedExpression(ExpressionTypingVisitorDispatcher.java:54)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtVisitor.visitDotQualifiedExpression(KtVisitor.java:302)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtDotQualifiedExpression.accept(KtDotQualifiedExpression.kt:31)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.lambda$getTypeInfo$0(ExpressionTypingVisitorDispatcher.java:182)&#xA;&#x9;... 55 more" shownForIssueAuthor="false" created="1511174796360" markdown="false"><replies/></comment></issue><issue id="KT-21394" entityId="25-1776654"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21394</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>`Unable to save settings` error in IDEA 163 while using JS libraries </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>* Create new Gradle project with Kotlin JS support 
* Create new "Hello world"-like Kotlin file in default source directory
* Build &gt; Rebuild Project. An error `Unable to save settings: Failed to save settings. Please restart IntelliJ IDEA` occurs, build failed. See IDEA logs attached.

Failed to reproduce with a simple Kotlin JS project (without gradle)

Reproduced on IDEA 2016.3.7 163.15529.5 with 
- Kotlin plugin 1.1.61-release-66 
- Kotlin plugin 1.2.0-rc-83


Failed to reproduce on:
IDEA 2017.1.5 171.4694.70 + Kotlin plugin 1.1.61-release-66, Kotlin plugin 1.2.0-rc-83
IDEA 2017.2.6 172.4574.11 + Kotlin plugin 1.1.61-release-66, Kotlin plugin 1.2.0-rc-83</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1511340890952</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975456</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2-RC2</value><value>1.1.61</value><valueId>1.2-RC2</valueId><valueId>1.1.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-468773" url="https://youtrack.jetbrains.com/_persistent/idea.log?file=74-468773&amp;c=true">idea.log</value></field><comment id="27-2544234" author="Viktoria.Shirunova" authorFullName="Viktoria Shirunova" issueId="KT-21394" deleted="false" text="The same happens in Maven-based projects too after configuring to Kotlin/JS" shownForIssueAuthor="false" created="1511443426675" markdown="false"><replies/></comment></issue><issue id="KT-21423" entityId="25-1779286"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21423</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Missed type="kotlin.js" for a jar attached directly added to module dependencies</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1511463186130</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975455</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-469446" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-11-23%20at%2021.52.13.png?file=74-469446&amp;c=true">Screen Shot 2017-11-23 at 21.52.13.png</value></field></issue><issue id="KT-21522" entityId="25-1780752"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21522</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Extension start KotlinCLion plugin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Exception start Clion with Kotlin plugin on Linux system

java.lang.Throwable: Extension class org.jetbrains.uast.java.JavaUastLanguagePlugin does not implement interface org.jetbrains.uast.UastLanguagePlugin. It came from ExtensionComponentAdapter[org.jetbrains.uast.java.JavaUastLanguagePlugin]: plugin=PluginDescriptor[name='Kotlin', classpath='/root/.CLion2017.3/config/plugins/KotlinCLion']
        at com.intellij.openapi.extensions.Extensions$SimpleLogProvider.error(Extensions.java:218)
        at com.intellij.openapi.extensions.impl.ExtensionsAreaImpl.error(ExtensionsAreaImpl.java:420)
        at com.intellij.openapi.extensions.impl.ExtensionPointImpl.processAdapters(ExtensionPointImpl.java:261)
        at com.intellij.openapi.extensions.impl.ExtensionPointImpl.getExtensions(ExtensionPointImpl.java:191)
        at org.jetbrains.uast.UastLanguagePlugin$Companion.getInstances(UastLanguagePlugin.kt:31)
        at com.intellij.uast.UastMetaLanguage.&lt;init&gt;(UastMetaLanguage.java:34)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
        at org.picocontainer.defaults.InstantiatingComponentAdapter.newInstance(InstantiatingComponentAdapter.java:193)
        at com.intellij.util.pico.CachingConstructorInjectionComponentAdapter.doGetComponentInstance(CachingConstructorInjectionComponentAdapter.java:103)
        at com.intellij.util.pico.CachingConstructorInjectionComponentAdapter.instantiateGuarded(CachingConstructorInjectionComponentAdapter.java:80)
        at com.intellij.util.pico.CachingConstructorInjectionComponentAdapter.getComponentInstance(CachingConstructorInjectionComponentAdapter.java:63)
        at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getComponentInstance(ExtensionComponentAdapter.java:77)
        at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getExtension(ExtensionComponentAdapter.java:119)
        at com.intellij.openapi.extensions.impl.ExtensionPointImpl.processAdapters(ExtensionPointImpl.java:246)
        at com.intellij.openapi.extensions.impl.ExtensionPointImpl.getExtensions(ExtensionPointImpl.java:191)
        at com.intellij.openapi.extensions.Extensions.getExtensions(Extensions.java:102)
        at com.intellij.openapi.extensions.Extensions.getExtensions(Extensions.java:89)
        at com.intellij.lang.MetaLanguage.all(MetaLanguage.java:42)
        at com.intellij.lang.MetaLanguage.getAllMatchingMetaLanguages(MetaLanguage.java:48)
        at com.intellij.lang.LanguageExtension.findForLanguage(LanguageExtension.java:73)
        at com.intellij.lang.LanguageExtension.forLanguage(LanguageExtension.java:56)
        at com.intellij.psi.impl.cache.impl.id.IdTableBuilding.getFileTypeIndexer(IdTableBuilding.java:82)
        at com.intellij.psi.impl.cache.impl.id.IdIndexImpl.getVersion(IdIndexImpl.java:50)
        at com.intellij.util.indexing.FileBasedIndexImpl.a(FileBasedIndexImpl.java:366)
        at com.intellij.util.indexing.FileBasedIndexImpl.access$4900(FileBasedIndexImpl.java:120)
        at com.intellij.util.indexing.FileBasedIndexImpl$FileIndexDataInitialization.b(FileBasedIndexImpl.java:2341)
        at com.intellij.util.indexing.IndexInfrastructure$DataInitialization.a(IndexInfrastructure.java:211)
        at com.intellij.util.indexing.IndexInfrastructure$DataInitialization.a(IndexInfrastructure.java:202)
        at com.intellij.util.indexing.IndexInfrastructure$DataInitialization.call(IndexInfrastructure.java:165)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at com.intellij.util.concurrency.BoundedTaskExecutor$2.run(BoundedTaskExecutor.java:212)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1511600158610</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520845319235</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>levcom</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anton Levkovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21491" entityId="25-1784488"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21491</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Value of system property user.dir should not depend on presence of brackets in name of Kotlin test function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>After chasing an issue with a test not being able to load a file, it seems the value of the `user.dir` system property is different depending on whether the test name contains brackets or not.

I ran this individual test from IntelliJ IDEA Ultimate 2017.2.6 in a project with Kotlin 1.1.61 on JDK 8u151:

    @Test
    fun `Name without brackets`() {
        println(System.getProperty("user.dir"))
    }

And I got this value: `/Users/username/project/integration-tests`. When checking the the run/debug configuration for the test, I see that the Working directory is set to `$MODULE_DIR$`.

Then I run this individual test:

    @Test
    fun `Name (with) brackets`() {
        println(System.getProperty("user.dir"))
    }

And I got this value: `/Users/username/project/.idea/modules/integration-tests`, which has `/.idea/modules` inserted into the path compared to the first test, even though the test executes the same code.

When checking the the run/debug configuration for the test, I see that the Working directory is now set to `$MODULE_DIR$`. Also, the name of the run/debug configuration is truncated to `ClassName.Name`, so the "(with) brackets" part of the test function name is not part of the name of the run/debug configuration.

In my opinion the name of a test function should not impact the result of the test.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1511878041455</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954319</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>breun</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nils Breunese</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2563189" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-21491" deleted="false" text="&gt; Also, the name of the run/debug configuration is truncated to ClassName.Name&#xA;Reproduced this. Yes, it's really a glitch.&#xA;&#xA;However, I've failed to reproduce the main issue.&#xA;&#xA;Actually any test run configuration in IDEA gets working directory = `$MODULE_DIR$` by default.&#xA;And `$MODULE_DIR$` is a directory where `.iml` file of the given module is placed.&#xA;&#xA;Can it be that when you run the first method, the `.iml` file was under `/Users/username/project/integration-tests`, and when you run the second method, the `.iml` file was under `/Users/username/project/.idea/modules/integration-tests`?&#xA;&#xA;To my knowledge, IDEA Gradle import in some IDEA versions places `.iml` file under `./idea/modules/`. So if you did Gradle import (refresh) between the test runs, the module file may be moved by the import." shownForIssueAuthor="false" created="1511976703850" markdown="false"><replies/></comment><comment id="27-2563210" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-21491" deleted="false" text="Created separate KT-21518 about Run Configuration issue." shownForIssueAuthor="false" created="1511977228416" updated="1511976703828" markdown="false"><replies/></comment><comment id="27-2563288" author="breun" authorFullName="Nils Breunese" issueId="KT-21491" deleted="false" text="I did not change anything between running these two individual tests. They are in the same class in the same module in the same Gradle project and I did not perform a Gradle import (refresh) or anything like that between running these two tests." shownForIssueAuthor="false" created="1511978356055" markdown="true"><replies/></comment><comment id="27-2568478" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-21491" deleted="false" text="Ok, got it. However, this way I can't reproduce the problem.&#xA;Can you attach a test project to the issue?&#xA;&#xA;(In any case, $MODULE_DIR$ is certainly a directory with .iml file, so, checking where .iml is located may give some key.)&#xA;&#xA;Update: found that IDEA silently replaces MODULE_DIR: IDEA-182950.&#xA;Anyway, both functions work the same for me, so a sample project is welcome." shownForIssueAuthor="false" created="1512056231397" updated="1512062150043" markdown="false"><replies/></comment></issue><issue id="KT-21651" entityId="25-1797555"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21651</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Compiler stacktrace</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Probably just me making a programming error, but for info I got this compiler stacktrace for a Retrofit Call Adapter with too much generics 

https://gist.github.com/jmfayard/12f6d846cc800e36296b05909acc0ff3#file-retrofit-calladapter-kt

```
e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Failed to generate function get
Cause: java.lang.NullPointerException
File being compiled and position: (20,5) in /Users/jmfayard/Dev/mautinoa/mautinoa-app/apiclient/src/main/java/com/mautinoa/DeserializeErrorsCallAdapterFactory.kt
PsiElement: override fun get(returnType: Type, annotations: Array&lt;Annotation&gt;, retrofit: Retrofit): CallAdapter&lt;*, *&gt;? {
        return RxCallAdapterWrapper(retrofit, original.get(returnType, annotations, retrofit))
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1512565986085</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1512645154790</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jmfayard</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jean-Michel Fayard</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21662" entityId="25-1798691"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21662</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inlining of methods of (companion) objects leaves unnecessary field reads</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider code:

```
fun test() {
    Foo.print()
    Bar.print()
}

class Foo {
    companion object {
        inline fun print() {
            println("Foo:print()")
        }
    }
}

object Bar {
    inline fun print() {
        println("Bar:print()")
    }
}
```

Code generated for main():
```
  public final static test()V
    LINENUMBER 9 L0
    GETSTATIC Foo.Companion : LFoo$Companion;
    ASTORE 0
    LDC "Foo:print()"
    ASTORE 1
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    ALOAD 1
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/Object;)V
    GETSTATIC Bar.INSTANCE : LBar;
    ASTORE 0
    LDC "Bar:print()"
    ASTORE 1
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    ALOAD 1
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/Object;)V
    RETURN
```

Apparently field loads are non needed after the method calls are inlined.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1512602383499</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004635</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>vnukov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Denis Vnukov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c21">android-performance-problem</tag></issue><issue id="KT-21744" entityId="25-1804106"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21744</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: CMake warning on every first build of a project from templates </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Using New Project Wizard, create a simple Kotlin/Native project from a template, for example, HelloWorld. 
While all the imports and first project build done, the CMake warning in a console is shown:
``CMake Warning:
  Manually-specified variables were not used by the project:

    CMAKE_Kotlin_CINTEROP``

The warning wouldn't be shown on the next build even after invalidating cash and restart.

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259
CLion 2017.3.2 EAP (173.4117)
OS X 10.13.1 (17B1003)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1512992194214</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1517829080266</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><value>IDE. Native</value><valueId>Native</valueId><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21754" entityId="25-1804773"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21754</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>java.lang.NoClassDefFoundError: Failed resolution of when I use let</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have code like this 
 override fun addFriend(friend: Profile) {

      .....

        friend.username?.let { name -&gt;

         .......
        }
    }

And this error:
 java.lang.NoClassDefFoundError: Failed resolution of: Lcom/..../flow/contacts/search/SearchFriendPresenter$addFriend$1$1;

With also
friend.username?.also { name -&gt;

everything is ok</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513000580152</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004635</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>KucherenkoIhor</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ihor Kucherenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2603508" author="KucherenkoIhor" authorFullName="Ihor Kucherenko" issueId="KT-21754" deleted="false" text="It relates to Android" shownForIssueAuthor="false" created="1513000790573" markdown="true"><replies/></comment><comment id="27-2603572" author="KucherenkoIhor" authorFullName="Ihor Kucherenko" issueId="KT-21754" deleted="false" text="If add Unit at the end of let everything is ok&#xA;&#xA;friend.username?.let { name -&gt;&#xA;&#xA;            api.inviteFriend(name)&#xA;                    .subscribeOn(Schedulers.io())&#xA;                    .observeOn(AndroidSchedulers.mainThread())&#xA;                    .subscribeWith(object : DisposableObserver&lt;Response&lt;ResponseBody&gt;&gt;() {&#xA;                        override fun onNext(@NonNull response: Response&lt;ResponseBody&gt;) {&#xA;&#xA;                            if (response.isSuccessful) {&#xA;                                view?.friendAdded(name)&#xA;                                view?.hideProgress()&#xA;                            } else {&#xA;                                view?.hideProgress()&#xA;                                view?.displayError()&#xA;                            }&#xA;&#xA;                        }&#xA;&#xA;                        override fun onError(@NonNull e: Throwable) {&#xA;                            view?.hideProgress()&#xA;                            view?.displayError()&#xA;                            e.printStackTrace()&#xA;                        }&#xA;&#xA;                        override fun onComplete() {&#xA;&#xA;                        }&#xA;                    })&#xA;&#xA;            Unit&#xA;        }" shownForIssueAuthor="false" created="1513001686287" updated="1513000790551" markdown="true"><replies/></comment><comment id="27-2603614" author="KucherenkoIhor" authorFullName="Ihor Kucherenko" issueId="KT-21754" deleted="false" text="I believe that the reason of the issue is the fact that let is marked with inline.&#xA;&#xA;I wrote two options of let2 function&#xA;&#xA;With inline:&#xA;&#xA;&#xA;inline fun &lt;T, R&gt; T.let2(block: (T) -&gt; R): R {&#xA;        return block(this)&#xA;    }&#xA;&#xA;And without inline:&#xA;&#xA;fun &lt;T, R&gt; T.let2(block: (T) -&gt; R): R {&#xA;    return block(this)&#xA;}&#xA;&#xA;&#xA;Without inline it works fine&#xA;&#xA;With inline I have the exception as follow:&#xA;&#xA;java.lang.ClassCastException: com......flow.contacts.search.SearchFriendPresenter$addFriend$$inlined$let2$lambda$1 cannot be cast to com...........flow.contacts.search.SearchFriendPresenter$addFriend$1$1&#xA;                                                                            &#xA;" shownForIssueAuthor="false" created="1513002219401" updated="1513001686267" markdown="true"><replies/></comment><comment id="27-2603684" author="KucherenkoIhor" authorFullName="Ihor Kucherenko" issueId="KT-21754" deleted="false" text=" CHECKCAST com/....../flow/contacts/search/SearchFriendPresenter$addFriend$$inlined$let2$lambda$1&#xA;   L22&#xA;    LINENUMBER 112 L22&#xA;   L23&#xA;    NOP&#xA;   L24&#xA;    CHECKCAST com/........../flow/contacts/search/SearchFriendPresenter$addFriend$1$1 /// THIS CAST IS THE REASON&#xA;    POP&#xA;    GOTO L25&#xA;   L10" shownForIssueAuthor="false" created="1513002853728" updated="1513002219372" markdown="true"><replies/></comment></issue><issue id="KT-21768" entityId="25-1805901"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21768</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: unable to navigate to an external library from an import statement</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider the following code:
{code lang=Kotlin}
import platform.posix.fopen

fun main(args: Array&lt;String&gt;) {
    val test = fopen("test", "r")
}
{code}
— it is possible to navigate (cmd+B on Mac) to the concrete method (i.e. `fopen`), but impossible to do so for a package (for example, `posix`). Not sure if it CLion or Kotlin/Native problem, because imports in C and C++ work differently.

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259
CLion 2017.3.2 EAP (173.4117)
OS X 10.13.1 (17B1003)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513068326881</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932008226</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21781" entityId="25-1806987"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21781</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>KotlinNullPointerException at MethodInliner$doInline$lambdaInliner$1.visitMethodInsn when compiling specified code with object expression in let block</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>This compiles
```
            val resource = object : StreamResource({ getHtmlContent(currentNode!!).byteInputStream() }, "topic.html") {
                    }
                    Page.getCurrent().open(resource, "_blank", false)
```        
But in a let statement, I get a compile NPE

```
                currentNode?.let { node -&gt;
                    val resource = object : StreamResource({ getHtmlContent(node).byteInputStream() }, "topic.html") {
                    }
                    Page.getCurrent().open(resource, "_blank", false)
                }
```

If I do not use an object expression (e.g. StreamResource() ) , there are no problems.


Here's the stacktrace:

```
e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'let' into
public open fun onOptionsItemSelected(item: android.view.MenuItem): kotlin.Boolean defined in tv.twelvetone.vaandroid.plugin.intellidoc.Intellidoc
override fun onOptionsItemSelected(item: MenuItem): Boolean {
        return when (item.itemId) {
            R.id.edit_caption -&gt; {
                currentNode?.let {
                    Pickers.showNamePicker("Rename Topic", it.name, NamePickerCallback { ok, value -&gt;
                        if (ok) {
                            feedback("not implemented")
                        }
                    })
                }
                true
            }
            R.id.edit_content -&gt; {
                currentNode?.let {
                    val intent1 = Intent("vaandroid.intent.action.EDIT_HTML")
                    val userData = it.userData as IElement
                    val content = getHtmlContent(it)
                    intent1.putExtra("content", content)
                    intent1.putExtra("title", "Edit Topic")
                    startActivityForResult(intent1, 1)
                }
                true
            }
            R.id.download_document,
            R.id.download_topic -&gt; {
                currentNode?.let { node -&gt;
                    val resource = object : StreamResource({ getHtmlContent(node).byteInputStream() }, "topic.html") {
                    }
                    Page.getCurrent().open(resource, "_blank", false)
                }
                true
            }
            R.id.collapse -&gt; {
                JavaScript.getCurrent().execute("nav_collapse_all('${docNode.id}');")
                true
            }
            else -&gt; super.onOptionsItemSelected(item)
        }
    }
Cause: let (Ljava/lang/Object;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;:
  @Lkotlin/internal/InlineOnly;() // invisible
   L0
    LINENUMBER 92 L0
    NOP
   L1
    LINENUMBER 95 L1
    ALOAD 1
    ALOAD 0
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    ARETURN
   L2
    LOCALVARIABLE $receiver Ljava/lang/Object; L0 L2 0
    LOCALVARIABLE block Lkotlin/jvm/functions/Function1; L0 L2 1
    LOCALVARIABLE $i$f$let I L0 L2 2
    MAXSTACK = 2
    MAXLOCALS = 3

Cause: kotlin.KotlinNullPointerException
File being compiled and position: (576,30) in /Users/steven/dev/projects/vaandroid/tv.twelvetone.vaandroid.gradle/plugin-projects/tv.twelvetone.vaandroid.plugin.intellidoc/src/main/java/tv/twelvetone/vaandroid/plugin/intellidoc/Intellidoc.kt
PsiElement: let { node -&gt;
                    val resource = object : StreamResource({ getHtmlContent(node).byteInputStream() }, "topic.html") {
                    }
                    Page.getCurrent().open(resource, "_blank", false)
                }
The root cause was thrown at: MethodInliner.kt:254
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:132)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:180)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:648)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:634)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2301)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2252)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.CoercionValue.putSelector(StackValue.kt:38)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.StackValue$StackValueWithSimpleReceiver.putReceiver(StackValue.java:1626)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:103)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1197)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1143)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitBlockExpression(ExpressionCodegen.java:917)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitBlockExpression(ExpressionCodegen.java:120)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:307)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:289)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:338)
	at org.jetbrains.kotlin.codegen.when.SwitchCodegen.generateEntries(SwitchCodegen.java:228)
	at org.jetbrains.kotlin.codegen.when.SwitchCodegen.generate(SwitchCodegen.java:86)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateWhenExpression$30(ExpressionCodegen.java:4259)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$visitReturnExpression$11(ExpressionCodegen.java:1513)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1588)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:56)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:76)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:570)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:333)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:177)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:148)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:168)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:84)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:316)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:156)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:100)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:78)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:45)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:450)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:152)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:353)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:86)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:213)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:83)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:515)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:399)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:398)
	at sun.reflect.GeneratedMethodAccessor103.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: kotlin.KotlinNullPointerException
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:254)
	at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.access$doInline(MethodInliner.kt:41)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:236)
	at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:281)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:171)
	... 95 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513094237223</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1527695481855</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>spungin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Steven Spungin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-24572</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2608236" author="spungin" authorFullName="Steven Spungin" issueId="KT-21781" deleted="false" text="Here's the workaround:&#xA;&#xA;```&#xA;val node = currentNode&#xA;if (node != null) { &#xA;    val resource = object : StreamResource({ getHtmlContent(node).byteInputStream() }, &quot;topic.html&quot;) {&#xA;    }&#xA;}&#xA;```" shownForIssueAuthor="false" created="1513094492433" markdown="false"><replies/></comment><comment id="27-2895094" author="udalov" authorFullName="Alexander Udalov" issueId="KT-21781" deleted="false" text="Repro from KT-24572:&#xA;```&#xA;open class UITapGestureRecognizer(fn: () -&gt; Unit) {}&#xA;abstract class CView {&#xA;    var cView: CView? = null&#xA;        set(value) {&#xA;            value?.let { v -&gt;&#xA;                object : UITapGestureRecognizer({ this }) {}&#xA;            }&#xA;        }&#xA;}&#xA;```" shownForIssueAuthor="false" created="1527695451020" markdown="false"><replies/></comment></issue><issue id="KT-21783" entityId="25-1807165"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21783</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: Debugger stops working after debug of HelloWorld program</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a new HelloWorld project in CLion and put a breakpoint:
{code lang=Kotlin}
fun main(args: Array&lt;String&gt;) {
    println("Hello, Native World!") //breakpoint
}
{code}
— run Debug of the program. The debugger wouldn't stop at the breakpoint. Sometimes it stops only on the second run of Debug, but not always. If it didn't stop, an addition of more code lines and breakpoints may help, so the debugger will stop at the breakpoints, but, again, it doesn't help always. Sometimes the debugger just doesn't stop on the breakpoints anymore, even if the whole code is rewritten and some additional functions are written outside of the `main` and called inside. So no of the following examples with random breakpoints wouldn't cause the debugger to stop somewhere on the program run.

{code lang=Kotlin}
fun main(args: Array&lt;String&gt;) {
    println("Hello, Native World!")
    println("Hello, Native World!")
    println("Hello, Native World!") // breakpoint
    println("Hello, Native World!")
    println("Hello, Native World!")
    println("Hello, Native World!")
}
{code}

{code lang=Kotlin}
fun main(args: Array&lt;String&gt;) {
    val test = returnList(42) // breakpoint
    test.forEach { println(it) } 
}

fun returnList(i: Int): List&lt;String&gt; { // breakpoint
    val res = mutableListOf&lt;String&gt;()
    val bound = if (i &gt; 1) i else 2
    return (0..bound).mapTo(res) { "element $it" }
}
{code}

Checked the same case for C program in CLion, works well there.

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259
CLion 2017.3.2 EAP (173.4117)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513099952468</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1517835957023</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Vasily.Levchenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Vasily Levchenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><value>IDE. Native</value><valueId>Native</valueId><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2696404" author="Vasily.Levchenko" authorFullName="Vasily Levchenko" issueId="KT-21783" deleted="false" text="Tried this with pure lldb and wasn't able to reproduce the issue, perhaps it's also plugin specific." shownForIssueAuthor="false" created="1517829794024" markdown="true"><replies/></comment></issue><issue id="KT-21787" entityId="25-1807514"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21787</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Back-end (JVM) Internal error on inlining a function with implicit 'this'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following code yields a compile error. 

I notice that it comes from the `createContainers1()` and `createContainers2()` calls.  If I were to put `this::createContainer` it compiles successfully. 

```kotlin
import org.junit.jupiter.api.Test
import kotlin.test.assertEquals


class Container {

    var id: Int? = null
}


class TestClass {

    @Test
    fun doThings1() {
        val containers = createContainers1()
        assertEquals(containers.size, 101)
    }

    @Test
    fun doThings2() {
        val containers = createContainers2()
        assertEquals(containers.size, 101)
    }

    private fun createContainer(id: Int): Container { val q = Container(); q.id = id; return q }
    private fun createContainers1(from: Int = 0, to: Int = 100) = (from .. to).map(::createContainer)
    private fun createContainers2(from: Int = 0, to: Int = 100): List&lt;Container&gt; { return (from .. to).map(::createContainer) }
}
```


POM.xml
```xml
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;groupId&lt;/groupId&gt;
    &lt;artifactId&gt;Test&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;properties&gt;
        &lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
        &lt;kotlin.version&gt;1.2.0&lt;/kotlin.version&gt;
        &lt;junit.platform.version&gt;1.0.2&lt;/junit.platform.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;
            &lt;version&gt;${kotlin.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
            &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;
            &lt;version&gt;5.0.2&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;


    &lt;build&gt;
        &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;
        &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${kotlin.version}&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;compile&lt;/id&gt;
                        &lt;phase&gt;compile&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;compile&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                    &lt;execution&gt;
                        &lt;id&gt;test-compile&lt;/id&gt;
                        &lt;phase&gt;test-compile&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;test-compile&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
                &lt;configuration&gt;
                    &lt;compilerPlugins&gt;
                        &lt;plugin&gt;all-open&lt;/plugin&gt;
                        &lt;plugin&gt;spring&lt;/plugin&gt;
                    &lt;/compilerPlugins&gt;
                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;
                    &lt;pluginOptions&gt;
                        &lt;option&gt;all-open:annotation=javax.persistence.Entity&lt;/option&gt;
                    &lt;/pluginOptions&gt;
                &lt;/configuration&gt;
                &lt;dependencies&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;
                        &lt;version&gt;${kotlin.version}&lt;/version&gt;
                    &lt;/dependency&gt;
                &lt;/dependencies&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513116599877</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004637</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jpopadak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>jpopadak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2</value><valueId>1.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2621844" author="Dmitry.Petrov.1" authorFullName="Dmitry Petrov" issueId="KT-21787" deleted="false" text="Most likely fixed in 1.2.20." shownForIssueAuthor="false" created="1513337027958" markdown="false"><replies/></comment></issue><issue id="KT-21792" entityId="25-1808155"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21792</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: suggest to put separate breakpoints for a lambda expression and the whole function on the same line</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Currently, when putting a breakpoint on the following line:
{code lang = Kotlin}
test.forEach { println(it) }
{code}
— in Kotlin/Native plugin there will be just one possible breakpoint, for the whole line. In Kotlin/JVM, there will be three possibilities: function, lambda or all. </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513160269253</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522395182032</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Pavel.Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Pavel Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Feature</value><valueId>Feature</valueId><color><bg>#7dbd36</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><value>IDE. Native</value><valueId>Native</valueId><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2696234" author="Vasily.Levchenko" authorFullName="Vasily Levchenko" issueId="KT-21792" deleted="false" text="Perhaps it'd be better to assign Vyacheslav Karpukhin (unfortunately YT doesn't let me reassign issue to Vyacheslav, for some reasons), because it's more plugin bug, there're some improvements in debug info generation (e.g KT-21027), that could help with resolving this issue. If there're still issues in debug info, Vyacheslav can address them to me." shownForIssueAuthor="false" created="1517824739792" markdown="true"><replies/></comment></issue><issue id="KT-21797" entityId="25-1809067"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21797</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: debugger works incorrectly with lambdas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code lang=Kotlin}
fun main(args: Array&lt;String&gt;) {
    println("Start")
    777.fortyTwo { 42 } // breakpoint
    println("Finish")
}

fun Int.fortyTwo(f: () -&gt; Int): Int {
    println("Lambda is called with $this")
    return f()
}
{code}
— put a breakpoint where it pointed in the code, debug the program. When the debugger reached the breakpoint, perform Step Into or Step Over — it will bring the debugger highlight to the first line of the code (``fun main(args: Array&lt;String&gt;) {``); Step Out or Force Step will leave the highlight at the same line.

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259
CLion 2017.3.2 EAP (173.4117)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513173318436</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1517828944927</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><value>IDE. Native</value><valueId>Native</valueId><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2696232" author="Vasily.Levchenko" authorFullName="Vasily Levchenko" issueId="KT-21797" deleted="false" text="Perhaps it'd be better to assign Vyacheslav Karpukhin (unfortunately YT doesn't let me reassign issue to Vyacheslav, for some reasons), because it's more plugin bug, there're some improvements in debug info generation (e.g KT-21027), that could help with resolving this issue. If there're still issues in debug info, Vyacheslav can address them to me." shownForIssueAuthor="false" created="1517824721462" markdown="true"><replies/></comment></issue><issue id="KT-21798" entityId="25-1809146"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21798</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: debugger doesn't stop on the line containing stdlib lambda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code lang=Kotlin}
fun main(args: Array&lt;String&gt;) {
    val ints = listOf(0, 1, 2, 3)
    println("Start")
    ints.filter { it &gt; 0 } // breakpoint
    println("Finish")
}
{code}
— put a breakpoint where it pointed and debug the program. The debugger will stop only on the next line after the breakpoint, as it will be shown with the debugger highlighting (line highlighted with the debugger in a code). It wouldn't perform stepping properly, because of KT-21797, but seems like at the stop point it doesn't work properly either: the local variables, such as `ints` in the example, wouldn't be initialized in the Variables window of the debugger. The same happens for such library functions as `map`, `mapTo`, `forEach`.

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259
CLion 2017.3.2 EAP (173.4117)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513175037292</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1517835826888</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Vasily.Levchenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Vasily Levchenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><value>IDE. Native</value><valueId>Native</valueId><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2696653" author="Vasily.Levchenko" authorFullName="Vasily Levchenko" issueId="KT-21798" deleted="false" text="kotlin compiler on master provides debug info about inlines, that should help in resolving this issue.  " shownForIssueAuthor="false" created="1517835826891" markdown="true"><replies/></comment></issue><issue id="KT-21813" entityId="25-1810706"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21813</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Do not try to render erroneous descriptors when inline fails with exception</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Here, we're trying to render information about the function that we've tried to inline but failed:
https://github.com/JetBrains/kotlin/blob/40184f053efa656e5091f6aeb8c29e790a2580bd/compiler/backend/src/org/jetbrains/kotlin/codegen/inline/InlineCodegen.kt#L135

In case we failed to inline it because its descriptor is inconsistent, rendering it is risky because it may throw another exception because of the same inconsistency, hiding the first (more valuable) exception. This can lead to problems like this, where it's not clear from the stack trace which function is the problem:
https://youtrack.jetbrains.com/issue/RIDER-12100#comment=27-2617220

I propose to avoid rendering semantic information of a function descriptor here and render only structural information instead (the name of the function and the name of its container).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513251492774</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004639</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21838" entityId="25-1812887"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21838</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: ISE: Failed to create expression from text: '&lt;ERROR FUNCTION&gt;' for an extension function for non-existent class</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Write down the following code into an empty Kotlin file. For some reason simple copy-paste doesn't lead to the exception: 
{code lang=Kotlin}
class Baz {
    fun foo() {
        Bar.voo(d&lt;caret&gt; )
    }
}{code}
— while everything is consequently written and the the caret at the pointed place, an exception occurs.  

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)

Failed to reproduce with 
IDEA 2017.2.6 172.4574.11 + Kotlin Plugin 1.2.10-release
IDEA 2017.3.2 EAP 173.4127.2 + Kotlin Plugin 1.2.20-dev-799</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513333790669</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932063211</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2621647" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-21838" deleted="false" text="Failed to create expression from text: '&lt;ERROR FUNCTION&gt;'&#xA;java.lang.IllegalStateException: Failed to create expression from text: '&lt;ERROR FUNCTION&gt;'&#xA;&#x9;at org.jetbrains.kotlin.psi.KtPsiFactory.createExpression(KtPsiFactory.kt:78)&#xA;&#x9;at org.jetbrains.kotlin.psi.CreateByPatternKt$createExpressionByPattern$1.invoke(createByPattern.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.psi.CreateByPatternKt$createExpressionByPattern$1.invoke(createByPattern.kt)&#xA;&#x9;at org.jetbrains.kotlin.psi.CreateByPatternKt.createByPattern(createByPattern.kt:115)&#xA;&#x9;at org.jetbrains.kotlin.psi.CreateByPatternKt.createExpressionByPattern(createByPattern.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.ShadowedDeclarationsFilter$filterEqualSignatureGroup$newCall$1.&lt;init&gt;(ShadowedDeclarationsFilter.kt:172)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.ShadowedDeclarationsFilter.filterEqualSignatureGroup(ShadowedDeclarationsFilter.kt:169)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.ShadowedDeclarationsFilter.filterEqualSignatureGroup$default(ShadowedDeclarationsFilter.kt:118)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.ShadowedDeclarationsFilter.filter(ShadowedDeclarationsFilter.kt:79)&#xA;&#x9;at org.jetbrains.kotlin.idea.parameterInfo.KotlinParameterInfoWithCallHandlerBase.findElementForParameterInfo(KotlinFunctionParameterInfoHandler.kt:133)&#xA;&#x9;at org.jetbrains.kotlin.idea.parameterInfo.KotlinParameterInfoWithCallHandlerBase.findElementForParameterInfo(KotlinFunctionParameterInfoHandler.kt:75)&#xA;&#x9;at com.intellij.codeInsight.hint.ShowParameterInfoHandler.invoke(ShowParameterInfoHandler.java:130)&#xA;&#x9;at com.intellij.codeInsight.AutoPopupController.a(AutoPopupController.java:201)&#xA;&#x9;at com.intellij.psi.impl.PsiDocumentManagerBase.lambda$null$5(PsiDocumentManagerBase.java:580)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl$2.run(TransactionGuardImpl.java:315)&#xA;&#x9;at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.a(LaterInvocator.java:424)&#xA;&#x9;at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:407)&#xA;&#x9;at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.j(IdeEventQueue.java:822)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:650)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)" shownForIssueAuthor="false" created="1513333818746" markdown="false"><replies/></comment></issue><issue id="KT-21839" entityId="25-1813663"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21839</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: NPE on Extract Function/Function to scope/Type Alias actions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Select any line, like ``println("Hello, World!")``, for example.
Go to Refactor &gt; Extract &gt; Function. An exception occurs.
Same happens for Function to scope and Type Alias variants. 

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513340947015</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932043725</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2622636" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-21839" deleted="false" text="null&#xA;java.lang.NullPointerException&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractFunction.ui.KotlinExtractFunctionDialog.init(KotlinExtractFunctionDialog.java:141)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractFunction.ui.KotlinExtractFunctionDialog.&lt;init&gt;(KotlinExtractFunctionDialog.java:82)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractFunction.ExtractKotlinFunctionHandler$InteractiveExtractionHelper.configureAndRun(ExtractKotlinFunctionHandler.kt:46)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractionEngine.ExtractionEngine$run$3$1.invoke(ExtractionEngine.kt:68)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractionEngine.ExtractionEngine$run$3$1.invoke(ExtractionEngine.kt:50)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.KotlinRefactoringUtilKt.checkConflictsInteractively(kotlinRefactoringUtil.kt:245)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.KotlinRefactoringUtilKt.checkConflictsInteractively$default(kotlinRefactoringUtil.kt:230)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractionEngine.ExtractionEngine$run$3.invoke(ExtractionEngine.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractionEngine.ExtractionEngine.run(ExtractionEngine.kt:108)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractFunction.ExtractKotlinFunctionHandler.doInvoke(ExtractKotlinFunctionHandler.kt:60)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractFunction.ExtractKotlinFunctionHandler$invoke$1.invoke(ExtractKotlinFunctionHandler.kt:79)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractFunction.ExtractKotlinFunctionHandler$invoke$1.invoke(ExtractKotlinFunctionHandler.kt:35)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetSibling$1.invoke(introduceUtil.kt:69)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetSibling$2.invoke(introduceUtil.kt:72)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetSibling$2.invoke(introduceUtil.kt)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetParent$2$2.invoke(introduceUtil.kt:105)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetParent$2$2.invoke(introduceUtil.kt)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.KotlinRefactoringUtilKt.chooseContainerElementIfNecessary(kotlinRefactoringUtil.kt:452)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetParent$2.invoke(introduceUtil.kt:99)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetParent$3.invoke(introduceUtil.kt:122)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetParent$4$1.invoke(introduceUtil.kt:141)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetParent$4$1.invoke(introduceUtil.kt)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.ElementSelectionUtilsKt.selectElement(elementSelectionUtils.kt:78)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt$selectElementsWithTargetParent$4.invoke(introduceUtil.kt:126)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt.selectElementsWithTargetParent(introduceUtil.kt:147)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.IntroduceUtilKt.selectElementsWithTargetSibling(introduceUtil.kt:72)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractFunction.ExtractKotlinFunctionHandler.selectElements(ExtractKotlinFunctionHandler.kt:66)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.introduce.extractFunction.ExtractKotlinFunctionHandler.invoke(ExtractKotlinFunctionHandler.kt:79)&#xA;&#x9;at com.intellij.refactoring.actions.BaseRefactoringAction.actionPerformed(BaseRefactoringAction.java:131)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:88)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:235)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.performAction(PopupFactoryImpl.java:966)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.performAction(PopupFactoryImpl.java:956)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.a(PopupFactoryImpl.java:950)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:195)&#xA;&#x9;at com.intellij.ui.popup.AbstractPopup.a(AbstractPopup.java:1431)&#xA;&#x9;at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.j(IdeEventQueue.java:822)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:650)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)" shownForIssueAuthor="false" created="1513341018471" markdown="false"><replies/></comment></issue><issue id="KT-21847" entityId="25-1814316"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21847</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: incorrect placement of Kotlin File suggestion in a list of possible types of new files for a project in CLion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See the screenshot attached: `Kotlin File/Class` stands at the end of the list, even after `Edit File Templates...` variant. It's hardly notable for a user.

See also KT-21848

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513355822422</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932125624</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-476479" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-12-15%20at%2019.31.50.png?file=74-476479&amp;c=true">Screen Shot 2017-12-15 at 19.31.50.png</value></field></issue><issue id="KT-21848" entityId="25-1814330"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21848</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: Kotlin File suggestion appears in the list of possible file types only in case of addition into a source package</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In general, it is possible to specify particular Kotlin file as a source in CMakeLists.txt, so it may be placed in the root of a project and will be compiled successfully: 
{code lang=Cmake}
konanc_executable(
        NAME HelloWorld
        SOURCES hello.kt
)
{code}
However, there is no suggestion of a `Kotlin File/Class` in a list of possible file types (see the screenshot attached) while adding a new file to project. At the same time, `Kotlin File/Class` appears in the same list in case of addition of a new file to some source package inside of a project (see the screenshot which is also attached and related issue: KT-21847). 

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513356645557</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520947774194</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-476485" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-12-15%20at%2019.29.58.png?file=74-476485&amp;c=true">Screen Shot 2017-12-15 at 19.29.58.png</value><value id="74-476486" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-12-15%20at%2019.31.50.png?file=74-476486&amp;c=true">Screen Shot 2017-12-15 at 19.31.50.png</value></field></issue><issue id="KT-21876" entityId="25-1816453"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21876</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: ambiguous import with typealias usage is marked as unresolved </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In the following code, `size_t` will be highlighted as an unresolved reference, instead of ambiguous import error, both imports are marked as unused:
{code lang=Kotlin} 
import libcurl.*
import platform.posix.*

fun foo(size: size_t): Long = size * size
{code}
— it happens, because `libcurl` contains `typealias` for `size_t`, originally came from `posix`:
``public typealias size_t = platform.posix.__darwin_size_t``

Removal of one or another import helps, as well as explicit import of `size_t` from one or another library. 

An example is originally taken from CurlHTTP template project in CLion, `Curl.kt` file

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513597869685</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532960444492</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Maria.Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Maria Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2983864" author="Maria.Baburina" authorFullName="Maria Baburina" issueId="KT-21876" deleted="false" text="I also observe similar issue in kotlin-native sample project on CLion 183.1188 for example in `samples/gitchurn/src/main/kotlin/org/konan/libgit/GitChurn.kt` file.&#xA;On [this line](https://github.com/JetBrains/kotlin-native/blob/master/samples/gitchurn/src/main/kotlin/org/konan/libgit/GitChurn.kt#L42) and [this one](https://github.com/JetBrains/kotlin-native/blob/master/samples/gitchurn/src/main/kotlin/org/konan/libgit/GitChurn.kt#L70) inspection flags error `[MISSING_DEPENDENCY_CLASS] Cannot access class 'platform.posix.int64_t'. Check your module classpath for missing or conflicting dependencies`&#xA;However this file `import platform.posix.*` and adding mentioned  'platform.posix.int64_t' doesn't change anything." shownForIssueAuthor="false" created="1532960444539" markdown="true"><replies/></comment></issue><issue id="KT-21893" entityId="25-1818343"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21893</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: impossible to rename class at the usage site</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code lang=Kotlin}
fun main(args: Array&lt;String&gt;) {
    F&lt;caret&gt;oo()
}

open class Foo()
{code}
— put the caret where it's pointed and go to Refactor &gt; Rename &gt; Type any new name. See the typed name appears in the brackets like: `(NewName)`, rename haven't been performed. 

If the caret in `main` function has been in the following position: `Foo&lt;caret&gt;()`, then the renaming leads to an exception (see the stack trace in comments), with a deletion of a new name after Enter has been pressed. 

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513687066547</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932147860</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2634949" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-21893" deleted="false" text="Argument for @NotNull parameter 'name' of com/intellij/psi/codeStyle/NameUtil.splitNameIntoWords must not be null&#xA;java.lang.IllegalArgumentException: Argument for @NotNull parameter 'name' of com/intellij/psi/codeStyle/NameUtil.splitNameIntoWords must not be null&#xA;&#x9;at com.intellij.psi.codeStyle.NameUtil.$$$reportNull$$$0(NameUtil.java)&#xA;&#x9;at com.intellij.psi.codeStyle.NameUtil.splitNameIntoWords(NameUtil.java)&#xA;&#x9;at com.intellij.refactoring.rename.naming.NameSuggester.&lt;init&gt;(NameSuggester.java:43)&#xA;&#x9;at com.intellij.refactoring.rename.naming.AutomaticRenamer.suggestAllNames(AutomaticRenamer.java:130)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.rename.AutomaticVariableRenamer.&lt;init&gt;(AutomaticVariableRenamer.kt:83)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.rename.AutomaticVariableRenamerFactory.createRenamer(AutomaticVariableRenamer.kt:146)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.rename.AutomaticVariableRenamerFactory.createRenamer(AutomaticVariableRenamer.kt:142)&#xA;&#x9;at com.intellij.refactoring.rename.RenameProcessor.findUsages(RenameProcessor.java:308)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.c(BaseRefactoringProcessor.java:188)&#xA;&#x9;at com.intellij.openapi.project.DumbService.lambda$runReadActionInSmartMode$0(DumbService.java:94)&#xA;&#x9;at com.intellij.openapi.project.DumbService.lambda$runReadActionInSmartMode$1(DumbService.java:138)&#xA;&#x9;at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:47)&#xA;&#x9;at com.intellij.openapi.project.DumbService.runReadActionInSmartMode(DumbService.java:131)&#xA;&#x9;at com.intellij.openapi.project.DumbService.runReadActionInSmartMode(DumbService.java:94)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.a(BaseRefactoringProcessor.java:188)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager$2.run(CoreProgressManager.java:247)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:713)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager$5.run(CoreProgressManager.java:397)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:157)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:543)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:488)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.a(ApplicationImpl.java:575)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:315)&#xA;&#x9;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)&#xA;&#x9;at java.util.concurrent.FutureTask.run(FutureTask.java:266)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&#xA;&#x9;at java.lang.Thread.run(Thread.java:745)" shownForIssueAuthor="false" created="1513687090779" markdown="false"><replies/></comment></issue><issue id="KT-21894" entityId="25-1818471"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21894</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: exception on attempt to change signature of conversion function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Call of "Refactor &gt; Change signature &gt; Yes on the warning dialog (external function [...] overrides declarations...)" on any of the conversion functions (`toInt()`,  `toString()`, etc.) leads to the exception

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513691832424</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932407949</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2635373" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-21894" deleted="false" text="Could not find declaration for public abstract fun toInt(): kotlin.Int defined in kotlin.Number[DeserializedSimpleFunctionDescriptor@30ac9fe]&#xA;java.lang.Throwable: Could not find declaration for public abstract fun toInt(): kotlin.Int defined in kotlin.Number[DeserializedSimpleFunctionDescriptor@30ac9fe]&#xA;&#x9;at com.intellij.openapi.diagnostic.Logger.error(Logger.java:136)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.changeSignature.KotlinChangeSignature.adjustDescriptor(KotlinChangeSignature.kt:193)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.changeSignature.KotlinChangeSignature.performRefactoring(KotlinChangeSignature.kt:176)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.CallableRefactoring.run(CallableRefactoring.kt:170)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.changeSignature.KotlinChangeSignatureKt.runChangeSignature(KotlinChangeSignature.kt:66)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.changeSignature.KotlinChangeSignatureHandler$Companion.invokeChangeSignature(KotlinChangeSignatureHandler.kt:153)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.changeSignature.KotlinChangeSignatureHandler.invoke(KotlinChangeSignatureHandler.kt:72)&#xA;&#x9;at com.intellij.refactoring.actions.ChangeSignatureAction$1.invoke(ChangeSignatureAction.java:118)&#xA;&#x9;at com.intellij.refactoring.actions.BaseRefactoringAction.actionPerformed(BaseRefactoringAction.java:131)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:88)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:235)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.performAction(PopupFactoryImpl.java:966)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.performAction(PopupFactoryImpl.java:956)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.a(PopupFactoryImpl.java:950)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:195)&#xA;&#x9;at com.intellij.ui.popup.AbstractPopup.a(AbstractPopup.java:1431)&#xA;&#x9;at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.j(IdeEventQueue.java:822)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:650)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)" shownForIssueAuthor="false" created="1513691850192" markdown="false"><replies/></comment></issue><issue id="KT-21896" entityId="25-1818611"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21896</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: unable to locate freetype2 library in FullstackApp project template</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a project from the FullstackApp template, install all the necessary libraries. Try to Build the project. `freetype2` library wouldn't be found, though it actually installed right in the directory defined in CMake files. 

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513694954161</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932474162</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21899" entityId="25-1818675"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21899</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: posix library functions are not suggested to import</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a new Kotlin Native project in CLion (for example, HelloWorld project). There are already some external libraries available, such as stdlib, posix or OpenGL. 

Try to call any of posix functions, for example, `random()` or `acos()` (type it in a new Kotlin file, inside of `main` or any other function) — there wouldn't be any suggestion to import the corresponding library. At the same time, there will be a quick fix suggestion for OpenGL functions (`glEnd()`, for example), with the import of the corresponding library. 

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513697305104</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932482202</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21901" entityId="25-1818729"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21901</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: IAE on creation of a new Kotlin file</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>* in CLion, create a new project from HelloWorld template
* add new package to the project root, for example src/main
* add the package to CMakeList.txt: {code}konanc_executable(
        NAME Check
        SOURCES src
){code}
* create a new Kotlin file in the package. An exception occurs

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513699697991</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932650733</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-21978</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2635959" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-21901" deleted="false" text="Missing extension point: org.jetbrains.kotlin.newFileHook in area Project '/Users/jetbrains/TestProjects/K-N-projects/Check' Check&#xA;java.lang.IllegalArgumentException: Missing extension point: org.jetbrains.kotlin.newFileHook in area Project '/Users/jetbrains/TestProjects/K-N-projects/Check' Check&#xA;&#x9;at com.intellij.openapi.extensions.impl.ExtensionsAreaImpl.getExtensionPoint(ExtensionsAreaImpl.java:339)&#xA;&#x9;at com.intellij.openapi.extensions.impl.ExtensionsAreaImpl.getExtensionPoint(ExtensionsAreaImpl.java:36)&#xA;&#x9;at com.intellij.openapi.extensions.Extensions.getExtensions(Extensions.java:101)&#xA;&#x9;at com.intellij.openapi.extensions.Extensions.getExtensions(Extensions.java:95)&#xA;&#x9;at com.intellij.openapi.extensions.ExtensionPointName.getExtensions(ExtensionPointName.java:55)&#xA;&#x9;at org.jetbrains.kotlin.idea.actions.NewKotlinFileAction.postProcess(NewKotlinFileAction.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.idea.actions.NewKotlinFileAction.postProcess(NewKotlinFileAction.kt:49)&#xA;&#x9;at com.intellij.ide.actions.CreateFromTemplateAction.actionPerformed(CreateFromTemplateAction.java:89)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:237)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.performAction(PopupFactoryImpl.java:966)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.performAction(PopupFactoryImpl.java:956)&#xA;&#x9;at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep.a(PopupFactoryImpl.java:950)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:195)&#xA;&#x9;at com.intellij.ui.popup.AbstractPopup.a(AbstractPopup.java:1431)&#xA;&#x9;at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.j(IdeEventQueue.java:822)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:650)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)" shownForIssueAuthor="false" created="1513699714031" markdown="false"><replies/></comment></issue><issue id="KT-21930" entityId="25-1820703"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21930</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: Move refactoring works incorrectly for file members</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code: lang=Kotlin|title=File.kt}
class Boo {}
fun foo() {}
{code}
— call of Refactor &gt; Move on either `Boo` or `foo` will finally lead to the dialog of moving the whole `File.kt`. In IDEA, each `File.kt` member may be moved separately. 

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513784359848</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932615008</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-21948" entityId="25-1821595"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21948</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: java.lang.Throwable “Invalid range specified” on editing template inside string literal</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code lang=Kotlin}
val foo = "$a"
{code}
Put caret inside the string literal between `$` and `a` symbols and print a letter (it doesn't matter which one). An exception occurs.

It has been fixed in the Kotlin Plugin for IDEA, but left for Kotlin/Native in CLion: KT-20256

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4161)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513853273400</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932628898</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2641825" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-21948" deleted="false" text="Invalid range specified: (27,26); &#xA;java.lang.Throwable: Invalid range specified: (27,26); &#xA;&#x9;at com.intellij.openapi.diagnostic.Logger.error(Logger.java:136)&#xA;&#x9;at com.intellij.openapi.util.TextRange.assertProperRange(TextRange.java:228)&#xA;&#x9;at com.intellij.openapi.util.TextRange.assertProperRange(TextRange.java:223)&#xA;&#x9;at com.intellij.openapi.util.TextRange.assertProperRange(TextRange.java:219)&#xA;&#x9;at com.intellij.openapi.util.TextRange.&lt;init&gt;(TextRange.java:43)&#xA;&#x9;at com.intellij.openapi.util.TextRange.&lt;init&gt;(TextRange.java:32)&#xA;&#x9;at com.intellij.openapi.util.TextRange.create(TextRange.java:154)&#xA;&#x9;at org.jetbrains.kotlin.idea.completion.confidence.EnableAutopopupInStringTemplate.shouldSkipAutopopup(EnableAutopopupInStringTemplate.kt:32)&#xA;&#x9;at com.intellij.codeInsight.completion.CodeCompletionHandlerBase.a(CodeCompletionHandlerBase.java:255)&#xA;&#x9;at com.intellij.codeInsight.completion.CodeCompletionHandlerBase.invokeCompletion(CodeCompletionHandlerBase.java:196)&#xA;&#x9;at com.intellij.codeInsight.completion.CodeCompletionHandlerBase.invokeCompletion(CodeCompletionHandlerBase.java:128)&#xA;&#x9;at com.intellij.codeInsight.editorActions.CompletionAutoPopupHandler.invokeCompletion(CompletionAutoPopupHandler.java:93)&#xA;&#x9;at com.intellij.codeInsight.AutoPopupController.a(AutoPopupController.java:155)&#xA;&#x9;at com.intellij.codeInsight.AutoPopupController.a(AutoPopupController.java:227)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:88)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:111)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransaction(TransactionGuardImpl.java:120)&#xA;&#x9;at com.intellij.codeInsight.AutoPopupController.a(AutoPopupController.java:221)&#xA;&#x9;at com.intellij.psi.impl.PsiDocumentManagerBase.lambda$null$5(PsiDocumentManagerBase.java:580)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl$2.run(TransactionGuardImpl.java:315)&#xA;&#x9;at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.a(LaterInvocator.java:424)&#xA;&#x9;at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:407)&#xA;&#x9;at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.j(IdeEventQueue.java:822)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:650)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)" shownForIssueAuthor="false" created="1513853292221" markdown="false"><replies/></comment></issue><issue id="KT-21956" entityId="25-1822482"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21956</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: kotlin.collections functions are shown twice in the autocomplete list</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See the screenshots attached 

kotlin-native-macos-0.5-dev-235
Kotlin plugin: 1.1.4-dev-259 (0.1-dev-77)
CLion 2017.3.2 EAP (173.4249)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513872719970</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932634681</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-478096" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-12-21%20at%2019.08.15.png?file=74-478096&amp;c=true">Screen Shot 2017-12-21 at 19.08.15.png</value><value id="74-478097" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202017-12-21%20at%2019.07.38.png?file=74-478097&amp;c=true">Screen Shot 2017-12-21 at 19.07.38.png</value></field></issue><issue id="KT-21969" entityId="25-1823729"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>21969</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: incorrect generation of equals() and hashCode() methods</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Do: Generate &gt; equals() and hashCode(). The result will be: 
{code lang=Kotlin}
    external override fun equals(other: Any?): Boolean {
        if (this === other) return true
        if (javaClass != other?.javaClass) return false
        return true
    }

    external override fun hashCode(): Int {
        return javaClass.hashCode()
    }
{code}
which is incorrect, because we don't use `javaClass` and don't address to Java in Kotlin/Native</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1513932981488</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932642977</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22018" entityId="25-1826892"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22018</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: quick fix for deprecated fromUtf8Array usage incorrectly replaces it with stringFromUtf8</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code lang=Kotlin}
val byteArr = byteArrayOf()
kotlin.text.fromUtf8Array(byteArr, 0, byteArr.size)
{code}

``kotlin.text.fromUtf8Array`` line will be converted to ``byteArr.stringFromUtf8(0, end)``, with undefined parameter `end`. Probably it should be just `byteArr.stringFromUtf8(0)`

kotlin-native-macos-0.5
Kotlin plugin: 1.2.30-dev-283 (0.1-dev-86)
CLion 2017.3.1 EAP (173.4127.6)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1514290397785</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932662283</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22065" entityId="25-1829583"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22065</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: there is no warning on conversion of Java code with a usage of Java specific libraries</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>For example, the code ``LinkedList&lt;String&gt; jLinkedList = new LinkedList&lt;String&gt;();`` pasted into .kt file in CLion, will be converted to Kotlin in this way: ``var jLinkedList = LinkedList&lt;String&gt;()``. Howewer, the code will be red, because `java.util.*` library is missing. 

Java libraries are not intrinsic for Kotlin/Native, so that is OK. Nevertheless, some warning about unavailable library should be shown.

kotlin-native-macos-0.5-dev-578
Kotlin plugin: 1.2.30-dev-283 (0.1-dev-86)
CLion 2017.3.1 (173.4127.32)
OS X 10.13.2 (17C88)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1514550418098</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520932854841</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22098" entityId="25-1830859"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22098</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'buildString'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin 1.2.20-eap-33

```
fun main(args: Array&lt;String&gt;) {
    Foo().run {
        object : Abstract(arrayOf("").map {
            buildString {
                append(getString(it))
            }
        }) {
        }
    }
}

fun Foo.getString(it: String) = ""

abstract class Abstract(val list: List&lt;String&gt;)
class Foo
```

Error:Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'buildString' into
local final fun &lt;anonymous&gt;(it: kotlin.String): kotlin.String defined in inline.main.&lt;anonymous&gt;.&lt;no name provided&gt;.&lt;init&gt;
{
            buildString {
                append(getString(it))
            }
        }
Cause: buildString (Lkotlin/jvm/functions/Function1;)Ljava/lang/String;:
  @Lkotlin/internal/InlineOnly;() // invisible
   L0
    LINENUMBER 12 L0
    NEW java/lang/StringBuilder
    DUP
    INVOKESPECIAL java/lang/StringBuilder.&lt;init&gt; ()V
    ASTORE 2
    ALOAD 0
    ALOAD 2
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    POP
    ALOAD 2
   L1
    LINENUMBER 12 L1
    INVOKEVIRTUAL java/lang/StringBuilder.toString ()Ljava/lang/String;
    DUP
    LDC "StringBuilder().apply(builderAction).toString()"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkExpressionValueIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    ARETURN
   L2
    LOCALVARIABLE builderAction Lkotlin/jvm/functions/Function1; L0 L2 0
    LOCALVARIABLE $i$f$buildString I L0 L2 1
    MAXSTACK = 3
    MAXLOCALS = 3
Cause: Don't know how to generate outer expression: Closure: class &lt;closure-InlineKt$main$1&gt;
File being compiled and position: (6,13) in C:/Users/Kirill/Repos/KotlinDesktopTest/src/main/kotlin/inline.kt
PsiElement: buildString {
                append(getString(it))
            }
The root cause was thrown at: CodegenContext.java:218
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:133)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:181)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:677)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:663)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2324)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:568)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateMethodBody(SourceCompilerForInline.kt:196)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateLambdaBody(SourceCompilerForInline.kt:147)
	at org.jetbrains.kotlin.codegen.inline.ExpressionLambda.generateLambdaBody(LambdaInfo.kt:281)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:333)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:263)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:172)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:677)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:663)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2324)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:65)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$visitObjectLiteralExpression$7(ExpressionCodegen.java:1040)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:65)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2297)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:568)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateMethodBody(SourceCompilerForInline.kt:196)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateLambdaBody(SourceCompilerForInline.kt:147)
	at org.jetbrains.kotlin.codegen.inline.ExpressionLambda.generateLambdaBody(LambdaInfo.kt:281)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:333)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:263)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:172)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:677)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:663)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2324)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:568)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:297)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:147)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)
	at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:100)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:78)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:45)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:456)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:152)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:162)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:109)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:53)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:380)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:894)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:921)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:893)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:378)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.UnsupportedOperationException: Don't know how to generate outer expression: Closure: class &lt;closure-InlineKt$main$1&gt;
	at org.jetbrains.kotlin.codegen.context.CodegenContext.getOuterExpression(CodegenContext.java:218)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:539)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:549)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:549)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.MethodContext.generateReceiver(MethodContext.java:93)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateExtensionReceiver(ExpressionCodegen.java:2563)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateReceiverValue(ExpressionCodegen.java:2537)
	at org.jetbrains.kotlin.codegen.StackValue.genReceiver(StackValue.java:577)
	at org.jetbrains.kotlin.codegen.StackValue.receiver(StackValue.java:556)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putReceiverAndInlineMarkerIfNeeded(ExpressionCodegen.java:2353)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2288)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:65)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2297)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:568)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateMethodBody(SourceCompilerForInline.kt:196)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateLambdaBody(SourceCompilerForInline.kt:147)
	at org.jetbrains.kotlin.codegen.inline.ExpressionLambda.generateLambdaBody(LambdaInfo.kt:281)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:333)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:263)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:172)
	... 126 more

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1514898685057</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004640</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kirill.rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kirill Rakhman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.20</value><valueId>1.2.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2661734" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-22098" deleted="false" text="Same with no-inline case:&#xA;{code}&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    Foo().run2 {&#xA;        object : Abstract(&#xA;                {&#xA;                    getString(&quot;&quot;)&#xA;                }()&#xA;        ) {&#xA;        }&#xA;    }&#xA;}&#xA;&#xA;fun Foo.getString(it: String) = &quot;&quot;&#xA;&#xA;abstract class Abstract(val list: String)&#xA;class Foo&#xA;&#xA;fun &lt;T, R&gt; T.run2(block: T.() -&gt; R): R {&#xA;    return block()&#xA;}&#xA;&#xA;{code}" shownForIssueAuthor="false" created="1515490346433" markdown="false"><replies/></comment><comment id="27-2661736" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-22098" deleted="false" text="Workaround:&#xA;{code}&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    Foo().run {&#xA;        val foo = this&#xA;        object : Abstract(arrayOf(&quot;&quot;).map {&#xA;            buildString {&#xA;                append(foo.getString(it))&#xA;            }&#xA;        }) {&#xA;        }&#xA;    }&#xA;}&#xA;&#xA;{code}&#xA;" shownForIssueAuthor="false" created="1515490445711" updated="1515490346169" markdown="false"><replies/></comment></issue><issue id="KT-22117" entityId="25-1831540"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22117</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Do not reformat method call with lambda if lambda parameters are on the next line</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Formatter reformats this code:
```
                checkExperimental(listOf(experimentality), declaration, context.trace.bindingContext, isUsageInSameModule) {
                    annotationFqName, severity, _
                    -&gt;
                    // ...
                }
```
into this:
```
                checkExperimental(
                    listOf(experimentality),
                    declaration,
                    context.trace.bindingContext,
                    isUsageInSameModule
                ) { annotationFqName, severity, _
                    -&gt;
                    // ...
                }
```

Note that in the first snippet, the first line fits into the hard wrap width (140 characters), so it conforms to the style guide and I think shouldn't be reformatted. Also, while reformatting it, the formatter places the arrow incorrectly: according to the style guide, if lambda parameters follow the "{" on the same line, the arrow should be on that line as well.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1514986373177</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975435</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2661190" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-22117" deleted="false" text="Right now the call is rewrapped because there's a rule that forces removing a line break between the opening curly brace and the lambda parameter list; once you remove this line break, you need to rewrap the call. I'd say that the reformatted version is easier to read than the original; don't you agree?" shownForIssueAuthor="false" created="1515428100895" markdown="false"><replies/></comment><comment id="27-2661217" author="udalov" authorFullName="Alexander Udalov" issueId="KT-22117" deleted="false" text="In this case yes, but generally I'm not sure the second version is better. Anyway, the issue here is that the formatter transforms a conforming code to non-conforming code." shownForIssueAuthor="false" created="1515430776099" markdown="false"><replies/></comment></issue><issue id="KT-22132" entityId="25-1831999"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22132</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Suboptimal indent of complex condition used as expression body</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
        override fun isApplicable(elem: PsiElement): Boolean =
            (elem is KtProperty &amp;&amp; elem.getReturnTypeReference() == null &amp;&amp; elem.isLocal) ||
                    (elem is KtParameter &amp;&amp; elem.isLoopParameter &amp;&amp; elem.typeReference == null) ||
                    (elem is KtDestructuringDeclarationEntry &amp;&amp; elem.getReturnTypeReference() == null)
{code}

Would be better to align all the branches.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1515063049906</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975439</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22155" entityId="25-1833022"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22155</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native: Linking problem after sample project convertion from gradle to cmake</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Linker fail after sample/gtk project convertion (gradlew generateCMake):
{cut Error}
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge99: error: undefined reference to '_g_param_type_register_static_constant'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge207: error: undefined reference to '_g_signals_destroy'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge1381: error: undefined reference to 'g_io_module_load'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge1382: error: undefined reference to 'g_io_module_unload'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge1383: error: undefined reference to 'g_io_module_query'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2185: error: undefined reference to '_gtk_accel_group_attach'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2186: error: undefined reference to '_gtk_accel_group_detach'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2201: error: undefined reference to '_gtk_accel_group_reconnect'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2202: error: undefined reference to '_gtk_accel_group_get_accelerables'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2485: error: undefined reference to '_gtk_bin_set_child'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2665: error: undefined reference to '_gtk_misc_get_padding_and_border'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2756: error: undefined reference to '_gtk_label_mnemonics_visible_apply_recursively'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2757: error: undefined reference to '_gtk_label_get_cursor_position'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2758: error: undefined reference to '_gtk_label_get_selection_bound'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2767: error: undefined reference to '_gtk_accel_label_class_get_accelerator_label'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2945: error: undefined reference to '_gtk_cell_renderer_calc_offset'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge2948: error: undefined reference to '_gtk_cell_renderer_get_accessible_type'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3003: error: undefined reference to '_gtk_cell_area_set_cell_data_func_with_proxy'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3254: error: undefined reference to '_gtk_drag_source_handle_event'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3255: error: undefined reference to '_gtk_drag_dest_handle_event'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3771: error: undefined reference to '_gtk_cell_area_box_group_visible'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3794: error: undefined reference to '_gtk_cell_layout_buildable_custom_tag_start'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3795: error: undefined reference to '_gtk_cell_layout_buildable_custom_tag_end'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3796: error: undefined reference to '_gtk_cell_layout_buildable_add_child'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3848: error: undefined reference to '_gtk_toggle_button_set_active'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3853: error: undefined reference to '_gtk_check_button_get_props'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3886: error: undefined reference to '_gtk_check_menu_item_set_active'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3916: error: undefined reference to '_gtk_clipboard_handle_event'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge3917: error: undefined reference to '_gtk_clipboard_store_all'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4255: error: undefined reference to '_gtk_style_context_get_attributes'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4306: error: undefined reference to '_gtk_icon_theme_ensure_builtin_cache'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4317: error: undefined reference to '_gtk_tooltip_focus_in'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4318: error: undefined reference to '_gtk_tooltip_focus_out'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4319: error: undefined reference to '_gtk_tooltip_toggle_keyboard_mode'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4320: error: undefined reference to '_gtk_tooltip_handle_event'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4321: error: undefined reference to '_gtk_tooltip_hide'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4322: error: undefined reference to '_gtk_widget_find_at_coords'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4525: error: undefined reference to '_gtk_menu_bar_cycle_focus'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4574: error: undefined reference to '_gtk_tool_item_create_menu_proxy'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4590: error: undefined reference to '_gtk_tool_button_get_button'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4955: error: undefined reference to '_gtk_range_get_wheel_delta'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4956: error: undefined reference to '_gtk_range_set_has_origin'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4957: error: undefined reference to '_gtk_range_get_has_origin'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4958: error: undefined reference to '_gtk_range_set_stop_values'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4959: error: undefined reference to '_gtk_range_get_stop_positions'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4960: error: undefined reference to '_gtk_range_set_steppers'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge4999: error: undefined reference to '_gtk_recent_manager_sync'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5126: error: undefined reference to '_gtk_scrolled_window_get_scrollbar_spacing'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5186: error: undefined reference to '_gtk_spin_button_get_panels'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5264: error: undefined reference to '_gtk_text_tag_table_add_buffer'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5265: error: undefined reference to '_gtk_text_tag_table_remove_buffer'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5336: error: undefined reference to '_gtk_text_buffer_spew'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5337: error: undefined reference to '_gtk_text_buffer_get_btree'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5338: error: undefined reference to '_gtk_text_buffer_get_line_log_attrs'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5339: error: undefined reference to '_gtk_text_buffer_notify_will_remove_tag'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5340: error: undefined reference to '_gtk_text_buffer_get_text_before'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5341: error: undefined reference to '_gtk_text_buffer_get_text_at'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5342: error: undefined reference to '_gtk_text_buffer_get_text_after'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5464: error: undefined reference to '_gtk_toolbar_elide_underscores'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5465: error: undefined reference to '_gtk_toolbar_paint_space_line'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5466: error: undefined reference to '_gtk_toolbar_get_default_space_size'
/tmp/combined7197311212479927663.o:ld-temp.o:function gtk3_kniBridge5755: error: undefined reference to '_g_type_debug_flags'
exception: java.lang.IllegalStateException: The /home/mike/.konan/dependencies/target-gcc-toolchain-3-linux-x86-64/x86_64-unknown-linux-gnu/bin/ld.gold command returned non-zero exit code: 1.
	at org.jetbrains.kotlin.konan.exec.ExecuteCommandKt.runTool(ExecuteCommand.kt:44)
	at org.jetbrains.kotlin.backend.konan.Command.execute(LinkStage.kt:84)
	at org.jetbrains.kotlin.backend.konan.LinkStage.link(LinkStage.kt:426)
	at org.jetbrains.kotlin.backend.konan.LinkStage.access$link(LinkStage.kt:283)
	at org.jetbrains.kotlin.backend.konan.LinkStage$linkStage$3.invoke(LinkStage.kt:498)
	at org.jetbrains.kotlin.backend.konan.LinkStage$linkStage$3.invoke(LinkStage.kt:283)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:138)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:117)
	at org.jetbrains.kotlin.backend.konan.util.UtilKt.profileIf(util.kt:34)
	at org.jetbrains.kotlin.backend.konan.PhaseManager.phase$backend_native_compiler(KonanPhases.kt:137)
	at org.jetbrains.kotlin.backend.konan.LinkStage.linkStage(LinkStage.kt:497)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5.invoke(KonanDriver.kt:106)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5.invoke(KonanDriver.kt)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:138)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:117)
	at org.jetbrains.kotlin.backend.konan.util.UtilKt.profileIf(util.kt:34)
	at org.jetbrains.kotlin.backend.konan.PhaseManager.phase$backend_native_compiler(KonanPhases.kt:137)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt.runTopLevelPhases(KonanDriver.kt:105)
	at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:55)
	at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:41)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:108)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:70)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:36)
	at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMainNoExit(CLITool.kt:157)
	at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMain(CLITool.kt:148)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:168)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:159)
	at org.jetbrains.kotlin.backend.konan.util.UtilKt.profileIf(util.kt:34)
	at org.jetbrains.kotlin.backend.konan.util.UtilKt.profile(util.kt:29)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion.main(K2Native.kt:161)
	at org.jetbrains.kotlin.cli.bc.K2NativeKt.main(K2Native.kt:173)
	at org.jetbrains.kotlin.cli.utilities.MainKt.main(main.kt:115)

{cut}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1515162550618</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1520947658273</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2696594" author="Nikolay.Igotti" authorFullName="Nikolay Igotti" issueId="KT-22155" deleted="false" text="Seems problem comes from fact, that linker options aren't used." shownForIssueAuthor="false" created="1517834835675" markdown="false"><replies/></comment></issue><issue id="KT-22222" entityId="25-1836215"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22222</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>KNPE in org.jetbrains.kotlin.codegen.inline.Parameters.getParameterByDeclarationSlot</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>My Code won't compile because of the following error. This happened only since I used this method, which is where the inline apparently failes:

```
/** copies the contents of the InputStream to the OutputStream.
 * @param progressHandler is invoked every time after the buffer has been transferred. If it returns true, then the copying will cease immediately */
fun InputStream.copyTo(out: OutputStream, closeIn: Boolean = false, closeOut: Boolean = false, progressHandler: (Long) -&gt; Boolean): Long {
	try {
		val buffer = ByteArray(DEFAULT_BUFFER_SIZE)
		var bytesCopied = 0L
		var bytes = read(buffer)
		while (bytes &gt;= 0) {
			out.write(buffer, 0, bytes)
			bytesCopied += bytes
			if (progressHandler(bytesCopied))
				break
			bytes = read(buffer)
		}
		return bytesCopied
	} finally {
		if (closeIn)
			this.close()
		if (closeOut)
			out.close()
	}
}
```

onJFX is a rather simple alias for Platform.runLater:
`inline fun onJFX(crossinline run: () -&gt; Unit) = Platform.runLater { run() }`

```
Error:Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'onJFX' into 
[...]
Cause: Transformer for xerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1$worker$1: couldn't inline method call
Cause: access$updateProgress (Lxerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1$worker$1;JJLxerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1;Ljava/io/File;)V:
   L0
    LINENUMBER 175 L0
    ALOAD 0
    LLOAD 1
    LLOAD 3
    INVOKEVIRTUAL xerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1$worker$1.updateProgress (JJ)V
    RETURN
   L1
    LOCALVARIABLE $this Lxerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1$worker$1; L0 L1 0
    LOCALVARIABLE p0 J L0 L1 1
    LOCALVARIABLE p1 J L0 L1 3
    MAXSTACK = 5
    MAXLOCALS = 7
File being compiled and position: (168,5) in C:/Users/Janek/Projects/Monstercat/src/main/xerus/monstercat/MonsterUtilities.kt
PsiElement: onJFX {
					val dialog = [...]
					dialog.resultProperty().addListener { _, _, type -&gt;
						if (type.buttonData == ButtonBar.ButtonData.YES) {
							val file = [...]
							val worker = object : Task&lt;Unit&gt;() {
								override fun call() {
									val connection = [...]
									val contentLength = connection.contentLengthLong
									val inputStream = connection.getInputStream()
									logger.fine("Update started")
									inputStream.copyTo(file.outputStream(), true, true) {
										updateProgress(it, contentLength)
										isCancelled
									}
									if (isCancelled)
										logger.config("Update cancelled, deleting $file: ${file.delete()}")
								}
							}
							launch { worker.run() }
							val progressDialog = ProgressDialog(worker)
							progressDialog.title = "Updater"
							progressDialog.headerText = "Downloading Update"
							progressDialog.contentText = "Downloading $file to ${file.absoluteFile.parent}"
							progressDialog.dialogPane.scene.window.setOnCloseRequest { worker.cancel() }
							progressDialog.initOwner(App.stage)
							progressDialog.show()
						} else if (type.buttonData == ButtonBar.ButtonData.CANCEL_CLOSE)
							Settings.IGNOREVERSION.set(latestVersion)
					}
				}
The root cause was thrown at: MethodInliner.kt:637
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:132)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:177)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:648)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:634)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2301)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2252)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateTryExpression$27(ExpressionCodegen.java:4011)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1588)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:56)
	at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda$generateDoResume$1.doGenerateBody(CoroutineCodegen.kt:326)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:76)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:570)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:333)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:177)
	at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateDoResume(CoroutineCodegen.kt:308)
	at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateClosureBody(CoroutineCodegen.kt:174)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:177)
	at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateBody(CoroutineCodegen.kt:178)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:986)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:960)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:951)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:120)
	at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:37)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:307)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:289)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:64)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2274)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2252)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1588)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:56)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:76)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:570)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:333)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:177)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:148)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:168)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:84)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:316)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:156)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:100)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:78)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:45)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:450)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:152)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:380)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:378)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jetbrains.kotlin.codegen.inline.InlineException: Transformer for xerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1$worker$1: couldn't inline method call
Cause: access$updateProgress (Lxerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1$worker$1;JJLxerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1;Ljava/io/File;)V:
   L0
    LINENUMBER 175 L0
    ALOAD 0
    LLOAD 1
    LLOAD 3
    INVOKEVIRTUAL xerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1$worker$1.updateProgress (JJ)V
    RETURN
   L1
    LOCALVARIABLE $this Lxerus/monstercat/MonsterUtilities$checkForUpdate$1$1$1$worker$1; L0 L1 0
    LOCALVARIABLE p0 J L0 L1 1
    LOCALVARIABLE p1 J L0 L1 3
    MAXSTACK = 5
    MAXLOCALS = 7

	at org.jetbrains.kotlin.codegen.inline.MethodInliner.wrapException(MethodInliner.kt:637)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:108)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:208)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:172)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:127)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:163)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:184)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)
	at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:208)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:172)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:127)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:163)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:184)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)
	at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.access$doInline(MethodInliner.kt:41)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:236)
	at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:208)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:172)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:127)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:163)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:184)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)
	at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:281)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:171)
	... 107 more
Caused by: kotlin.KotlinNullPointerException
	at org.jetbrains.kotlin.codegen.inline.Parameters.getParameterByDeclarationSlot(Parameters.kt:61)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.doRemap(LocalVarRemapper.kt:55)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.remap(LocalVarRemapper.kt:77)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.visitVarInsn(LocalVarRemapper.kt:103)
	at org.jetbrains.kotlin.codegen.inline.RemapVisitor.visitVarInsn(RemapVisitor.java:53)
	at org.jetbrains.org.objectweb.asm.tree.VarInsnNode.accept(VarInsnNode.java:86)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:105)
	... 153 more
```

Edit: Upon further examination, the issue seems to be the call to "updateProgress", since everything works when that is commented out</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1515619619833</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004641</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>27jf</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Xerus</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22321" entityId="25-1841094"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22321</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Formatter should be able to wrap between condition and body of if statement</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Original code:

{code}
if (!kindFilter.acceptsKinds(DescriptorKindFilter.VARIABLES_MASK)) return workerScope.getContributedDescriptors(kindFilter, nameFilter)
{code}

Resulting formatting:
{code}
        if (!kindFilter.acceptsKinds(DescriptorKindFilter.VARIABLES_MASK)) return workerScope.getContributedDescriptors(
            kindFilter,
            nameFilter
        )
{code}

Expected formatting:
{code}
if (!kindFilter.acceptsKinds(DescriptorKindFilter.VARIABLES_MASK)) 
    return workerScope.getContributedDescriptors(kindFilter, nameFilter)
{code}
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1516123420038</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975431</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22440" entityId="25-1846494"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native plugin doesn't find declarations from generated klib</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When I try to use a klib in clion with cmake the kotlin-native doesn't automatically find the declarations from the klib. The project build without a problem but the editor displays errors.

Here is an example project that creates a klib:

    https://gitbucket.astraeus.nl/rnentjes/create-klib-test

Here is the project that uses it:

    https://gitbucket.astraeus.nl/rnentjes/use-klib-test

Attached is a ![screenshot](Screenshot at 2018-01-22 19-00-17.png) showing the errors.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1516644277479</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1516701881705</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rnentjes.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Rien</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><value>IDE. Native</value><valueId>Native</valueId><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-485379" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20at%202018-01-22%2019-00-17.png?file=74-485379&amp;c=true">Screenshot at 2018-01-22 19-00-17.png</value></field></issue><issue id="KT-22441" entityId="25-1846512"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22441</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: incorrect resolve of the namespace for multiple executables</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The Kotlin plugin complains about 'conflicting overloads' on functions or fields of the same name in separate main files which are meant for separate executables.

It builds fine as the declarations are always only used once in each executable.

See this project for an example: https://gitbucket.astraeus.nl/rnentjes/multi-exe-cmake

See the attached screenshot to get the idea.

kotlin-native-macos-0.5-dev-578
Kotlin plugin: 1.2.30-dev-283 (0.1-dev-86)
CLion 2017.3.2 (173.4301.33)
OS X 10.13.2 (17C88)

Original description
```stacktrace
The kotlin plugin complains about 'conflicting overloads' if I define the same function in separate main files which are meant for separate executables.

It builds fine as the declarations are always only used once in each executable.

See this project for an example: https://gitbucket.astraeus.nl/rnentjes/multi-exe-cmake

See the attached screenshot to get the idea.
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1516645873980</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1516699918906</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rnentjes.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Rien</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Native</value><valueId>IDE</valueId><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-485386" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20at%202018-01-22%2019-24-35.png?file=74-485386&amp;c=true">Screenshot at 2018-01-22 19-24-35.png</value></field></issue><issue id="KT-22467" entityId="25-1847587"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22467</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Error inlining method from another module</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>**Steps:**
- Create a new project in IDEA (for example, using Gradle) with two modules
- Create in one of the modules a file containing
  ```
  val mapa = HashMap&lt;Int, Int&gt;()
  inline fun teste() = mapa[0] ?: 1
  ```
- Create in the other module a file containing
  ```
  fun main(args: Array&lt;String&gt;)
  {
  	teste()
  }
  ```

**Messages output:**
```
Information:Kotlin: kotlinc-jvm 1.2.10 (JRE 1.8.0_131-b11)
```
```
Information:23/01/2018 17:16 - Compilation completed with 1 error and 0 warnings in 2s 205ms
```
```
Error:Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'teste' into
public fun main(args: kotlin.Array&lt;kotlin.String&gt;): kotlin.Unit defined in tst in file TesteOpa.kt
fun main(args: Array&lt;String&gt;)
{
	teste()
}
Cause: Not generated
Cause: Couldn't obtain compiled function body for public inline fun teste(): kotlin.Int defined in tst[DeserializedSimpleFunctionDescriptor@4517f3a6]
File being compiled and position: (5,2) in D:/P/J/Teste/tst/src/test/kotlin/tst/TesteOpa.kt
PsiElement: teste()
The root cause was thrown at: InlineCodegen.kt:500
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:132)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:180)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:648)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:634)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2301)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2252)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1588)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:56)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:76)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:570)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:333)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:177)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:148)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)
	at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:100)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:78)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:45)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:450)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:152)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:380)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:378)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Couldn't obtain compiled function body for public inline fun teste(): kotlin.Int defined in tst[DeserializedSimpleFunctionDescriptor@4517f3a6]
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen$Companion.createInlineMethodNode$backend(InlineCodegen.kt:500)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:170)
	... 61 more
```

**Solution!:**
The problem goes away if I change the declaration of `teste()` to either `inline fun teste() = mapa[0]` or `inline fun teste(): Int = mapa[0] ?: 1`. So looks like the problem arises when using `?:` without specifying the return type explicitly.

*(Similar to https://youtrack.jetbrains.com/issue/KT-22086, but not the same)*</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1516736082549</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004641</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>igorkingamer</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Igor Solecki</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.10</value><value>1.2.20</value><valueId>1.2.10</valueId><valueId>1.2.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22518" entityId="25-1849774"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22518</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Better formatting for parenthesized binary expressions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>All children of a parenthesized binary expression should have equal indent. The closing parenthesis should not be indented when placed on a separate line.

{code}
return (
        foo &amp;&amp;
        bar
)
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1516892866943</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975423</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yole</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Jemerov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2683071" author="Andrey.Breslav" authorFullName="Andrey Breslav" issueId="KT-22518" deleted="false" text="Should this apply to conditions of if's and while's too? (They are always in parentheses, but technically are not parenthesized expressions)" shownForIssueAuthor="false" created="1516956271514" markdown="true"><replies/></comment><comment id="27-2683172" author="yole" authorFullName="Dmitry Jemerov" issueId="KT-22518" deleted="false" text="I think so, yes." shownForIssueAuthor="false" created="1516959098001" markdown="false"><replies/></comment></issue><issue id="KT-22529" entityId="25-1850663"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22529</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Formatter doing some weird things here</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>What steps will reproduce the issue?
1. Cloned https://github.com/square/java-code-styles master branch
2. Close all your IntellIJ / Android Studio instances. 
3. Run ./install.sh from the cloned repo.
4. Open IntellIJ / Android Studio and select SquareAndroid as code style.
5. Format code like the one I'm sharing on this tweet: https://twitter.com/JorgeCastilloPr/status/956846255635927040 

What is the expected result?

- Second image on the tweet (except for the indentation mistake on its final line)

What happens instead?

- Weird formatting showcased on the first shared screenshot.

I would say this is not an IntellIJ / Android Studio error since it's just the formatter applying the rules given by the mentioned code style config, but I might be wrong. I am adding this ticket since I was asked to on Twitter https://twitter.com/intelliyole/status/956849051282100224

Thanks in advance.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1516966994233</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522841975422</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jorge.castillo.prz</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jorge Castillo Pérez</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-487088" url="https://youtrack.jetbrains.com/_persistent/Captura%20de%20pantalla%202018-01-26%20a%20las%2012.01.37.png?file=74-487088&amp;c=true">Captura de pantalla 2018-01-26 a las 12.01.37.png</value><value id="74-487089" url="https://youtrack.jetbrains.com/_persistent/Captura%20de%20pantalla%202018-01-26%20a%20las%2012.03.17.png?file=74-487089&amp;c=true">Captura de pantalla 2018-01-26 a las 12.03.17.png</value></field></issue><issue id="KT-22617" entityId="25-1854998"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22617</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDEA inserts full name for functions from stdlib when they initialize thus destructuring declaration in Kotlin script</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Open regular Kotlin script file. Paste this code: {code:lang=Kotlin|title=dummy.kts}val (a, b) = listOf(1, 2)
{code}

“Select Elements to Import” window will appear. It is already strange because {{listOf}} is from {{stdlib}}. Press OK and notice that now you have full name of {{listOf()}} function:
{code:lang=Kotlin|title=dummy.kts}val (a, b) = kotlin.collections.listOf(1, 2){code}

Paste one more example:
{code:lang=Kotlin|title=dummy.kts}val (x, y) = list{code}

Put caret right after {{list}}, type {{Of}} and choose from autocompletion list proper version — {{listOf()}}. IDEA inserted the full name of function from {{stdlib}} again. 

NB: no such problem for regular Kotlin files.

IJ 2017.3.4 RC (#IU-173.4548.10) + Kotlin 1.2.30-eap-10
IJ 2018.1  (#IU-181.3096) + Kotlin 1.2.30-dev-730</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1517417121836</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216441</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-19236</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><value>IDE. Script</value><valueId>IDE. Completion</valueId><valueId>IDE. Script</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22736" entityId="25-1861273"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22736</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>CompilationException when inlining with crossinline default values and method references</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>## Environment
- IntelliJ 2018.1 EAP
- Gradle 4.4
- Kotlin 1.2.21 (I could only select 1.2.20 for affected versions though)


## Reproduction

A couple of notes about reproduction:
It will compile fine if you do any one of these:
- Removing `onActivityResumed`, `onActivityPaused`, or `onActivityDestroyed` it compiles fine.
- Remove the function reference `::onActivityResumed` 
- Remove `onPaused` empty lambda and declare default value for `onPaused`
- Don't use `onActivityDestroyed` default value and declare explicitly (like `onPaused`)

But of note, it will compile if you simply re-arrange the named parameter order.
i.e. *this* will compile:
```kotlin
        registerActivityCallbacks(
            onPaused = { },
            onResumed = ::onActivityResumed
        )
```

Full reproduction code (this fails to compile):
```kotlin
class SomeClass {
    fun someFunction() {
        registerActivityCallbacks(
            onResumed = ::onActivityResumed,
            onPaused = { }
        )
    }

    private fun onActivityResumed() {
    }
}

interface Callbacks {
    fun onActivityResumed()
    fun onActivityPaused()
    fun onActivityDestroyed()
}

inline fun registerActivityCallbacks(
    crossinline onResumed: () -&gt; Unit,
    crossinline onPaused: () -&gt; Unit,
    crossinline onDestroyed: () -&gt; Unit = {}
): Callbacks {
    return object : Callbacks {
        override fun onActivityResumed() = onResumed.invoke()
        override fun onActivityPaused() = onPaused.invoke()
        override fun onActivityDestroyed() = onDestroyed.invoke()
    }
}
```

## Stacktrace
```stacktrace
Error:Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'registerActivityCallbacks' into
public final fun someFunction(): kotlin.Unit defined in com.test.SomeClass
fun someFunction() {
        registerActivityCallbacks(
            onResumed = ::onActivityResumed,
            onPaused = { }
        )
    }
Cause: registerActivityCallbacks$default (Lkotlin/jvm/functions/Function0;Lkotlin/jvm/functions/Function0;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)Lcom/test/Callbacks;:
   L0
   L1
    LINENUMBER 24 L1
    INVOKESTATIC $$$DEFAULT_LAMBDA_FAKE_CALL$$$.$$$DEFAULT_LAMBDA_FAKE_CALL$$$2 ()V
   L2
   L3
   L4
    ALOAD 0
    LDC "onResumed"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    ALOAD 1
    LDC "onPaused"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    ALOAD 2
    LDC "onDestroyed"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L5
    LINENUMBER 31 L5
    NEW com/test/ExampleKt$registerActivityCallbacks$2
    DUP
    ALOAD 0
    ALOAD 1
    ALOAD 2
    INVOKESPECIAL com/test/ExampleKt$registerActivityCallbacks$2.&lt;init&gt; (Lkotlin/jvm/functions/Function0;Lkotlin/jvm/functions/Function0;Lkotlin/jvm/functions/Function0;)V
    CHECKCAST com/test/Callbacks
   L6
    LINENUMBER 35 L6
    ARETURN
   L7
    ARETURN
    LOCALVARIABLE onResumed Lkotlin/jvm/functions/Function0; L0 L7 0
    LOCALVARIABLE onPaused Lkotlin/jvm/functions/Function0; L0 L7 1
    LOCALVARIABLE onDestroyed Lkotlin/jvm/functions/Function0; L2 L7 2
    LOCALVARIABLE $i$f$registerActivityCallbacks I L3 L7 3
    MAXSTACK = 5
    MAXLOCALS = 5
Cause: lateinit property node has not been initialized
File being compiled and position: (5,9) in /home/awaters/Developer/kotlin-compile-bug/src/main/kotlin/com/test/Example.kt
The root cause was thrown at: LambdaInfo.kt:56
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:133)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:181)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:677)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:663)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2324)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:568)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:297)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:147)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:168)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:84)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:316)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:157)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:100)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:78)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:45)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:456)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:152)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:162)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:109)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:53)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:381)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:97)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:895)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:97)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:925)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:894)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:379)
	at sun.reflect.GeneratedMethodAccessor80.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: kotlin.UninitializedPropertyAccessException: lateinit property node has not been initialized
	at org.jetbrains.kotlin.codegen.inline.LambdaInfo.getNode(LambdaInfo.kt:56)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:223)
	at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:317)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:208)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:172)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:127)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:163)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:186)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)
	at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:317)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:298)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:172)
	... 65 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1517968990718</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522332004645</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alex.Waters</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alex Waters</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.20</value><valueId>1.2.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-22836" entityId="25-1866180"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22836</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Compiler allows null value to be a assigned to non-nullable variable</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following Android code is expected to throw a compilation error since the `getString()` method from the Android framework is marked as `@Nullable`. In this scenario, the compiler should enforce that `id` be defined as `String?` and disallow `String`
```kotlin
class DummyClass {

  private fun foo(prefs: SharedPreferences) {
    var id: String = prefs.getString("SOME_KEY", null)
    // ...
  }

}
```

However, the above code compiles fine without any compilation errors. Also, the execution of this code does not yield the expected error: `null cannot be value of non null type kotlin`.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1518520352931</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1518797427461</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Savvinov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Savvinov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>quiqueqs</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Henrique Boregio</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>9</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Denis Zharkov">denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Java Descriptors and Signatures</value><valueId>Java Descriptors and Signatures</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-494199" url="https://youtrack.jetbrains.com/_persistent/ExAnn.png?file=74-494199&amp;c=true">ExAnn.png</value></field><comment id="27-2706745" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-22836" deleted="false" text="As far as I see, there is `android.annotation.Nullable` annotation used to define the nullability. However, it is not supported as a [nullability annotation in Kotlin|https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations] and, therefore, `getString` is visible as a regular platform type and treated correspondingly. " shownForIssueAuthor="false" created="1518538456382" markdown="false"><replies/></comment><comment id="27-2706784" author="quiqueqs" authorFullName="Henrique Boregio" issueId="KT-22836" deleted="false" text="Is there a specific reason why `android.annotation.Nullable` was left out of the supported Nullable annotations or was it just overlooked?" shownForIssueAuthor="false" created="1518540344797" markdown="true"><replies/></comment><comment id="27-2707208" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-22836" deleted="false" text="@quiqueqs, there are some reasons, of course, but we'll discuss its support and try to find out what can be done here. " shownForIssueAuthor="false" created="1518596379490" updated="1518538456340" markdown="false"><replies/></comment><comment id="27-2707231" author="quiqueqs" authorFullName="Henrique Boregio" issueId="KT-22836" deleted="false" text="Thanks." shownForIssueAuthor="false" created="1518597672695" updated="1518540344758" markdown="true"><replies/></comment><comment id="27-2709002" author="gamalik" authorFullName="Andreas Malik" issueId="KT-22836" deleted="false" text="In this special case, it is not only `android.annotation.Nullable`, but there is also an external `org.jetbrains.annotations.Contract` annotation on the signature. &#xA;&#xA;This contract states that the result of `getString` is non-null if `defValue` is non-null.&#xA;&#xA;As far as I can see, this contract isn't respected either: the result will remain platform type even if defValue is a string literal." shownForIssueAuthor="false" created="1518695058356" markdown="false"><replies/></comment><comment id="27-2709387" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-22836" deleted="false" text="Can you please give an explicit code example including `org.jetbrains.annotations.Contract` annotation to give an idea of what we are talking about? I can't find its usage in the Android API so far, so it might be something specific." shownForIssueAuthor="false" created="1518701173906" updated="1518596379445" markdown="false"><replies/></comment><comment id="27-2711188" author="gamalik" authorFullName="Andreas Malik" issueId="KT-22836" deleted="false" text="@Lilia.Abdulina &#xA;Open `SharedPreferences.java` in Android Studio 3.0.1&#xA;Navigate to `getString(...)` (line 259 in the android-26 sources)&#xA;Hover over the `@` gutter icon with the mouse.&#xA;This will show the external annotations. One of them is `org.jetbrains.annotations.Contract`.&#xA;I guess the external annotations are provided either by JetBrains or by Google." shownForIssueAuthor="false" created="1518792306867" updated="1518695058284" markdown="false"><replies/></comment><comment id="27-2711239" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-22836" deleted="false" text="I see. Thanks for the clarification!" shownForIssueAuthor="false" created="1518793338816" updated="1518701173872" markdown="false"><replies/></comment><comment id="27-2711361" author="Dmitry.Savvinov" authorFullName="Dmitry Savvinov" issueId="KT-22836" deleted="false" text="@gamalik we're looking at how we can extract smartcasts-information from such kinds of functions. As a subtask, this includes support of the `org.jetbrains.annotations.Contract`. &#xA;I've create separate issue for that: https://youtrack.jetbrains.com/issue/KT-22905" shownForIssueAuthor="false" created="1518797427464" markdown="true"><replies/></comment></issue><issue id="KT-22855" entityId="25-1867555"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22855</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native plugin: ReadOnlyModificationException: Attempt to modify read-only document</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Navigate to any stdlib `.knm`-file like: ~/.konan/kotlin-native-macos-0.6/klib/common/stdlib/linkdata/package_kotlin.text.knm
Exception arises if one tries to do Refactor &gt; Rename
Any subsequent tryouts to do rename on any available to refactor elements (not read-only) make CLion show a message box with "Cannot perform refactoring"

```Attempt to modify read-only document
com.intellij.openapi.editor.ReadOnlyModificationException: Attempt to modify read-only document
	at com.intellij.openapi.editor.impl.DocumentImpl.deleteString(DocumentImpl.java:486)
	at com.intellij.codeInsight.template.TemplateBuilderImpl.buildInlineTemplate(TemplateBuilderImpl.java:195)
	at com.intellij.refactoring.rename.inplace.InplaceRefactoring.a(InplaceRefactoring.java:377)
	at com.intellij.refactoring.rename.inplace.InplaceRefactoring.access$000(InplaceRefactoring.java:81)
	at com.intellij.refactoring.rename.inplace.InplaceRefactoring$2.run(InplaceRefactoring.java:332)
	at com.intellij.openapi.application.RunResult.run(RunResult.java:35)
	at com.intellij.openapi.command.WriteCommandAction.lambda$null$1(WriteCommandAction.java:175)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1010)
	at com.intellij.openapi.command.WriteCommandAction.lambda$performWriteCommandAction$2(WriteCommandAction.java:174)
	at com.intellij.openapi.command.WriteCommandAction.lambda$doExecuteCommand$4(WriteCommandAction.java:214)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.a(CoreCommandProcessor.java:149)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:119)
	at com.intellij.openapi.command.WriteCommandAction.doExecuteCommand(WriteCommandAction.java:216)
	at com.intellij.openapi.command.WriteCommandAction.performWriteCommandAction(WriteCommandAction.java:172)
	at com.intellij.openapi.command.WriteCommandAction.execute(WriteCommandAction.java:155)
	at com.intellij.refactoring.rename.inplace.InplaceRefactoring.buildTemplateAndStart(InplaceRefactoring.java:334)
	at com.intellij.refactoring.rename.inplace.VariableInplaceRenamer.buildTemplateAndStart(VariableInplaceRenamer.java:122)
	at com.intellij.refactoring.rename.inplace.InplaceRefactoring.performInplaceRefactoring(InplaceRefactoring.java:199)
	at com.intellij.refactoring.rename.inplace.VariableInplaceRenamer.performInplaceRename(VariableInplaceRenamer.java:98)
	at com.intellij.refactoring.rename.inplace.MemberInplaceRenameHandler$1.pass(MemberInplaceRenameHandler.java:65)
	at com.intellij.refactoring.rename.inplace.MemberInplaceRenameHandler$1.pass(MemberInplaceRenameHandler.java:61)
	at org.jetbrains.kotlin.idea.refactoring.rename.RenameKotlinFunctionProcessor$substituteElementToRename$2.invoke(RenameKotlinFunctionProcessor.kt:150)
	at org.jetbrains.kotlin.idea.refactoring.rename.RenameKotlinFunctionProcessor.substituteElementToRename(RenameKotlinFunctionProcessor.kt:162)
	at com.intellij.refactoring.rename.inplace.MemberInplaceRenameHandler.doRename(MemberInplaceRenameHandler.java:61)
	at com.intellij.refactoring.rename.inplace.VariableInplaceRenameHandler.invoke(VariableInplaceRenameHandler.java:90)
	at org.jetbrains.kotlin.idea.refactoring.rename.KotlinRenameDispatcherHandler.invoke(KotlinRenameDispatcherHandler.kt:49)
	at com.intellij.refactoring.actions.BaseRefactoringAction.actionPerformed(BaseRefactoringAction.java:131)
	at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)
	at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:88)
	at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)
	at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:235)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.a(ActionMenuItem.java:301)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:295)
	at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:104)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:291)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.a(ActionMenuItem.java:111)
	at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:88)
	at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:111)
	at com.intellij.openapi.application.TransactionGuardImpl.submitTransaction(TransactionGuardImpl.java:120)
	at com.intellij.openapi.application.TransactionGuard.submitTransaction(TransactionGuard.java:122)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:111)
	at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:528)
	at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:48)
	at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:548)
	at java.awt.Component.processMouseEvent(Component.java:6541)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3325)
	at java.awt.Component.processEvent(Component.java:6306)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4897)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4719)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4719)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)
	at java.awt.EventQueue.access$500(EventQueue.java:98)
	at java.awt.EventQueue$3.run(EventQueue.java:715)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:737)
	at java.awt.EventQueue$4.run(EventQueue.java:735)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)
	at com.intellij.ide.IdeEventQueue.n(IdeEventQueue.java:831)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:756)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:428)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1518619273729</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1518619578032</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Pavel.Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Pavel Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Pavel.Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><value>IDE. Native</value><valueId>Native</valueId><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2707893" author="Pavel.Punegov" authorFullName="Pavel Punegov" issueId="KT-22855" deleted="false" text="Version info: CLion 181.3741.16 with kotlinNative-clion-181.3741.20" shownForIssueAuthor="false" created="1518619330617" markdown="true"><replies/></comment><comment id="27-2707898" author="Pavel.Punegov" authorFullName="Pavel Punegov" issueId="KT-22855" deleted="false" text="Looks like it happens only if the method was tried to be renamed" shownForIssueAuthor="false" created="1518619578033" updated="1518619330540" markdown="true"><replies/></comment></issue><issue id="KT-22916" entityId="25-1870203"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22916</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cannot inline reified inline function in plugin project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>One line of code:

```kotlin
parentOfType&lt;JuliaStatements&gt;()
```

Will cause:

```
e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'parentOfType' into
public open val startPoint: com.intellij.psi.PsiElement defined in org.ice1000.julia.lang.psi.impl.JuliaFunctionMixin
override val startPoint: PsiElement get() = parentOfType&lt;JuliaStatements&gt;() ?: parent.parent
Cause: Not generated
Cause: Couldn't obtain compiled function body for public inline fun &lt;reified T : com.intellij.psi.PsiElement&gt; com.intellij.psi.PsiElement.parentOfType(): T? defined in com.intellij.psi.util[DeserializedSimpleFunctionDescriptor@2cedda3e]
File being compiled and position: (47,46) in /home/ice1000/git-repos/julia-intellij/src/org/ice1000/julia/lang/psi/impl/julia-psi-mixin.kt
The root cause was thrown at: InlineCodegen.kt:529
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:133)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:181)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:677)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:663)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2324)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.CoercionValue.putSelector(StackValue.kt:38)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateElvis$19(ExpressionCodegen.java:3346)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:568)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:331)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:297)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)
	at org.jetbrains.kotlin.codegen.PropertyCodegen.generateAccessor(PropertyCodegen.java:495)
	at org.jetbrains.kotlin.codegen.PropertyCodegen.generateGetter(PropertyCodegen.java:458)
	at org.jetbrains.kotlin.codegen.PropertyCodegen.gen(PropertyCodegen.java:142)
	at org.jetbrains.kotlin.codegen.PropertyCodegen.gen(PropertyCodegen.java:110)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:221)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:168)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:84)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:316)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:157)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:100)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:78)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:45)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:456)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:152)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:162)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:109)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:53)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:451)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:97)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:218)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:89)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:518)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:97)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:400)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:97)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:895)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:97)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:925)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:894)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:399)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Couldn't obtain compiled function body for public inline fun &lt;reified T : com.intellij.psi.PsiElement&gt; com.intellij.psi.PsiElement.parentOfType(): T? defined in com.intellij.psi.util[DeserializedSimpleFunctionDescriptor@2cedda3e]
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen$Companion.createInlineMethodNode$backend(InlineCodegen.kt:529)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:171)
	... 79 more
```

Build config:

+ IU-173.4548.28
+ Kotlin 1.2.21
+ It's a plugin project build with gradle, config can be found in https://github.com/ice1000/julia-intellij/, only one `build.gradle` file.

It's just one line of code that will make the internal error happen. I don't think it's necessary to provide any other context.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1518941982081</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1526775765202</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ice1000</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Tesla Ice Zhang</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ice1000</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tesla Ice Zhang</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>12</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">KT-23020</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.20</value><value>1.2.30</value><valueId>1.2.20</valueId><valueId>1.2.30</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2711993" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-22916" deleted="false" text="Adding `parentOfType&lt;JuliaStatements&gt;()` to arbitrary function body in `julia-intellij` project doesn't cause the problem. Can you specify where do you add it?&#xA;&#xA;I can suppose that we've met the same root problem that causes KT-22141 and your KT-22882. (In short: Kotlin code refers Java class that refers Kotlin code, in certain _valid_ situations, that compiler can't process though.) But the exact problem is better to observe anyway." shownForIssueAuthor="false" created="1518982293151" markdown="false"><replies/></comment><comment id="27-2712408" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-22916" deleted="false" text="@sashache This line: https://github.com/ice1000/julia-intellij/blob/f90523c112dde948cf01807e9b2aca6447c6860c/src/org/ice1000/julia/lang/psi/impl/julia-psi-mixin.kt#L30&#xA;&#xA;It's currently `PsiTreeUtil.getParentOfType`, which compiles fine, but if I change it to `parentOfType&lt;JuliaStatements&gt;()` it doesn't work.&#xA;&#xA;You said it works in arbitrary function body, I guess it's because the function is Kotlin and it's `final`, so no problem. Here my `*Mixin` function is extended by another java class so there're problems.." shownForIssueAuthor="false" created="1519038164556" updated="1519038936211" markdown="true"><replies/></comment><comment id="27-2713103" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-22916" deleted="false" text="Clear enough, but sorry, still can't reproduce.&#xA;Tried both master of https://github.com/ice1000/julia-intellij and this revision, just for case:&#xA;https://github.com/ice1000/julia-intellij/tree/f90523c112dde948cf01807e9b2aca6447c6860c&#xA;&#xA;Opened the project, changed the getter to `get() = parentOfType&lt;JuliaStatements&gt;() ?: parent`&#xA;&#xA;Built with Gradle, no tricks, did not change any config, just clean + build. There are only errors in running tests, but no compiler failure." shownForIssueAuthor="false" created="1519053279482" markdown="false"><replies/></comment><comment id="27-2713206" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-22916" deleted="false" text="Let me try again, wait" shownForIssueAuthor="false" created="1519056184225" updated="1519038164522" markdown="true"><replies/></comment><comment id="27-2713219" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-22916" deleted="false" text="Reproduced locally:&#xA;&#xA;```&#xA;e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'parentOfType' into&#xA;public open val startPoint: com.intellij.psi.PsiElement defined in org.ice1000.julia.lang.psi.impl.JuliaDeclaration&#xA;open val startPoint: PsiElement get() = parentOfType&lt;JuliaStatements&gt;() ?: parent&#xA;Cause: Not generated&#xA;Cause: Couldn't obtain compiled function body for public inline fun &lt;reified T : com.intellij.psi.PsiElement&gt; com.intellij.psi.PsiElement.parentOfType(): T? defined in com.intellij.psi.util[DeserializedSimpleFunctionDescriptor@676ab4f3]&#xA;File being compiled and position: (29,42) in /home/ice1000/git-repos/julia-intellij/src/org/ice1000/julia/lang/psi/impl/julia-psi-mixin.kt&#xA;The root cause was thrown at: InlineCodegen.kt:529&#xA;```&#xA;&#xA;But works on CI (magic..).&#xA;&#xA;I guess it's becasue of the changes in the IDE dependency used.&#xA;Could you please change `localPath` in `build.gradle` to a path to an IDE with version `IU-173.4548.28`?&#xA;&#xA;If you still cannot reproduce this, please mark it as &quot;cannot reproduce&quot; and close it." shownForIssueAuthor="false" created="1519056844797" updated="1519056979036" markdown="true"><replies/></comment><comment id="27-2713494" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-22916" deleted="false" text="Thank you, reproduced!&#xA;&#xA;The generated bytecode of `parentOfType()` in IDEA 2017.3 is the following (decompiled):&#xA;```&#xA;   private static final PsiElement b(@NotNull PsiElement var0) {&#xA;      KClass[] var10001 = new KClass[1];&#xA;      Intrinsics.reifiedOperationMarker(4, &quot;T&quot;);&#xA;      var10001[0] = Reflection.getOrCreateKotlinClass(PsiElement.class);&#xA;      return parentOfType(var0, var10001);&#xA;   }&#xA;```&#xA;Yes, the name is `b()`. It's obfuscated. In IDEA 2018 the name is correct.&#xA;&#xA;*To developers*: I don't know should Kotlin compiler get function name from metadata, when the name in bytecode is obfuscated.&#xA;Probably not, but if still yes, then please consider.&#xA;&#xA;-----&#xA;&#xA;The summary to reproduce (repeats all things above in short).&#xA;The problem occurs with referred project https://github.com/ice1000/julia-intellij&#xA;&#xA;In `build.gradle`, if you specify IDEA 2017.3 as the platform:&#xA;`localPath '/home/ache/JB Soft/idea-IU-173.x-2017.3.x'`&#xA;Then the issue occurs.&#xA;&#xA;If you specify IDEA 2018.1, it does not occur:&#xA;`localPath '/home/ache/JB Soft/idea-IU-181.x-2018.1.x'`&#xA;&#xA;To reproduce it's enough to insert the following into project sources (tried `julia-psi-mixin.kt`):&#xA;```&#xA;abstract class FaceUsage : PsiElement {&#xA;    val checkPoint&#xA;        get() = parentOfType&lt;JuliaStatements&gt;()&#xA;}&#xA;```&#xA;The `parentOfType` is from IDEA platform.&#xA;&#xA;If you copy the source of `parentOfType` into the project and use the copy, the problem *does not occur*." shownForIssueAuthor="false" created="1519077580329" updated="1519124214998" markdown="false"><replies/></comment><comment id="27-2713613" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-22916" deleted="false" text="`IDEA 2018.3`? Are you sure? :D" shownForIssueAuthor="false" created="1519111572166" updated="1519056844737" markdown="true"><replies/></comment><comment id="27-2718901" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-22916" deleted="false" text="Any plan for fixing this? I have an idea: add a `@JvmPublic` annotation for `reified inline` functions, so the generated function will not be `private`, and the obfuscater will not rename the function." shownForIssueAuthor="false" created="1519486034409" updated="1519111572130" markdown="true"><replies/></comment><comment id="27-2718914" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-22916" deleted="false" text="Kotlin team can fix only inconsistent behavior with obfuscated elements, including compiler crash.&#xA;&#xA;Avoiding the obfuscation is probably the task for IDEA team. But IDEA 2018.1 has this issue already fixed. Do you need IDEA 2017.3 specifically?" shownForIssueAuthor="false" created="1519490357244" markdown="false"><replies/></comment><comment id="27-2718922" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-22916" deleted="false" text="Ah, OK. I know what you mean." shownForIssueAuthor="false" created="1519494259121" updated="1519494389267" markdown="true"><replies/></comment><comment id="27-2718923" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-22916" deleted="false" text="I've accidently cloned this issue just now, how can I delete it.." shownForIssueAuthor="false" created="1519494407889" updated="1519494259074" markdown="true"><replies/></comment><comment id="27-2718942" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-22916" deleted="false" text="The dup is closed, but this one may stay open: maybe compiler team will fix the exception." shownForIssueAuthor="false" created="1519501867152" markdown="false"><replies/></comment><comment id="27-2787465" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-22916" deleted="true" text="LOL" shownForIssueAuthor="false" created="1522334885612" updated="1519494407853" markdown="true"><replies/></comment></issue><issue id="KT-22968" entityId="25-1872580"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22968</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Actor body running in parallel instead of serial in a React Native application</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I'm playing around with the actor stuff in the coroutine packages in Kotlin in a React Native application and it appears that messages dispatched to my actor from `@ReactProp` methods from within React Native are actually being handled in parallel. At a high level, this is what is happening.

This is the actor definition
```kt
fun myActor() = actor&lt;MyMsg&gt;(CommonPool) {
    var i: Int? = null

    for (msg in channel) {
        when (msg) {
            is MyMsg.Foo -&gt; {
                if (i == null) {
                    Log.i("TEST", "Setting i")
                    i = 1
                } else {
                    Log.i("TEST", "i was already set")
                }
            }
        }
    }
}
```

This is the React Native ViewManager code

```kt
class MyViewManager(val reactContext: ReactContext) : SimpleViewManager&lt;MyView&gt;() {

    override fun getName(): String = "MyView"

    override fun createViewInstance(reactContext: ThemedReactContext): MyView = MyView(reactContext)

    @ReactProp(name = "test")
    fun setTest(view: NativeCameraView, test: Boolean) {
        launch(CommonPool) {
            // This is called multiple times in a row from React Native
            view.foo()
        }
    }
}
```

And finally, here is view.foo, the thing that send the message to the actor
```kt
    suspend fun foo() {
        actor.send(MyMsg.Foo())
    }
```

React Native seems to be calling my `setTest` twice in a row, which I expected to be fine because I was expecting the actor to handle messages in serial, but this is what I'm seeing in the logs.

```
Setting i
Setting i
```

I might be misunderstanding actors here, but I though this was impossible. Is this a bug in the actor implementation or am I actually just wrong about actors? I think it has to do somehow with React Native because I get the behavior I expect (sequential) when I use pure Android. It might have to do with React Native potentially running from another process or thread pool?
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1519164151153</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1519663889808</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>anthony.naddeo</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anthony Naddeo</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Roman Elizarov">elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Libraries</value><valueId>Libraries</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2715031" author="anthony.naddeo" authorFullName="Anthony Naddeo" issueId="KT-22968" deleted="false" text="Also, I'm instantiating my actors from a View that is created and handled by React Native. That might be important. " shownForIssueAuthor="false" created="1519164247729" markdown="true"><replies/></comment><comment id="27-2715036" author="anthony.naddeo" authorFullName="Anthony Naddeo" issueId="KT-22968" deleted="false" text="Ok, I just tested moving my actor initialization out of the view code and into the Android code and it works as expected. It seems that actors do actually get messages in parallel if you create them from the code controlled by React Native.&#xA;&#xA;I was doing this to try and come up with a way of re-using all of the view logic from within a React Native component as well as from within an Android fragment to avoid having to have a ton of wrapper code that just creates things like actors." shownForIssueAuthor="false" created="1519165020012" updated="1519164247684" markdown="true"><replies/></comment></issue><issue id="KT-22994" entityId="25-1873638"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>22994</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong code completion suggestions after smart cast from null value</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Code:
```
    var v : Int? = 2

    //val t1 = v+1 // This line does not compile Error:(10, 15) Kotlin: Operator call corresponds to a dot-qualified call 'v.plus(1)' which is not allowed on a nullable receiver 'v'.
    //println(t1)

    v = 2
    val t2 = v+1 // smart cast to Int
    println(t2)

    v = null
    val t3 = v+1 // unexpected smart cast to "String?"
    println(t3)

```

What is seemed to be questionable:
1. Smart casts of `t2` and `t1` are different
2. `v+1` inferred as `String?` 
3. IDEA suggests Int's methods in autocomplete (see screenshot)

IDEA 
2017.3.4 plugin 1.2.21-release-IJ2017.3-1
2018.1 EAP, plugin  1.2.30-eap-60-IJ2018.1-1
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1519251913096</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216444</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>speshuric</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Speshilov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2</value><valueId>1.2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-495735" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-495735&amp;c=true">image.png</value></field><comment id="27-2717577" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-22994" deleted="false" text="Points 1 and 2 have some logic.&#xA;In `t2` case we know that `v is Int` =&gt; `Int.plus(Int) is Int` =&gt; `t2 is Int`.&#xA;In `t3` case we know that `v is null`, so we search for any function `plus()` on nullable receiver and find only `String?.plus(Any?): String`. So the resulted `t3 is String`.&#xA;&#xA;The completion really fails, IMHO. So I'd rewrite this issue to keep only completion issue.&#xA;&#xA;Cc @mikhail.glukhikh, @Simon.Ogorodnik : other thoughts?" shownForIssueAuthor="false" created="1519312665325" markdown="false"><replies/></comment><comment id="27-2717667" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-22994" deleted="false" text="Yes, at point 2 we should have smart cast to `Nothing?` after null assignment, so I think it's normal behaviour." shownForIssueAuthor="false" created="1519315685020" markdown="false"><replies/></comment><comment id="27-2717711" author="speshuric" authorFullName="Alexander Speshilov" issueId="KT-22994" deleted="false" text="It's not clear for me why there is smart cast in `t2`, but no smart cast at `t1`?&#xA;" shownForIssueAuthor="false" created="1519318276384" markdown="true"><replies/></comment><comment id="27-2717726" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-22994" deleted="false" text="@speshuric See https://youtrack.jetbrains.com/issue/KT-18532" shownForIssueAuthor="false" created="1519319344716" updated="1519315684978" markdown="false"><replies/></comment><comment id="27-2717728" author="speshuric" authorFullName="Alexander Speshilov" issueId="KT-22994" deleted="false" text="Thanks, now it is clear. " shownForIssueAuthor="false" created="1519319620082" updated="1519318276348" markdown="true"><replies/></comment><comment id="27-2717734" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-22994" deleted="false" text="Then I'm changing the issue to completion-only.&#xA;&#xA;In IDEA 182.243 + Kotlin plugin 1.2.40-dev-499 the problem seems to occur only for smart casts from null value." shownForIssueAuthor="false" created="1519320301692" markdown="false"><replies/></comment></issue><issue id="KT-23026" entityId="25-1875693"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23026</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Code completion: Incorrect `const` in class declaration line</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>This hint makes no sense
![](image.png)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1519590872127</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216460</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>panell</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Igor Wojda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><valueId>1.2.40</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-496513" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-496513&amp;c=true">image.png</value></field></issue><issue id="KT-23118" entityId="25-1882957"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23118</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unusable Kotlin performance with complex java generics</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Hi, I'm using a library (https://github.com/jorabin/KeePassJava2) that declares an interface as follows: 
```
public interface Entry &lt;D extends Database&lt;D, G, E, I&gt;, 
                        G extends Group&lt;D, G, E, I&gt;, 
                        E extends Entry&lt;D,G,E,I&gt;, 
                        I extends Icon&gt; {
...
}
```
and then another interface that makes use of the above one as follows:
```
public interface Visitor {
    void visit(Entry entry);
}
```
If you try to implement the `Visitor` interface in Kotlin, you end up with the following:
```
class MyVisitor: Visitor {
    override fun visit(entry: Entry&lt;out Database&lt;*, *, *, *&gt;, out Group&lt;*, *, *, *&gt;, out Entry&lt;*, *, *, *&gt;, *&gt;?) {
        // if you type `.` then `Ctrl + Tab` after "entry", Intellij will become unresponsive for several tens of seconds
        entry
    }
```
See my comment in the `visit` method: if you type `.` then `Ctrl + Tab` after "entry", Intellij will become unresponsive for several tens of seconds computing the completions.

I'm attaching a minimal idea/gradle project where the issue can be reproduced.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1520181737471</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522843216462</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Ameen</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Amyn Bennamane</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-498965" url="https://youtrack.jetbrains.com/_persistent/KeepassClipboard.zip?file=74-498965&amp;c=true">KeepassClipboard.zip</value></field></issue><issue id="KT-23233" entityId="25-1893391"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23233</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>TCE “null cannot be cast to non-null type ClassDescriptor” on opening Kotlin Bytecode window with enabled IR in Gradle-based projects </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Get some Gradle-based project with Kotlin. Open any Kotlin file. Open Tools → Kotlin → Show Kotlin Bytecode. 
In Kotlin Bytecode window mark IR checkbox and reopen that window. You will get an exception.

NB: no such problem in Maven and JPS-based projects. 

#IU-181.3986.9 + Kotlin 1.2.40-dev-797</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1520946027468</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1521024320562</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><value>IDE</value><valueId>Backend. JVM</valueId><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2746570" author="Aleksandr.Gribovich" authorFullName="Aleksandr Gribovich" issueId="KT-23233" deleted="false" text="kotlin.TypeCastException: null cannot be cast to non-null type org.jetbrains.kotlin.descriptors.ClassDescriptor&#xA;&#x9;at org.jetbrains.kotlin.backend.common.ReflectionTypes.find(CommonBackendContext.kt:55)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.ReflectionTypes.access$find(CommonBackendContext.kt:43)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.ReflectionTypes$ClassLookup.getValue(CommonBackendContext.kt:60)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.ReflectionTypes.getKFunctionImpl(CommonBackendContext.kt)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.ir.Symbols.&lt;init&gt;(Ir.kt:167)&#xA;&#x9;at org.jetbrains.kotlin.backend.jvm.JvmBackendContext$ir$1$symbols$1.&lt;init&gt;(JvmBackendContext.kt:57)&#xA;&#x9;at org.jetbrains.kotlin.backend.jvm.JvmBackendContext$ir$1.&lt;init&gt;(JvmBackendContext.kt:57)&#xA;&#x9;at org.jetbrains.kotlin.backend.jvm.JvmBackendContext.&lt;init&gt;(JvmBackendContext.kt:56)&#xA;&#x9;at org.jetbrains.kotlin.backend.jvm.JvmBackendFacade.doGenerateFilesInternal$backend(JvmBackendFacade.kt:43)&#xA;&#x9;at org.jetbrains.kotlin.backend.jvm.JvmIrCodegenFactory.generateModule(JvmIrCodegenFactory.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)&#xA;&#x9;at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.compileSingleFile(KotlinBytecodeToolWindow.kt:316)&#xA;&#x9;at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.getBytecodeForFile(KotlinBytecodeToolWindow.kt:237)&#xA;&#x9;at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:120)&#xA;&#x9;at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:902)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:305)&#xA;&#x9;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)&#xA;&#x9;at java.util.concurrent.FutureTask.run(FutureTask.java:266)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&#xA;&#x9;at java.lang.Thread.run(Thread.java:745)&#xA;" shownForIssueAuthor="false" created="1520946031854" markdown="false"><replies/></comment></issue><issue id="KT-23341" entityId="25-1904922"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23341</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Issue running JavaScript tests in terminal without cleaning first every time, when using a Kotlin common class</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I am trying to run JavaScript tests in terminal that are calling a class from a Kotlin common module. If I use "./gradlew :example-js:test" I get an "Unresolved reference" error everywhere I use the common class, but if use "./gradlew clean :example-js:test" it works fine.

I'm using Kotlin 1.2.30, Gradle 4.6 and Android Studio 3.0.1.

Here are my gradle files:
build.gradle for example-common

     apply plugin: 'kotlin-platform-common'

     dependencies {
         implementation deps.kotlin.stdlib.common

         testImplementation deps.kotlin.test.common
     }

build.gradle for example-js

     apply plugin: 'kotlin-platform-js'

     [compileKotlin2Js, compileTestKotlin2Js]*.configure {
         kotlinOptions.metaInfo = true
         kotlinOptions.moduleKind = "commonjs"
     }

     dependencies {
         expectedBy project(':example-common')

         compile deps.kotlin.stdlib.js

         testCompile deps.kotlin.test.js
     }

     apply from: rootProject.file('gradle/platform-js-tests.gradle')


rootProject.file('gradle/platform-js-tests.gradle')

     apply plugin: 'com.moowork.node'

     compileTestKotlin2Js {
         kotlinOptions.moduleKind = "commonjs"
         kotlinOptions.metaInfo = true
     }

     task populateNodeModules(type: Copy, dependsOn: compileKotlin2Js) {
         from compileKotlin2Js.destinationDir

         configurations.testCompile.each {
             from zipTree(it.absolutePath).matching { include '*.js' }
         }

         into "${buildDir}/node_modules"
     }

     node {
         download = true
     }

     task installQunit(type: NpmTask) {
        args = ['install', 'qunitjs']
     }

     task runQunit(type: NodeTask, dependsOn: [compileTestKotlin2Js, populateNodeModules, installQunit]) {
         script = file('node_modules/.bin/qunit')
         args = [projectDir.toPath().relativize(file(compileTestKotlin2Js.outputFile).toPath())]
     }

     test.dependsOn runQunit
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1521553036854</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1523355272231</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Anton.Bannykh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Anton Bannykh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>fkubista</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Frank Kubista</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>10</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Igushkin">h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Gradle</value><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.30</value><valueId>1.2.30</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-511974" url="https://youtrack.jetbrains.com/_persistent/ExampleForJsTestIssue-solved.zip?file=74-511974&amp;c=true">ExampleForJsTestIssue-solved.zip</value><value id="74-511987" url="https://youtrack.jetbrains.com/_persistent/ExampleForJsTestIssue-min.zip?file=74-511987&amp;c=true">ExampleForJsTestIssue-min.zip</value></field><comment id="27-2762521" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-23341" deleted="false" text="@Anton.Bannykh please take a look" shownForIssueAuthor="false" created="1521564072741" markdown="true"><replies/></comment><comment id="27-2798565" author="Anton.Bannykh" authorFullName="Anton Bannykh" issueId="KT-23341" deleted="false" text="@fkubista Are you getting a compilation error, or do the tests fail? The latter may be caused by `populateNodeModules` not depending on `compileTestKotlin2Js`.&#xA;&#xA;If you are getting a compilation error though, could you please attach a self-contained project? Your configuration is quite particular and not trivial to reproduce. Thanks!" shownForIssueAuthor="false" created="1522862238737" markdown="true"><replies/></comment><comment id="27-2807193" author="fkubista" authorFullName="Frank Kubista" issueId="KT-23341" deleted="false" text="@Anton.Bannykh Here is an example project that reproduces the error https://github.com/frankkubista/ExampleForJsTestIssue&#xA;&#xA;This is the error I'm getting: &#xA;&#xA;FAILURE: Build failed with an exception.&#xA;&#xA;* What went wrong:&#xA;Failed to notify task execution graph listener.&#xA;&gt; java.lang.NullPointerException (no error message)&#xA;&gt; java.lang.NullPointerException (no error message)&#xA;&#xA;* Try:&#xA;Run with --info or --debug option to get more log output. Run with --scan to get full insights.&#xA;&#xA;* Exception is:&#xA;org.gradle.internal.event.ListenerNotificationException: Failed to notify task execution graph listener.&#xA;        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:86)&#xA;        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)&#xA;        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)&#xA;        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)&#xA;        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)&#xA;        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)&#xA;        at com.sun.proxy.$Proxy91.graphPopulated(Unknown Source)&#xA;        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:128)&#xA;        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)&#xA;        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)&#xA;        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)&#xA;        at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:210)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:140)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)&#xA;        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)&#xA;        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)&#xA;        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)&#xA;        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)&#xA;        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)&#xA;        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)&#xA;        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)&#xA;        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)&#xA;        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)&#xA;        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)&#xA;        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)&#xA;        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)&#xA;        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)&#xA;        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)&#xA;        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)&#xA;        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)&#xA;        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)&#xA;        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)&#xA;        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)&#xA;        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)&#xA;        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)&#xA;        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)&#xA;        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)&#xA;        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)&#xA;        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)&#xA;        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)&#xA;        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)&#xA;        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)&#xA;        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)&#xA;        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)&#xA;        at org.gradle.util.Swapper.swap(Swapper.java:38)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)&#xA;        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)&#xA;        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)&#xA;        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)&#xA;        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)&#xA;Cause 1: java.lang.NullPointerException&#xA;        at com.android.build.gradle.BasePlugin.lambda$configureProject$1(BasePlugin.java:436)&#xA;        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)&#xA;        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)&#xA;        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)&#xA;        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)&#xA;        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)&#xA;        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)&#xA;        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)&#xA;        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)&#xA;        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)&#xA;        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)&#xA;        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)&#xA;        at com.sun.proxy.$Proxy91.graphPopulated(Unknown Source)&#xA;        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:128)&#xA;        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)&#xA;        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)&#xA;        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)&#xA;        at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:210)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:140)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)&#xA;        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)&#xA;        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)&#xA;        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)&#xA;        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)&#xA;        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)&#xA;        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)&#xA;        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)&#xA;        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)&#xA;        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)&#xA;        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)&#xA;        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)&#xA;        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)&#xA;        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)&#xA;        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)&#xA;        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)&#xA;        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)&#xA;        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)&#xA;        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)&#xA;        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)&#xA;        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)&#xA;        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)&#xA;        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)&#xA;        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)&#xA;        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)&#xA;        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)&#xA;        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)&#xA;        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)&#xA;        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)&#xA;        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)&#xA;        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)&#xA;        at org.gradle.util.Swapper.swap(Swapper.java:38)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)&#xA;        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)&#xA;        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)&#xA;        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)&#xA;        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)&#xA;Cause 2: java.lang.NullPointerException&#xA;        at java.util.Objects.requireNonNull(Objects.java:203)&#xA;        at com.android.build.gradle.BasePlugin.lambda$configureProject$1(BasePlugin.java:436)&#xA;        at sun.reflect.GeneratedMethodAccessor68.invoke(Unknown Source)&#xA;        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;        at java.lang.reflect.Method.invoke(Method.java:498)&#xA;        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)&#xA;        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)&#xA;        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)&#xA;        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)&#xA;        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)&#xA;        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)&#xA;        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)&#xA;        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)&#xA;        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)&#xA;        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)&#xA;        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)&#xA;        at com.sun.proxy.$Proxy91.graphPopulated(Unknown Source)&#xA;        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:128)&#xA;        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)&#xA;        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)&#xA;        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)&#xA;        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)&#xA;        at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:210)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:140)&#xA;        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)&#xA;        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)&#xA;        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)&#xA;        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)&#xA;        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)&#xA;        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)&#xA;        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)&#xA;        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)&#xA;        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)&#xA;        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)&#xA;        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)&#xA;        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)&#xA;        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)&#xA;        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)&#xA;        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)&#xA;        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)&#xA;        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)&#xA;        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)&#xA;        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)&#xA;        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)&#xA;        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)&#xA;        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)&#xA;        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)&#xA;        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)&#xA;        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)&#xA;        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)&#xA;        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)&#xA;        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)&#xA;        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)&#xA;        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)&#xA;        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)&#xA;        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)&#xA;        at org.gradle.util.Swapper.swap(Swapper.java:38)&#xA;        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)&#xA;        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)&#xA;        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)&#xA;        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)&#xA;        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)&#xA;        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)&#xA;        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)&#xA;        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)&#xA;        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)&#xA;        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)&#xA;        at java.lang.Thread.run(Thread.java:748)&#xA;&#xA;" shownForIssueAuthor="false" created="1523284025144" markdown="true"><replies/></comment><comment id="27-2807314" author="spierce7.1" authorFullName="Scott Pierce" issueId="KT-23341" deleted="false" text="@Anton.Bannykh to clarify, we followed your advice, and now we're getting another error, which is pasted above." shownForIssueAuthor="false" created="1523286631209" updated="1523286647471" markdown="true"><replies/></comment><comment id="27-2807454" author="spierce7.1" authorFullName="Scott Pierce" issueId="KT-23341" deleted="false" text="@Anton.Bannykh Attached is the entire project. I've made it visible only to the Kotlin team.&#xA;&#xA;You can repro the issue with the following command:&#xA;```&#xA;./gradlew clean&#xA;./gradlew :example-js:test&#xA;```" shownForIssueAuthor="false" created="1523288545910" updated="1523288703403" markdown="true"><replies/></comment><comment id="27-2807471" author="Anton.Bannykh" authorFullName="Anton Bannykh" issueId="KT-23341" deleted="false" text="@spierce7.1 thanks, let me take a look" shownForIssueAuthor="false" created="1523288749624" updated="1522862238689" markdown="true"><replies/></comment><comment id="27-2808017" author="Anton.Bannykh" authorFullName="Anton Bannykh" issueId="KT-23341" deleted="false" text="@spierce7.1 The real culprit seems to be `org.gradle.configureondemand=true` in `gradle.properties`. Disabling it seems to solve the issue. Could you try turning it off?&#xA;&#xA;Also I've massively reduced the example size (see attached .zip). Could you try it out and see whether the issue manifests in the same way as before?&#xA;&#xA;In order to reproduce run &#xA;```&#xA;./gradlew clean&#xA;./gradlew :example-js:build&#xA;```" shownForIssueAuthor="false" created="1523297778077" updated="1523297796667" markdown="true"><replies/></comment><comment id="27-2808160" author="Anton.Bannykh" authorFullName="Anton Bannykh" issueId="KT-23341" deleted="false" text="@Sergey_Igushkin Could it be because Gradle's 'configure on demand' feature doesn't understand `expectedBy`?" shownForIssueAuthor="false" created="1523299015101" updated="1523297778055" markdown="true"><replies/></comment><comment id="27-2808208" author="Anton.Bannykh" authorFullName="Anton Bannykh" issueId="KT-23341" deleted="false" text="An even smaller example with no tricky configuration going on seems to have the same issues (see attached)." shownForIssueAuthor="false" created="1523300149601" updated="1523299015079" markdown="true"><replies/></comment><comment id="27-2808494" author="fkubista" authorFullName="Frank Kubista" issueId="KT-23341" deleted="false" text="Disabling it fixes our issue, thanks!" shownForIssueAuthor="false" created="1523306454787" updated="1523284025119" markdown="true"><replies/></comment></issue><issue id="KT-23372" entityId="25-1908559"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23372</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Configure Kotlin in intelliJ project freezes UI for minutes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See attached jstack output </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1521718933191</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1521811136699</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Denis Zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Configuration</value><valueId>IDE. Configuration</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-504764" url="https://youtrack.jetbrains.com/_persistent/configure_kotlin.txt?file=74-504764&amp;c=true">configure_kotlin.txt</value></field></issue><issue id="KT-23379" entityId="25-1910042"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23379</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: New Project FullstackApp is created with error "A required privilege is not held by the client"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>CLion 2018.1 RC2 (182.4203.505) + Kotlin/Native plugin from repository
reproducible on Windows, can't reproduce on macOS

- install Kotlin/Native plugin and restart IDE
- New Project | Kotlin/Native Application
- select FullstackApp project template
- OK

result: the following error appears, project is created but CMake is not loaded

!kotlin-native-full-stack-app.png!

C:\Users\Maria.Baburina\ClionProjects\untitled30\clients\android\common: A required privilege is not held by the client.

java.nio.file.FileSystemException: C:\Users\Maria.Baburina\ClionProjects\untitled30\clients\android\common: A required privilege is not held by the client.

	at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:86)
	at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)
	at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)
	at sun.nio.fs.WindowsFileSystemProvider.createSymbolicLink(WindowsFileSystemProvider.java:585)
	at java.nio.file.Files.createSymbolicLink(Files.java:1043)
	at com.intellij.util.io.PathKt.createSymbolicLink(path.kt:60)
	at org.jetbrains.konan.KonanTemplate$TemplateSymlinkFile.create(Templates.kt:79)
	at org.jetbrains.konan.KonanCMakeProjectGenerator.createSourceFiles(KonanCMakeProjectGenerator.kt:41)
	at com.jetbrains.cidr.cpp.cmake.projectWizard.generators.CMakeProjectGenerator.a(CMakeProjectGenerator.java:189)
	at com.jetbrains.cidr.cpp.cmake.projectWizard.generators.CMakeProjectGenerator.a(CMakeProjectGenerator.java:101)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1034)
	at com.jetbrains.cidr.cpp.cmake.projectWizard.generators.CMakeProjectGenerator.generateProject(CMakeProjectGenerator.java:100)
	at org.jetbrains.konan.KonanCMakeProjectGenerator.generateProject(KonanCMakeProjectGenerator.kt:35)
	at org.jetbrains.konan.KonanCMakeProjectGenerator.generateProject(KonanCMakeProjectGenerator.kt:23)
	at com.intellij.ide.util.projectWizard.AbstractNewProjectStep.a(AbstractNewProjectStep.java:215)
	at com.intellij.platform.PlatformProjectOpenProcessor.doOpenProject(PlatformProjectOpenProcessor.java:251)
	at com.intellij.ide.util.projectWizard.AbstractNewProjectStep.doGenerateProject(AbstractNewProjectStep.java:220)
	at com.intellij.ide.util.projectWizard.AbstractNewProjectStep$AbstractCallback.consume(AbstractNewProjectStep.java:166)
	at com.intellij.ide.util.projectWizard.ProjectSettingsStepBase$1.actionPerformed(ProjectSettingsStepBase.java:135)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6541)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3325)
	at java.awt.Component.processEvent(Component.java:6306)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4897)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4719)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4719)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)
	at java.awt.EventQueue.access$500(EventQueue.java:98)
	at java.awt.EventQueue$3.run(EventQueue.java:715)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:737)
	at java.awt.EventQueue$4.run(EventQueue.java:735)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:837)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:762)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:434)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109)
	at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:190)
	at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:235)
	at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:233)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:233)
	at java.awt.Dialog.show(Dialog.java:1077)
	at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl$MyDialog.show(DialogWrapperPeerImpl.java:694)
	at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl.show(DialogWrapperPeerImpl.java:427)
	at com.intellij.openapi.ui.DialogWrapper.invokeShow(DialogWrapper.java:1682)
	at com.intellij.openapi.ui.DialogWrapper.show(DialogWrapper.java:1631)
	at com.jetbrains.cidr.cpp.cmake.projectWizard.NewCMakeProjectAction.actionPerformed(NewCMakeProjectAction.java:38)
	at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)
	at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:237)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.a(ActionMenuItem.java:301)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:307)
	at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:104)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:291)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.a(ActionMenuItem.java:111)
	at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:88)
	at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:111)
	at com.intellij.openapi.application.TransactionGuardImpl.submitTransaction(TransactionGuardImpl.java:120)
	at com.intellij.openapi.application.TransactionGuard.submitTransaction(TransactionGuard.java:122)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:111)
	at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:528)
	at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:48)
	at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:548)
	at java.awt.Component.processMouseEvent(Component.java:6541)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3325)
	at java.awt.Component.processEvent(Component.java:6306)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4897)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4719)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4719)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)
	at java.awt.EventQueue.access$500(EventQueue.java:98)
	at java.awt.EventQueue$3.run(EventQueue.java:715)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:737)
	at java.awt.EventQueue$4.run(EventQueue.java:735)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:837)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:762)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:434)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1521791688822</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1521791688822</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Maria.Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Maria Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Maria.Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maria Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-21134</value><value type="Relates" role="relates to">KT-23376</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-505071" url="https://youtrack.jetbrains.com/_persistent/kotlin-native-full-stack-app.PNG?file=74-505071&amp;c=true">kotlin-native-full-stack-app.PNG</value></field></issue><issue id="KT-23416" entityId="25-1910521"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23416</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDEA stuck on auto convert code fragment java -&gt; kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Code sample:
```
Pattern patt = Pattern.compile("#([A-Z]{4})");
Matcher mat = patt.matcher(text);
StringBuffer buf = new StringBuffer();
while(mat.find()) {
  mat.appendReplacement(buf, mat.group(1).toLowerCase());
}
mat.appendTail(buf);
```

was inserted into a Kotlin file and IDEA got stuck for about 15 seconds.

IntelliJ IDEA 2018.1 (Ultimate Edition)
Build #IU-181.4203.400, built on March 19, 2018
Licensed to JetBrains Team / Dmitry Krasilshikov
Subscription is active until December 9, 2018
JRE: 1.8.0_152-release-1136-b20 x86_64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
macOS 10.13.3

Kotlin Version: 1.2.30-release-IJ2018.1-1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1521806773021</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954313</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>dima</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Krasilschikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Tools. J2K</value><valueId>IDE</valueId><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-505216" url="https://youtrack.jetbrains.com/_persistent/threadDumps-freeze-20180323-150252-IU-181.4203.400-26sec.zip?file=74-505216&amp;c=true">threadDumps-freeze-20180323-150252-IU-181.4203.400-26sec.zip</value></field><comment id="27-2778202" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23416" deleted="true" text="Sorry for asking, but the code in description already looks like Kotlin, not Java. Was it really a Java -&gt; Kotlin conversion?&#xA;Also there is no `j2k` package entries in the attached dump.&#xA;&#xA;Independently, the dump is anyway a thing to consider." shownForIssueAuthor="false" created="1522104685978" markdown="false"><replies/></comment><comment id="27-2779532" author="dima" authorFullName="Dmitry Krasilschikov" issueId="KT-23416" deleted="false" text="@sashache Original code was just copypasted from https://stackoverflow.com/a/15244871 to a Kotlin file." shownForIssueAuthor="false" created="1522150100587" markdown="false"><replies/></comment><comment id="27-2781233" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23416" deleted="false" text="IDEA 182.1111 + Kotlin plugin 1.2.50-dev-155: yes, there is really a delay." shownForIssueAuthor="false" created="1522177645751" markdown="false"><replies/></comment></issue><issue id="KT-23482" entityId="25-1918242"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23482</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incorrect frontend behaviour for not inferred type for generic property with function type as result</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
val &lt;T&gt; T.k: () -&gt; T get() = { -&gt; this }

fun test(x: Int) {
    x.k()?.toString() // here type for expression `x.k()` has uninferred type `T` and FE error should be reported
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522250235171</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522250485677</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-23475</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Stanislav Erokhin">Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2783780" author="Stanislav.Erokhin" authorFullName="Stanislav Erokhin" issueId="KT-23482" deleted="false" text="Such case work accidentally in JVM BE, and BE IR for such cases cannot be construct correctly, because FE do not infer type for `x.k()` expression." shownForIssueAuthor="false" created="1522250314325" markdown="false"><replies/></comment></issue><issue id="KT-23505" entityId="25-1920439"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23505</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: extremely slow first indexing of any project with K/N plugin installed</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Build: AppCode #182.1185 + K/N plugin from the same build

Repro:
* make sure to clean IDE caches in case you've created any K/N projects before
* create any project, e.g. iOS Kotlin/Native Framework

Actual: indexing takes very long time, e.g. in my case its 7-8 minutes
`2018-03-29 19:01:00,095 [ 235788]   INFO - indexing.UnindexedFilesUpdater - Unindexed files update started: 12820 files to update 
2018-03-29 19:08:26,121 [ 681814]   INFO - .diagnostic.PerformanceWatcher - Unindexed files update took 446026ms; general responsiveness: 0/444 sluggish, 55/444 very slow; EDT responsiveness: ok 
`

Subsequent projects are indexed almost instanstly:
`2018-03-29 19:10:21,400 [ 797093]   INFO - indexing.UnindexedFilesUpdater - Unindexed files update started: 21 files to update 
2018-03-29 19:10:21,481 [ 797174]   INFO - .diagnostic.PerformanceWatcher - Unindexed files update took 81ms; general responsiveness: ok; EDT responsiveness: ok 
`

*Note:* memory usage seems to be normal during indexing: from 700Mb to 1.2Gb out of 2Gb, no low memory records in logs.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522341755642</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522705112927</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Olga.Narochnaya</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Olga Narochnaya</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23515" entityId="25-1920691"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23515</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: same-named declarations in different targets are considered redeclaration</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Build: AppCode #182.1185 + K/N plugin from the same build

Repro:
* create Kotlin/Native App, declare class `Foo` in its sources
* create another K/N target (of any type), declare class `Foo` there as well

Actual: second `Foo` is considered to be a redeclaration, though it belongs to a different target (package). </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522358139812</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522358139812</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23517" entityId="25-1920708"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23517</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: IAE invoking 'Create test' intention in Kotlin file</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Build: AppCode #182.1185 + K/N plugin from the same build

Repro:
* create any Kotlin/Native project
* declare class `Bar` in Kotlin file
{code}
class Bar&lt;caret&gt; {}  // Alt+Enter -&gt; 'create test'
{code}

Actual: exception</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522358862526</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522358892029</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2788214" author="Tatiana.Shabaeva" authorFullName="Tatiana Shabaeva" issueId="KT-23517" deleted="false" text="{code}&#xA;setSelectedIndex: 0 out of bounds&#xA;java.lang.IllegalArgumentException: setSelectedIndex: 0 out of bounds&#xA;&#x9;at javax.swing.JComboBox.setSelectedIndex(JComboBox.java:620)&#xA;&#x9;at com.intellij.testIntegration.createTest.CreateTestDialog.createCenterPanel(CreateTestDialog.java:402)&#xA;&#x9;at com.intellij.openapi.ui.DialogWrapper.init(DialogWrapper.java:1310)&#xA;&#x9;at com.intellij.testIntegration.createTest.CreateTestDialog.&lt;init&gt;(CreateTestDialog.java:106)&#xA;&#x9;at org.jetbrains.kotlin.idea.testIntegration.KotlinCreateTestDialog.&lt;init&gt;(KotlinCreateTestDialog.kt:29)&#xA;&#x9;at org.jetbrains.kotlin.idea.testIntegration.KotlinCreateTestIntention$applyTo$1.invoke(KotlinCreateTestIntention.kt:133)&#xA;&#x9;at org.jetbrains.kotlin.idea.testIntegration.KotlinCreateTestIntention.applyTo(KotlinCreateTestIntention.kt:194)&#xA;&#x9;at org.jetbrains.kotlin.idea.testIntegration.KotlinCreateTestIntention.applyTo(KotlinCreateTestIntention.kt:53)&#xA;&#x9;at org.jetbrains.kotlin.idea.intentions.SelfTargetingIntention.invoke(SelfTargetingIntention.kt:107)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.config.IntentionActionWrapper.invoke(IntentionActionWrapper.java:67)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.IntentionActionWithTextCaching$MyIntentionAction.invoke(IntentionActionWithTextCaching.java:181)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.a(ShowIntentionActionsHandler.java:200)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.a(ShowIntentionActionsHandler.java:204)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.b(ShowIntentionActionsHandler.java:177)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.a(TransactionGuardImpl.java:88)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.a(ShowIntentionActionsHandler.java:176)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.a(CoreCommandProcessor.java:149)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:109)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:99)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:85)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.chooseActionAndInvoke(ShowIntentionActionsHandler.java:175)&#xA;&#x9;at com.intellij.codeInsight.intention.impl.IntentionListStep.a(IntentionListStep.java:118)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:195)&#xA;&#x9;at com.intellij.ui.popup.AbstractPopup.a(AbstractPopup.java:1402)&#xA;&#x9;at com.intellij.util.ui.UIUtil.invokeLaterIfNeeded(UIUtil.java:2887)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.a(IdeEventQueue.java:177)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.executeWhenAllFocusEventsLeftTheQueue(IdeEventQueue.java:133)&#xA;&#x9;at com.intellij.openapi.wm.impl.FocusManagerImpl.doWhenFocusSettlesDown(FocusManagerImpl.java:190)&#xA;&#x9;at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.doWhenFocusSettlesDown(IdeFocusManagerImpl.java:56)&#xA;&#x9;at com.intellij.ui.popup.AbstractPopup.dispose(AbstractPopup.java:1396)&#xA;&#x9;at com.intellij.ui.popup.WizardPopup.dispose(WizardPopup.java:160)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl.dispose(ListPopupImpl.java:307)&#xA;&#x9;at com.intellij.openapi.util.Disposer$1.execute(Disposer.java:48)&#xA;&#x9;at com.intellij.openapi.util.Disposer$1.execute(Disposer.java:44)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectNode$1.execute(ObjectNode.java:138)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectNode$1.execute(ObjectNode.java:107)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectTree.executeActionWithRecursiveGuard(ObjectTree.java:182)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectNode.execute(ObjectNode.java:107)&#xA;&#x9;at com.intellij.openapi.util.objectTree.ObjectTree.executeAll(ObjectTree.java:151)&#xA;&#x9;at com.intellij.openapi.util.Disposer.dispose(Disposer.java:129)&#xA;&#x9;at com.intellij.openapi.util.Disposer.dispose(Disposer.java:125)&#xA;&#x9;at com.intellij.ui.popup.WizardPopup.disposeAllParents(WizardPopup.java:263)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl.handleNextStep(ListPopupImpl.java:442)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl.a(ListPopupImpl.java:396)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl.handleSelect(ListPopupImpl.java:337)&#xA;&#x9;at com.intellij.ui.popup.list.ListPopupImpl$1.actionPerformed(ListPopupImpl.java:250)&#xA;&#x9;at com.intellij.ui.popup.WizardPopup.a(WizardPopup.java:378)&#xA;&#x9;at com.intellij.ui.popup.WizardPopup.dispatch(WizardPopup.java:358)&#xA;&#x9;at com.intellij.ui.popup.PopupDispatcher.dispatchKeyEvent(PopupDispatcher.java:126)&#xA;&#x9;at com.intellij.ui.popup.PopupDispatcher.dispatch(PopupDispatcher.java:160)&#xA;&#x9;at com.intellij.ide.IdePopupManager.dispatch(IdePopupManager.java:87)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:688)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:406)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)&#xA;{code}" shownForIssueAuthor="false" created="1522358892042" markdown="false"><replies/></comment></issue><issue id="KT-23518" entityId="25-1920722"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23518</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: Kotlin/Native framework is listed two times in build phases for iOS app target</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Build: AppCode #182.1185 + K/N plugin from the same build

Repro:
* create iOS Single View App with Kotlin/Native Framework
* open Project Settings -&gt; Build Phases for main app target

Actual: `KotlinNativeFramework.framework` is listed two times under Frameworks.

!phases.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522359996187</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522359996187</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-507632" url="https://youtrack.jetbrains.com/_persistent/phases.png?file=74-507632&amp;c=true">phases.png</value></field></issue><issue id="KT-23525" entityId="25-1921739"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23525</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Scripts (*.kts) allow redeclaration of a variable, just reporting 'Overload resolution ambiguity' on the usages</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>### How to reproduce

In a new Kotlin Script (`*.kts`) insert the lines:

```kotlin
val x = 1
val x = 2
println(x)
```

### Expected behavior

An error is reported in the second line, saying that `x` is already declared
**or maybe** the script runs, and the third line uses the second declaration `vax x = 2`

### Actual behavior

The compiler reports an error in the third line:

```
A.kts:3:9: error: overload resolution ambiguity: 
public final val x: Int defined in A
public final val x: Int defined in A
println(x)
        ^
``` 

### NB Alternative case

```
val x = listOf(1, 2, 3)
val x = 2

fun f(xs: List&lt;Int&gt;) { }
f(x)
```

If the two `x`'s are really considered different declarations, the overload resolution should succeed in this sample. But instead it results into the same error.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522411768382</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522421605450</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-19386</value><value type="Similar" role="similar to">KT-2272</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Scripting</value><valueId>Frontend. Scripting</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><valueId>1.2.40</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2789997" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23525" deleted="false" text="There is existing KT-19386 about editor editor highlighting in this case." shownForIssueAuthor="false" created="1522421565527" updated="1522421595283" markdown="false"><replies/></comment></issue><issue id="KT-23532" entityId="25-1922085"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23532</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong package name in Kotlin file in source root affects package names of new Java files</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create new project with Kotlin. Create new Kotlin file right in the source root. Add some package to that file, but the name should be incorrect in Java world, e. g. {{package `#`}}, {{package `1`}}.  Create new package in the source root, e. g. `p01`. Select this package and create new Java file. Note that Java file has strange and incorrect package name now: {{package p01;package #.p01;}}. That's the issue.

IU-181.4445.4 + Kotlin 1.2.50-dev-270
IU-182.1075 + Kotlin 1.2.50-dev-139</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522425634012</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522840954309</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23536" entityId="25-1922218"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23536</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: cannot run K/N app on iOS device with Reveal integration enabled</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Build: AppCode #182.1210 + K/N plugin from the same build

Repro:
* create Kotlin/Native iOS App
* edit Run Configuration for main app target -&gt; enable 'Inject Reveal library on launch'
* run app on iOS device (running on simulator is fine)

Actual: app cannot be run, `com.intellij.execution.ExecutionException: Cannot sign RevealServer` is thrown</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522432812190</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522432839122</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2790367" author="Tatiana.Shabaeva" authorFullName="Tatiana Shabaeva" issueId="KT-23536" deleted="false" text="Stack trace:&#xA;{code}&#xA;Cannot sign RevealServer:&#xA;&#xA;/Users/jetbrains/Library/Developer/Xcode/DerivedData/knfram-cnqgvrdetmlkrmcqezuzxxffrplt/Build/Products/Debug-iphoneos/KNapp.app/KNapp: code object is not signed at all&#xA;&#xA;com.intellij.execution.ExecutionException: Cannot sign RevealServer:&#xA;&#xA;/Users/jetbrains/Library/Developer/Xcode/DerivedData/knfram-cnqgvrdetmlkrmcqezuzxxffrplt/Build/Products/Debug-iphoneos/KNapp.app/KNapp: code object is not signed at all&#xA;&#xA;&#x9;at com.jetbrains.cidr.execution.ExecutionResult.get(ExecutionResult.java:38)&#xA;&#x9;at com.jetbrains.cidr.execution.debugger.CidrDebugProcess$1.a(CidrDebugProcess.java:178)&#xA;&#x9;at com.jetbrains.cidr.execution.debugger.CidrDebugProcess$MyCommandProcessor.consume(CidrDebugProcess.java:704)&#xA;&#x9;at com.jetbrains.cidr.execution.debugger.CidrDebugProcess$MyCommandProcessor.consume(CidrDebugProcess.java:694)&#xA;&#x9;at com.intellij.util.concurrency.QueueProcessor.lambda$null$0(QueueProcessor.java:77)&#xA;&#x9;at com.intellij.util.concurrency.QueueProcessor.runSafely(QueueProcessor.java:230)&#xA;&#x9;at com.intellij.util.concurrency.QueueProcessor.lambda$wrappingProcessor$1(QueueProcessor.java:77)&#xA;&#x9;at com.intellij.util.concurrency.QueueProcessor.lambda$null$3(QueueProcessor.java:210)&#xA;&#x9;at com.intellij.util.concurrency.QueueProcessor.runSafely(QueueProcessor.java:230)&#xA;&#x9;at com.intellij.util.concurrency.QueueProcessor.lambda$startProcessing$4(QueueProcessor.java:210)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:311)&#xA;&#x9;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)&#xA;&#x9;at java.util.concurrent.FutureTask.run(FutureTask.java:266)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&#xA;&#x9;at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: com.intellij.execution.ExecutionException: Cannot sign RevealServer:&#xA;&#xA;/Users/jetbrains/Library/Developer/Xcode/DerivedData/knfram-cnqgvrdetmlkrmcqezuzxxffrplt/Build/Products/Debug-iphoneos/KNapp.app/KNapp: code object is not signed at all&#xA;&#xA;&#x9;at com.jetbrains.cidr.execution.AppCodeInstaller.runTool(AppCodeInstaller.java:192)&#xA;&#x9;at com.jetbrains.cidr.execution.AppCodeInstaller.codesignBinary(AppCodeInstaller.java:213)&#xA;&#x9;at org.jetbrains.appcode.reveal.RevealRunConfigurationExtension.signAndInstall(RevealRunConfigurationExtension.java:295)&#xA;&#x9;at org.jetbrains.appcode.reveal.RevealRunConfigurationExtension.installReveal(RevealRunConfigurationExtension.java:257)&#xA;&#x9;at org.jetbrains.appcode.reveal.RevealRunConfigurationExtension.installIntoApplicationBundle(RevealRunConfigurationExtension.java:174)&#xA;&#x9;at com.jetbrains.cidr.execution.AppCodeRunConfigurationExtensionManager.installIntoApplicationBundle(AppCodeRunConfigurationExtensionManager.java:45)&#xA;&#x9;at com.jetbrains.cidr.execution.AppCodeInstaller.install(AppCodeInstaller.java:139)&#xA;&#x9;at com.jetbrains.cidr.execution.debugger.IPhoneDebugProcess.doLoadTarget(IPhoneDebugProcess.java:127)&#xA;&#x9;at com.jetbrains.cidr.execution.debugger.CidrDebugProcess.b(CidrDebugProcess.java:306)&#xA;&#x9;... 14 more&#xA;{code}" shownForIssueAuthor="false" created="1522432839125" markdown="false"><replies/></comment></issue><issue id="KT-23543" entityId="25-1922771"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23543</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Back-end (JVM) Internal error: Couldn't inline method</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
fun function() {
    val r = ""
    val a = run {
        fun f(x: Long, y: String? = null) {
            r
        }
    }
}
```

```
Error:Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'run' into
public fun function(): kotlin.Unit defined in generator in file server.kt
fun function() {
    val r = ""
    val a = run {
        fun f(x: Long, y: String? = null) {
            r
        }
    }
}
Cause: Transformer for generator/ServerKt$function$a$1$1: couldn't inline method call
Cause: invoke$default (Lgenerator/ServerKt$function$a$1$1;JLjava/lang/String;ILjava/lang/Object;Lgenerator/ServerKt$function$a$1;Ljava/lang/String;)V:
    ILOAD 4
    ICONST_2
    IAND
    IFEQ L0
   L1
    LINENUMBER 25 L1
    ACONST_NULL
    CHECKCAST java/lang/String
    ASTORE 3
   L0
    ALOAD 0
    LLOAD 1
    ALOAD 3
    INVOKEVIRTUAL generator/ServerKt$function$a$1$1.invoke (JLjava/lang/String;)V
    RETURN
    MAXSTACK = 4
    MAXLOCALS = 8
File being compiled and position: (24,13) in /Users/jake/Dev/vx-generator2/src/main/kotlin/generator/server.kt
PsiElement: run {
        fun f(x: Long, y: String? = null) {
            r
        }
    }
The root cause was thrown at: MethodInliner.kt:634
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:127)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:172)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:583)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:569)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2260)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2213)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.initializeLocalVariable(ExpressionCodegen.java:3641)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitProperty(ExpressionCodegen.java:3509)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitProperty(ExpressionCodegen.java:122)
	at org.jetbrains.kotlin.psi.KtProperty.accept(KtProperty.java:57)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:31)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtVisitor.visitExpression(KtVisitor.java:182)
	at org.jetbrains.kotlin.psi.KtVisitor.visitDeclaration(KtVisitor.java:29)
	at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:398)
	at org.jetbrains.kotlin.psi.KtVisitor.visitProperty(KtVisitor.java:57)
	at org.jetbrains.kotlin.psi.KtProperty.accept(KtProperty.java:57)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:309)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:369)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1230)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1180)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:309)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:369)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1627)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:52)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:72)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:569)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:298)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:147)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:213)
	at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:145)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:133)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:99)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:442)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:153)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:103)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:380)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:889)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:916)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:888)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:378)
	at sun.reflect.GeneratedMethodAccessor76.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:323)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jetbrains.kotlin.codegen.inline.InlineException: Transformer for generator/ServerKt$function$a$1$1: couldn't inline method call
Cause: invoke$default (Lgenerator/ServerKt$function$a$1$1;JLjava/lang/String;ILjava/lang/Object;Lgenerator/ServerKt$function$a$1;Ljava/lang/String;)V:
    ILOAD 4
    ICONST_2
    IAND
    IFEQ L0
   L1
    LINENUMBER 25 L1
    ACONST_NULL
    CHECKCAST java/lang/String
    ASTORE 3
   L0
    ALOAD 0
    LLOAD 1
    ALOAD 3
    INVOKEVIRTUAL generator/ServerKt$function$a$1$1.invoke (JLjava/lang/String;)V
    RETURN
    MAXSTACK = 4
    MAXLOCALS = 8
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.wrapException(MethodInliner.kt:634)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:106)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:66)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:208)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:172)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:127)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:161)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:182)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)
	at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:308)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:86)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.access$doInline(MethodInliner.kt:40)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:234)
	at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:308)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:86)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:66)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:226)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:166)
	... 78 more
Caused by: kotlin.KotlinNullPointerException
	at org.jetbrains.kotlin.codegen.inline.Parameters.getParameterByDeclarationSlot(Parameters.kt:61)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.doRemap(LocalVarRemapper.kt:55)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.remap(LocalVarRemapper.kt:77)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.visitVarInsn(LocalVarRemapper.kt:103)
	at org.jetbrains.kotlin.codegen.inline.RemapVisitor.visitVarInsn(RemapVisitor.java:53)
	at org.jetbrains.org.objectweb.asm.tree.VarInsnNode.accept(VarInsnNode.java:86)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:103)
	... 100 more
```

This error is from kotlin v1.1.51 but the code still fails to compile with the online repl v1.2.31</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522520355951</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1523550100287</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>JakeCoxon</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jake Coxon</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23598" entityId="25-1930376"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23598</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: New FullstackApp Project description shows unknown picture</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>- install plugin
- choose New Project | Kotlin Native | FullstackApp

result: missing picture in the description

!kn-fullstack-proj-template.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522847109838</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522847492312</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Maria.Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Maria Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Maria.Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maria Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-23599</value><value type="Relates" role="relates to">KT-23376</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-509608" url="https://youtrack.jetbrains.com/_persistent/kn-fullstack-proj-template.PNG?file=74-509608&amp;c=true">kn-fullstack-proj-template.PNG</value></field></issue><issue id="KT-23599" entityId="25-1930396"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23599</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: New Project template description contains links which don't open in browser and can't be copied</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>plugin version 181.4445.17 (2018.1).

- install Kotlin/Native plugin and restart IDE
- New Project | Kotlin/Native Application
- choose project template (e.g. CSVParser, FullstakApp etc)
- click on links in text of project description

result: links are not opened in browser and can't be copied to clipboard</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522847491559</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1522847491559</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Maria.Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Maria Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Maria.Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maria Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-23376</value><value type="Relates" role="relates to">KT-23598</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23642" entityId="25-1934425"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23642</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>nested use of crossinline lambda causes illegal code gen</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The code:

```kt
package com.empowerops.language

class SequentialPoolBroker2 {

    inline fun &lt;T&gt; doSubmit(crossinline task: () -&gt; T): Unit {

        val newJob = { task.invoke() }

    }

    fun another(command: Runnable): Unit = doSchedule { command.run() }

    inline fun &lt;V : Any?&gt; doSchedule(crossinline callable: () -&gt; V): Unit {

        actualSchedule { doSubmit(callable) }

    }

    fun &lt;T&gt; actualSchedule(command: () -&gt; T): Unit {}

}
```

fails with:

```
Error:Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'doSchedule' into
public final fun another(command: java.lang.Runnable): kotlin.Unit defined in com.empowerops.language.SequentialPoolBroker2
fun another(command: Runnable): Unit = doSchedule { command.run() }
Cause: doSchedule (Lkotlin/jvm/functions/Function0;)V:
   L0
   L1
    ALOAD 1
    LDC "callable"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L2
    LINENUMBER 15 L2
    ALOAD 0
    NEW com/empowerops/language/SequentialPoolBroker2$doSchedule$1
    DUP
    ALOAD 0
    ALOAD 1
    INVOKESPECIAL com/empowerops/language/SequentialPoolBroker2$doSchedule$1.&lt;init&gt; (Lcom/empowerops/language/SequentialPoolBroker2;Lkotlin/jvm/functions/Function0;)V
    CHECKCAST kotlin/jvm/functions/Function0
    INVOKEVIRTUAL com/empowerops/language/SequentialPoolBroker2.actualSchedule (Lkotlin/jvm/functions/Function0;)V
   L3
    LINENUMBER 17 L3
    RETURN
   L4
    LOCALVARIABLE this Lcom/empowerops/language/SequentialPoolBroker2; L0 L4 0
    LOCALVARIABLE callable Lkotlin/jvm/functions/Function0; L0 L4 1
    LOCALVARIABLE $i$f$doSchedule I L0 L4 2
    MAXSTACK = 5
    MAXLOCALS = 3
Cause: Captured field not found: com/empowerops/language/SequentialPoolBroker2$another$1.$command
File being compiled and position: (11,44) in C:/Users/Geoff/Code/OASIS/tests/com/empowerops/language/KotlinBug.kt
PsiElement: doSchedule { command.run() }
The root cause was thrown at: LambdaInfo.kt:65
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:132)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:180)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:648)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:634)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2301)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2252)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1588)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:56)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:76)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:570)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:333)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:177)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:148)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:168)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:84)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:316)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:156)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:100)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:78)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:45)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:450)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:152)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:380)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:378)
	at sun.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalStateException: Captured field not found: com/empowerops/language/SequentialPoolBroker2$another$1.$command
	at org.jetbrains.kotlin.codegen.inline.LambdaInfo.addAllParameters(LambdaInfo.kt:65)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:213)
	at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:208)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:172)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:127)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:163)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:184)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)
	at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:208)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:172)
	at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:127)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:163)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:184)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)
	at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:310)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:88)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:68)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:281)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:171)
	... 64 more

```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1522976170169</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1523550058368</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Groostav</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Geoff Groos</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2801155" author="Groostav" authorFullName="Geoff Groos" issueId="KT-23642" deleted="false" text="Also FYI: I'm using the most recent version of the plugin targeting kotlin 1.1" shownForIssueAuthor="false" created="1522976263166" markdown="false"><replies/></comment></issue><issue id="KT-23675" entityId="25-1937697"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23675</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin compiler can't inline `map()` when classes are defined inside an anonymous extension function and access a field of the extension function's `this` instance</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Minimal example:

```kotlin
class Environment(
    val fieldAccessedInsideChild: Int,
    val how: Environment.() -&gt; Unit
)

fun main(args: Array&lt;String&gt;) {
    Environment(
        3,
        {
            class Child {
                val a = fieldAccessedInsideChild
            }

            class Parent {
                val children: List&lt;Child&gt; =
                    (0..4).map { Child() }
            }
        }
    )
}

```
I'm compiling with `./gradlew build`. Error message:

```
6:07:24 PM: Executing external tasks ':classes :testClasses'...
e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'map' into
public constructor Parent() defined in main.&lt;anonymous&gt;.Parent
class Parent {
                val children: List&lt;Child&gt; =
                    (0..4).map { Child() }
            }
Cause: map (Ljava/lang/Iterable;Lkotlin/jvm/functions/Function1;)Ljava/util/List;:
  @Lorg/jetbrains/annotations/NotNull;() // invisible
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1
   L0
    ALOAD 0
    LDC "$receiver"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    ALOAD 1
    LDC "transform"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L1
    LINENUMBER 1230 L1
    ALOAD 0
    ASTORE 3
    NEW java/util/ArrayList
    DUP
    ALOAD 0
    BIPUSH 10
    INVOKESTATIC kotlin/collections/CollectionsKt.collectionSizeOrDefault (Ljava/lang/Iterable;I)I
    INVOKESPECIAL java/util/ArrayList.&lt;init&gt; (I)V
    CHECKCAST java/util/Collection
    ASTORE 4
   L2
    LINENUMBER 2465 L2
    ALOAD 3
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 5
   L3
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L4
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 6
   L5
    LINENUMBER 2466 L5
    ALOAD 4
    ALOAD 1
    ALOAD 6
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    INVOKEINTERFACE java/util/Collection.add (Ljava/lang/Object;)Z
    POP
   L6
    LINENUMBER 2465 L6
    GOTO L3
   L4
    LINENUMBER 2467 L4
    ALOAD 4
   L7
    CHECKCAST java/util/List
    ARETURN
   L8
    LOCALVARIABLE item$iv Ljava/lang/Object; L5 L6 6
    LOCALVARIABLE $receiver$iv Ljava/lang/Iterable; L2 L7 3
    LOCALVARIABLE destination$iv Ljava/util/Collection; L2 L7 4
    LOCALVARIABLE $i$f$mapTo I L2 L7 7
    LOCALVARIABLE $receiver Ljava/lang/Iterable; L0 L8 0
    LOCALVARIABLE transform Lkotlin/jvm/functions/Function1; L0 L8 1
    LOCALVARIABLE $i$f$map I L0 L8 2
    MAXSTACK = 4
    MAXLOCALS = 8

Cause: Don't know how to generate outer expression: Closure: class &lt;closure-ClassInsideTestKt$main$1&gt;
File being compiled at position: (16,28) in /home/suseika/Projects/personal/tendiwa/works/lupovanie/src/main/kotlin/org/tendiwa/loops/classInsideTest.kt
The root cause was thrown at: CodegenContext.java:224
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:135)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:178)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:671)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:652)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2324)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.StackValue$StackValueWithSimpleReceiver.store(StackValue.java:1690)
	at org.jetbrains.kotlin.codegen.StackValue$Property.store(StackValue.java:1335)
	at org.jetbrains.kotlin.codegen.StackValue.store(StackValue.java:127)
	at org.jetbrains.kotlin.codegen.MemberCodegen.initializeProperty(MemberCodegen.java:530)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generateInitializers(MemberCodegen.java:498)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateInitializers(ImplementationBodyCodegen.java:1132)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructorImpl(ImplementationBodyCodegen.java:1072)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.access$200(ImplementationBodyCodegen.java:97)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen$1.doGenerateBody(ImplementationBodyCodegen.java:997)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:569)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:298)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructor(ImplementationBodyCodegen.java:993)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateConstructors(ImplementationBodyCodegen.java:400)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:92)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitClassOrObject(ExpressionCodegen.java:393)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitClass(ExpressionCodegen.java:377)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitClass(ExpressionCodegen.java:120)
	at org.jetbrains.kotlin.psi.KtClass.accept(KtClass.kt:34)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:31)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtVisitor.visitExpression(KtVisitor.java:182)
	at org.jetbrains.kotlin.psi.KtVisitor.visitDeclaration(KtVisitor.java:29)
	at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:398)
	at org.jetbrains.kotlin.psi.KtVisitor.visitClassOrObject(KtVisitor.java:41)
	at org.jetbrains.kotlin.psi.KtVisitor.visitClass(KtVisitor.java:33)
	at org.jetbrains.kotlin.psi.KtClass.accept(KtClass.kt:34)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:307)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:372)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1193)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1140)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:307)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:372)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:338)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:569)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:298)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:189)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:177)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:979)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:953)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:944)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:120)
	at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:39)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:307)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:289)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:64)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:62)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2297)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateConstructorCall$24(ExpressionCodegen.java:3885)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen$$Lambda$151/445339873.invoke(Unknown Source)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:569)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:298)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:147)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)
	at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:454)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:150)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:108)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:451)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:97)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:218)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:37)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:80)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:92)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:527)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:97)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:408)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:97)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:909)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:97)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:939)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:908)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:407)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:323)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$79(TCPTransport.java:683)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler$$Lambda$1/1704917271.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.UnsupportedOperationException: Don't know how to generate outer expression: Closure: class &lt;closure-ClassInsideTestKt$main$1&gt;
	at org.jetbrains.kotlin.codegen.context.CodegenContext.getOuterExpression(CodegenContext.java:224)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:545)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:555)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:555)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.MethodContext.generateReceiver(MethodContext.java:93)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateExtensionReceiver(ExpressionCodegen.java:2564)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.pushClosureOnStack(ExpressionCodegen.java:1077)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateConstructorCall$24(ExpressionCodegen.java:3879)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen$$Lambda$151/445339873.invoke(Unknown Source)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:569)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateMethodBody(SourceCompilerForInline.kt:197)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateLambdaBody(SourceCompilerForInline.kt:148)
	at org.jetbrains.kotlin.codegen.inline.ExpressionLambda.generateLambdaBody(LambdaInfo.kt:191)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:324)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:257)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:169)
	... 139 more

:compileKotlin FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':compileKotlin'.
&gt; Compilation error. See log for more details

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

BUILD FAILED

Total time: 10.686 secs
Compilation error. See log for more details
6:07:35 PM: External tasks execution finished ':classes :testClasses'.

```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1523106569989</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524066136649</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Suseika</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Georgy Vlasov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.30</value><valueId>1.2.30</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23700" entityId="25-1942622"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23700</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value> Kotlin/Native Plugin: freezes in Go to Symbol</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Build: AppCode #181.4650 + plugin same version.

Repro:
* open attached project (basic K/N iOS app)
* Cmd+Alt+O (Go to Symbol) -&gt; type some expression, e.g. `val`. 
*Note:* issue is more likely to occur when 'Include non-project symbols' is checked. If you don't see the problem at once, try reopening the project (sometimes I failed to repro the issue until I did that). 

Actual: search freezes for several seconds (~7-15). Attached thread dumps for several freezes.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1523309480409</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1523309801737</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Maxim Medvedev">maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23715" entityId="25-1944505"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23715</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin plugin crash with incompatible kotlin-serialization plugin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>With Intellij 2018.1 and 2018.1.1 it's impossible to open [our multiplatform project](https://github.com/data2viz/data2viz) (see stacktrace below).

The "Report to Jetbrains" is not available (see image below).


 ![](image.png)




null
java.lang.AbstractMethodError
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateSyntheticPartsAfterBody(ImplementationBodyCodegen.java:389)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:145)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:316)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:157)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1$1.invoke(LightClassDataProvider.kt:53)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1$1.invoke(LightClassDataProvider.kt:39)
	at org.jetbrains.kotlin.asJava.builder.LightClassBuilderKt.buildLightClass(LightClassBuilder.kt:60)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1.invoke(LightClassDataProvider.kt:48)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1.invoke(LightClassDataProvider.kt:39)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$lazyInexactStub$2.invoke(LazyLightClassDataHolder.kt:52)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$lazyInexactStub$2.invoke(LazyLightClassDataHolder.kt:33)
	at kotlin.SafePublicationLazyImpl.getValue(Lazy.kt:194)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder.getLazyInexactStub(LazyLightClassDataHolder.kt)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder.getInexactStub(LazyLightClassDataHolder.kt:56)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder.access$getInexactStub$p(LazyLightClassDataHolder.kt:33)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$LazyLightClassData$dummyDelegate$2.invoke(LazyLightClassDataHolder.kt:92)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$LazyLightClassData$dummyDelegate$2.invoke(LazyLightClassDataHolder.kt:87)
	at kotlin.SafePublicationLazyImpl.getValue(Lazy.kt:194)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getDummyDelegate(LazyLightClassDataHolder.kt)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getOwnMethods(LazyLightClassDataHolder.kt:108)
	at org.jetbrains.kotlin.asJava.classes.KtLazyLightClass.getOwnMethods(KtLazyLightClass.kt:29)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.getAllMethods(ClassInnerStuffCache.java:111)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.lambda$getMethods$2(ClassInnerStuffCache.java:46)
	at com.intellij.psi.util.CachedValuesManager.lambda$getCachedValue$0(CachedValuesManager.java:140)
	at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)
	at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)
	at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:60)
	at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:136)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:126)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.getMethods(ClassInnerStuffCache.java:46)
	at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getMethods(KtLightClassBase.kt:38)
	at org.jetbrains.kotlin.asJava.LightClassUtil$getPsiMethodWrappers$1.invoke(LightClassUtil.kt:131)
	at org.jetbrains.kotlin.asJava.LightClassUtil$getPsiMethodWrappers$1.invoke(LightClassUtil.kt:33)
	at kotlin.sequences.FlatteningSequence$iterator$1.ensureItemIterator(Sequences.kt:253)
	at kotlin.sequences.FlatteningSequence$iterator$1.hasNext(Sequences.kt:241)
	at kotlin.sequences.FilteringSequence$iterator$1.calcNext(Sequences.kt:108)
	at kotlin.sequences.FilteringSequence$iterator$1.hasNext(Sequences.kt:133)
	at kotlin.sequences.FilteringSequence$iterator$1.calcNext(Sequences.kt:108)
	at kotlin.sequences.FilteringSequence$iterator$1.hasNext(Sequences.kt:133)
	at org.jetbrains.kotlin.asJava.LightClassUtil.extractPropertyAccessors(LightClassUtil.kt:259)
	at org.jetbrains.kotlin.asJava.LightClassUtil.getLightClassPropertyMethods(LightClassUtil.kt:80)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePluginKt.convertNonLocalProperty(KotlinUastLanguagePlugin.kt:263)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePluginKt.access$convertNonLocalProperty(KotlinUastLanguagePlugin.kt:1)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertDeclaration$uast_kotlin(KotlinUastLanguagePlugin.kt:199)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertDeclarationOrElement(KotlinUastLanguagePlugin.kt:84)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertElementWithParent(KotlinUastLanguagePlugin.kt:72)
	at org.jetbrains.uast.UastContext.convertElementWithParent(UastContext.kt:76)
	at org.jetbrains.uast.UastContextKt.toUElement(UastContext.kt:117)
	at com.intellij.codeInsight.daemon.impl.JavaColorProvider.getJavaColorFromExpression(JavaColorProvider.java:83)
	at com.intellij.codeInsight.daemon.impl.JavaColorProvider.getColorFrom(JavaColorProvider.java:48)
	at com.intellij.ui.ColorLineMarkerProvider.getLineMarkerInfo(ColorLineMarkerProvider.java:51)
	at com.intellij.codeInsight.daemon.impl.LineMarkersPass.queryProviders(LineMarkersPass.java:186)
	at com.intellij.codeInsight.daemon.impl.LineMarkersPass.lambda$doCollectInformation$3(LineMarkersPass.java:108)
	at com.intellij.codeInsight.daemon.impl.Divider.divideInsideAndOutsideInOneRoot(Divider.java:80)
	at com.intellij.codeInsight.daemon.impl.LineMarkersPass.doCollectInformation(LineMarkersPass.java:103)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:437)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1134)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:430)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:429)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:405)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:403)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:170)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)


java.lang.AbstractMethodError
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateSyntheticPartsAfterBody(ImplementationBodyCodegen.java:389)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:145)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:316)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:157)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1$1.invoke(LightClassDataProvider.kt:53)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1$1.invoke(LightClassDataProvider.kt:39)
	at org.jetbrains.kotlin.asJava.builder.LightClassBuilderKt.buildLightClass(LightClassBuilder.kt:60)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1.invoke(LightClassDataProvider.kt:48)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1.invoke(LightClassDataProvider.kt:39)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$lazyInexactStub$2.invoke(LazyLightClassDataHolder.kt:52)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$lazyInexactStub$2.invoke(LazyLightClassDataHolder.kt:33)
	at kotlin.SafePublicationLazyImpl.getValue(Lazy.kt:194)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder.getLazyInexactStub(LazyLightClassDataHolder.kt)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder.getInexactStub(LazyLightClassDataHolder.kt:56)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder.access$getInexactStub$p(LazyLightClassDataHolder.kt:33)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$LazyLightClassData$dummyDelegate$2.invoke(LazyLightClassDataHolder.kt:92)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$LazyLightClassData$dummyDelegate$2.invoke(LazyLightClassDataHolder.kt:87)
	at kotlin.SafePublicationLazyImpl.getValue(Lazy.kt:194)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getDummyDelegate(LazyLightClassDataHolder.kt)
	at org.jetbrains.kotlin.idea.caches.resolve.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getOwnMethods(LazyLightClassDataHolder.kt:108)
	at org.jetbrains.kotlin.asJava.classes.KtLazyLightClass.getOwnMethods(KtLazyLightClass.kt:29)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.getAllMethods(ClassInnerStuffCache.java:111)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.lambda$getMethods$2(ClassInnerStuffCache.java:46)
	at com.intellij.psi.util.CachedValuesManager.lambda$getCachedValue$0(CachedValuesManager.java:140)
	at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)
	at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)
	at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:60)
	at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:136)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:126)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.getMethods(ClassInnerStuffCache.java:46)
	at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getMethods(KtLightClassBase.kt:38)
	at org.jetbrains.kotlin.asJava.LightClassUtil$getPsiMethodWrappers$1.invoke(LightClassUtil.kt:131)
	at org.jetbrains.kotlin.asJava.LightClassUtil$getPsiMethodWrappers$1.invoke(LightClassUtil.kt:33)
	at kotlin.sequences.FlatteningSequence$iterator$1.ensureItemIterator(Sequences.kt:253)
	at kotlin.sequences.FlatteningSequence$iterator$1.hasNext(Sequences.kt:241)
	at kotlin.sequences.FilteringSequence$iterator$1.calcNext(Sequences.kt:108)
	at kotlin.sequences.FilteringSequence$iterator$1.hasNext(Sequences.kt:133)
	at kotlin.sequences.FilteringSequence$iterator$1.calcNext(Sequences.kt:108)
	at kotlin.sequences.FilteringSequence$iterator$1.hasNext(Sequences.kt:133)
	at org.jetbrains.kotlin.asJava.LightClassUtil.extractPropertyAccessors(LightClassUtil.kt:259)
	at org.jetbrains.kotlin.asJava.LightClassUtil.getLightClassPropertyMethods(LightClassUtil.kt:80)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePluginKt.convertNonLocalProperty(KotlinUastLanguagePlugin.kt:263)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePluginKt.access$convertNonLocalProperty(KotlinUastLanguagePlugin.kt:1)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertDeclaration$uast_kotlin(KotlinUastLanguagePlugin.kt:199)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertDeclarationOrElement(KotlinUastLanguagePlugin.kt:84)
	at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertElementWithParent(KotlinUastLanguagePlugin.kt:72)
	at org.jetbrains.uast.UastContext.convertElementWithParent(UastContext.kt:76)
	at org.jetbrains.uast.UastContextKt.toUElement(UastContext.kt:117)
	at com.intellij.codeInsight.daemon.impl.JavaColorProvider.getJavaColorFromExpression(JavaColorProvider.java:83)
	at com.intellij.codeInsight.daemon.impl.JavaColorProvider.getColorFrom(JavaColorProvider.java:48)
	at com.intellij.ui.ColorLineMarkerProvider.getLineMarkerInfo(ColorLineMarkerProvider.java:51)
	at com.intellij.codeInsight.daemon.impl.LineMarkersPass.queryProviders(LineMarkersPass.java:186)
	at com.intellij.codeInsight.daemon.impl.LineMarkersPass.lambda$doCollectInformation$3(LineMarkersPass.java:108)
	at com.intellij.codeInsight.daemon.impl.Divider.divideInsideAndOutsideInOneRoot(Divider.java:80)
	at com.intellij.codeInsight.daemon.impl.LineMarkersPass.doCollectInformation(LineMarkersPass.java:103)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:437)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1134)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:430)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:429)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:405)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:403)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:170)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1523379259756</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1523479585286</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Gaetan.Zoritchak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Gaetan Zoritchak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Gaetan.Zoritchak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Gaetan Zoritchak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Leonid Startsev">Leonid.Startsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Tools. Compiler Plugins</value><valueId>IDE</valueId><valueId>Tools. Compiler Plugins</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-512519" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-512519&amp;c=true">image.png</value><value id="74-512596" url="https://youtrack.jetbrains.com/_persistent/image2.png?file=74-512596&amp;c=true">image2.png</value><value id="74-512597" url="https://youtrack.jetbrains.com/_persistent/image3.png?file=74-512597&amp;c=true">image3.png</value></field><comment id="27-2811694" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23715" deleted="false" text="AbstractMethodError is usually a sign of a plugin corruption or incompatible plugins.&#xA;In particular, similar trace is thrown when users have incompatible kotlinx-serialization IDE plugin installed.&#xA;Please check Settings dialog / Plugins page, and specify Kotlin plugin version and kotlinx-serialization plugin version (if present).&#xA;Thank you." shownForIssueAuthor="false" created="1523388372692" updated="1523388399153" markdown="false"><replies/></comment><comment id="27-2811907" author="Gaetan.Zoritchak" authorFullName="Gaetan Zoritchak" issueId="KT-23715" deleted="false" text="![](image2.png)&#xA;![](image3.png)&#xA;&#xA;I uninstalled kotlinx-serialization plugin and it's ok now." shownForIssueAuthor="false" created="1523394875443" markdown="true"><replies/></comment><comment id="27-2815103" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23715" deleted="false" text="Thanks, the case seems to be clear.&#xA;You can try version 0.4.2 or later, since it is declared as compatible with 1.2.30+&#xA;See the end of README on the page: https://github.com/Kotlin/kotlinx.serialization" shownForIssueAuthor="false" created="1523463516373" markdown="false"><replies/></comment><comment id="27-2815118" author="Gaetan.Zoritchak" authorFullName="Gaetan Zoritchak" issueId="KT-23715" deleted="false" text="@sashache I think there is still a bug: the kotlinx.serialization kills the plugin system. It should be more robust. " shownForIssueAuthor="false" created="1523464140081" updated="1523394875392" markdown="true"><replies/></comment><comment id="27-2815173" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23715" deleted="false" text="Your request looks valid.&#xA;&#xA;However, not as rejection, just as a diagnostic: IDEA platform may have limitations on specifying plugin-on-plugin dependencies.&#xA;To my understanding, a plugin can't require a certain version of another plugin.&#xA;Relevant feature requests, just for reference: IDEA-109929, IDEA-141248.&#xA;It means we probably need some features from IDEA team.&#xA;&#xA;Anyway, reopening for developer's consideration." shownForIssueAuthor="false" created="1523465299314" markdown="false"><replies/></comment><comment id="27-2815505" author="Gaetan.Zoritchak" authorFullName="Gaetan Zoritchak" issueId="KT-23715" deleted="false" text="Good. I think that only having a good error could have help me a lot." shownForIssueAuthor="false" created="1523479585287" updated="1523464140052" markdown="true"><replies/></comment></issue><issue id="KT-23723" entityId="25-1945332"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23723</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Internal Error: wrong code generated: AnalyzerException: "Expected I, but found R"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Hi, 

I'm playing with Vulkan and I'm trying to create a sort of wrapper in kotlin and I encountered a bug

Whenever you comment out [this](https://github.com/java-opengl-labs/Vulkan/blob/master/src/main/kotlin/vkn/vk.kt#L1078-L1083), then I get 

&gt; Internal Error: wrong code generated

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1523436195772</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533507137369</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elect86</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Giuseppe Barbieri</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>5</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-22649</value><value type="Duplicate" role="is duplicated by">KT-25789</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><valueId>1.2.40</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2815437" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23723" deleted="false" text="Where do you see this error?&#xA;I've tried the IDE editor and run Gradle build, but got no such error in both places.&#xA;Syntax errors are reported, but that's correct with suggested change.&#xA;Thank you." shownForIssueAuthor="false" created="1523475385440" markdown="false"><replies/></comment><comment id="27-2815470" author="elect86" authorFullName="Giuseppe Barbieri" issueId="KT-23723" deleted="false" text="When I try to run this https://github.com/java-opengl-labs/Vulkan/blob/master/src/main/kotlin/vulkan/01%20triangle.kt" shownForIssueAuthor="false" created="1523476906533" markdown="false"><replies/></comment><comment id="27-2818968" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23723" deleted="false" text="Thank you, reproduced with 1.2.50-eap-633 also.&#xA;&#xA;Similar to KT-22649, but here it occurs without lambdas.&#xA;&#xA;Minimized sample (seems that all kept parts are essential):&#xA;```&#xA;class PartExtended {&#xA;    fun act(value: Int) {}&#xA;}&#xA;&#xA;open class PartParent&lt;T : Any&gt;(_y: T) {&#xA;    var y = _y&#xA;}&#xA;class PartChild(y: Int) : PartParent&lt;Int&gt;(y)&#xA;&#xA;inline var PartExtended.propA&#xA;    get() = 0&#xA;    set(value) = act(value)&#xA;&#xA;var PartExtended.propB: PartChild&#xA;    get() = PartChild(0)&#xA;    set(value) { propA = value.y }&#xA;```&#xA;&#xA;Trace:&#xA;```&#xA;&lt;Exception from standalone Kotlin compiler&gt;&#xA;Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: wrong code generated&#xA;org.jetbrains.kotlin.codegen.CompilationException Back-end (JVM) Internal error: Couldn't transform method node:&#xA;setPropB (Lcompile/PartExtended;Lcompile/PartChild;)V:&#xA;    // parameter mandated  $receiver&#xA;    // parameter  value&#xA;    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0&#xA;    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1&#xA;   L0&#xA;    ALOAD 0&#xA;    LDC &quot;$receiver&quot;&#xA;    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V&#xA;    ALOAD 1&#xA;    LDC &quot;value&quot;&#xA;    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V&#xA;   L1&#xA;    LINENUMBER 18 L1&#xA;    ALOAD 0&#xA;    ALOAD 1&#xA;    INVOKEVIRTUAL compile/PartChild.getY ()Ljava/lang/Object;&#xA;    ASTORE 3&#xA;    ASTORE 2&#xA;    NOP&#xA;   L2&#xA;    LINENUMBER 20 L2&#xA;    ALOAD 2&#xA;    ILOAD 3&#xA;    INVOKEVIRTUAL compile/PartExtended.act (I)V&#xA;    NOP&#xA;    GOTO L3&#xA;   L3&#xA;   L4&#xA;    LINENUMBER 18 L4&#xA;    RETURN&#xA;   L5&#xA;    LOCALVARIABLE $receiver$iv Lcompile/PartExtended; L2 L3 2&#xA;    LOCALVARIABLE value$iv I L2 L3 3&#xA;    LOCALVARIABLE $i$f$setPropA I L2 L3 4&#xA;    LOCALVARIABLE $receiver Lcompile/PartExtended; L0 L5 0&#xA;    LOCALVARIABLE value Lcompile/PartChild; L0 L5 1&#xA;    MAXSTACK = 2&#xA;    MAXLOCALS = 5&#xA;&#xA;Cause: AFTER mandatory stack transformations: incorrect bytecode&#xA;Element is unknownThe root cause was thrown at: MethodVerifier.kt:28&#xA;bytecode:&#xA;    // parameter mandated  $receiver&#xA;    // parameter  value&#xA;    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0&#xA;    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1&#xA;   L0&#xA;    ALOAD 0&#xA;    LDC &quot;$receiver&quot;&#xA;    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V&#xA;    ALOAD 1&#xA;    LDC &quot;value&quot;&#xA;    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V&#xA;   L1&#xA;    LINENUMBER 18 L1&#xA;    ALOAD 0&#xA;    ALOAD 1&#xA;    INVOKEVIRTUAL compile/PartChild.getY ()Ljava/lang/Object;&#xA;    ASTORE 3&#xA;    ASTORE 2&#xA;    NOP&#xA;   L2&#xA;    LINENUMBER 20 L2&#xA;    ALOAD 2&#xA;    ILOAD 3&#xA;    INVOKEVIRTUAL compile/PartExtended.act (I)V&#xA;    NOP&#xA;    GOTO L3&#xA;   L3&#xA;   L4&#xA;    LINENUMBER 18 L4&#xA;    RETURN&#xA;   L5&#xA;    LOCALVARIABLE $receiver$iv Lcompile/PartExtended; L2 L3 2&#xA;    LOCALVARIABLE value$iv I L2 L3 3&#xA;    LOCALVARIABLE $i$f$setPropA I L2 L3 4&#xA;    LOCALVARIABLE $receiver Lcompile/PartExtended; L0 L5 0&#xA;    LOCALVARIABLE value Lcompile/PartChild; L0 L5 1&#xA;    MAXSTACK = 2&#xA;    MAXLOCALS = 5&#xA;&#xA;Cause: Back-end (JVM) Internal error: Couldn't transform method node:&#xA;setPropB (Lcompile/PartExtended;Lcompile/PartChild;)V:&#xA;    // parameter mandated  $receiver&#xA;    // parameter  value&#xA;    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0&#xA;    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1&#xA;   L0&#xA;    ALOAD 0&#xA;    LDC &quot;$receiver&quot;&#xA;    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V&#xA;    ALOAD 1&#xA;    LDC &quot;value&quot;&#xA;    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V&#xA;   L1&#xA;    LINENUMBER 18 L1&#xA;    ALOAD 0&#xA;    ALOAD 1&#xA;    INVOKEVIRTUAL compile/PartChild.getY ()Ljava/lang/Object;&#xA;    ASTORE 3&#xA;    ASTORE 2&#xA;    NOP&#xA;   L2&#xA;    LINENUMBER 20 L2&#xA;    ALOAD 2&#xA;    ILOAD 3&#xA;    INVOKEVIRTUAL compile/PartExtended.act (I)V&#xA;    NOP&#xA;    GOTO L3&#xA;   L3&#xA;   L4&#xA;    LINENUMBER 18 L4&#xA;    RETURN&#xA;   L5&#xA;    LOCALVARIABLE $receiver$iv Lcompile/PartExtended; L2 L3 2&#xA;    LOCALVARIABLE value$iv I L2 L3 3&#xA;    LOCALVARIABLE $i$f$setPropA I L2 L3 4&#xA;    LOCALVARIABLE $receiver Lcompile/PartExtended; L0 L5 0&#xA;    LOCALVARIABLE value Lcompile/PartChild; L0 L5 1&#xA;    MAXSTACK = 2&#xA;    MAXLOCALS = 5&#xA;&#xA;Cause: AFTER mandatory stack transformations: incorrect bytecode&#xA;Element is unknownThe root cause was thrown at: MethodVerifier.kt:28&#xA;File being compiled at position: (18,5) in /home/ache/jb-projects/kotlin-master/darc-02-rf/crs-a/crs/compile/23723.kt&#xA;The root cause was thrown at: TransformationMethodVisitor.java:88&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.endVisit(FunctionCodegen.java:922)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:406)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:246)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:170)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PropertyCodegen.generateAccessor(PropertyCodegen.java:527)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PropertyCodegen.generateSetter(PropertyCodegen.java:498)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PropertyCodegen.gen(PropertyCodegen.java:139)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PropertyCodegen.gen(PropertyCodegen.java:101)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)&#xA;&#x9;at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:454)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:150)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:56)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:399)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:98)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)&#xA;&#x9;at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:397)&#xA;&#x9;at sun.reflect.GeneratedMethodAccessor87.invoke(Unknown Source)&#xA;&#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;&#x9;at java.lang.reflect.Method.invoke(Method.java:498)&#xA;&#x9;at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:200)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:197)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.Transport.serviceCall(Transport.java:196)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&#xA;&#x9;at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't transform method node:&#xA;setPropB (Lcompile/PartExtended;Lcompile/PartChild;)V:&#xA;    // parameter mandated  $receiver&#xA;    // parameter  value&#xA;    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0&#xA;    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1&#xA;   L0&#xA;    ALOAD 0&#xA;    LDC &quot;$receiver&quot;&#xA;    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V&#xA;    ALOAD 1&#xA;    LDC &quot;value&quot;&#xA;    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V&#xA;   L1&#xA;    LINENUMBER 18 L1&#xA;    ALOAD 0&#xA;    ALOAD 1&#xA;    INVOKEVIRTUAL compile/PartChild.getY ()Ljava/lang/Object;&#xA;    ASTORE 3&#xA;    ASTORE 2&#xA;    NOP&#xA;   L2&#xA;    LINENUMBER 20 L2&#xA;    ALOAD 2&#xA;    ILOAD 3&#xA;    INVOKEVIRTUAL compile/PartExtended.act (I)V&#xA;    NOP&#xA;    GOTO L3&#xA;   L3&#xA;   L4&#xA;    LINENUMBER 18 L4&#xA;    RETURN&#xA;   L5&#xA;    LOCALVARIABLE $receiver$iv Lcompile/PartExtended; L2 L3 2&#xA;    LOCALVARIABLE value$iv I L2 L3 3&#xA;    LOCALVARIABLE $i$f$setPropA I L2 L3 4&#xA;    LOCALVARIABLE $receiver Lcompile/PartExtended; L0 L5 0&#xA;    LOCALVARIABLE value Lcompile/PartChild; L0 L5 1&#xA;    MAXSTACK = 2&#xA;    MAXLOCALS = 5&#xA;&#xA;Cause: AFTER mandatory stack transformations: incorrect bytecode&#xA;Element is unknownThe root cause was thrown at: MethodVerifier.kt:28&#xA;&#x9;at org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.java:88)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.endVisit(FunctionCodegen.java:910)&#xA;&#x9;... 47 more&#xA;Caused by: java.lang.AssertionError: AFTER mandatory stack transformations: incorrect bytecode&#xA;&#x9;at org.jetbrains.kotlin.codegen.optimization.MethodVerifier.transform(MethodVerifier.kt:28)&#xA;&#x9;at org.jetbrains.kotlin.codegen.optimization.transformer.CompositeMethodTransformer.transform(CompositeMethodTransformer.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.codegen.optimization.OptimizationMethodVisitor.performTransformations(OptimizationMethodVisitor.kt:44)&#xA;&#x9;at org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.java:65)&#xA;&#x9;... 48 more&#xA;Caused by: java.lang.RuntimeException: org.jetbrains.org.objectweb.asm.tree.analysis.AnalyzerException: Error at instruction 18: Expected I, but found R&#xA;&#x9;at org.jetbrains.kotlin.codegen.optimization.transformer.MethodTransformer.runAnalyzer(MethodTransformer.java:34)&#xA;&#x9;at org.jetbrains.kotlin.codegen.optimization.transformer.MethodTransformer.analyze(MethodTransformer.java:44)&#xA;&#x9;at org.jetbrains.kotlin.codegen.optimization.MethodVerifier.transform(MethodVerifier.kt:26)&#xA;&#x9;... 51 more&#xA;Caused by: org.jetbrains.org.objectweb.asm.tree.analysis.AnalyzerException: Error at instruction 18: Expected I, but found R&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.analysis.Analyzer.analyze(Analyzer.java:295)&#xA;&#x9;at org.jetbrains.kotlin.codegen.optimization.transformer.MethodTransformer.runAnalyzer(MethodTransformer.java:31)&#xA;&#x9;... 53 more&#xA;Caused by: org.jetbrains.org.objectweb.asm.tree.analysis.AnalyzerException: Expected I, but found R&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.analysis.BasicVerifier.copyOperation(BasicVerifier.java:95)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.analysis.BasicVerifier.copyOperation(BasicVerifier.java:47)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.analysis.Frame.execute(Frame.java:277)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.analysis.Analyzer.analyze(Analyzer.java:200)&#xA;&#x9;... 54 more&#xA;```" shownForIssueAuthor="false" created="1523582938799" markdown="false"><replies/></comment><comment id="27-2819191" author="elect86" authorFullName="Giuseppe Barbieri" issueId="KT-23723" deleted="false" text="Glad to read that&#xA;&#xA;Ps: I have encountered the same problem in also another couple of places (identified by `// TODO BUG`)&#xA;Whenever this gets fixed I'll check them too" shownForIssueAuthor="false" created="1523600473178" updated="1523476906481" markdown="false"><replies/></comment><comment id="27-2999097" author="elect86" authorFullName="Giuseppe Barbieri" issueId="KT-23723" deleted="false" text="Hi, news?" shownForIssueAuthor="false" created="1533501696195" markdown="false"><replies/></comment></issue><issue id="KT-23732" entityId="25-1946498"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23732</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incremental compilation passes Ok when compilation after clean fails</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider code:
``// kotlin code, common module:
expect class C{
    var name: String
    val year: Int
}
// kotlin code, jvm platform module:
actual typealias C = JavaC
// java code:
public class JavaC {
    private String name;
    public String getName() {        return name;   }
    public void setName(String name) {        this.name = name;    }
    private final int year = 2018;
    public int getYear() {        return year;    }
}
``
Perform gradle `clean build` commands - this code is not compiled:
{code}Actual class 'JavaC' has no corresponding members for expected class members:
    public expect final var name: String
    The following declaration is incompatible because visibility is different:
        private final var name: String!
    public expect final val year: Int
    The following declaration is incompatible because visibility is different:
        private final val year: Int
{code}
Ok. Change class `JavaC` to:
``public class JavaC {
    public String name;
    public final int year = 2018;
}
``
Again perform gradle `clean build` commands - now the code is compiled Ok.
Now, change class `JavaC` back to the original variant and
this time perform gradle `build` command - the code is compiled OK.

Configurations: 
2018.1 (#IU-181.4445.20) + Kotlin plugin 1.2.40-eap-57-IJ2018.1-1 + artifact 1.2.40-eap-51
2018.2 (#IU-182.1353) + Kotlin plugin 1.2.50-dev-599-IJ2018.2-1+ artifact 1.2.50-dev-321</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1523455651359</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524852545376</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Viktoria.Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Viktoria Shirunova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Incremental Compile</value><valueId>Tools. Incremental Compile</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><value>1.2.50</value><valueId>1.2.40</valueId><valueId>1.2.50</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c0">multiplatform</tag></issue><issue id="KT-23739" entityId="25-1946792"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23739</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>CompilationException: Back-end (JVM) Internal error: Couldn't inline method call: Unmapped line number in inlined function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>`kotlin_version = '1.2.40-eap-51'`
Gradle 4.6

This compilation error seems to be new on 1.2.40. I was able to run these tests on an older version of kotlin and they passed fine.

This is happening with a MPP. I'll upload a project in a comment reproducing this error.

```
e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'lazy' into
public constructor IndirectA(objectGraph: kinject.ObjectGraph) defined in kinject.CyclicalDependenciesTest.IndirectA
(objectGraph: ObjectGraph)
Cause: Not generated
Cause: Unmapped line number in inlined function lazy$default:285
File being compiled at position: (40,37) in /Users/spierce7/Desktop/example/kinject-common/src/test/kotlin/kinject/CyclicalDependenciesTest.kt
The root cause was thrown at: SMAPAndMethodNode.kt:38
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:167)
        at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:661)
        at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)
        at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:642)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2398)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2347)
        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
        at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
        at org.jetbrains.kotlin.codegen.StackValue$StackValueWithSimpleReceiver.store(StackValue.java:1865)
        at org.jetbrains.kotlin.codegen.StackValue$Property.store(StackValue.java:1501)
        at org.jetbrains.kotlin.codegen.StackValue.store(StackValue.java:130)
        at org.jetbrains.kotlin.codegen.MemberCodegen.initializeProperty(MemberCodegen.java:519)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generateInitializers(MemberCodegen.java:487)
        at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateInitializers(ImplementationBodyCodegen.java:1175)
        at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructorImpl(ImplementationBodyCodegen.java:1115)
        at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.access$200(ImplementationBodyCodegen.java:84)
        at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen$2.doGenerateBody(ImplementationBodyCodegen.java:1040)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:620)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:391)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:244)
        at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructor(ImplementationBodyCodegen.java:1036)
        at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateConstructors(ImplementationBodyCodegen.java:433)
        at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:83)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:305)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:289)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:315)
        at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:169)
        at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:67)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:305)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:289)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
        at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
        at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:454)
        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:150)
        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)
        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)
        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)
        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)
        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)
        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:463)
        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:98)
        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:228)
        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:38)
        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:90)
        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:102)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:538)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:98)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:418)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:417)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361)
        at sun.rmi.transport.Transport$1.run(Transport.java:200)
        at sun.rmi.transport.Transport$1.run(Transport.java:197)
        at java.security.AccessController.doPrivileged(Native Method)
        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
        at java.security.AccessController.doPrivileged(Native Method)
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Unmapped line number in inlined function lazy$default:285
        at org.jetbrains.kotlin.codegen.inline.SMAPAndMethodNodeKt$createLineNumberSequence$1.invoke(SMAPAndMethodNode.kt:38)
        at org.jetbrains.kotlin.codegen.inline.SMAPAndMethodNodeKt$createLineNumberSequence$1.invoke(SMAPAndMethodNode.kt)
        at kotlin.sequences.TransformingSequence$iterator$1.next(Sequences.kt:149)
        at kotlin.sequences.TransformingSequence$iterator$1.next(Sequences.kt:149)
        at kotlin.sequences.DistinctIterator.computeNext(Sequences.kt:498)
        at kotlin.collections.AbstractIterator.tryToComputeNext(AbstractIterator.kt:37)
        at kotlin.collections.AbstractIterator.hasNext(AbstractIterator.kt:24)
        at kotlin.sequences.SequencesKt___SequencesKt.toCollection(_Sequences.kt:654)
        at kotlin.sequences.SequencesKt___SequencesKt.toMutableList(_Sequences.kt:684)
        at kotlin.sequences.SequencesKt___SequencesKt.toList(_Sequences.kt:675)
        at org.jetbrains.kotlin.codegen.inline.SMAPAndMethodNode.&lt;init&gt;(SMAPAndMethodNode.kt:26)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegenUtilsKt.getMethodNode(inlineCodegenUtils.kt:143)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen$Companion.doCreateMethodNodeFromCompiled(InlineCodegen.kt:549)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen$Companion.createInlineMethodNode$backend(InlineCodegen.kt:507)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:157)
        ... 83 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1523464884525</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524065442324</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>spierce7.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Scott Pierce</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><valueId>1.2.40</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2815165" author="spierce7.1" authorFullName="Scott Pierce" issueId="KT-23739" deleted="false" text="To reproduce this crash, please open the following project.&#xA;&#xA;Run the following command:&#xA;`./gradlew :kinject-jvm:test`" shownForIssueAuthor="false" created="1523464993176" markdown="true"><replies/></comment><comment id="27-2818733" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-23739" deleted="false" text="Thanks a lot, interesting issue.&#xA;Reproduced with kotlin-gradle-plugin 1.2.40-eap-61 and 1.2.50-dev-321.&#xA;&#xA;-----&#xA;&#xA;Short steps to reproduce for developers.&#xA;Setup multiplatform project. JS module is not necessary, set standard `module-jvm --expectedBy--&gt; module-common` dependency.&#xA;&#xA;In `module-common` provide 2 source files:&#xA;```&#xA;package cr.p23739&#xA;expect class Strange {&#xA;    inline fun &lt;T&gt; get(p: String = &quot;&quot;)&#xA;}&#xA;```&#xA;```&#xA;package cr.p23739&#xA;class Filler&#xA;fun doNotTest(strange: Strange) {&#xA;    strange.get&lt;Filler&gt;()&#xA;}&#xA;```&#xA;&#xA;In `module-jvm` provide 1 source file:&#xA;```&#xA;package cr.p23739&#xA;actual class Strange {&#xA;    actual inline fun &lt;T&gt; get(p: String) {}&#xA;}&#xA;```&#xA;&#xA;Run Gradle `clean`, `build`: all is Ok.&#xA;&#xA;Now insert into `module-common/.../Strange.kt` a number of comments greater than number of lines in `module-jvm/.../Strange.kt`:&#xA;```&#xA;package cr.p23739&#xA;//&#xA;// ... Quite many lines.&#xA;//&#xA;expect class Strange {&#xA;    inline fun &lt;T&gt; get(p: String = &quot;&quot;)&#xA;}&#xA;```&#xA;&#xA;Run Gradle `clean`, `build`: fail with specified exception." shownForIssueAuthor="false" created="1523561294373" markdown="false"><replies/></comment><tag cssClass="c0">multiplatform</tag></issue><issue id="KT-23766" entityId="25-1948615"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23766</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/Native Plugin: freeze when invoking completion for function call argument</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Build: AppCode #182.1572 + plugin same version.

Open attached project -&gt; `KotlinNativeFramework.kt`, invoke basic completion at caret:
{code}
    fun test() {
        println(&lt;caret&gt;)
    }
{code}

Result: extreme memory consumption and IDE freeze.

*Note:* idea.log has lots of records while completion is in progress, not sure if it's relevant to the problem though:
`2018-04-12 19:42:57,685 [ 310009]   INFO - project.TargetPlatformDetector - Using default platform for file: package_platform.CoreText.knm 
2018-04-12 19:42:57,693 [ 310017]   INFO - project.TargetPlatformDetector - Using default platform for file: package_platform.Accelerate.knm 
2018-04-12 19:42:57,720 [ 310044]   INFO - project.TargetPlatformDetector - Using default platform for file: package_platform.zlib.knm 
`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1523551986976</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1523552816359</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Tatiana.Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tatiana Shabaeva</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-23572</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Maxim Medvedev">maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23847" entityId="25-1954763"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23847</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Produce channel auto-closing before all elements have been read</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>My understanding is that this

```kt
            val channel = Channel&lt;Int&gt;(capacity = 3)
            launch {
                for (x in 1..17) channel.send(x)
                channel.close()
            }
```
and this
```kt
            val channel = produce&lt;Int&gt;(capacity = 3) {
                (1..17).forEach { send(it) }
            }
```

are roughly equivalent.

However, we are seeing that for some reason the `produce` channel is closing before all the items are received.
```kt
        it("produce breaks WITH delay") {
            val channel = produce&lt;Int&gt;(capacity = 3) {
                (1..toProduce).forEach { send(it) }
            }

            val received = mutableListOf&lt;Int&gt;()
            runBlocking {
                receiveChannel.consumeEach {
                    received.add(it)
                    delay(50)
                }
                println("Done!")
            }

            assertThat(received).isNotEqualTo((1..toProduce).toList())
            assertThat(received).isEqualTo((1..14).toList())
            // assertThat(received).isEqualTo((1..toProduce).toList())
            // throws java.lang.AssertionError:
            // Not true that &lt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]&gt;
            // is equal to &lt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17]&gt;
        }
```
if we remove the channel capacity it works as expected
if we remove the consumer delay it works as expected
if we use a regular channel instead of a produce channel it works as expected.

Is this expected behavior for the produce channel?



Full test here:
```kt
class ChannelTest : Spek({
    describe("Producer channel") {

        /**
         * We will produce 17 items for each channel
         */
        val toProduce = 17

        it("does what it is supposed to with launch without delay") {
            val channel = Channel&lt;Int&gt;(capacity = 3)
            launch {
                for (x in 1..toProduce) channel.send(x)
                channel.close() // we're done sending
            }

            val received = consumeIntoList(channel, withConsumeDelay = 0)

            assertThat(received).isEqualTo((1..toProduce).toList())
        }

        it("does what it is supposed to with launch WITH delay") {
            val channel = Channel&lt;Int&gt;(capacity = 3)
            launch {
                for (x in 1..toProduce) channel.send(x)
                channel.close() // we're done sending
            }

            val received = consumeIntoList(channel, withConsumeDelay = 50)

            assertThat(received).isEqualTo((1..toProduce).toList())
        }
        it("produce works without delay") {
            val channel = produce&lt;Int&gt;(capacity = 3) {
                (1..toProduce).forEach { send(it) }
            }

            val received = consumeIntoList(channel, withConsumeDelay = 0)

            assertThat(received).isEqualTo((1..toProduce).toList())
        }
        it("produce breaks WITH delay") {
            val channel = produce&lt;Int&gt;(capacity = 3) {
                (1..toProduce).forEach { send(it) }
            }

            val received = consumeIntoList(channel, withConsumeDelay = 50)

            assertThat(received).isNotEqualTo((1..toProduce).toList())
            assertThat(received).isEqualTo((1..14).toList())
            // assertThat(received).isEqualTo((1..toProduce).toList())
            // throws java.lang.AssertionError:
            // Not true that &lt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]&gt;
            // is equal to &lt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17]&gt;
        }
    }
})


fun consumeIntoList(receiveChannel: ReceiveChannel&lt;Int&gt;, withConsumeDelay: Int): List&lt;Int&gt; {
    val received = mutableListOf&lt;Int&gt;()
    runBlocking {
        receiveChannel.consumeEach {
            received.add(it)
            if (withConsumeDelay &gt; 0) delay(withConsumeDelay)
        }
        println("Done!")
    }
    return received
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1523923885097</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524016400584</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eveyn</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Evey Neely</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Roman Elizarov">elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Libraries</value><valueId>Libraries</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23881" entityId="25-1960242"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23881</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Declaration of lambda in inlined apply block holds reference to superfluous references causing leak</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Originally encountered when I added the `LeakedType` parameter to an existing function (see full demonstration code below) which was an `Activity` and Leak Canary promptly complained about it.

# Environment
IDE: Seen on both IntelliJ Idea Ultimate 2018.1 #IU-181.4445.20 and Android Studio 3.2 Canary 9
Kotlin: 1.2.40
Gradle: 4.6
JRE: 1.8.0_152-release-1136-b27 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Android: Various versions/emulators

# Reproduce
Somewhat smallest reproduction I could get:
```kotlin
fun main(args: Array&lt;String&gt;) {
    class LeakedType(val source: String)
    class ClassWithCallback {
        var someCallback: (() -&gt; Unit)? = null

        fun dumpCallbackFields() =
            someCallback!!.javaClass.declaredFields
                .map { it.get(someCallback!!) as LeakedType }
                .forEach { println("From callback fields :: leakedType=${it.source}") }
    }

    val classWithCallback = ClassWithCallback()

    val outer = LeakedType("Used in callback")
    val leaked = LeakedType("Used in apply block but not callback")

    classWithCallback.apply {
        someCallback = { println("In callback :: leakedType=${outer.source}") }
        println("In apply block using leak arg :: leakedType=${leaked.source}")
    }
    classWithCallback.dumpCallbackFields()
}
```

##### Output
Last line should not be there!
```
In apply block using leak arg :: leakedType=Used in apply block but not callback
From callback fields :: leakedType=Used in callback
From callback fields :: leakedType=Used in apply block but not callback
```

##### Bytecode
```
   L9
    LINENUMBER 18 L9
    ALOAD 5
    NEW MainKt$main$$inlined$apply$lambda$1
    DUP
    ALOAD 2
    ALOAD 3
    // lambda$1 has the LeakedType as a param
    INVOKESPECIAL MainKt$main$$inlined$apply$lambda$1.&lt;init&gt; (LMainKt$main$LeakedType;LMainKt$main$LeakedType;)V
    CHECKCAST kotlin/jvm/functions/Function0
    INVOKEVIRTUAL MainKt$main$ClassWithCallback.setSomeCallback (Lkotlin/jvm/functions/Function0;)V
```

# Demonstration
Bigger example:
```kotlin
class LeakedType(val source: String)

class SomeClass(private val fromOuterClass: LeakedType) {
    val classWithCallback = ClassWithCallback()

    fun addCallback() {
        classWithCallback.apply {
            someCallback = { println("In callback :: leakedType=${fromOuterClass.source}") }
        }
    }

    fun addCallback(leaked: LeakedType) {
        classWithCallback.apply {
            someCallback = { println("In callback :: leakedType=${fromOuterClass.source}") }
            println("In apply block using leak arg :: leakedType= ${leaked.source}")
        }
    }
}

class ClassWithCallback {
    var someCallback: (() -&gt; Unit)? = null

    fun dumpCallbackFields() {
        val someCallback = someCallback!!
        someCallback::class.java.declaredFields.forEach {
            println("field=$it")
            if (it.type == LeakedType::class.java) {
                it.isAccessible = true
                val topLevelType = it.get(someCallback) as LeakedType
                println("From callback fields :: leakedType=${topLevelType.source}")
            }
        }
    }
}

fun main(args: Array&lt;String&gt;) {
    val fromCtor = LeakedType("Passed via ctor")
    val someClass = SomeClass(fromCtor)

    someClass.addCallback()
    someClass.classWithCallback.someCallback?.invoke()
    someClass.classWithCallback.dumpCallbackFields()

    println("")

    val passedToFunction = LeakedType("Passed as function arg")
    someClass.addCallback(passedToFunction)
    someClass.classWithCallback.someCallback?.invoke()
    someClass.classWithCallback.dumpCallbackFields()
}
```

##### Output
```
In callback :: leakedType=Passed via ctor
field=final SomeClass SomeClass$addCallback$$inlined$apply$lambda$1.this$0

In apply block using leak arg :: leakedType=Passed as function arg
In callback :: leakedType=Passed via ctor
field=final SomeClass SomeClass$addCallback$$inlined$apply$lambda$2.this$0
// **this should not be here!**
field=final LeakedType SomeClass$addCallback$$inlined$apply$lambda$2.$leaked$inlined
From callback fields :: leakedType=Passed as function arg
```

##### Bytecode
It can be seen for the second function with the leaked argument that the callback anonymous class takes the arg as a parameter even though it isn't used in the callback.

For function without arguments:
```
   L3
    LINENUMBER 8 L3
    ALOAD 2
    NEW SomeClass$addCallback$$inlined$apply$lambda$1
    DUP
    ALOAD 0
    INVOKESPECIAL SomeClass$addCallback$$inlined$apply$lambda$1.&lt;init&gt; (LSomeClass;)V
    CHECKCAST kotlin/jvm/functions/Function0
    INVOKEVIRTUAL ClassWithCallback.setSomeCallback (Lkotlin/jvm/functions/Function0;)V
```
For function with argument:

```
   L4
    LINENUMBER 14 L4
    ALOAD 3
    NEW SomeClass$addCallback$$inlined$apply$lambda$2
    DUP
    ALOAD 0
    ALOAD 1
    // takes LLeakedType even though callback doesn't use it
    INVOKESPECIAL SomeClass$addCallback$$inlined$apply$lambda$2.&lt;init&gt; (LSomeClass;LLeakedType;)V
    CHECKCAST kotlin/jvm/functions/Function0
    INVOKEVIRTUAL ClassWithCallback.setSomeCallback (Lkotlin/jvm/functions/Function0;)V
```

</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1524107591980</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1526649447364</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alex.Waters</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alex Waters</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><valueId>1.2.40</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2831716" author="Alex.Waters" authorFullName="Alex Waters" issueId="KT-23881" deleted="false" text="FTR unchanged with 1.2.40" shownForIssueAuthor="false" created="1524185056060" markdown="true"><replies/></comment></issue><issue id="KT-23916" entityId="25-1964681"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23916</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin blog: Code blocks in comments use the old highlighter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Compare the new layout and the old one (attached).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1524230367536</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524394918385</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yanex</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yan Zhulanow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Site</value><valueId>Web Site</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-516854" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202018-04-20%20at%2016.18.40.png?file=74-516854&amp;c=true">Screen Shot 2018-04-20 at 16.18.40.png</value><value id="74-516855" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202018-04-20%20at%2016.18.47.png?file=74-516855&amp;c=true">Screen Shot 2018-04-20 at 16.18.47.png</value></field></issue><issue id="KT-23925" entityId="25-1965170"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23925</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>KDoc adjoining class/method parameters </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Using the KDoc markdown I can reference (for example) constructor parameters.

If these references adjoin each other however the reference is not made.

```kotlin
/** Does an '[a]([b])' returning a '[c]'. */
class Foobar(a: String, b: String, c: String) {
  
}
```

![](image.png)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1524250140653</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524396348428</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jwt007</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jeff Thomas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. KDoc</value><valueId>IDE. KDoc</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.30</value><valueId>1.2.30</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-517009" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-517009&amp;c=true">image.png</value></field></issue><issue id="KT-23932" entityId="25-1965360"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23932</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>add "PointerEvent" for kotlin-stdlib-js </value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent
please support org.w3c.events.PointerEvent</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1524298935465</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524484967917</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>shaunxiao</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>shaun-xiao</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-12812</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Mashkov">cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Libraries</value><valueId>Libraries</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-23998" entityId="25-1969135"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>23998</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin transient variables null after deserialization</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have to serialize an object and deserialize it afterwards. But for some reason when I do this, fields that have been marked as Transient will be set to null, even though it is a non-nullable variable. This results in java.lang.NullPointerException in my code when I try to work with it. This feels like it goes against everything that Kotlin stands for, trying to get rid of nulls except when you implicitly ask for it.

Here is an example:
```kt
data class Test(val constructorVariable: String): Serializable {
    val nonTransientVariable = "Not transient"
    @Transient val transientVariable = "Is transient"
}

val debug: (Test) -&gt; Unit = {
    Log.d("Test", "Object toString: $it")
    Log.d("Test", "Constructor variable: ${it.constructorVariable}")
    Log.d("Test", "Non-transient variable: ${it.nonTransientVariable}")
    Log.d("Test", "Transient variable: ${it.transientVariable}")
}


val objectIn = Test("sdf")
// Output our control object
Log.d("Test", "-----------------------")
Log.d("Test", "Testing original object")
debug.invoke(objectIn)

//serialize object
val byteArrayOutputStream = ByteArrayOutputStream()
val objectOutputStream = ObjectOutputStream(byteArrayOutputStream)
objectOutputStream.writeObject(objectIn)

// Write to bytes
val bytes = byteArrayOutputStream.toByteArray()

// Deserialize object
val objectInputStream = ByteArrayInputStream(bytes).use { ObjectInputStream(it) }
val objectOut = objectInputStream.readObject() as Test

// Output our result
Log.d("Test", "-----------------------")
Log.d("Test", "Testing deserialized object")
debug.invoke(objectOut)
```
And we get the following result:
```
D/Test: -----------------------
D/Test: Testing original object
D/Test: Object toString: Test(constructorVariable=sdf)
D/Test: Constructor variable: sdf
D/Test: Non-transient variable: Not transient
D/Test: Transient variable: Is transient
D/Test: -----------------------
D/Test: Testing deserialized object
D/Test: Object toString: Test(constructorVariable=sdf)
D/Test: Constructor variable: sdf
D/Test: Non-transient variable: Not transient
D/Test: Transient variable: null
```


It would feel way more natural if the transient variables would be reinitialized with their default values, instead of just being put to null (which shouldn't be possible as I haven't explicitly told that it should be null.)

If this is an issue on Kotlins side, how can I work around this issue?</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1524648181881</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524829549556</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>thomas.13</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Thomas van den Bulk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Leonid Startsev">Leonid.Startsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools</value><value>Libraries</value><valueId>Tools</valueId><valueId>Libraries</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><valueId>1.2.40</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2840107" author="thomas.13" authorFullName="Thomas van den Bulk" issueId="KT-23998" deleted="false" text="I was able to fix it for now by writing a ```readObject(OjectInputStream)``` function:&#xA;&#xA;```kt&#xA;@Throws(IOException::class, ClassNotFoundException::class)&#xA;private fun readObject(stream: java.io.ObjectInputStream) {&#xA;    stream.defaultReadObject()&#xA;    transientVariable = &quot;Is transient&quot;&#xA;}&#xA;```&#xA;&#xA; This should do the trick for me for now, but it feels weird that kotlin doesn't do this by default to fill the variables for us." shownForIssueAuthor="false" created="1524651741288" markdown="true"><replies/></comment><comment id="27-2844605" author="beholder" authorFullName="Roman Dawydkin" issueId="KT-23998" deleted="false" text="Probably there should be warning if field marked with Transient is not declared as non-nullable explicitly." shownForIssueAuthor="false" created="1524829222330" markdown="true"><replies/></comment></issue><issue id="KT-24004" entityId="25-1969368"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24004</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Illegal reflective access warning in Kotlin complier Maven plugin with incremental compilation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>KT-19051 says this was fixed in 1.2.30, but I'm using 1.2.40 and still seeing it.
Error only appears when using `&lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt;`

```
[INFO] --- kotlin-maven-plugin:1.2.40:compile (compile) @ forbidden-island-kotlin ---
[WARNING] Using experimental Kotlin incremental compilation
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.intellij.util.io.PagedFileStorage (file:/Users/graham/.m2/repository/org/jetbrains/kotlin/kotlin-compiler/1.2.40/kotlin-compiler-1.2.40.jar) to field java.nio.Bits.maxMemory
WARNING: Please consider reporting this to the maintainers of com.intellij.util.io.PagedFileStorage
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
```

```
graham$ java -version
java version "9.0.4"
Java(TM) SE Runtime Environment (build 9.0.4+11)
Java HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)
```

```
graham$ mvn -version
Apache Maven 3.3.1 (cab6659f9874fa96462afef40fcf6bc033d58c1c; 2015-03-14T07:10:27+11:00)
Maven home: /usr/local/Cellar/maven/3.3.1/libexec
Java version: 9.0.4, vendor: Oracle Corporation
Java home: /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home
Default locale: en_AU, platform encoding: UTF-8
OS name: "mac os x", version: "10.13.3", arch: "x86_64", family: "mac"
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1524654397681</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524755900217</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>grlea1304392760538</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Graham Lea</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-24108</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Maven</value><value>Tools. Incremental Compile</value><valueId>Tools. Maven</valueId><valueId>Tools. Incremental Compile</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><valueId>1.2.40</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-24108" entityId="25-1971277"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24108</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Java 9, Maven: incremental compilation fails with KotlinNullPointerException 	at IncrementalJvmCompilerRunnerKt.getClasspathAsList()</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Setup a Maven module with Kotlin and Java 9.
Make sure Maven runs with JDK 9.
Set up incremental compilation in `pom.xml`:
`&lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt;`

Provide `module-info.java`:
```
module temp.maven {
//    requires kotlin.stdlib;
}
```

Create a single .kt source like:
```
class KoClass
fun koFun() = KoClass()
```

Run `mvn clean`, `mvn compile`.
Beside KT-24004 fail with exception (see the comment).

Reproduced with kotlin-maven-plugin 1.2.0, 1.2.31, 1.2.40, 1.2.50-dev-971.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1524751991178</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1524752415464</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-24004</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Maven</value><value>Tools. Incremental Compile</value><valueId>Tools. Maven</valueId><valueId>Tools. Incremental Compile</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2842999" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-24108" deleted="false" text="[INFO] ------------------------------------------------------------------------&#xA;[INFO] BUILD FAILURE&#xA;[INFO] ------------------------------------------------------------------------&#xA;[INFO] Total time: 1.614 s&#xA;[INFO] Finished at: 2018-04-26T17:09:04+03:00&#xA;kotlin.KotlinNullPointerException&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunnerKt.getClasspathAsList(IncrementalJvmCompilerRunner.kt:467)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:436)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:218)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:37)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:80)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:102)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunnerKt.makeIncrementally(IncrementalJvmCompilerRunner.kt:76)&#xA;&#x9;at org.jetbrains.kotlin.maven.K2JVMCompileMojo.runIncrementalCompiler(K2JVMCompileMojo.java:266)&#xA;&#x9;at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execCompiler(K2JVMCompileMojo.java:230)&#xA;&#x9;at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execCompiler(K2JVMCompileMojo.java:55)&#xA;&#x9;at org.jetbrains.kotlin.maven.KotlinCompileMojoBase.execute(KotlinCompileMojoBase.java:220)&#xA;&#x9;at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execute(K2JVMCompileMojo.java:218)&#xA;&#x9;at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)&#xA;&#x9;at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)&#xA;&#x9;at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)&#xA;&#x9;at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)&#xA;&#x9;at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)&#xA;&#x9;at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)&#xA;&#x9;at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)&#xA;&#x9;at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)&#xA;&#x9;at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)&#xA;&#x9;at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)&#xA;&#x9;at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)&#xA;&#x9;at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)&#xA;&#x9;at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)&#xA;&#x9;at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)&#xA;&#x9;at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xA;&#x9;at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&#xA;&#x9;at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;&#x9;at java.base/java.lang.reflect.Method.invoke(Method.java:564)&#xA;&#x9;at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)&#xA;&#x9;at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)&#xA;&#x9;at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)&#xA;&#x9;at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)&#xA;&#x9;at org.codehaus.classworlds.Launcher.main(Launcher.java:47)&#xA;[INFO] Final Memory: 19M/64M&#xA;[INFO] ------------------------------------------------------------------------&#xA;[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.2.31:compile (compile) on project temp-07-maven: Compilation failure -&gt; [Help 1]&#xA;[ERROR] &#xA;[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.&#xA;[ERROR] Re-run Maven using the -X switch to enable full debug logging.&#xA;[ERROR] &#xA;[ERROR] For more information about the errors and possible solutions, please read the following articles:&#xA;[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException" shownForIssueAuthor="false" created="1524752002751" markdown="false"><replies/></comment></issue><issue id="KT-24139" entityId="25-1972243"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24139</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unable to build Kotlin JS module in IntelliJ with tests and custom module name</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have a configuration with explicitly set `&lt;outputFile&gt;` entries for production and test output paths in Maven like following:
```
&lt;executions&gt;
	&lt;execution&gt;
		&lt;id&gt;compile&lt;/id&gt;
		&lt;phase&gt;compile&lt;/phase&gt;
		&lt;goals&gt;
			&lt;goal&gt;js&lt;/goal&gt;
		&lt;/goals&gt;
		&lt;configuration&gt;
			&lt;outputFile&gt;${project.build.directory}/js/${js.module.name}.js&lt;/outputFile&gt;
		&lt;/configuration&gt;
	&lt;/execution&gt;
	&lt;execution&gt;
		&lt;id&gt;test-compile&lt;/id&gt;
		&lt;phase&gt;test-compile&lt;/phase&gt;
		&lt;goals&gt;
			&lt;goal&gt;test-js&lt;/goal&gt;
		&lt;/goals&gt;
		&lt;configuration&gt;
			&lt;outputFile&gt;${project.build.directory}/test-js/${js.module.name}-tests.js&lt;/outputFile&gt;
		&lt;/configuration&gt;
	&lt;/execution&gt;
&lt;/executions&gt;
```

Because when importing Maven project into IntelliJ the production and test files are not treated separately and just replaced with additional parameters like `-output D:/path/module-js.js` (please see KT-22587 for details), when building the module in IntelliJ I used to just remove the generated `-output D:/path/module-js.js` from Kotlin module configuration in IntelliJ and it worked, otherwise there was a compilation error. However, after `1.2.40` release it does not compile even when I remove that `-output` parameter. Members of main module cannot be found when building tests.

The issue only happens when the output module name is different from artifact name in Maven. Otherwise it is compiled fine. If I compile purely with Maven it's also fine. I'm attaching a project to reproduce.

The change in behavior is probably related to work done on KT-22586. You mught also want to consider KT-23113 when deciding how to fix this one.

The difference seems to come from the fact that when project is compiled with Maven plugin, then the compiled production library is passed as a part of `-libraries` argument when compiling the test module, whereas it's not the case for compiling with IntelliJ Kotlin plugin. If I explicitly pass the `-libraries` argument, then it works in IntelliJ. I tried to debug the project to find the root cause, but almost none of the breakpoints in the code I find relevant are hit, so I'm out of luck at the moment.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1524828661866</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532681094702</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Snipx</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Subach</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Snipx</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Subach</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Mashkov">cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JS</value><value>Tools. Maven</value><valueId>Backend. JS</valueId><valueId>Tools. Maven</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><value>1.2.50</value><valueId>1.2.40</valueId><valueId>1.2.50</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-519352" url="https://youtrack.jetbrains.com/_persistent/test.zip?file=74-519352&amp;c=true">test.zip</value></field><comment id="27-2979703" author="Snipx" authorFullName="Alexey Subach" issueId="KT-24139" deleted="false" text="UPD it seems to work with 1.2.51" shownForIssueAuthor="false" created="1532681094703" markdown="true"><replies/></comment></issue><issue id="KT-24190" entityId="25-1974506"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24190</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: artifact kind is missing in Gradle</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>It is not clearly possible to iterate and check/patch Kotlin/Native build configuration via the code like:
```
def container = project.extensions.getByName("konanArtifacts") as NamedDomainObjectContainer
containter.forEach { artifact -&gt; 
  artifact.srcDirs 'foo'
}
```
Objects in the collection are different: `KonanCompileConfig` instances and `KonanInteropLibrary`. It is hard to check what type each is. Such check must assume class names, deal with Gradle inheritors, and it will badly depend on implementation details.

Let's have a field with artifact type in `KonanBuildingConfig` (it is closer to `KonanCompileConfig#typeForDescription`)

Also, it may make sense to add a helper getters to the `konanArtifacts` object to allow iterating over a type collection of all, say, compilation tasks
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1525123908429</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1525352170308</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Matveev">Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-24305" entityId="25-1980457"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24305</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>ClassNotFoundException when using Java reflection on local class in an inlined lambda</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
fun main(args: Array&lt;String&gt;) {
  val n = 1
  repeat(1) {
    class Foo {
      fun bar() = n + 1
    }
    println(Foo::class.java.getDeclaredConstructor())
  }
}
```

Running this program produces a weird NoClassDefFoundError:
```
Exception in thread "main" java.lang.NoClassDefFoundError: org/example/CheckJavaReflectionKt$main$1
	at java.lang.Class.getDeclaredConstructors0(Native Method)
	at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)
	at java.lang.Class.getConstructor0(Class.java:3075)
	at java.lang.Class.getDeclaredConstructor(Class.java:2178)
	at org.example.CheckJavaReflectionKt.main(CheckJavaReflection.kt:22)
Caused by: java.lang.ClassNotFoundException: org.example.CheckJavaReflectionKt$main$1
```

Note that the class itself is loaded just fine, the problem happens only during `getDeclaredConstructor()`.

If the class is moved from the lambda to the function, we get NoSuchMethodException, _even_ if the constructor with no arguments is explicitly added:

```kotlin
fun main(args: Array&lt;String&gt;) {
  val n = 1
  //  repeat(1) {
  class Foo {
    constructor() { println("in constructor") }
    fun bar() = n + 1
  }
  println(Foo::class.java.getDeclaredConstructor())
//  }
}
```

The exception:
```
Exception in thread "main" java.lang.NoSuchMethodException: org.example.CheckJavaReflectionKt$main$Foo.&lt;init&gt;()
	at java.lang.Class.getConstructor0(Class.java:3082)
	at java.lang.Class.getDeclaredConstructor(Class.java:2178)
	at org.example.CheckJavaReflectionKt.main(CheckJavaReflection.kt:10)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1525704949376</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1525780183328</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>baltiyskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Igor Baltiyskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-12921</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.30</value><valueId>1.2.30</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2856899" author="baltiyskiy" authorFullName="Igor Baltiyskiy" issueId="KT-24305" deleted="false" text="These issues look similar, but report problems different from this one: KT-12921, KT-13016&#xA;" shownForIssueAuthor="false" created="1525705143831" markdown="true"><replies/></comment><comment id="27-2858671" author="udalov" authorFullName="Alexander Udalov" issueId="KT-24305" deleted="false" text="In the second case, NoSuchMethodException is expected because there's no constructor with the empty parameter list. Since the class captures a value from the outside context, it takes an `int` as a parameter. Changing the code to `println(Foo::class.java.getDeclaredConstructor(Int::class.java))` makes it work in the second case." shownForIssueAuthor="false" created="1525780116841" markdown="false"><replies/></comment></issue><issue id="KT-24336" entityId="25-1982580"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24336</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin/JS missing SVGMaskElement interface</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Look link https://developer.mozilla.org/en-US/docs/Web/API/SVGMaskElement

you can use this code:
```kotlin
import org.w3c.dom.svg.SVGAnimatedEnumeration
import org.w3c.dom.svg.SVGAnimatedLength
import org.w3c.dom.svg.SVGElement

public external abstract class SVGMaskElement : SVGElement {
    val maskUnits: SVGAnimatedEnumeration
    val maskContentUnits: SVGAnimatedEnumeration
    val x: SVGAnimatedLength
    val y: SVGAnimatedLength
    val width: SVGAnimatedLength
    val height: SVGAnimatedLength
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1525873795389</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1526915628369</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>neonailol</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Valeriy Zhirnov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>caffeine.mgn</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Антон Субочев</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Mashkov">cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Libraries</value><valueId>Libraries</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2878475" author="neonailol" authorFullName="Valeriy Zhirnov" issueId="KT-24336" deleted="false" text="@cy6erGn0m Submitted [PR](https://github.com/JetBrains/kotlin/pull/1681)" shownForIssueAuthor="false" created="1526915628371" markdown="true"><replies/></comment></issue><issue id="KT-24380" entityId="25-1985127"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24380</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong inference of if-expression type results in ClassCastException later</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
class Obj

interface X {
	fun &lt;T&gt; create(c: Type): T
}

fun f() /* : X */ = // this should be inferred to Any (super of X and &lt;T&gt;)
	if (Math.random() &lt; 0.1) {
		g() /* : X */
	} else {
		g().create(String::class.java) /* : &lt;T&gt; */
	}

fun g() /* : X */ = object : X {
	// irrelevant how it is implemented as long as it returns T
	@Suppress("UNCHECKED_CAST")
	override fun &lt;T&gt; create(c: Type): T = (c as Class&lt;*&gt;).newInstance() as T
}

fun main(args: Array&lt;String&gt;) {
	val f /* : X */ = f()
	val instance = f.create&lt;Obj&gt;(Obj::class.java)
	println(instance)
}
```

90% of the time due to random:
```
Exception in thread "main" java.lang.ClassCastException: java.lang.String cannot be cast to X
	at f(FunctionalKotlin.kt:11)
	at main(FunctionalKotlin.kt:21)
```

Changing `else` to `g().create&lt;String&gt;(String::class.java)` infers `Any` correctly and warns. According to my current knowledge `create()` without explicit generics cannot be known what `T` would be and hence it should be assumed to be `Any`. On the other hand this may be correct behavior because `create&lt;T&gt;` is inferred to be `X` due to the expression being of type `X`. But there's a circle here: to figure out what `create()`'s generic argument is we need `f()`'s return type (or `if` expression's type), and to figure out what type `if-else` is we need the `else` branch's type, which is `create()`'s return type.

In any case, even if my arguments are incorrect, this shouldn't really compile without an error or warning.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1526130673731</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1526640458105</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.41</value><valueId>1.2.41</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-24393" entityId="25-1985343"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24393</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bytecode view throws NullPointerException</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Minimal code that crashes the bytecode and prevents decompilation: `fun f()  = { _: String, _: Int -&gt; true }`

```
FUN name:f visibility:public modality:FINAL &lt;&gt; () returnType:Function2&lt;String, Int, Boolean&gt; flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='f(): (String, Int) -&gt; Boolean'
      BLOCK type=(kotlin.String, kotlin.Int) -&gt; kotlin.Boolean origin=LAMBDA
        COMPOSITE type=kotlin.Unit origin=null
        FUNCTION_REFERENCE '`f$lambda-0`(String, Int): Boolean' type=(kotlin.String, kotlin.Int) -&gt; kotlin.Boolean origin=LAMBDA
```

java.lang.RuntimeException: null while generating code for: &lt;block above&gt;
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:51)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generateMethod(ClassCodegen.kt:144)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generateDeclaration(ClassCodegen.kt:111)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generate(ClassCodegen.kt:80)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen$Companion.generate(ClassCodegen.kt:102)
	at org.jetbrains.kotlin.backend.jvm.JvmCodegen.generateClass(JvmCodegen.kt:24)
	at org.jetbrains.kotlin.backend.jvm.JvmBackend.generateFile(JvmBackend.kt:36)
	at org.jetbrains.kotlin.backend.jvm.JvmBackendFacade.doGenerateFilesInternal$backend(JvmBackendFacade.kt:53)
	at org.jetbrains.kotlin.backend.jvm.JvmIrCodegenFactory.generateModule(JvmIrCodegenFactory.kt:36)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.compileSingleFile(KotlinBytecodeToolWindow.kt:316)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.getBytecodeForFile(KotlinBytecodeToolWindow.kt:237)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:120)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:67)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:902)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)
	at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)
	at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:305)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1526212581911</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1526648552492</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IR</value><valueId>IR</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.41</value><valueId>1.2.41</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-523770" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-523770&amp;c=true">image.png</value></field><comment id="27-2865277" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-24393" deleted="false" text="Could not reproduce with specified minimal code and Kotlin 1.2.41.&#xA;What is your IDE version?" shownForIssueAuthor="false" created="1526252627050" markdown="false"><replies/></comment><comment id="27-2865280" author="TWiStErRob" authorFullName="Róbert Papp" issueId="KT-24393" deleted="false" text="The above code (`f`) is the minimal repro, just drop it into any Kotlin file and watch it blow! ;)&#xA;The missing piece is that IR has to be ticked on the Kotlin Bytecode view:&#xA;![](image.png)&#xA;&#xA;IntelliJ IDEA 2018.1 (Ultimate Edition)&#xA;Build #IU-181.4203.519, built on March 21, 2018&#xA;JRE: 1.8.0_121-b13 amd64&#xA;JVM: Java HotSpot(TM) 64-Bit Server VM by Oracle Corporation&#xA;Windows 10 10.0" shownForIssueAuthor="false" created="1526255050583" markdown="true"><replies/></comment><comment id="27-2869241" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-24393" deleted="false" text="Thank you, confirmed in IDEA 182.2371 + Kotlin plugin 1.2.60-dev-74.&#xA;&#xA;NB: No problems on Build." shownForIssueAuthor="false" created="1526409819834" updated="1526409855816" markdown="false"><replies/></comment></issue><issue id="KT-24395" entityId="25-1985384"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24395</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bytecode viewer throws Back-end (JVM) Internal error: Couldn't inline method call 'times'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Open attached project and open bytecode viewer with following options:
 ![](image.png)
```text
java.lang.RuntimeException: Back-end (JVM) Internal error: Couldn't inline method call 'times' into
public inline infix operator fun &lt;T&gt; kotlin.Int.times(block: () -&gt; kotlin.Int): kotlin.collections.List&lt;kotlin.Int&gt; defined in some.pack
inline infix operator fun &lt;T&gt; Int.times(block: () -&gt; T) =
	if (this &lt; 0)
		throw IllegalArgumentException("Cannot repeat negative times, use 0 or greater")
	else
		(1..this).map { block() }
Cause: Not generated
Cause: Back-end (JVM) Internal error: Couldn't inline method call 'map' into
public inline fun &lt;T, R&gt; kotlin.collections.Iterable&lt;kotlin.Int&gt;.map(transform: (kotlin.Int) -&gt; T): kotlin.collections.List&lt;T&gt; defined in kotlin.collections
&lt;no source&gt;
Cause: map (Ljava/lang/Iterable;Lkotlin/jvm/functions/Function1;)Ljava/util/List;:
  @Lorg/jetbrains/annotations/NotNull;() // invisible
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1
   L0
    ALOAD 0
    LDC "$receiver"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    ALOAD 1
    LDC "transform"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L1
    LINENUMBER 1246 L1
    ALOAD 0
    ASTORE 3
    NEW java/util/ArrayList
    DUP
    ALOAD 0
    BIPUSH 10
    INVOKESTATIC kotlin/collections/CollectionsKt.collectionSizeOrDefault (Ljava/lang/Iterable;I)I
    INVOKESPECIAL java/util/ArrayList.&lt;init&gt; (I)V
    CHECKCAST java/util/Collection
    ASTORE 4
   L2
    LINENUMBER 2495 L2
    ALOAD 3
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 5
   L3
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L4
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 6
   L5
    LINENUMBER 2496 L5
    ALOAD 4
    ALOAD 1
    ALOAD 6
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    INVOKEINTERFACE java/util/Collection.add (Ljava/lang/Object;)Z
    POP
   L6
    LINENUMBER 2495 L6
    GOTO L3
   L4
    LINENUMBER 2497 L4
    ALOAD 4
   L7
    CHECKCAST java/util/List
    ARETURN
   L8
    LOCALVARIABLE item$iv Ljava/lang/Object; L5 L6 6
    LOCALVARIABLE $receiver$iv Ljava/lang/Iterable; L2 L7 3
    LOCALVARIABLE destination$iv Ljava/util/Collection; L2 L7 4
    LOCALVARIABLE $i$f$mapTo I L2 L7 7
    LOCALVARIABLE $receiver Ljava/lang/Iterable; L0 L8 0
    LOCALVARIABLE transform Lkotlin/jvm/functions/Function1; L0 L8 1
    LOCALVARIABLE $i$f$map I L0 L8 2
    MAXSTACK = 4
    MAXLOCALS = 8

Cause: Non-mapped local variable descriptor: value-parameter block: () -&gt; T defined in some.pack.times[ValueParameterDescriptorImpl@1e9cd42a] while generating code for:
FUN LOCAL_FUNCTION_FOR_LAMBDA name:&lt;anonymous&gt; visibility:local modality:FINAL &lt;&gt; (it:kotlin.Int) returnType:T flags:
  VALUE_PARAMETER name:it index:0 type:kotlin.Int flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='&lt;anonymous&gt;(Int): T'
      CALL 'invoke(): T' type=T origin=INVOKE
        $this: GET_VAR 'value-parameter block: () -&gt; T' type=() -&gt; T origin=VARIABLE_AS_FUNCTION

Element is unknownThe root cause was thrown at: FunctionCodegen.kt:51 while generating code for:
FUN name:times visibility:public modality:FINAL &lt;T&gt; ($receiver:kotlin.Int, block:() -&gt; T) returnType:List&lt;T&gt; flags:inline
  TYPE_PARAMETER name:T index:0 variance: upperBounds:[kotlin.Any?]
    superClassifiers:
      CLASS IR_EXTERNAL_DECLARATION_STUB CLASS name:Any modality:OPEN visibility:public flags:
  $receiver: VALUE_PARAMETER name:&lt;this&gt; type:kotlin.Int flags:
  VALUE_PARAMETER name:block index:0 type:() -&gt; T flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='times(() -&gt; T) on Int: List&lt;T&gt;'
      WHEN type=kotlin.collections.List&lt;T&gt; origin=null
        BRANCH
          if: CALL 'less(Int, Int): Boolean' type=kotlin.Boolean origin=LT
            arg0: GET_VAR 'this@times: Int' type=kotlin.Int origin=null
            arg1: CONST Int type=kotlin.Int value=0
          then: THROW type=kotlin.Nothing
            CALL 'constructor IllegalArgumentException(String!)' type=java.lang.IllegalArgumentException origin=null
              s: CONST String type=kotlin.String value=Cannot repeat negative times, use 0 or greater
        BRANCH
          if: CONST Boolean type=kotlin.Boolean value=true
          then: CALL 'map((Int) -&gt; T) on Iterable&lt;Int&gt;: List&lt;T&gt;' type=kotlin.collections.List&lt;T&gt; origin=null
            &lt;T&gt;: Int
            &lt;R&gt;: T
            $receiver: CALL 'rangeTo(Int): IntRange' type=kotlin.ranges.IntRange origin=RANGE
              $this: CONST Int type=kotlin.Int value=1
              other: GET_VAR 'this@times: Int' type=kotlin.Int origin=null
            transform: BLOCK type=(kotlin.Int) -&gt; T origin=LAMBDA
              FUN LOCAL_FUNCTION_FOR_LAMBDA name:&lt;anonymous&gt; visibility:local modality:FINAL &lt;&gt; (it:kotlin.Int) returnType:T flags:
                VALUE_PARAMETER name:it index:0 type:kotlin.Int flags:
                BLOCK_BODY
                  RETURN type=kotlin.Nothing from='&lt;anonymous&gt;(Int): T'
                    CALL 'invoke(): T' type=T origin=INVOKE
                      $this: GET_VAR 'value-parameter block: () -&gt; T' type=() -&gt; T origin=VARIABLE_AS_FUNCTION
              FUNCTION_REFERENCE '&lt;anonymous&gt;(Int): T' type=(kotlin.Int) -&gt; T origin=LAMBDA

Element is unknownThe root cause was thrown at: FunctionCodegen.kt:51 while generating code for:
FUN name:repeatNegativeTimes visibility:public modality:FINAL &lt;&gt; ($this:some.pack.SomethingTest) returnType:Unit flags:
  $this: VALUE_PARAMETER name:&lt;this&gt; type:some.pack.SomethingTest flags:
  BLOCK_BODY
    VAR name:repeated type:kotlin.collections.List&lt;kotlin.Int&gt; flags:val
      CALL 'times(() -&gt; Int) on Int: List&lt;Int&gt;' type=kotlin.collections.List&lt;kotlin.Int&gt; origin=MUL
        &lt;T&gt;: Int
        $receiver: CONST Int type=kotlin.Int value=-3
        block: BLOCK type=() -&gt; kotlin.Int origin=LAMBDA
          COMPOSITE type=kotlin.Unit origin=null
          FUNCTION_REFERENCE '`repeatNegativeTimes$lambda-0`(): Int' type=() -&gt; kotlin.Int origin=LAMBDA
    CALL 'assertThat(List&lt;Int&gt;!, Matcher&lt;in List&lt;Int&gt;!&gt;!): Unit' type=kotlin.Unit origin=null
      &lt;T : Any!&gt;: List&lt;Int&gt;!
      actual: GET_VAR 'repeated: List&lt;Int&gt;' type=kotlin.collections.List&lt;kotlin.Int&gt; origin=null
      matcher: CALL 'empty(): Matcher&lt;(MutableCollection&lt;out Int!&gt;..Collection&lt;Int!&gt;?)&gt;!' type=org.hamcrest.Matcher&lt;(kotlin.collections.MutableCollection&lt;out kotlin.Int!&gt;..kotlin.collections.Collection&lt;kotlin.Int!&gt;?)&gt;! origin=null
        &lt;E : Any!&gt;: Int!

	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:51)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generateMethod(ClassCodegen.kt:144)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generateDeclaration(ClassCodegen.kt:111)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generate(ClassCodegen.kt:80)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen$Companion.generate(ClassCodegen.kt:102)
	at org.jetbrains.kotlin.backend.jvm.JvmCodegen.generateClass(JvmCodegen.kt:24)
	at org.jetbrains.kotlin.backend.jvm.JvmBackend.generateFile(JvmBackend.kt:36)
	at org.jetbrains.kotlin.backend.jvm.JvmBackendFacade.doGenerateFilesInternal$backend(JvmBackendFacade.kt:53)
	at org.jetbrains.kotlin.backend.jvm.JvmIrCodegenFactory.generateModule(JvmIrCodegenFactory.kt:36)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.compileSingleFile(KotlinBytecodeToolWindow.kt:316)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.getBytecodeForFile(KotlinBytecodeToolWindow.kt:237)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:120)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:67)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:902)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)
	at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)
	at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:305)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'times' into
public inline infix operator fun &lt;T&gt; kotlin.Int.times(block: () -&gt; kotlin.Int): kotlin.collections.List&lt;kotlin.Int&gt; defined in some.pack
inline infix operator fun &lt;T&gt; Int.times(block: () -&gt; T) =
	if (this &lt; 0)
		throw IllegalArgumentException("Cannot repeat negative times, use 0 or greater")
	else
		(1..this).map { block() }
Cause: Not generated
Cause: Back-end (JVM) Internal error: Couldn't inline method call 'map' into
public inline fun &lt;T, R&gt; kotlin.collections.Iterable&lt;kotlin.Int&gt;.map(transform: (kotlin.Int) -&gt; T): kotlin.collections.List&lt;T&gt; defined in kotlin.collections
&lt;no source&gt;
Cause: map (Ljava/lang/Iterable;Lkotlin/jvm/functions/Function1;)Ljava/util/List;:
  @Lorg/jetbrains/annotations/NotNull;() // invisible
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1
   L0
    ALOAD 0
    LDC "$receiver"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    ALOAD 1
    LDC "transform"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L1
    LINENUMBER 1246 L1
    ALOAD 0
    ASTORE 3
    NEW java/util/ArrayList
    DUP
    ALOAD 0
    BIPUSH 10
    INVOKESTATIC kotlin/collections/CollectionsKt.collectionSizeOrDefault (Ljava/lang/Iterable;I)I
    INVOKESPECIAL java/util/ArrayList.&lt;init&gt; (I)V
    CHECKCAST java/util/Collection
    ASTORE 4
   L2
    LINENUMBER 2495 L2
    ALOAD 3
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 5
   L3
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L4
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 6
   L5
    LINENUMBER 2496 L5
    ALOAD 4
    ALOAD 1
    ALOAD 6
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    INVOKEINTERFACE java/util/Collection.add (Ljava/lang/Object;)Z
    POP
   L6
    LINENUMBER 2495 L6
    GOTO L3
   L4
    LINENUMBER 2497 L4
    ALOAD 4
   L7
    CHECKCAST java/util/List
    ARETURN
   L8
    LOCALVARIABLE item$iv Ljava/lang/Object; L5 L6 6
    LOCALVARIABLE $receiver$iv Ljava/lang/Iterable; L2 L7 3
    LOCALVARIABLE destination$iv Ljava/util/Collection; L2 L7 4
    LOCALVARIABLE $i$f$mapTo I L2 L7 7
    LOCALVARIABLE $receiver Ljava/lang/Iterable; L0 L8 0
    LOCALVARIABLE transform Lkotlin/jvm/functions/Function1; L0 L8 1
    LOCALVARIABLE $i$f$map I L0 L8 2
    MAXSTACK = 4
    MAXLOCALS = 8

Cause: Non-mapped local variable descriptor: value-parameter block: () -&gt; T defined in some.pack.times[ValueParameterDescriptorImpl@1e9cd42a] while generating code for:
FUN LOCAL_FUNCTION_FOR_LAMBDA name:&lt;anonymous&gt; visibility:local modality:FINAL &lt;&gt; (it:kotlin.Int) returnType:T flags:
  VALUE_PARAMETER name:it index:0 type:kotlin.Int flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='&lt;anonymous&gt;(Int): T'
      CALL 'invoke(): T' type=T origin=INVOKE
        $this: GET_VAR 'value-parameter block: () -&gt; T' type=() -&gt; T origin=VARIABLE_AS_FUNCTION

Element is unknownThe root cause was thrown at: FunctionCodegen.kt:51 while generating code for:
FUN name:times visibility:public modality:FINAL &lt;T&gt; ($receiver:kotlin.Int, block:() -&gt; T) returnType:List&lt;T&gt; flags:inline
  TYPE_PARAMETER name:T index:0 variance: upperBounds:[kotlin.Any?]
    superClassifiers:
      CLASS IR_EXTERNAL_DECLARATION_STUB CLASS name:Any modality:OPEN visibility:public flags:
  $receiver: VALUE_PARAMETER name:&lt;this&gt; type:kotlin.Int flags:
  VALUE_PARAMETER name:block index:0 type:() -&gt; T flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='times(() -&gt; T) on Int: List&lt;T&gt;'
      WHEN type=kotlin.collections.List&lt;T&gt; origin=null
        BRANCH
          if: CALL 'less(Int, Int): Boolean' type=kotlin.Boolean origin=LT
            arg0: GET_VAR 'this@times: Int' type=kotlin.Int origin=null
            arg1: CONST Int type=kotlin.Int value=0
          then: THROW type=kotlin.Nothing
            CALL 'constructor IllegalArgumentException(String!)' type=java.lang.IllegalArgumentException origin=null
              s: CONST String type=kotlin.String value=Cannot repeat negative times, use 0 or greater
        BRANCH
          if: CONST Boolean type=kotlin.Boolean value=true
          then: CALL 'map((Int) -&gt; T) on Iterable&lt;Int&gt;: List&lt;T&gt;' type=kotlin.collections.List&lt;T&gt; origin=null
            &lt;T&gt;: Int
            &lt;R&gt;: T
            $receiver: CALL 'rangeTo(Int): IntRange' type=kotlin.ranges.IntRange origin=RANGE
              $this: CONST Int type=kotlin.Int value=1
              other: GET_VAR 'this@times: Int' type=kotlin.Int origin=null
            transform: BLOCK type=(kotlin.Int) -&gt; T origin=LAMBDA
              FUN LOCAL_FUNCTION_FOR_LAMBDA name:&lt;anonymous&gt; visibility:local modality:FINAL &lt;&gt; (it:kotlin.Int) returnType:T flags:
                VALUE_PARAMETER name:it index:0 type:kotlin.Int flags:
                BLOCK_BODY
                  RETURN type=kotlin.Nothing from='&lt;anonymous&gt;(Int): T'
                    CALL 'invoke(): T' type=T origin=INVOKE
                      $this: GET_VAR 'value-parameter block: () -&gt; T' type=() -&gt; T origin=VARIABLE_AS_FUNCTION
              FUNCTION_REFERENCE '&lt;anonymous&gt;(Int): T' type=(kotlin.Int) -&gt; T origin=LAMBDA

Element is unknownThe root cause was thrown at: FunctionCodegen.kt:51
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:167)
	at org.jetbrains.kotlin.backend.jvm.codegen.IrInlineCodegen.genCall(IrInlineCodegen.kt:76)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateCall(ExpressionCodegen.kt:265)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateCall(ExpressionCodegen.kt:214)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitCall(ExpressionCodegen.kt:176)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitCall(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrCallImpl.accept(IrCallImpl.kt:93)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:319)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:314)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitVariable(ExpressionCodegen.kt:299)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitVariable(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.declarations.impl.IrVariableImpl.accept(IrVariableImpl.kt:82)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlockBody(ExpressionCodegen.kt:130)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlockBody(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.accept(IrBlockBodyImpl.kt:34)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generate(ExpressionCodegen.kt:111)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.doGenerate(FunctionCodegen.kt:73)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:48)
	... 30 more
Caused by: java.lang.RuntimeException: Back-end (JVM) Internal error: Couldn't inline method call 'map' into
public inline fun &lt;T, R&gt; kotlin.collections.Iterable&lt;kotlin.Int&gt;.map(transform: (kotlin.Int) -&gt; T): kotlin.collections.List&lt;T&gt; defined in kotlin.collections
&lt;no source&gt;
Cause: map (Ljava/lang/Iterable;Lkotlin/jvm/functions/Function1;)Ljava/util/List;:
  @Lorg/jetbrains/annotations/NotNull;() // invisible
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1
   L0
    ALOAD 0
    LDC "$receiver"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    ALOAD 1
    LDC "transform"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L1
    LINENUMBER 1246 L1
    ALOAD 0
    ASTORE 3
    NEW java/util/ArrayList
    DUP
    ALOAD 0
    BIPUSH 10
    INVOKESTATIC kotlin/collections/CollectionsKt.collectionSizeOrDefault (Ljava/lang/Iterable;I)I
    INVOKESPECIAL java/util/ArrayList.&lt;init&gt; (I)V
    CHECKCAST java/util/Collection
    ASTORE 4
   L2
    LINENUMBER 2495 L2
    ALOAD 3
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 5
   L3
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L4
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 6
   L5
    LINENUMBER 2496 L5
    ALOAD 4
    ALOAD 1
    ALOAD 6
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    INVOKEINTERFACE java/util/Collection.add (Ljava/lang/Object;)Z
    POP
   L6
    LINENUMBER 2495 L6
    GOTO L3
   L4
    LINENUMBER 2497 L4
    ALOAD 4
   L7
    CHECKCAST java/util/List
    ARETURN
   L8
    LOCALVARIABLE item$iv Ljava/lang/Object; L5 L6 6
    LOCALVARIABLE $receiver$iv Ljava/lang/Iterable; L2 L7 3
    LOCALVARIABLE destination$iv Ljava/util/Collection; L2 L7 4
    LOCALVARIABLE $i$f$mapTo I L2 L7 7
    LOCALVARIABLE $receiver Ljava/lang/Iterable; L0 L8 0
    LOCALVARIABLE transform Lkotlin/jvm/functions/Function1; L0 L8 1
    LOCALVARIABLE $i$f$map I L0 L8 2
    MAXSTACK = 4
    MAXLOCALS = 8

Cause: Non-mapped local variable descriptor: value-parameter block: () -&gt; T defined in some.pack.times[ValueParameterDescriptorImpl@1e9cd42a] while generating code for:
FUN LOCAL_FUNCTION_FOR_LAMBDA name:&lt;anonymous&gt; visibility:local modality:FINAL &lt;&gt; (it:kotlin.Int) returnType:T flags:
  VALUE_PARAMETER name:it index:0 type:kotlin.Int flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='&lt;anonymous&gt;(Int): T'
      CALL 'invoke(): T' type=T origin=INVOKE
        $this: GET_VAR 'value-parameter block: () -&gt; T' type=() -&gt; T origin=VARIABLE_AS_FUNCTION

Element is unknownThe root cause was thrown at: FunctionCodegen.kt:51 while generating code for:
FUN name:times visibility:public modality:FINAL &lt;T&gt; ($receiver:kotlin.Int, block:() -&gt; T) returnType:List&lt;T&gt; flags:inline
  TYPE_PARAMETER name:T index:0 variance: upperBounds:[kotlin.Any?]
    superClassifiers:
      CLASS IR_EXTERNAL_DECLARATION_STUB CLASS name:Any modality:OPEN visibility:public flags:
  $receiver: VALUE_PARAMETER name:&lt;this&gt; type:kotlin.Int flags:
  VALUE_PARAMETER name:block index:0 type:() -&gt; T flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='times(() -&gt; T) on Int: List&lt;T&gt;'
      WHEN type=kotlin.collections.List&lt;T&gt; origin=null
        BRANCH
          if: CALL 'less(Int, Int): Boolean' type=kotlin.Boolean origin=LT
            arg0: GET_VAR 'this@times: Int' type=kotlin.Int origin=null
            arg1: CONST Int type=kotlin.Int value=0
          then: THROW type=kotlin.Nothing
            CALL 'constructor IllegalArgumentException(String!)' type=java.lang.IllegalArgumentException origin=null
              s: CONST String type=kotlin.String value=Cannot repeat negative times, use 0 or greater
        BRANCH
          if: CONST Boolean type=kotlin.Boolean value=true
          then: CALL 'map((Int) -&gt; T) on Iterable&lt;Int&gt;: List&lt;T&gt;' type=kotlin.collections.List&lt;T&gt; origin=null
            &lt;T&gt;: Int
            &lt;R&gt;: T
            $receiver: CALL 'rangeTo(Int): IntRange' type=kotlin.ranges.IntRange origin=RANGE
              $this: CONST Int type=kotlin.Int value=1
              other: GET_VAR 'this@times: Int' type=kotlin.Int origin=null
            transform: BLOCK type=(kotlin.Int) -&gt; T origin=LAMBDA
              FUN LOCAL_FUNCTION_FOR_LAMBDA name:&lt;anonymous&gt; visibility:local modality:FINAL &lt;&gt; (it:kotlin.Int) returnType:T flags:
                VALUE_PARAMETER name:it index:0 type:kotlin.Int flags:
                BLOCK_BODY
                  RETURN type=kotlin.Nothing from='&lt;anonymous&gt;(Int): T'
                    CALL 'invoke(): T' type=T origin=INVOKE
                      $this: GET_VAR 'value-parameter block: () -&gt; T' type=() -&gt; T origin=VARIABLE_AS_FUNCTION
              FUNCTION_REFERENCE '&lt;anonymous&gt;(Int): T' type=(kotlin.Int) -&gt; T origin=LAMBDA

	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:51)
	at org.jetbrains.kotlin.backend.jvm.codegen.IrSourceCompilerForInline.doCreateMethodNodeFromSource(IrSourceCompilerForInline.kt:96)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen$Companion.createInlineMethodNode$backend(InlineCodegen.kt:502)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:157)
	... 47 more
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'map' into
public inline fun &lt;T, R&gt; kotlin.collections.Iterable&lt;kotlin.Int&gt;.map(transform: (kotlin.Int) -&gt; T): kotlin.collections.List&lt;T&gt; defined in kotlin.collections
&lt;no source&gt;
Cause: map (Ljava/lang/Iterable;Lkotlin/jvm/functions/Function1;)Ljava/util/List;:
  @Lorg/jetbrains/annotations/NotNull;() // invisible
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1
   L0
    ALOAD 0
    LDC "$receiver"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
    ALOAD 1
    LDC "transform"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L1
    LINENUMBER 1246 L1
    ALOAD 0
    ASTORE 3
    NEW java/util/ArrayList
    DUP
    ALOAD 0
    BIPUSH 10
    INVOKESTATIC kotlin/collections/CollectionsKt.collectionSizeOrDefault (Ljava/lang/Iterable;I)I
    INVOKESPECIAL java/util/ArrayList.&lt;init&gt; (I)V
    CHECKCAST java/util/Collection
    ASTORE 4
   L2
    LINENUMBER 2495 L2
    ALOAD 3
    INVOKEINTERFACE java/lang/Iterable.iterator ()Ljava/util/Iterator;
    ASTORE 5
   L3
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.hasNext ()Z
    IFEQ L4
    ALOAD 5
    INVOKEINTERFACE java/util/Iterator.next ()Ljava/lang/Object;
    ASTORE 6
   L5
    LINENUMBER 2496 L5
    ALOAD 4
    ALOAD 1
    ALOAD 6
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    INVOKEINTERFACE java/util/Collection.add (Ljava/lang/Object;)Z
    POP
   L6
    LINENUMBER 2495 L6
    GOTO L3
   L4
    LINENUMBER 2497 L4
    ALOAD 4
   L7
    CHECKCAST java/util/List
    ARETURN
   L8
    LOCALVARIABLE item$iv Ljava/lang/Object; L5 L6 6
    LOCALVARIABLE $receiver$iv Ljava/lang/Iterable; L2 L7 3
    LOCALVARIABLE destination$iv Ljava/util/Collection; L2 L7 4
    LOCALVARIABLE $i$f$mapTo I L2 L7 7
    LOCALVARIABLE $receiver Ljava/lang/Iterable; L0 L8 0
    LOCALVARIABLE transform Lkotlin/jvm/functions/Function1; L0 L8 1
    LOCALVARIABLE $i$f$map I L0 L8 2
    MAXSTACK = 4
    MAXLOCALS = 8

Cause: Non-mapped local variable descriptor: value-parameter block: () -&gt; T defined in some.pack.times[ValueParameterDescriptorImpl@1e9cd42a] while generating code for:
FUN LOCAL_FUNCTION_FOR_LAMBDA name:&lt;anonymous&gt; visibility:local modality:FINAL &lt;&gt; (it:kotlin.Int) returnType:T flags:
  VALUE_PARAMETER name:it index:0 type:kotlin.Int flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='&lt;anonymous&gt;(Int): T'
      CALL 'invoke(): T' type=T origin=INVOKE
        $this: GET_VAR 'value-parameter block: () -&gt; T' type=() -&gt; T origin=VARIABLE_AS_FUNCTION

Element is unknownThe root cause was thrown at: FunctionCodegen.kt:51
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:167)
	at org.jetbrains.kotlin.backend.jvm.codegen.IrInlineCodegen.genCall(IrInlineCodegen.kt:76)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateCall(ExpressionCodegen.kt:265)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateCall(ExpressionCodegen.kt:214)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitCall(ExpressionCodegen.kt:176)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitCall(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrCallImpl.accept(IrCallImpl.kt:93)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:319)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.genIfWithBranches(ExpressionCodegen.kt:541)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.genIfWithBranches(ExpressionCodegen.kt:550)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitWhen(ExpressionCodegen.kt:524)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitWhen(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrWhenBase.accept(IrWhenImpl.kt:30)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:319)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:314)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitReturn(ExpressionCodegen.kt:510)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitReturn(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrReturnImpl.accept(IrReturnImpl.kt:58)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlockBody(ExpressionCodegen.kt:130)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlockBody(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.accept(IrBlockBodyImpl.kt:34)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generate(ExpressionCodegen.kt:111)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.doGenerate(FunctionCodegen.kt:73)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:48)
	... 50 more
Caused by: java.lang.RuntimeException: Non-mapped local variable descriptor: value-parameter block: () -&gt; T defined in some.pack.times[ValueParameterDescriptorImpl@1e9cd42a] while generating code for:
FUN LOCAL_FUNCTION_FOR_LAMBDA name:&lt;anonymous&gt; visibility:local modality:FINAL &lt;&gt; (it:kotlin.Int) returnType:T flags:
  VALUE_PARAMETER name:it index:0 type:kotlin.Int flags:
  BLOCK_BODY
    RETURN type=kotlin.Nothing from='&lt;anonymous&gt;(Int): T'
      CALL 'invoke(): T' type=T origin=INVOKE
        $this: GET_VAR 'value-parameter block: () -&gt; T' type=() -&gt; T origin=VARIABLE_AS_FUNCTION

	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:51)
	at org.jetbrains.kotlin.backend.jvm.codegen.IrSourceCompilerForInline.generateLambdaBody(IrSourceCompilerForInline.kt:75)
	at org.jetbrains.kotlin.codegen.inline.ExpressionLambda.generateLambdaBody(LambdaInfo.kt:180)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:313)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:246)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)
	... 73 more
Caused by: java.lang.AssertionError: Non-mapped local variable descriptor: value-parameter block: () -&gt; T defined in some.pack.times[ValueParameterDescriptorImpl@1e9cd42a]
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.findLocalIndex(ExpressionCodegen.kt:360)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateLocal(ExpressionCodegen.kt:353)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitGetValue(ExpressionCodegen.kt:323)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitGetValue(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrGetValueImpl.accept(IrGetValueImpl.kt:46)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:319)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:314)
	at org.jetbrains.kotlin.backend.jvm.codegen.IrCallGenerator$DefaultImpls.genValueAndPut(IrCallGenerator.kt:49)
	at org.jetbrains.kotlin.backend.jvm.codegen.IrCallGenerator$DefaultCallGenerator.genValueAndPut(IrCallGenerator.kt:56)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateCall(ExpressionCodegen.kt:223)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateCall(ExpressionCodegen.kt:214)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitCall(ExpressionCodegen.kt:176)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitCall(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrCallImpl.accept(IrCallImpl.kt:93)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:319)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:314)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitReturn(ExpressionCodegen.kt:510)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitReturn(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrReturnImpl.accept(IrReturnImpl.kt:58)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlockBody(ExpressionCodegen.kt:130)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlockBody(ExpressionCodegen.kt:92)
	at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.accept(IrBlockBodyImpl.kt:34)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generate(ExpressionCodegen.kt:111)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.doGenerate(FunctionCodegen.kt:73)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:48)
	... 78 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1526215065070</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1526648502582</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Reuse" role="Reused in">KT-24394</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IR</value><valueId>IR</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.41</value><valueId>1.2.41</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-523719" url="https://youtrack.jetbrains.com/_persistent/kotlin-package.zip?file=74-523719&amp;c=true">kotlin-package.zip</value><value id="74-523720" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-523720&amp;c=true">image.png</value></field></issue><issue id="KT-24439" entityId="25-1987944"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24439</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>No method imports suggested</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Where is no suggestion for importing method in Kontlin test:

![Alt text](complete.png) 

But could do it manually:

![Alt text](method.png) 

Also no smart completion in case of **MockMvcRequestBuilders.get("/api/user/")**, if I remove **MockMvcRequestBuilders.**, IDEA doesnt undestand that this static method should return **RequestBuilder** and provide me list of all get statis methods...</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1526400055383</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1528372446386</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>antosha4e</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anton</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>8</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Import Management</value><valueId>IDE. Import Management</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-524615" url="https://youtrack.jetbrains.com/_persistent/method.png?file=74-524615&amp;c=true">method.png</value><value id="74-524616" url="https://youtrack.jetbrains.com/_persistent/complete.png?file=74-524616&amp;c=true">complete.png</value><value id="74-524784" url="https://youtrack.jetbrains.com/_persistent/sb-test.zip?file=74-524784&amp;c=true">sb-test.zip</value></field><comment id="27-2869589" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-24439" deleted="false" text="Sorry, can't reproduce in my sandbox project.&#xA;&#xA;Can you share your project to try?&#xA;Also please specify your Kotlin plugin version (Settings dialog / Plugins page).&#xA;Thank you." shownForIssueAuthor="false" created="1526457041768" markdown="false"><replies/></comment><comment id="27-2869657" author="antosha4e" authorFullName="Anton" issueId="KT-24439" deleted="false" text="@sashache plugin version - Version: 1.2.41-release-IJ2018.1-1&#xA;attached my project" shownForIssueAuthor="false" created="1526458599319" markdown="true"><replies/></comment><comment id="27-2871466" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-24439" deleted="false" text="Thank you. Tried this project exactly with 1.2.41 in IDEA 2018.1, and still failed to reproduce, the import is Ok to me.&#xA;&#xA;The only idea is to check Settings / Editor / General / Auto Import.&#xA;. Can this function be in *Exclude from import and completion* list? Remove if so.&#xA;. Also &quot;Show import popup for / static methods and fields&quot; can be tuned, but for me it makes no difference either.&#xA;&#xA;If all this does not help please attach your idea.log." shownForIssueAuthor="false" created="1526517946405" markdown="false"><replies/></comment><comment id="27-2875014" author="antosha4e" authorFullName="Anton" issueId="KT-24439" deleted="false" text="@sashache attached log, hope it helps" shownForIssueAuthor="false" created="1526632839272" updated="1526458599275" markdown="true"><replies/></comment><comment id="27-2875910" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-24439" deleted="false" text="Thank you. No, unfortunately there is no relevant information in the log.&#xA;&#xA;Sorry for re-asking, can you confirm that `jsonPath` is not in &quot;Exclude from import and completion&quot; list? See my previous comment ^." shownForIssueAuthor="false" created="1526653998216" updated="1526654023192" markdown="false"><replies/></comment><comment id="27-2875939" author="antosha4e" authorFullName="Anton" issueId="KT-24439" deleted="false" text="@sashache this list is empty, it's not only ``jsonPath``, its all the static methods in **Kotlin**, for **Java** project it works just fine" shownForIssueAuthor="false" created="1526654589029" updated="1526632839231" markdown="true"><replies/></comment><comment id="27-2899974" author="Alefas" authorFullName="Alexander Podkhalyuzin" issueId="KT-24439" deleted="false" text="I can't reproduce as well. I would like to take a look for your settings, can you attach folder like this one (if it's Mac):&#xA;/Users/user/Library/Preferences/IntelliJIdea2018.2/" shownForIssueAuthor="false" created="1528102519277" markdown="false"><replies/></comment><comment id="27-2900144" author="antosha4e" authorFullName="Anton" issueId="KT-24439" deleted="false" text="@Alefas attached settings" shownForIssueAuthor="false" created="1528106388171" updated="1526654588994" markdown="true"><replies/></comment></issue><issue id="KT-24477" entityId="25-1991032"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24477</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>CompilationException: Back-end (JVM) Internal error: Couldn't inline method call: Can't find method `invoke`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>A class I modified to inline a certain function resulted in a Backend compilation error. When removing the `setupAndGet` function and call, the compilation succeeds and the code works as expected. The following is a simplified test case:

```kotlin
class Container(val item: Item = Item())
class Item(val i: Int = 3)

class Test {
    var arrayOfContainers = arrayOf&lt;Container&gt;()

    fun setupAndGet(): Container {
        setup(1)
        return arrayOfContainers[0]
    }

    inline fun setup(number: Int, getItem: ((Int) -&gt; Item?) = { null }) {
        if (number &lt;= 0) return

        arrayOfContainers = Array(number) {
            val item = getItem(it)
            if (item != null)
                Container(item)
            else
                Container()
        }
    }
}


fun main(args: Array&lt;String&gt;) {
    val t = Test()
    t.setup(3) { Item(4) }
    t.setupAndGet()
}
```


and this is the full error message:

```
Error:Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'setup' into
public final fun setupAndGet(): Container defined in Test
fun setupAndGet(): Container {
        setup(1)
        return arrayOfContainers[0]
    }
Cause: setup$default (LTest;ILkotlin/jvm/functions/Function1;ILjava/lang/Object;)V:
   L0
   L1
    LINENUMBER 11 L1
    INVOKESTATIC $$$DEFAULT_LAMBDA_FAKE_CALL$$$.$$$DEFAULT_LAMBDA_FAKE_CALL$$$2 ()V
   L2
   L3
   L4
    ALOAD 2
    LDC "getItem"
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V
   L5
    LINENUMBER 30 L5
    ILOAD 1
    ICONST_0
    IF_ICMPGT L6
    RETURN
   L7
   L6
   L8
    LINENUMBER 32 L8
    ALOAD 0
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
    NOP
   L9
    LINENUMBER 33 L9
    ILOAD 1
    ANEWARRAY Container
    ASTORE 4
   L10
    LINENUMBER 34 L10
    ICONST_0
    ISTORE 5
    ALOAD 4
    ARRAYLENGTH
    ISTORE 6
   L11
    ILOAD 5
    ILOAD 6
    IF_ICMPGE L12
   L13
    LINENUMBER 35 L13
    ALOAD 4
    ILOAD 5
    ILOAD 5
    INVOKESTATIC java/lang/Integer.valueOf (I)Ljava/lang/Integer;
    CHECKCAST java/lang/Number
    INVOKEVIRTUAL java/lang/Number.intValue ()I
    ISTORE 7
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
   L14
    LINENUMBER 36 L14
    ALOAD 2
    ILOAD 7
    INVOKESTATIC java/lang/Integer.valueOf (I)Ljava/lang/Integer;
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    CHECKCAST Item
    ASTORE 8
   L15
    LINENUMBER 37 L15
    ALOAD 8
    IFNULL L16
   L17
    LINENUMBER 38 L17
    NEW Container
    DUP
    ALOAD 8
    INVOKESPECIAL Container.&lt;init&gt; (LItem;)V
    GOTO L18
   L16
    LINENUMBER 40 L16
    NEW Container
    DUP
    ACONST_NULL
    ICONST_1
    ACONST_NULL
    INVOKESPECIAL Container.&lt;init&gt; (LItem;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
   L19
    LINENUMBER 37 L19
   L18
    LINENUMBER 40 L18
    NOP
    GOTO L20
   L21
   L22
   L20
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    AASTORE
   L23
    LINENUMBER 34 L23
    IINC 5 1
   L24
    GOTO L11
   L12
    LINENUMBER 41 L12
    ALOAD 4
    NOP
    GOTO L25
   L26
   L27
   L25
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    CHECKCAST [LContainer;
    INVOKEVIRTUAL Test.setArrayOfContainers ([LContainer;)V
   L28
    LINENUMBER 42 L28
    RETURN
   L29
    RETURN
    LOCALVARIABLE item LItem; L15 L18 8
    LOCALVARIABLE it I L14 L22 7
    LOCALVARIABLE $i$a$2$&lt;init&gt; I L14 L22 9
    LOCALVARIABLE $i$f$Array I L9 L27 10
    LOCALVARIABLE result$iv [Ljava/lang/Object; L10 L27 4
    LOCALVARIABLE i$iv I L13 L24 5
    LOCALVARIABLE this LTest; L0 L29 0
    LOCALVARIABLE number I L0 L29 1
    LOCALVARIABLE getItem Lkotlin/jvm/functions/Function1; L2 L29 2
    LOCALVARIABLE $i$f$setup I L3 L29 3
    MAXSTACK = 8
    MAXLOCALS = 11
Cause: Can't find method 'invoke(I)LItem;' in 'Test$setup$1'
File being compiled at position: (7,9) in /home/anon/code/src/testcase.kt
The root cause was thrown at: LambdaInfo.kt:158
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:167)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:661)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:642)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2398)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2347)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1207)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1146)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:298)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:367)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:333)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1621)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:620)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:391)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:244)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:168)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:139)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:199)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:161)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:75)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:305)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:289)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:454)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:150)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:399)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:98)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:397)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Can't find method 'invoke(I)LItem;' in 'Test$setup$1'
	at org.jetbrains.kotlin.codegen.inline.DefaultLambda.generateLambdaBody(LambdaInfo.kt:158)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:313)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:246)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)
	... 72 more
```


Kotlin version: 1.2.41</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1526572204261</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535010594021</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>CreamyCookie</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>CreamyCookie</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-26336</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.41</value><valueId>1.2.41</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-24480" entityId="25-1991223"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24480</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Missing SVGFilterElement in kotlin-js RT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>link: https://developer.mozilla.org/en-US/docs/Web/API/SVGFilterElement</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1526584142222</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1526625134094</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>caffeine.mgn</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Антон Субочев</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Mashkov">cy6erGn0m</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Libraries</value><valueId>Libraries</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-24485" entityId="25-1991608"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24485</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Same named class from test source root hides class from production root [NoSuchMethod error in JVM with common module]</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have a code and tests in common code. Running tests in JS works, while for the JVM it fails with NoSuchMethodError.

Project https://github.com/jonnyzzz/kotlin-fractals/tree/KT-24485
Try running `:jvm:test` task with `./gradlew`

The failures
```
org.jetbrains.demo.kotlinfractals.GeometryKt.getX(Lorg/jetbrains/demo/kotlinfractals/Rect;)Lorg/jetbrains/demo/kotlinfractals/Segment;
java.lang.NoSuchMethodError: org.jetbrains.demo.kotlinfractals.GeometryKt.getX(Lorg/jetbrains/demo/kotlinfractals/Rect;)Lorg/jetbrains/demo/kotlinfractals/Segment;
	at org.jetbrains.demo.kotlinfractals.Transformation.toComplex(geometry.kt:52)
	at org.jetbrains.demo.kotlinfractals.GeometryTest.test1(geometry.kt:18)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:106)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)
	at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy1.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:748)
```

Also, `geometry.kt:52` is a line outside the file, probably caused by inline or extension functions.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1526634181126</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1526840189703</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2875098" author="eugene.petrenko" authorFullName="Eugene Petrenko" issueId="KT-24485" deleted="false" text="I had two files `geomety.kt` under the common code. One under `src/main/kotlin` the second under `src/test/kotlin`. It turned out the right GeometyKt class was hidden by the same `GeometryKt` class from tests classpath. I do have file-level functions in both files. &#xA;Rename `geometry.kt` in tests made it work. &#xA;&#xA;Shall we have an inspection in IJ / Gradle to make sure test/production class files does not overlap?" shownForIssueAuthor="false" created="1526635741212" markdown="false"><replies/></comment><comment id="27-2876314" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-24485" deleted="false" text="Thanks for the issue localization, reproduced with pure JVM module with IDEA 182.2483 + Kotlin plugin 1.2.60-dev-157.&#xA;&#xA;Actually the same problem exists with pure Java, but the effects are a bit different:&#xA;a. There is no any IDE error/warning, and a reference from the test code to production class is resolved into production source root, not to the test.&#xA;b. On attempt to run the test compilation fails: cannot find symbol.&#xA;So it's some rather common pitfall, not specific for Kotlin.&#xA;&#xA;Maybe Kotlin IDE developers will have some ideas how to help here, assigned to IDE subsystem.&#xA;&#xA;&gt; Also, geometry.kt:52 is a line outside the file, probably caused by inline or extension functions.&#xA;This is by design, statements from inlined code get line numbers out of real line numbers range, to not mix with original file content." shownForIssueAuthor="false" created="1526665696231" markdown="false"><replies/></comment><comment id="27-2877323" author="eugene.petrenko" authorFullName="Eugene Petrenko" issueId="KT-24485" deleted="false" text="Line 52 is probably from the other same named file. IDEA does not show file selector for the navigation.&#xA;&#xA;I expected all inline function lines are resolved when I use IJ test runner" shownForIssueAuthor="false" created="1526840189704" markdown="false"><replies/></comment></issue><issue id="KT-24519" entityId="25-1993490"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24519</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cannot apply both `konan` and `kotlin-platform-jvm` Gradle plugin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':native'.
	at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:94)
	at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:66)
	at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)
	at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)
	at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)
	at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)
	at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)
	at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)
	at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)
	at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)
	at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)
	at org.gradle.initialization.DefaultGradleLauncher.getConfiguredBuild(DefaultGradleLauncher.java:110)
	at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:87)
	at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:84)
	at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)
	at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:38)
	at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)
	at org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:84)
	at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:64)
	at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
	at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
	at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)
	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.run(RunAsBuildOperationBuildActionRunner.java:45)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:42)
	at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)
	at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)
	at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)
	at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)
	at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)
	at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:61)
	at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:34)
	at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)
	at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)
	at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)
	at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)
	at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)
	at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)
	at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)
	at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)
	at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:46)
	at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)
	at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
	at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
	at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
	at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)
	at org.gradle.util.Swapper.swap(Swapper.java:38)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
	at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
	at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
	at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
	at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)
	at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.gradle.api.GradleScriptException: A problem occurred evaluating project ':native'.
	at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:92)
	at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl$2.run(DefaultScriptPluginFactory.java:204)
	at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)
	at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:209)
	at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:61)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)
	at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)
	at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)
	at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)
	at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)
	... 88 more
Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin [id 'kotlin-platform-jvm']
	at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:150)
	at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:125)
	at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyType(DefaultObjectConfigurationAction.java:120)
	at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$200(DefaultObjectConfigurationAction.java:38)
	at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$3.run(DefaultObjectConfigurationAction.java:86)
	at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:143)
	at org.gradle.api.internal.project.AbstractPluginAware.apply(AbstractPluginAware.java:46)
	at org.gradle.api.internal.project.ProjectScript.apply(ProjectScript.java:34)
	at org.gradle.api.Script$apply.callCurrent(Unknown Source)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:52)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:154)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:166)
	at build_5jhanutasb2km50fcv57d38yc.run(/Users/jonnyzzz/Work/kotlin-fractals/native/build.gradle:3)
	at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:90)
	... 102 more
Caused by: org.gradle.api.InvalidUserDataException: Cannot add a configuration with name 'expectedBy' as a configuration with that name already exists.
	at org.gradle.api.internal.DefaultNamedDomainObjectCollection.assertCanAdd(DefaultNamedDomainObjectCollection.java:134)
	at org.gradle.api.internal.AbstractNamedDomainObjectContainer.create(AbstractNamedDomainObjectContainer.java:66)
	at org.gradle.api.internal.AbstractValidatingNamedDomainObjectContainer.create(AbstractValidatingNamedDomainObjectContainer.java:42)
	at org.gradle.api.internal.AbstractNamedDomainObjectContainer.create(AbstractNamedDomainObjectContainer.java:50)
	at org.jetbrains.kotlin.gradle.plugin.KotlinPlatformImplementationPluginBase.apply(KotlinMultiplatformPlugin.kt:60)
	at org.jetbrains.kotlin.gradle.plugin.KotlinPlatformJvmPlugin.apply(KotlinMultiplatformPlugin.kt:162)
	at org.jetbrains.kotlin.gradle.plugin.KotlinPlatformJvmPlugin.apply(KotlinMultiplatformPlugin.kt:159)
	at org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:42)
	at org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:50)
	at org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:164)
	at org.gradle.api.internal.plugins.DefaultPluginManager.access$200(DefaultPluginManager.java:47)
	at org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:252)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:144)
	... 115 more

```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1526852485634</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1527188788839</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Matveev">Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Gradle</value><value>Native</value><valueId>Tools. Gradle</valueId><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2886666" author="h0tk3y" authorFullName="Sergey Igushkin" issueId="KT-24519" deleted="false" text="Note: the design of MPP support in Gradle at the moment requires separate modules for the target platforms. Applying more than one platform plugin in a single module is not yet supported." shownForIssueAuthor="false" created="1527188780955" markdown="false"><replies/></comment><tag cssClass="c0">multiplatform</tag></issue><issue id="KT-24571" entityId="25-1997954"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24571</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>CompilationException/NullPointerException while inlining with let in tailrec</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Here is location for this method:
https://github.com/mockk/mockk/blob/729cd94f0084488b62386d417506efa7ac7866b9/agent/android/src/main/kotlin/io/mockk/proxy/android/advice/Advice.kt#L151

Here is exception:
e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'let' into
private final tailrec fun java.lang.Class&lt;*&gt;.isOverridden(origin: java.lang.reflect.Method): kotlin.Boolean defined in io.mockk.proxy.android.advice.Advice.Companion
private tailrec fun Class&lt;*&gt;.isOverridden(origin: Method): Boolean =
            findMethod(origin.name, origin.parameterTypes)
                .let {
                    it ?: return superclass.isOverridden(origin)
                }.let {
                    origin.declaringClass != it.declaringClass
                }
Cause: let (Ljava/lang/Object;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;:
  @Lkotlin/internal/InlineOnly;() // invisible
   L0
    LINENUMBER 92 L0
    NOP
   L1
    LINENUMBER 95 L1
    ALOAD 1
    ALOAD 0
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    ARETURN
   L2
    LOCALVARIABLE $receiver Ljava/lang/Object; L0 L2 0
    LOCALVARIABLE block Lkotlin/jvm/functions/Function1; L0 L2 1
    LOCALVARIABLE $i$f$let I L0 L2 2
    MAXSTACK = 2
    MAXLOCALS = 3
Cause: java.lang.NullPointerException
File being compiled at position: (154,18) in /home/oleksiyp/workspace/mockk-master/agent/android/src/main/kotlin/io/mockk/proxy/android/advice/Advice.kt
The root cause was thrown at: MethodContext.java:67
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:167)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:661)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:642)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2398)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2347)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.StackValue.moveToTopOfStack(StackValue.java:94)
	at org.jetbrains.kotlin.codegen.CallReceiver.putSelector(CallReceiver.java:171)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putReceiverAndInlineMarkerIfNeeded(ExpressionCodegen.java:2430)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2360)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2347)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:349)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1621)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:620)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:391)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:244)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:168)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:139)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:199)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:161)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:75)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:305)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:289)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:315)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:91)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:305)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:289)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:454)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:150)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:463)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:98)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:228)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:38)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:90)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:102)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:538)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:98)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:418)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:417)
	at sun.reflect.GeneratedMethodAccessor94.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.jetbrains.kotlin.codegen.context.MethodContext.getReceiverExpression(MethodContext.java:67)
	at org.jetbrains.kotlin.codegen.TailRecursionCodegen.generateTailRecursion(TailRecursionCodegen.java:85)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2376)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2347)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:349)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$visitReturnExpression$11(ExpressionCodegen.java:1536)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:349)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateElvis$19(ExpressionCodegen.java:3501)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:349)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1621)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:620)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateMethodBody(SourceCompilerForInline.kt:201)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateLambdaBody(SourceCompilerForInline.kt:153)
	at org.jetbrains.kotlin.codegen.inline.ExpressionLambda.generateLambdaBody(LambdaInfo.kt:180)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:313)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:246)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)
	... 90 more
:mockk-agent-android:compileDebugKotlin FAILED
FAILURE: Build failed with an exception.
* What went wrong:
Execution failed for task ':mockk-agent-android:compileDebugKotlin'.
&gt; Compilation error. See log for more details
* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.
* Get more help at https://help.gradle.org
BUILD FAILED in 3s
60 actionable tasks: 1 executed, 59 up-to-date
06:56:16: Task execution finished 'check'.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1527138319658</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1530517623050</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilmir Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Oleksiy.Pylypenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Oleksiy Pylypenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-24646" entityId="25-2002099"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24646</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Change of return type didn't recompile (Java?) usages</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>after IJ community `09b8c22643c257aba6a9a5ac25d9c78909aa694b` change I got 

{code}
ava.lang.NoSuchMethodError: com.intellij.patterns.uast.ULiteralExpressionPattern.annotationParam(Ljava/lang/String;Ljava/lang/String;)Lcom/intellij/patterns/uast/UElementPattern;
    at org.jetbrains.idea.devkit.references.IconsReferencesContributor.registerForPresentationAnnotation(IconsReferencesContributor.java:252)
    at org.jetbrains.idea.devkit.references.IconsReferencesContributor.registerReferenceProviders(IconsReferencesContributor.java:105)
{code}

tried recompiling uastPatterns.kt, same result
only recompilation of devkit module fixed it


IntelliJ IDEA 2018.2 EAP (Ultimate Edition)
Build #IU-182.2307, built on May 12, 2018
Kotlin 1.2.41-release-IJ2018.2-2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1527513785422</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1527535397627</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yannc76</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yann Cebron</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Incremental Compile</value><valueId>Tools. Incremental Compile</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.41</value><valueId>1.2.41</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-529088" url="https://youtrack.jetbrains.com/_persistent/build.log.zip?file=74-529088&amp;c=true">build.log.zip</value></field></issue><issue id="KT-24771" entityId="25-2008532"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24771</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Debugger is unable to start</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>What steps will reproduce the issue?
1. I attempt to start debugging session
2. Debugger connects to VM
3. IDE starts freezing
4. "IDE fatal errors" shows following error  

```JAVA
&lt;sources for library Maven: org.jetbrains.kotlin:kotlin-stdlib:1.2.41&gt; is a module[ModuleDescriptorImpl@4a7a90c5] is not contained in resolver Resolver for 'sdk OracleJDK 8: java version "1.8.0_172" (/usr/lib/jvm/jdk1.8.0_172)'
java.lang.IllegalStateException: &lt;sources for library Maven: org.jetbrains.kotlin:kotlin-stdlib:1.2.41&gt; is a module[ModuleDescriptorImpl@4a7a90c5] is not contained in resolver Resolver for 'sdk OracleJDK 8: java version "1.8.0_172" (/usr/lib/jvm/jdk1.8.0_172)'
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:164)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForDescriptor(ProjectResolutionFacade.kt:164)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ResolutionFacadeImpl.kt:95)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveDefaultKDocLink(resolveKDocLink.kt:134)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocSampleLink(resolveKDocLink.kt:101)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocLink(resolveKDocLink.kt:57)
	at org.jetbrains.kotlin.idea.kdoc.KDocReference.getTargetDescriptors(KDocReference.kt:36)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolveToPsiElements(KtReference.kt:82)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:119)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:77)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:152)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:182)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:174)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference.multiResolve(KtReference.kt:49)
	at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.getUnwrappedTargets(referenceUtil.kt:64)
	at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.matchesTarget(referenceUtil.kt:130)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference.isReferenceTo(KtReference.kt:53)
	at com.intellij.psi.search.SingleTargetRequestResultProcessor.processTextOccurrence(SingleTargetRequestResultProcessor.java:52)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.lambda$execute$0(PsiSearchHelperImpl.java:763)
	at com.intellij.psi.impl.search.LowLevelSearchUtil.processTreeUp(LowLevelSearchUtil.java:139)
	at com.intellij.psi.impl.search.LowLevelSearchUtil.processElementsAtOffsets(LowLevelSearchUtil.java:226)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.execute(PsiSearchHelperImpl.java:759)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:248)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:239)
	at com.intellij.openapi.application.ReadActionProcessor.lambda$process$0(ReadActionProcessor.java:28)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:927)
	at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:47)
	at com.intellij.openapi.application.ReadActionProcessor.process(ReadActionProcessor.java:28)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processVirtualFile$5(PsiSearchHelperImpl.java:423)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1129)
	at com.intellij.openapi.application.ex.ApplicationUtil.tryRunReadAction(ApplicationUtil.java:43)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processVirtualFile(PsiSearchHelperImpl.java:407)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processPsiFileRoots$2(PsiSearchHelperImpl.java:321)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processFilesConcurrentlyDespiteWriteActions$3(PsiSearchHelperImpl.java:354)
	at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)
	at com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)
	at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1870)
	at java.util.concurrent.ForkJoinPool.externalHelpComplete(ForkJoinPool.java:2467)
	at java.util.concurrent.ForkJoinTask.externalAwaitDone(ForkJoinTask.java:324)
	at java.util.concurrent.ForkJoinTask.doJoin(ForkJoinTask.java:391)
	at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:719)
	at java.util.concurrent.ForkJoinPool.invoke(ForkJoinPool.java:2616)
	at com.intellij.concurrency.JobLauncherImpl.invokeConcurrentlyUnderProgress(JobLauncherImpl.java:65)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processFilesConcurrentlyDespiteWriteActions(PsiSearchHelperImpl.java:377)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processPsiFileRoots(PsiSearchHelperImpl.java:319)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processElementsWithTextInGlobalScope(PsiSearchHelperImpl.java:294)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.bulkProcessElementsWithWord(PsiSearchHelperImpl.java:185)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processSingleRequest(PsiSearchHelperImpl.java:936)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processGlobalRequestsOptimized(PsiSearchHelperImpl.java:663)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processRequests(PsiSearchHelperImpl.java:608)
	at com.intellij.psi.search.SearchRequestQuery.processResults(SearchRequestQuery.java:45)
	at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:80)
	at com.intellij.util.MergeQuery.processSubQuery(MergeQuery.java:85)
	at com.intellij.util.MergeQuery.forEach(MergeQuery.java:57)
	at com.intellij.util.UniqueResultsQuery.process(UniqueResultsQuery.java:67)
	at com.intellij.util.UniqueResultsQuery.forEach(UniqueResultsQuery.java:57)
	at com.intellij.util.UniqueResultsQuery.findAll(UniqueResultsQuery.java:80)
	at com.intellij.util.UniqueResultsQuery.iterator(UniqueResultsQuery.java:93)
	at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher$findInlinedCalls$task$1.run(InlineCallableUsagesSearcher.kt:111)
	at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)
	at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls(InlineCallableUsagesSearcher.kt:76)
	at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls$default(InlineCallableUsagesSearcher.kt:45)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.getOuterClassNamesForElement(DebuggerClassNameProvider.kt:215)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$getOuterClassNamesForElement$inlineCallSiteClasses$1.invoke(DebuggerClassNameProvider.kt:215)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$getOuterClassNamesForElement$inlineCallSiteClasses$1.invoke(DebuggerClassNameProvider.kt:48)
	at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls(InlineCallableUsagesSearcher.kt:86)
	at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls$default(InlineCallableUsagesSearcher.kt:45)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.getOuterClassNamesForElement(DebuggerClassNameProvider.kt:215)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$getOuterClassNamesForElement$inlineCallSiteClasses$1.invoke(DebuggerClassNameProvider.kt:215)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$getOuterClassNamesForElement$inlineCallSiteClasses$1.invoke(DebuggerClassNameProvider.kt:48)
	at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls(InlineCallableUsagesSearcher.kt:86)
	at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls$default(InlineCallableUsagesSearcher.kt:45)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.getOuterClassNamesForElement(DebuggerClassNameProvider.kt:215)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$doGetClassesForPosition$result$1.invoke(DebuggerClassNameProvider.kt:104)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$doGetClassesForPosition$result$1.invoke(DebuggerClassNameProvider.kt:48)
	at org.jetbrains.kotlin.idea.debugger.evaluate.KotlinDebuggerCaches$Companion.getOrComputeClassNames(KotlinDebuggerCaches.kt:134)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.doGetClassesForPosition(DebuggerClassNameProvider.kt:103)
	at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.getClassesForPosition(DebuggerClassNameProvider.kt:86)
	at org.jetbrains.kotlin.idea.debugger.KotlinPositionManager.getAllClasses(KotlinPositionManager.kt:304)
	at com.intellij.debugger.engine.CompoundPositionManager.lambda$getAllClasses$3(CompoundPositionManager.java:131)
	at com.intellij.debugger.engine.CompoundPositionManager.lambda$iterate$0(CompoundPositionManager.java:91)
	at com.intellij.debugger.impl.DebuggerUtilsImpl.suppressExceptions(DebuggerUtilsImpl.java:230)
	at com.intellij.debugger.engine.CompoundPositionManager.iterate(CompoundPositionManager.java:91)
	at com.intellij.debugger.engine.CompoundPositionManager.iterate(CompoundPositionManager.java:76)
	at com.intellij.debugger.engine.CompoundPositionManager.getAllClasses(CompoundPositionManager.java:131)
	at com.intellij.debugger.engine.JVMNameUtil.getSourcePositionClassDisplayName(JVMNameUtil.java:382)
	at com.intellij.debugger.ui.breakpoints.BreakpointWithHighlighter.updateCaches(BreakpointWithHighlighter.java:119)
	at com.intellij.debugger.ui.breakpoints.BreakpointWithHighlighter.access$100(BreakpointWithHighlighter.java:45)
	at com.intellij.debugger.ui.breakpoints.BreakpointWithHighlighter$1.lambda$action$0(BreakpointWithHighlighter.java:296)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:902)
	at com.intellij.debugger.ui.breakpoints.BreakpointWithHighlighter$1.action(BreakpointWithHighlighter.java:294)
	at com.intellij.debugger.engine.events.DebuggerCommandImpl.run(DebuggerCommandImpl.java:33)
	at com.intellij.debugger.engine.DebuggerManagerThreadImpl.processEvent(DebuggerManagerThreadImpl.java:147)
	at com.intellij.debugger.engine.DebuggerManagerThreadImpl.processEvent(DebuggerManagerThreadImpl.java:43)
	at com.intellij.debugger.impl.InvokeThread.run(InvokeThread.java:141)
	at com.intellij.debugger.impl.InvokeThread.access$100(InvokeThread.java:18)
	at com.intellij.debugger.impl.InvokeThread$WorkerThreadRequest.run(InvokeThread.java:47)
	at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:305)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)


java.lang.IllegalStateException: &lt;sources for library Maven: org.jetbrains.kotlin:kotlin-stdlib:1.2.30&gt; is a module[ModuleDescriptorImpl@390b306b] is not contained in resolver Resolver for 'sdk OracleJDK 8: java version "1.8.0_172" (/usr/lib/jvm/jdk1.8.0_172)'
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:164)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForDescriptor(ProjectResolutionFacade.kt:164)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ResolutionFacadeImpl.kt:95)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveDefaultKDocLink(resolveKDocLink.kt:134)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocSampleLink(resolveKDocLink.kt:101)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocLink(resolveKDocLink.kt:57)
	at org.jetbrains.kotlin.idea.kdoc.KDocReference.getTargetDescriptors(KDocReference.kt:36)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolveToPsiElements(KtReference.kt:82)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:119)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:77)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:152)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:182)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:174)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference.multiResolve(KtReference.kt:49)
	at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.getUnwrappedTargets(referenceUtil.kt:64)
	at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.matchesTarget(referenceUtil.kt:130)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference.isReferenceTo(KtReference.kt:53)
	at com.intellij.psi.search.SingleTargetRequestResultProcessor.processTextOccurrence(SingleTargetRequestResultProcessor.java:52)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.lambda$execute$0(PsiSearchHelperImpl.java:763)
	at com.intellij.psi.impl.search.LowLevelSearchUtil.processTreeUp(LowLevelSearchUtil.java:139)
	at com.intellij.psi.impl.search.LowLevelSearchUtil.processElementsAtOffsets(LowLevelSearchUtil.java:226)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.execute(PsiSearchHelperImpl.java:759)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:248)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:239)
	at com.intellij.openapi.application.ReadActionProcessor.lambda$process$0(ReadActionProcessor.java:28)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:927)
	at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:47)
	at com.intellij.openapi.application.ReadActionProcessor.process(ReadActionProcessor.java:28)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processVirtualFile$5(PsiSearchHelperImpl.java:423)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1134)
	at com.intellij.openapi.application.ex.ApplicationUtil.tryRunReadAction(ApplicationUtil.java:43)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processVirtualFile(PsiSearchHelperImpl.java:407)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processPsiFileRoots$2(PsiSearchHelperImpl.java:321)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processFilesConcurrentlyDespiteWriteActions$3(PsiSearchHelperImpl.java:354)
	at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)
	at com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)
	at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)


java.lang.IllegalStateException: &lt;sources for library Maven: org.jetbrains.kotlin:kotlin-stdlib-common:1.2.41&gt; is a module[ModuleDescriptorImpl@4e01190b] is not contained in resolver Resolver for 'sdk OracleJDK 8: java version "1.8.0_172" (/usr/lib/jvm/jdk1.8.0_172)'
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:164)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
	at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForDescriptor(ProjectResolutionFacade.kt:164)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ResolutionFacadeImpl.kt:95)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveDefaultKDocLink(resolveKDocLink.kt:134)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocSampleLink(resolveKDocLink.kt:101)
	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocLink(resolveKDocLink.kt:57)
	at org.jetbrains.kotlin.idea.kdoc.KDocReference.getTargetDescriptors(KDocReference.kt:36)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolveToPsiElements(KtReference.kt:82)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:119)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:77)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:152)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:182)
	at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:174)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference.multiResolve(KtReference.kt:49)
	at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.getUnwrappedTargets(referenceUtil.kt:64)
	at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.matchesTarget(referenceUtil.kt:130)
	at org.jetbrains.kotlin.idea.references.AbstractKtReference.isReferenceTo(KtReference.kt:53)
	at com.intellij.psi.search.SingleTargetRequestResultProcessor.processTextOccurrence(SingleTargetRequestResultProcessor.java:52)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.lambda$execute$0(PsiSearchHelperImpl.java:763)
	at com.intellij.psi.impl.search.LowLevelSearchUtil.processTreeUp(LowLevelSearchUtil.java:139)
	at com.intellij.psi.impl.search.LowLevelSearchUtil.processElementsAtOffsets(LowLevelSearchUtil.java:226)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.execute(PsiSearchHelperImpl.java:759)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:248)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:239)
	at com.intellij.openapi.application.ReadActionProcessor.lambda$process$0(ReadActionProcessor.java:28)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:927)
	at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:47)
	at com.intellij.openapi.application.ReadActionProcessor.process(ReadActionProcessor.java:28)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processVirtualFile$5(PsiSearchHelperImpl.java:423)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1134)
	at com.intellij.openapi.application.ex.ApplicationUtil.tryRunReadAction(ApplicationUtil.java:43)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processVirtualFile(PsiSearchHelperImpl.java:407)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processPsiFileRoots$2(PsiSearchHelperImpl.java:321)
	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processFilesConcurrentlyDespiteWriteActions$3(PsiSearchHelperImpl.java:354)
	at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)
	at com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)
	at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1527776487906</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1529344338466</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>alex.bermishev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alex Bermishev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Debugger</value><valueId>IDE. Debugger</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2897516" author="adernov" authorFullName="Andrey Dernov" issueId="KT-24771" deleted="false" text="What Run/Debug Configuration do you use? Do you debug Kotlin code?" shownForIssueAuthor="false" created="1527781748514" markdown="false"><replies/></comment><comment id="27-2898230" author="alex.bermishev" authorFullName="Alex Bermishev" issueId="KT-24771" deleted="false" text="I've tried &quot;File -&gt; Invalidate Caches/Restart&quot; option&#xA;Debugger started working, but very slowly (especially with breakpoints in code)&#xA;I still get &quot;IDE Fatal errors&quot; like that&#xA;(you can see that I tried to change JRE, but that did not make any difference)&#xA;&#xA;```JAVA&#xA;&lt;sources for library KotlinJavaRuntime&gt; is a module[ModuleDescriptorImpl@7a55f522] is not contained in resolver Resolver for 'sdk OpenJDK 8: java version &quot;1.8.0_151&quot; (/usr/lib/jvm/java-8-openjdk-amd64)'&#xA;java.lang.IllegalStateException: &lt;sources for library KotlinJavaRuntime&gt; is a module[ModuleDescriptorImpl@7a55f522] is not contained in resolver Resolver for 'sdk OpenJDK 8: java version &quot;1.8.0_151&quot; (/usr/lib/jvm/java-8-openjdk-amd64)'&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:164)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForDescriptor(ProjectResolutionFacade.kt:164)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ResolutionFacadeImpl.kt:95)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveDefaultKDocLink(resolveKDocLink.kt:134)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocSampleLink(resolveKDocLink.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocLink(resolveKDocLink.kt:57)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.KDocReference.getTargetDescriptors(KDocReference.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolveToPsiElements(KtReference.kt:82)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:119)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:77)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:152)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:182)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:174)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference.multiResolve(KtReference.kt:49)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.getUnwrappedTargets(referenceUtil.kt:64)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.matchesTarget(referenceUtil.kt:130)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference.isReferenceTo(KtReference.kt:53)&#xA;&#x9;at com.intellij.psi.search.SingleTargetRequestResultProcessor.processTextOccurrence(SingleTargetRequestResultProcessor.java:52)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.lambda$execute$0(PsiSearchHelperImpl.java:763)&#xA;&#x9;at com.intellij.psi.impl.search.LowLevelSearchUtil.processTreeUp(LowLevelSearchUtil.java:139)&#xA;&#x9;at com.intellij.psi.impl.search.LowLevelSearchUtil.processElementsAtOffsets(LowLevelSearchUtil.java:226)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.execute(PsiSearchHelperImpl.java:759)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:248)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:239)&#xA;&#x9;at com.intellij.openapi.application.ReadActionProcessor.lambda$process$0(ReadActionProcessor.java:28)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:927)&#xA;&#x9;at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:47)&#xA;&#x9;at com.intellij.openapi.application.ReadActionProcessor.process(ReadActionProcessor.java:28)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processVirtualFile$5(PsiSearchHelperImpl.java:423)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1134)&#xA;&#x9;at com.intellij.openapi.application.ex.ApplicationUtil.tryRunReadAction(ApplicationUtil.java:43)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processVirtualFile(PsiSearchHelperImpl.java:407)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processPsiFileRoots$2(PsiSearchHelperImpl.java:321)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processFilesConcurrentlyDespiteWriteActions$3(PsiSearchHelperImpl.java:354)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.tryToExecAllList(ApplierCompleter.java:223)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:151)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.tryToExecAllList(ApplierCompleter.java:223)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:151)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)&#xA;&#x9;at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;&#xA;&#xA;java.lang.IllegalStateException: &lt;sources for library Maven: org.jetbrains.kotlin:kotlin-stdlib-common:1.2.41&gt; is a module[ModuleDescriptorImpl@870bcd] is not contained in resolver Resolver for 'sdk OpenJDK 8: java version &quot;1.8.0_151&quot; (/usr/lib/jvm/java-8-openjdk-amd64)'&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:164)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForDescriptor(ProjectResolutionFacade.kt:164)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ResolutionFacadeImpl.kt:95)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveDefaultKDocLink(resolveKDocLink.kt:134)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocSampleLink(resolveKDocLink.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocLink(resolveKDocLink.kt:57)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.KDocReference.getTargetDescriptors(KDocReference.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolveToPsiElements(KtReference.kt:82)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:119)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:77)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:152)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:182)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:174)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference.multiResolve(KtReference.kt:49)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.getUnwrappedTargets(referenceUtil.kt:64)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.matchesTarget(referenceUtil.kt:130)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference.isReferenceTo(KtReference.kt:53)&#xA;&#x9;at com.intellij.psi.search.SingleTargetRequestResultProcessor.processTextOccurrence(SingleTargetRequestResultProcessor.java:52)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.lambda$execute$0(PsiSearchHelperImpl.java:763)&#xA;&#x9;at com.intellij.psi.impl.search.LowLevelSearchUtil.processTreeUp(LowLevelSearchUtil.java:139)&#xA;&#x9;at com.intellij.psi.impl.search.LowLevelSearchUtil.processElementsAtOffsets(LowLevelSearchUtil.java:226)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.execute(PsiSearchHelperImpl.java:759)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:248)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:239)&#xA;&#x9;at com.intellij.openapi.application.ReadActionProcessor.lambda$process$0(ReadActionProcessor.java:28)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:927)&#xA;&#x9;at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:47)&#xA;&#x9;at com.intellij.openapi.application.ReadActionProcessor.process(ReadActionProcessor.java:28)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processVirtualFile$5(PsiSearchHelperImpl.java:423)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1134)&#xA;&#x9;at com.intellij.openapi.application.ex.ApplicationUtil.tryRunReadAction(ApplicationUtil.java:43)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processVirtualFile(PsiSearchHelperImpl.java:407)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processPsiFileRoots$2(PsiSearchHelperImpl.java:321)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processFilesConcurrentlyDespiteWriteActions$3(PsiSearchHelperImpl.java:354)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.tryToExecAllList(ApplierCompleter.java:223)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:151)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.tryToExecAllList(ApplierCompleter.java:223)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:151)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)&#xA;&#x9;at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1870)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.externalHelpComplete(ForkJoinPool.java:2467)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.externalAwaitDone(ForkJoinTask.java:324)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doJoin(ForkJoinTask.java:391)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:719)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.invoke(ForkJoinPool.java:2616)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl.invokeConcurrentlyUnderProgress(JobLauncherImpl.java:65)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processFilesConcurrentlyDespiteWriteActions(PsiSearchHelperImpl.java:377)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processPsiFileRoots(PsiSearchHelperImpl.java:319)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processElementsWithTextInGlobalScope(PsiSearchHelperImpl.java:294)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.bulkProcessElementsWithWord(PsiSearchHelperImpl.java:185)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processSingleRequest(PsiSearchHelperImpl.java:936)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processGlobalRequestsOptimized(PsiSearchHelperImpl.java:663)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processRequests(PsiSearchHelperImpl.java:608)&#xA;&#x9;at com.intellij.psi.search.SearchRequestQuery.processResults(SearchRequestQuery.java:45)&#xA;&#x9;at com.intellij.util.AbstractQuery.forEach(AbstractQuery.java:80)&#xA;&#x9;at com.intellij.util.MergeQuery.processSubQuery(MergeQuery.java:85)&#xA;&#x9;at com.intellij.util.MergeQuery.forEach(MergeQuery.java:57)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.process(UniqueResultsQuery.java:67)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.forEach(UniqueResultsQuery.java:57)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.findAll(UniqueResultsQuery.java:80)&#xA;&#x9;at com.intellij.util.UniqueResultsQuery.iterator(UniqueResultsQuery.java:93)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher$findInlinedCalls$task$1.run(InlineCallableUsagesSearcher.kt:111)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls(InlineCallableUsagesSearcher.kt:76)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls$default(InlineCallableUsagesSearcher.kt:45)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.getOuterClassNamesForElement(DebuggerClassNameProvider.kt:215)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$getOuterClassNamesForElement$inlineCallSiteClasses$1.invoke(DebuggerClassNameProvider.kt:215)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$getOuterClassNamesForElement$inlineCallSiteClasses$1.invoke(DebuggerClassNameProvider.kt:48)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls(InlineCallableUsagesSearcher.kt:86)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls$default(InlineCallableUsagesSearcher.kt:45)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.getOuterClassNamesForElement(DebuggerClassNameProvider.kt:215)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$getOuterClassNamesForElement$inlineCallSiteClasses$1.invoke(DebuggerClassNameProvider.kt:215)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$getOuterClassNamesForElement$inlineCallSiteClasses$1.invoke(DebuggerClassNameProvider.kt:48)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls(InlineCallableUsagesSearcher.kt:86)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.InlineCallableUsagesSearcher.findInlinedCalls$default(InlineCallableUsagesSearcher.kt:45)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.getOuterClassNamesForElement(DebuggerClassNameProvider.kt:215)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$doGetClassesForPosition$result$1.invoke(DebuggerClassNameProvider.kt:104)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider$doGetClassesForPosition$result$1.invoke(DebuggerClassNameProvider.kt:48)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.evaluate.KotlinDebuggerCaches$Companion.getOrComputeClassNames(KotlinDebuggerCaches.kt:134)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.doGetClassesForPosition(DebuggerClassNameProvider.kt:103)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.DebuggerClassNameProvider.getClassesForPosition(DebuggerClassNameProvider.kt:86)&#xA;&#x9;at org.jetbrains.kotlin.idea.debugger.KotlinPositionManager.getAllClasses(KotlinPositionManager.kt:304)&#xA;&#x9;at com.intellij.debugger.engine.CompoundPositionManager.lambda$getAllClasses$3(CompoundPositionManager.java:131)&#xA;&#x9;at com.intellij.debugger.engine.CompoundPositionManager.lambda$iterate$0(CompoundPositionManager.java:91)&#xA;&#x9;at com.intellij.debugger.impl.DebuggerUtilsImpl.suppressExceptions(DebuggerUtilsImpl.java:230)&#xA;&#x9;at com.intellij.debugger.engine.CompoundPositionManager.iterate(CompoundPositionManager.java:91)&#xA;&#x9;at com.intellij.debugger.engine.CompoundPositionManager.iterate(CompoundPositionManager.java:76)&#xA;&#x9;at com.intellij.debugger.engine.CompoundPositionManager.getAllClasses(CompoundPositionManager.java:131)&#xA;&#x9;at com.intellij.debugger.ui.breakpoints.Breakpoint.createOrWaitPrepare(Breakpoint.java:216)&#xA;&#x9;at com.intellij.debugger.ui.breakpoints.BreakpointWithHighlighter.createRequest(BreakpointWithHighlighter.java:250)&#xA;&#x9;at com.intellij.debugger.engine.JavaBreakpointHandler$1.action(JavaBreakpointHandler.java:56)&#xA;&#x9;at com.intellij.debugger.engine.events.DebuggerCommandImpl.run(DebuggerCommandImpl.java:33)&#xA;&#x9;at com.intellij.debugger.engine.DebuggerManagerThreadImpl.processEvent(DebuggerManagerThreadImpl.java:147)&#xA;&#x9;at com.intellij.debugger.engine.DebuggerManagerThreadImpl.processEvent(DebuggerManagerThreadImpl.java:43)&#xA;&#x9;at com.intellij.debugger.impl.InvokeThread.run(InvokeThread.java:141)&#xA;&#x9;at com.intellij.debugger.impl.InvokeThread.access$100(InvokeThread.java:18)&#xA;&#x9;at com.intellij.debugger.impl.InvokeThread$WorkerThreadRequest.run(InvokeThread.java:47)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:305)&#xA;&#x9;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)&#xA;&#x9;at java.util.concurrent.FutureTask.run(FutureTask.java:266)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&#xA;&#x9;at java.lang.Thread.run(Thread.java:745)&#xA;&#xA;&#xA;java.lang.IllegalStateException: &lt;sources for library Maven: org.jetbrains.kotlin:kotlin-stdlib-common:1.2.41&gt; is a module[ModuleDescriptorImpl@6c9e2775] is not contained in resolver Resolver for 'sdk OpenJDK 8: java version &quot;1.8.0_151&quot; (/usr/lib/jvm/java-8-openjdk-amd64)'&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:164)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)&#xA;&#x9;at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForDescriptor(ProjectResolutionFacade.kt:164)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ResolutionFacadeImpl.kt:95)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveDefaultKDocLink(resolveKDocLink.kt:134)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocSampleLink(resolveKDocLink.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocLink(resolveKDocLink.kt:57)&#xA;&#x9;at org.jetbrains.kotlin.idea.kdoc.KDocReference.getTargetDescriptors(KDocReference.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolveToPsiElements(KtReference.kt:82)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:119)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:77)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:152)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:182)&#xA;&#x9;at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:174)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference.multiResolve(KtReference.kt:49)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.getUnwrappedTargets(referenceUtil.kt:64)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.ReferenceUtilKt.matchesTarget(referenceUtil.kt:130)&#xA;&#x9;at org.jetbrains.kotlin.idea.references.AbstractKtReference.isReferenceTo(KtReference.kt:53)&#xA;&#x9;at com.intellij.psi.search.SingleTargetRequestResultProcessor.processTextOccurrence(SingleTargetRequestResultProcessor.java:52)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.lambda$execute$0(PsiSearchHelperImpl.java:763)&#xA;&#x9;at com.intellij.psi.impl.search.LowLevelSearchUtil.processTreeUp(LowLevelSearchUtil.java:139)&#xA;&#x9;at com.intellij.psi.impl.search.LowLevelSearchUtil.processElementsAtOffsets(LowLevelSearchUtil.java:226)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.execute(PsiSearchHelperImpl.java:759)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:248)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:239)&#xA;&#x9;at com.intellij.openapi.application.ReadActionProcessor.lambda$process$0(ReadActionProcessor.java:28)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:927)&#xA;&#x9;at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:47)&#xA;&#x9;at com.intellij.openapi.application.ReadActionProcessor.process(ReadActionProcessor.java:28)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processVirtualFile$5(PsiSearchHelperImpl.java:423)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1134)&#xA;&#x9;at com.intellij.openapi.application.ex.ApplicationUtil.tryRunReadAction(ApplicationUtil.java:43)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.processVirtualFile(PsiSearchHelperImpl.java:407)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processPsiFileRoots$2(PsiSearchHelperImpl.java:321)&#xA;&#x9;at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processFilesConcurrentlyDespiteWriteActions$3(PsiSearchHelperImpl.java:354)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.tryToExecAllList(ApplierCompleter.java:223)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:151)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.tryToExecAllList(ApplierCompleter.java:223)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:151)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)&#xA;&#x9;at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)&#xA;&#x9;at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)&#xA;&#xA;```&#xA;" shownForIssueAuthor="false" created="1527848077233" updated="1527848135115" markdown="true"><replies/></comment><comment id="27-2902178" author="alex.bermishev" authorFullName="Alex Bermishev" issueId="KT-24771" deleted="false" text="if this may help to locate the problem&#xA;it seems that this bug appeared after I started placing lots of comments in my code with links to other types using *link* and *[]* directives&#xA;" shownForIssueAuthor="false" created="1528199010281" updated="1527848077184" markdown="true"><replies/></comment></issue><issue id="KT-24785" entityId="25-2013233"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24785</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin compiler periodically gets into invalid state</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Support feedback:

For some reason the kotlin compiler in Intellij periodically gets into a state where it cannot find classes. Attached see an example where it cannot find the class of the test I am trying to run - I get the error message Class not found: "io.execvision.profile.resources.ProfileResourceIntegrationTest"Empty test suite.

This test **was** working in the IDE just five minutes before.

If you google for "Empty test suite" you'll see this is quite widespread.

I have done all of the following, which didn't help: 
* invalidated caches &amp; restarted 
* double checked module settings 
* deleted .idea directory and reimporting 
* recompiled maven and reimported / resynchronized

This is a mixed Java/Kotlin project, with maven.

What _did_ help was switching the kotlin plugin version from .40 to .41. Switching it back after continues to work. Something about switching it cleared some internal state which forced it to rebuild.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1528225283796</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1529677636083</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>serge</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Serge Baranov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-24979</value><value type="Relates" role="relates to">KT-17951</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Incremental Compile</value><valueId>Tools. Incremental Compile</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2922295" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-24785" deleted="false" text="Reproduced something very similar in KT-24979." shownForIssueAuthor="false" created="1529677636129" markdown="true"><replies/></comment></issue><issue id="KT-24788" entityId="25-2013485"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24788</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Endless exceptions in offline inspections</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>There are duplicates but nothing happens there, so a new one. We struggle with this for half a year already.

[10:11:11][Step 4/4] [9583053]  ERROR - mpl.search.PsiSearchHelperImpl - &lt;special module for files not under source root&gt; is a module[ModuleDescriptorImpl@35a9862e] is not contained in resolver Resolver for 'sdk null' 
[10:11:11][Step 4/4] java.lang.IllegalStateException: &lt;special module for files not under source root&gt; is a module[ModuleDescriptorImpl@35a9862e] is not contained in resolver Resolver for 'sdk null'
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:164)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:166)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl$resolverForModuleDescriptor$1.invoke(AnalyzerFacade.kt:84)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:211)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.resolverForModuleDescriptor(AnalyzerFacade.kt:160)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForDescriptor(ProjectResolutionFacade.kt:166)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.getFrontendService(ResolutionFacadeImpl.kt:95)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveDefaultKDocLink(resolveKDocLink.kt:134)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.kdoc.ResolveKDocLinkKt.resolveKDocLink(resolveKDocLink.kt:58)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.kdoc.KDocReference.getTargetDescriptors(KDocReference.kt:36)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolveToPsiElements(KtReference.kt:82)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:119)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.references.AbstractKtReference$Companion$KotlinReferenceResolver.resolve(KtReference.kt:77)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:150)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:180)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:172)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.references.AbstractKtReference.multiResolve(KtReference.kt:49)
[10:11:11][Step 4/4] 	at org.jetbrains.kotlin.idea.kdoc.KDocReference.resolve(KDocReference.kt:47)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.MethodTextOccurrenceProcessor.processReference(MethodTextOccurrenceProcessor.java:53)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.MethodTextOccurrenceProcessor.processTextOccurrence(MethodTextOccurrenceProcessor.java:33)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.lambda$execute$0(PsiSearchHelperImpl.java:773)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.LowLevelSearchUtil.processTreeUp(LowLevelSearchUtil.java:138)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.LowLevelSearchUtil.processElementsAtOffsets(LowLevelSearchUtil.java:225)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl$3.execute(PsiSearchHelperImpl.java:769)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:231)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl$2.processInReadAction(PsiSearchHelperImpl.java:222)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.ReadActionProcessor.lambda$process$0(ReadActionProcessor.java:28)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:945)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:57)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.ReadActionProcessor.process(ReadActionProcessor.java:28)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processCandidates$14(PsiSearchHelperImpl.java:729)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processVirtualFile$6(PsiSearchHelperImpl.java:416)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1148)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.ex.ApplicationUtil.tryRunReadAction(ApplicationUtil.java:43)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl.processVirtualFile(PsiSearchHelperImpl.java:400)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processPsiFileRoots$2(PsiSearchHelperImpl.java:304)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$null$3(PsiSearchHelperImpl.java:353)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)
[10:11:11][Step 4/4] 	at com.intellij.psi.impl.search.PsiSearchHelperImpl.lambda$processFilesConcurrentlyDespiteWriteActions$4(PsiSearchHelperImpl.java:352)
[10:11:11][Step 4/4] 	at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)
[10:11:11][Step 4/4] 	at com.intellij.concurrency.ApplierCompleter.tryToExecAllList(ApplierCompleter.java:223)
[10:11:11][Step 4/4] 	at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:151)
[10:11:11][Step 4/4] 	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1153)
[10:11:11][Step 4/4] 	at com.intellij.concurrency.ApplierCompleter.lambda$wrapInReadActionAndIndicator$1(ApplierCompleter.java:105)
[10:11:11][Step 4/4] 	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
[10:11:11][Step 4/4] 	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
[10:11:11][Step 4/4] 	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
[10:11:11][Step 4/4] 	at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)
[10:11:11][Step 4/4] 	at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:99)
[10:11:11][Step 4/4] 	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
[10:11:11][Step 4/4] 	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
[10:11:11][Step 4/4] 	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
[10:11:11][Step 4/4] 	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
[10:11:11][Step 4/4] 	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1528271821319</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1528470331251</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>anet</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Anna Kozlova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>anet</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anna Kozlova</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. KDoc</value><valueId>IDE. KDoc</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2903692" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-24788" deleted="false" text="Found no obvious duplicates, only somewhat similar KT-15274, KT-19527.&#xA;BTW all traces in all issues go through `kdoc`. Cc @Simon.Ogorodnik." shownForIssueAuthor="false" created="1528277279186" markdown="false"><replies/></comment><comment id="27-2907666" author="Simon.Ogorodnik" authorFullName="Simon Ogorodnik" issueId="KT-24788" deleted="false" text="@anet Please, provide more info, like a file being analyzed" shownForIssueAuthor="false" created="1528469802125" markdown="false"><replies/></comment></issue><issue id="KT-24795" entityId="25-2014271"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24795</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Scrolling doesn't work on Kotlin website kotlinlang.org in Chrome on GNU/Linux</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Scrolling doesn't work on Kotlin website kotlinlang.org in Chrome on Linux. Cannot scroll with mouse wheel, touchpad or PgUp, PgDown buttons. But scrollbar works.
Chrome version :Version 67.0.3396.62 (Official Build) (64-bit)
system: Linux laptop 4.9.0-6-amd64 #1 SMP Debian 4.9.88-1+deb9u1 (2018-05-07) x86_64 GNU/Linux</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1528299717617</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1528648850781</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>nealeu</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Neale Upstone</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>andrey.chernishov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrei Chernyshev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Site</value><valueId>Web Site</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2908958" author="nealeu" authorFullName="Neale Upstone" issueId="KT-24795" deleted="false" text="I'm glad I'm not the only one that things this needs solving.&#xA;&#xA;I've done some digging and the following rule is what is causing the problem.&#xA;&#xA;```css&#xA;.search-popup { overflow-y: auto; }  &#xA;```&#xA;&#xA;Even though the search popup isn't active, the CSS rule is due to the  ._hidden only making the .search-popup element transparent instead of display:none.&#xA;&#xA;&#xA;" shownForIssueAuthor="false" created="1528648850826" markdown="false"><replies/></comment></issue><issue id="KT-24932" entityId="25-2020988"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24932</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>LocalVariableTable contains wrong values for synthetic variables</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>At least in compiled 1.2.41 stdlib. Probably recent compiler provides better output. 
org.jetbrains.kotlin/kotlin-stdlib/1.2.41/7e34f009642702250bccd9e5255866f408962a05/kotlin-stdlib-1.2.41.jar
class kotlin.text.Regex: 

Variable  $i$a$1$also has signature 'I', slot 3, and scope visibility 64(+5) but in this scope there is no operation happening with slot 3.
at this moment ins slot3 will be value of type  Ljava/util/EnumSet; as a leftover from $receiver$iv variable 

```
public final java.util.Set&lt;kotlin.text.RegexOption&gt; getOptions();
    descriptor: ()Ljava/util/Set;
    flags: ACC_PUBLIC, ACC_FINAL
    Code:
      stack=4, locals=6, args_size=1
         0: aload_0
         1: getfield      #35                 // Field _options:Ljava/util/Set;
         4: dup
         5: ifnull        11
         8: goto          70
        11: pop
        12: aload_0
        13: getfield      #13                 // Field nativePattern:Ljava/util/regex/Pattern;
        16: invokevirtual #39                 // Method java/util/regex/Pattern.flags:()I
        19: istore_1
        20: ldc           #41                 // class kotlin/text/RegexOption
        22: invokestatic  #47                 // Method java/util/EnumSet.allOf:(Ljava/lang/Class;)Ljava/util/EnumSet;
        25: astore_2
        26: aload_2
        27: astore_3
        28: aload_3
        29: checkcast     #49                 // class java/lang/Iterable
        32: new           #51                 // class kotlin/text/Regex$fromInt$$inlined$apply$lambda$1
        35: dup
        36: iload_1
        37: invokespecial #55                 // Method kotlin/text/Regex$fromInt$$inlined$apply$lambda$1."&lt;init&gt;":(I)V
        40: checkcast     #57                 // class kotlin/jvm/functions/Function1
        43: invokestatic  #63                 // Method kotlin/collections/CollectionsKt.retainAll:(Ljava/lang/Iterable;Lkotlin/jvm/functions/Function1;)Z
        46: pop
        47: nop
        48: aload_2
        49: checkcast     #65                 // class java/util/Set
        52: invokestatic  #71                 // Method java/util/Collections.unmodifiableSet:(Ljava/util/Set;)Ljava/util/Set;
        55: dup
        56: ldc           #73                 // String Collections.unmodifiable… == it.value }\n        })
        58: invokestatic  #26                 // Method kotlin/jvm/internal/Intrinsics.checkExpressionValueIsNotNull:(Ljava/lang/Object;Ljava/lang/String;)V
        61: astore_1
        62: aload_1
        63: astore_2
        64: aload_0
        65: aload_2
        66: putfield      #35                 // Field _options:Ljava/util/Set;
        69: aload_1
        70: areturn
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
           28      19     3 $receiver$iv   Ljava/util/EnumSet;
           28      19     4 $i$a$1$apply   I
           20      41     1 value$iv   I
           20      41     5 $i$f$fromInt   I
           64       5     2    it   Ljava/util/Set;
           64       5     3 $i$a$1$also   I
            0      71     0  this   Lkotlin/text/Regex;
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1528981536675</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532532347667</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>demyan.kimitsa</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Demyan Kimitsa</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-24987" entityId="25-2024421"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>24987</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Implicit (unsafe) cast from dynamic to DONT_CARE</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>IntelliJ shows the warning "Implicit (unsafe) cast from dynamic to DONT_CARE" for the line

```kotlin
val foo: dynamic by lazy { JSON.parse&lt;dynamic&gt;("...") }
```

How I should fix this warning?</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1529395795563</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1530265346228</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Mikhail Glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>fvasco</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Francesco Vasco</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Zalim Bashorov">Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Inspections and Intentions</value><valueId>IDE. Inspections and Intentions</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2929641" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-24987" deleted="false" text="@Zalim.Bashorov Please look at this issue. I'm not exactly sure but probably it's not Inspections &amp; Intentions problem." shownForIssueAuthor="false" created="1530265346253" markdown="false"><replies/></comment></issue><issue id="KT-25023" entityId="25-2026555"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25023</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Infinite loops don't coerce to any type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Example:

```kotlin
fun getData(): T? = dataLock.withLock {
    while (true) {
        val empty = dataQueue.isEmpty()
        when {
            empty &amp;&amp; thereWillNeverBeAnyMoreData -&gt; return null
            empty -&gt; dataAvailable.await()
            else -&gt; return dataQueue.pop()
        }
    }
}
```

This function will fail to type check. The correct behaviour is that the type of the `while (true)` loop should typecheck to `Nothing`, and then `Nothing` should coerce to `T?`. I use an infinite loop here to ensure the correct behaviour if `dataAvailable.await()` spuriously wakes up.

If I add a `return null` after the while loop this typechecks, but the `return null` is (correctly) marked as dead code. Technically, I could avoid the error by moving one of the `when` branches to the condition of the `while`, then returning the value from that branch after the loop, but this makes the code look a lot less clear.

Currently, as a workaround, I add a `@Suppress("UNREACHABLE_CODE") return null` after the loop to avoid the dead code error and the typecheck failure.

I'm on 1.2.50, which is the latest Kotlin version as of writing, so, this is definitely a bug. I couldn't find any other issues like this, so, I apologise if this is a duplicate. Presumably this is an underlying issue the type checking of known-infinite loops.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1529510511252</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920323391</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>clarcharr</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Clar Charr</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2922955" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25023" deleted="false" text="Could you provide a wider context? E.g. share your project to let us reproduce the issue?&#xA;Thanks." shownForIssueAuthor="false" created="1529840936586" markdown="false"><replies/></comment><comment id="27-3058890" author="clarcharr" authorFullName="Clar Charr" issueId="KT-25023" deleted="false" text="I apologise for not getting to this sooner. I found a small example that may be useful, which I've actually submitted as a PR to kotlinx.coroutines. You can find the example on GitHub reproduced below, and at: https://github.com/Kotlin/kotlinx.coroutines/pull/538/files#diff-4bc84de337a2552fd08085829fb3c67dR74&#xA;&#xA;```&#xA;suspend fun AsynchronousFileChannel.aReadBytes(): ByteArray {&#xA;    val bytes = ByteArrayOutputStream()&#xA;    val buf = ByteBuffer.allocate(this.size())&#xA;    var pos = 0L&#xA;    while (true) {&#xA;        val bufPos = buf.arrayOffset() + buf.position()&#xA;        val read = this.aRead(buf, pos)&#xA;        if (read &lt; 0) {&#xA;            return bytes.toByteArray()&#xA;        } else {&#xA;            pos += read&#xA;            bytes.write(buf.array().sliceArray(bufPos until (bufPos + read)))&#xA;            buf.clear()&#xA;        }&#xA;    }&#xA;&#xA;    // NOTE: required due to a compiler bug&#xA;    @Suppress(&quot;UNREACHABLE_CODE&quot;)&#xA;    return ByteArray(0)&#xA;}&#xA;```&#xA;&#xA;As you can see, `while (true) { ... }` does not coerce to `Nothing` and then to `ByteArray` as expected. Instead, it coerces to `Unit` and requires the extra piece of unreachable code in order to type check correctly." shownForIssueAuthor="false" created="1536344063845" markdown="true"><replies/></comment></issue><issue id="KT-25048" entityId="25-2027477"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25048</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>J2K: False-positive "Clipboard content seems to be Java code" for web URLs</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Better title: Bug: pasting a URL from web browser changes it

Android Studio 3.2 Canary 18
Build #AI-181.4892.42.32.4830125, built on June 8, 2018
JRE: 1.8.0_152-release-1136-b04 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 10 10.0

What steps will reproduce the issue?
1. Copy a URL from the web browser. Example:
    https://stuff.mit.edu/afs/sipb/project/android/docs/reference/android/media/AudioManager.html#STREAM_VOICE_CALL
2. Paste it to a Kotlin file. Maybe for adding it as a comment soon afterwards, and maybe for other purposes
3. Notice what became of it

What is the expected result?
To see the URL exactly as you've copied

What happens instead?
You see it has changed. Example:

    https@ //stuff.mit.edu/afs/sipb/project/android/docs/reference/android/media/AudioManager.html#STREAM_VOICE_CALL

It replaced the single character of ":" with 2 characters of "@ " 

Attached video and IDE log file.

Currently, the only way to overcome this, is to first prepare the comment, in case you wanted to do it for a comment.
For the rest of the cases, you can use CTRL+SHIFT+V, and then you have to somehow focus on the pasting options(need either mouse or double pressing on TAB, or use yet another combination of ALT+SHIFT+ENTER), and choose "paste simple". This takes too many steps .

I really wish that the default chosen option for the CTRL+SHIFT+V combination would be "paste simple", because I use it a lot (not just for URLs).
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1529591268472</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1529929938039</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>lblb636</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>AndroidDeveloperLB</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>lblb636</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>AndroidDeveloperLB</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. J2K</value><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.50</value><valueId>1.2.50</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-537912" url="https://youtrack.jetbrains.com/_persistent/ice_video_20180621-172655.webm?file=74-537912&amp;c=true">ice_video_20180621-172655.webm</value><value id="74-537913" url="https://youtrack.jetbrains.com/_persistent/idea.log?file=74-537913&amp;c=true">idea.log</value></field><comment id="27-2923704" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-25048" deleted="false" text="Thanks! Looks like Java to Kotlin converter mistakes URLs for Java code.&#xA;&#xA;Please file a separate issue in [IDEA project](https://youtrack.jetbrains.com/issues?q=project:%20idea) about default behavior/customizability of &quot;Paste from History&quot; action." shownForIssueAuthor="false" created="1529929133220" markdown="true"><replies/></comment><comment id="27-2923763" author="lblb636" authorFullName="AndroidDeveloperLB" issueId="KT-25048" deleted="false" text="@Alexey.Belkov OK here:&#xA;https://youtrack.jetbrains.com/issue/IDEA-194533&#xA;&#xA;Also, please stop changing the title of the reports I write. If you want to have your own title, add a field &quot;alternative title&quot; or something like that, that only moderators can see and modify.&#xA;" shownForIssueAuthor="false" created="1529929938039" markdown="true"><replies/></comment></issue><issue id="KT-25070" entityId="25-2028908"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25070</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unable to import Kotlin classes (from libraries) on Kotlin classes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I can't import Kotlin classes from libraries on another kotlin class, but if I try to import on a Java class it works very well.
What i've done to temporarily fix: https://github.com/NathanPB/DogoAPI/blob/master/src/main/java/cf/dogo/api/Client.java
Class that I'm trying to import: https://github.com/NathanPB/DogoBridge/blob/master/src/main/kotlin/cf/dogo/server/bridge/Client.kt

Same thing occurs on others projects with same context

Repo that the error occours: https://github.com/NathanPB/DogoAPI
Kotlin Version: 1.2.50 (both library and project)
Intellij Idea: Ultimate 2018.1.4
OS: Windows 10
Gradle: 4.4

I din't tested on other IDEs, I also made a StackOverflow Question about that and they told me to report it here
StackOverflow Question: https://stackoverflow.com/questions/50980180/unable-to-import-gradle-dependencies-classes-on-kotlin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1529696376174</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532709235270</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nathanpb</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Nathan Postal Bombana</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-25709</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Highlighting</value><valueId>IDE. Highlighting</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2924362" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25070" deleted="false" text="As a short diagnostic. Dependency artifact DogoBridge is packaged with this task:&#xA;```&#xA;jar {&#xA;    enabled = true&#xA;    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }&#xA;}&#xA;```&#xA;It packages into `DogoBridge-nnn.jar` all the content of Kotlin stdlib jars: `kotlin-stdlib`, `kotlin-stdlib-common`, `kotlin-stdlib-jdk7`, `kotlin-stdlib-jdk8`. In particular, all their `META-INF/nnn.kotlin_module` files.&#xA;&#xA;With that the issue is reproducible.&#xA;&#xA;If I pack the `DogoBridge-nnn.jar` without library content:&#xA;```&#xA;jar {&#xA;    enabled = true&#xA;//    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }&#xA;}&#xA;```&#xA;Then in `DogoAPI` the references are resolved Ok.&#xA;&#xA;I don't know, is this correct behavior or not, let developers answer." shownForIssueAuthor="false" created="1529946121236" updated="1529946496685" markdown="false"><replies/></comment><comment id="27-2974812" author="udalov" authorFullName="Alexander Udalov" issueId="KT-25070" deleted="false" text="This looks like an IDE and not the compiler issue. I've spent considerable time understanding what's going on here though, so here are the steps to reproduce for others.&#xA;&#xA;1. Checkout DogoBridge at revision [787c8ba2ab|https://github.com/NathanPB/DogoBridge/commit/787c8ba2abb5e2152f3d76b75ec138668f4b712e] and run `./gradlew build`&#xA;2. Checkout DogoAPI at revision [78bd60b33e|https://github.com/NathanPB/DogoAPI/commit/78bd60b33e4a4eed4b582bd3fb70bd46e7ca5678].&#xA;3. Change the [DogoBridge dependency|https://github.com/NathanPB/DogoAPI/blob/78bd60b33e4a4eed4b582bd3fb70bd46e7ca5678/build.gradle#L40] in DogoAPI's build.gradle to point to the newly built jar, for example:&#xA;```&#xA;compile files(&quot;/Users/udalov/DogoBridge/build/libs/DogoBridge-1.0-SNAPSHOT.jar&quot;)&#xA;```&#xA;4. Open the DogoAPI project in IDEA (import from Gradle).&#xA;5. Add the following line to any Kotlin source file:&#xA;```&#xA;import cf.dogo.server.bridge.Server&#xA;```&#xA;The problem is that this line is not resolved in the IDE (`server` is highlighted red). If you search that class by name though, it would be present in the search results. Also, the Gradle build completes successfully, so this means that the problem is in the way IDE runs the analysis of Kotlin source files.&#xA;&#xA;However, this problem is reproducible for me both when the zipTree-packaging line in DogoBridge is commented and not, so maybe I did something wrong (@sashache please correct me if so)." shownForIssueAuthor="false" created="1532532049261" markdown="false"><replies/></comment><comment id="27-2976684" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-25070" deleted="false" text="This is very similar to KT-25709, only there the problem was observed with a Maven fat jar." shownForIssueAuthor="false" created="1532599530609" markdown="true"><replies/></comment></issue><issue id="KT-25106" entityId="25-2030519"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25106</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Backend Internal error if default argument is a lambda returning Any</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>If an argument type is a function returning Any and has a lambda as default the compiler will crash. Doesn't crash with other types like `() -&gt; String`

```
inline fun foo(value: Int, action: () -&gt; Any = { "" })
{
    action()
}

foo(1)
```

Crash logs:
```
java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: Couldn't inline method call 'foo' into
public constructor Line_0() defined in Line_0
&lt;no source&gt;
Cause: Lambda inlining Line_0$foo$1: couldn't inline method call
Cause: invoke ()Ljava/lang/Object;:
   L0
    LINENUMBER 12 L0
    ALOAD 0
    INVOKEVIRTUAL Line_0$foo$1.invoke ()Ljava/lang/String;
    ARETURN
    MAXSTACK = 1
    MAXLOCALS = 1

File being compiled at position: (6,1) in /Line_0.kts
The root cause was thrown at: MethodInliner.kt:817
File being compiled at position: mock:///Line_0.kts
The root cause was thrown at: InlineCodegen.kt:124
	at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:59)
	at org.jetbrains.kotlin.cli.jvm.repl.GenericReplCompiler.compile(GenericReplCompiler.kt:101)
	at org.jetbrains.kotlin.cli.common.repl.GenericReplCompilingEvaluator.compileAndEval(GenericReplCompilingEvaluator.kt:40)
	at org.jetbrains.kotlin.cli.jvm.repl.ReplInterpreter.eval(ReplInterpreter.kt:94)
	at org.jetbrains.kotlin.cli.jvm.repl.ReplFromTerminal.eval(ReplFromTerminal.kt:117)
	at org.jetbrains.kotlin.cli.jvm.repl.ReplFromTerminal.one(ReplFromTerminal.kt:107)
	at org.jetbrains.kotlin.cli.jvm.repl.ReplFromTerminal.doRun(ReplFromTerminal.kt:69)
	at org.jetbrains.kotlin.cli.jvm.repl.ReplFromTerminal.access$doRun(ReplFromTerminal.kt:38)
	at org.jetbrains.kotlin.cli.jvm.repl.ReplFromTerminal$Companion.run(ReplFromTerminal.kt:175)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:98)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:95)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:50)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:88)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:66)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:34)
	at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMainNoExit(CLITool.kt:180)
	at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMain(CLITool.kt:171)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler$Companion.main(K2JVMCompiler.kt:341)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.main(K2JVMCompiler.kt)
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'foo' into
public constructor Line_0() defined in Line_0
&lt;no source&gt;
Cause: Lambda inlining Line_0$foo$1: couldn't inline method call
Cause: invoke ()Ljava/lang/Object;:
   L0
    LINENUMBER 12 L0
    ALOAD 0
    INVOKEVIRTUAL Line_0$foo$1.invoke ()Ljava/lang/String;
    ARETURN
    MAXSTACK = 1
    MAXLOCALS = 1

File being compiled at position: (6,1) in /Line_0.kts
The root cause was thrown at: MethodInliner.kt:817
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:162)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:667)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:648)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2403)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2351)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:347)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:327)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generateInitializers(MemberCodegen.java:496)
	at org.jetbrains.kotlin.codegen.ScriptCodegen.genConstructor(ScriptCodegen.kt:179)
	at org.jetbrains.kotlin.codegen.ScriptCodegen.generateBody(ScriptCodegen.kt:52)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:115)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	... 21 more
Caused by: org.jetbrains.kotlin.codegen.inline.InlineException: Lambda inlining Line_0$foo$1: couldn't inline method call
Cause: invoke ()Ljava/lang/Object;:
   L0
    LINENUMBER 12 L0
    ALOAD 0
    INVOKEVIRTUAL Line_0$foo$1.invoke ()Ljava/lang/String;
    ARETURN
    MAXSTACK = 1
    MAXLOCALS = 1

	at org.jetbrains.kotlin.codegen.inline.MethodInliner.wrapException(MethodInliner.kt:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:114)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.access$doInline(MethodInliner.kt:39)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:260)
	at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:352)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:94)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:67)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:277)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)
	... 40 more
Caused by: java.lang.RuntimeException: Trying to access skipped parameter: Ljava/lang/Object; at 0
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.remap(LocalVarRemapper.kt:80)
	at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.visitVarInsn(LocalVarRemapper.kt:103)
	at org.jetbrains.kotlin.codegen.inline.RemapVisitor.visitVarInsn(RemapVisitor.java:53)
	at org.jetbrains.org.objectweb.asm.tree.VarInsnNode.accept(VarInsnNode.java:86)
	at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)
	at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:111)
	... 50 more


com.intellij.openapi.diagnostic.Logger$EmptyThrowable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:140)
	at org.jetbrains.kotlin.console.actions.RunExecuteActionsKt.logError(RunExecuteActions.kt:37)
	at org.jetbrains.kotlin.console.ReplOutputProcessor$printInternalErrorMessage$1.run(ReplOutputProcessor.kt:151)
	at com.intellij.openapi.command.WriteCommandAction$1.run(WriteCommandAction.java:252)
	at com.intellij.openapi.command.WriteCommandAction$Simple.run(WriteCommandAction.java:234)
	at com.intellij.openapi.application.RunResult.run(RunResult.java:35)
	at com.intellij.openapi.command.WriteCommandAction.lambda$null$1(WriteCommandAction.java:171)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1003)
	at com.intellij.openapi.command.WriteCommandAction.lambda$performWriteCommandAction$2(WriteCommandAction.java:170)
	at com.intellij.openapi.command.WriteCommandAction.lambda$doExecuteCommand$4(WriteCommandAction.java:210)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:149)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:119)
	at com.intellij.openapi.command.WriteCommandAction.doExecuteCommand(WriteCommandAction.java:212)
	at com.intellij.openapi.command.WriteCommandAction.performWriteCommandAction(WriteCommandAction.java:168)
	at com.intellij.openapi.command.WriteCommandAction.lambda$execute$0(WriteCommandAction.java:155)
	at com.intellij.openapi.application.TransactionGuardImpl.lambda$submitTransactionAndWait$2(TransactionGuardImpl.java:165)
	at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)
	at com.intellij.openapi.application.TransactionGuardImpl.lambda$submitTransaction$1(TransactionGuardImpl.java:111)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:424)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:407)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)
	at java.awt.EventQueue.access$500(EventQueue.java:98)
	at java.awt.EventQueue$3.run(EventQueue.java:715)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:822)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:650)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)


com.intellij.openapi.diagnostic.Logger$EmptyThrowable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:140)
	at org.jetbrains.kotlin.console.actions.RunExecuteActionsKt.logError(RunExecuteActions.kt:37)
	at org.jetbrains.kotlin.console.ReplOutputProcessor$printInternalErrorMessage$1.run(ReplOutputProcessor.kt:151)
	at com.intellij.openapi.command.WriteCommandAction$1.run(WriteCommandAction.java:252)
	at com.intellij.openapi.command.WriteCommandAction$Simple.run(WriteCommandAction.java:234)
	at com.intellij.openapi.application.RunResult.run(RunResult.java:35)
	at com.intellij.openapi.command.WriteCommandAction.lambda$null$1(WriteCommandAction.java:171)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1003)
	at com.intellij.openapi.command.WriteCommandAction.lambda$performWriteCommandAction$2(WriteCommandAction.java:170)
	at com.intellij.openapi.command.WriteCommandAction.lambda$doExecuteCommand$4(WriteCommandAction.java:210)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:149)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:119)
	at com.intellij.openapi.command.WriteCommandAction.doExecuteCommand(WriteCommandAction.java:212)
	at com.intellij.openapi.command.WriteCommandAction.performWriteCommandAction(WriteCommandAction.java:168)
	at com.intellij.openapi.command.WriteCommandAction.lambda$execute$0(WriteCommandAction.java:155)
	at com.intellij.openapi.application.TransactionGuardImpl.lambda$submitTransactionAndWait$2(TransactionGuardImpl.java:165)
	at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)
	at com.intellij.openapi.application.TransactionGuardImpl.lambda$submitTransaction$1(TransactionGuardImpl.java:111)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:424)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:407)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)
	at java.awt.EventQueue.access$500(EventQueue.java:98)
	at java.awt.EventQueue$3.run(EventQueue.java:715)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:822)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:650)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)


```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1529964849100</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1530517615636</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilmir Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>stdenis</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Denis Stanishevskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.50</value><value>1.2.41</value><valueId>1.2.50</valueId><valueId>1.2.41</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25125" entityId="25-2031487"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25125</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Cannot choose among the following candidates" compile error with IntelliJ and independent kotlin-stdlib artifacts in dependencies</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Full project to reproduce the issue can be found at https://github.com/ktorio/ktor-init-tools/tree/kotlin.version.test (this exact branch).

Setup a Gradle project with 2 sub-modules:
{code:lang=groovy|title=root/build.gradle}
buildscript {
//    ext.kotlin_version = '1.2.41'
    ext.kotlin_version = '1.2.50'

    repositories { jcenter() }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

group 'io.ktor.start'
version '1.0-SNAPSHOT'
{code}
{code:lang=groovy|title=root/ktor-zor/build.gradle}
apply plugin: 'java'
repositories { jcenter() }
dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
}
{code}
{code:lang=groovy|title=root/ktor-intellij-plugin/build.gradle}
plugins {
  id "org.jetbrains.intellij" version "0.3.2"
}

apply plugin: "kotlin"
apply plugin: "idea"

dependencies {
    compile project(":ktor-zor")
}

intellij {
	version "IC-2018.1"
	pluginName 'ktor'
}

repositories {
	jcenter()
	maven { url "https://plugins.gradle.org/m2/" }
}
{code}

In `ktor-intellij-plugin` module provide a .kt source with dummy:
`val lament by lazy { "" }`

Do Gradle `build`: get failure:
```
e: /home/ache/jb-projects/kotlin-master/ktor-init-tools-kotlin.version.test-x/ktor-intellij-plugin/src/main/java/io/ktor/start/intellij/KtorModuleType.kt: (20, 15): Cannot choose among the following candidates without completing type inference: 
public fun &lt;T&gt; lazy(initializer: () -&gt; ???): Lazy&lt;???&gt; defined in kotlin
public fun &lt;T&gt; lazy(initializer: () -&gt; ???): Lazy&lt;???&gt; defined in kotlin
&gt; Task :ktor-intellij-plugin:compileKotlin FAILED
```

NB: No problem when specifying `1.2.41` version in the root `build.gradle`.
NB: No problem when commenting out `intellij { ... }` call in the `ktor-intellij-plugin/build.gradle`.
NB: IntelliJ plugin adds a dependency to `com.jetbrains:ideaIC:2018.1` library which includes `kotlin-runtime.jar` of version `1.2.30-release-78`.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1530035637243</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532957224810</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-24982</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25206" entityId="25-2034964"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25206</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Delegate build/run to gradle results regularly in cannot delete proto.tab.value.s</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I am not sure what the problem is but I started to occur when I switched to "Delegate build/run to gradle". 
Sometimes I get the following error when I try to execute a gradle build via terminal
```
Unable to delete file: D:\projects\atrium\apis\cc-en_GB\atrium-api-cc-en_GB-jvm\build\kotlin\compileKotlin\caches-jvm\jvm\kotlin\proto.tab.values.s
```

This does not happen to me on another machine where the JDK used in intellij and the one used by gradle is the same. It also occurs that I cannot revert commit, cannot cherry pick etc. I guess it is due to the same bug because if I kill the process `jdk9\bin\java -cp C:\...\.gradle\caches\...\kotlin-compiler-embeddable\...` then all the use cases work again (revert commits, cherry picking, gradle build etc.).

I also noted, that those process stay alive even if I close intellij.
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1530385311905</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1530735481776</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Robert_Stoll</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Robert Stoll</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Robert_Stoll</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Robert Stoll</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>7</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Igushkin">h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Gradle</value><valueId>IDE. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.50</value><valueId>1.2.50</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-541856" url="https://youtrack.jetbrains.com/_persistent/freezes.zip?file=74-541856&amp;c=true">freezes.zip</value><value id="74-542116" url="https://youtrack.jetbrains.com/_persistent/freezes-20180704.zip?file=74-542116&amp;c=true">freezes-20180704.zip</value></field><comment id="27-2931172" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-25206" deleted="false" text="This looks very similar to KT-22782 and might not be Kotlin-related (see also https://github.com/gradle/gradle/issues/937). Can you please attach your project so we can try to reproduce this problem?&#xA;&#xA;As a workaround please try to disable the daemon by adding `org.gradle.daemon=false` to the `gradle.properties` file." shownForIssueAuthor="false" created="1530473020360" markdown="true"><replies/></comment><comment id="27-2931513" author="Robert_Stoll" authorFullName="Robert Stoll" issueId="KT-25206" deleted="false" text="I could reproduce the problem multiple times as follows:&#xA;1. Make sure you have enabled &quot;Delegate build/run to gradle&quot; in the settings&#xA;2. git clone https://github.com/robstoll/atrium&#xA;3. Open the project in intellij and make sure inding finished and the project was imported properly.&#xA;4. Git checkout branch to second last merge (04a7754)&#xA;5. Now you should have untracked files&#xA;6. Try to delete them =&gt; for me it fails with 'cannot unlink ...'" shownForIssueAuthor="false" created="1530518679585" markdown="false"><replies/></comment><comment id="27-2931514" author="Robert_Stoll" authorFullName="Robert Stoll" issueId="KT-25206" deleted="false" text="I'll try the workaround later" shownForIssueAuthor="false" created="1530518710577" updated="1530518679479" markdown="false"><replies/></comment><comment id="27-2932030" author="Robert_Stoll" authorFullName="Robert Stoll" issueId="KT-25206" deleted="false" text="So far the workaround worked in the sense that the above mentioned error does not appear. But now intellij freezes frequently :-( =&gt; the workaround does not seem to be an option but I'll try a bit longer." shownForIssueAuthor="false" created="1530527805932" updated="1530518710509" markdown="false"><replies/></comment><comment id="27-2936345" author="Robert_Stoll" authorFullName="Robert Stoll" issueId="KT-25206" deleted="false" text="I am not using the workaround anymore, freezes are still common though :(&#xA;Every time I change something in the folder structure such as git revert commit, checkout another branch, or move folders, the result is always the same intellij freezes for a minute or so. &#xA;I hope you find some info the attached threadDump_freeze.log" shownForIssueAuthor="false" created="1530702597800" updated="1530527805864" markdown="false"><replies/></comment><comment id="27-2937569" author="Robert_Stoll" authorFullName="Robert Stoll" issueId="KT-25206" deleted="false" text="I even deactivated Delegate build/run to gradle but freezes still occur.&#xA;It starts to be very annoying, I had a couple of freezes today. The longest one lasted for over half an hour.&#xA;I really hope you can find the culprit in the logs" shownForIssueAuthor="false" created="1530735367353" updated="1530735415583" markdown="false"><replies/></comment><comment id="27-2937570" author="Robert_Stoll" authorFullName="Robert Stoll" issueId="KT-25206" deleted="false" text="I'll create another issue for the freeze problematic, is no longer &quot;delegate build/run to gradle&quot; related" shownForIssueAuthor="false" created="1530735481779" updated="1530735367205" markdown="false"><replies/></comment></issue><issue id="KT-25381" entityId="25-2035667"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25381</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Project view: On pasting class contents into the java project package in the Project view the *.kt class is created even if no kotlin is configured</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>183.471

if i copy the something like (class declaration, no body)
{code}
public class User {
}
{code}
or (class declaration + annotations, no imports for them)
{code}
@Configuration
@ComponentScan
@EnableWebMvc
public class FooConfig {

}
{code}
and paste into some package in the java project, i get the kotlin class created, though no kotlin is configured in my project.
If some java code is contained in the pasted class, java file is created correctly.

Though the pasted contents can be recognized both as java and as kotlin class, i think java should be used in the no-kotlin projects in such cases</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1530532520497</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1531732741882</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Krasko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>irina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Irina Petrovskaya</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Project View</value><valueId>IDE. Project View</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25298" entityId="25-2040609"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25298</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>UAST: NPE ClsFileImpl.getMirror during lambda inference session</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>(Version: UAST from the 181 branch, and Kotlin UAST from 1.2.50, in Android Lint 3.2.)

Given the following class:

```
package test.pkg;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;
public class MyTestCase
{
    private final ScheduledExecutorService mExecutorService;
    public MyTestCase()
    {
        mExecutorService = Executors.newSingleThreadScheduledExecutor();
    }
    public void foo()
    {
        mExecutorService.schedule(this::initBar, 10, TimeUnit.SECONDS);
    }
    private boolean initBar()
    {
        //...
        return true;
    }
}
```

attempting to visit this JavaUFile results in an NPE somewhere deep in the code inferencing lambda types:

```
java.lang.NullPointerException
        at com.intellij.psi.impl.compiled.ClsFileImpl.getMirror(ClsFileImpl.java:380)
        at com.intellij.psi.impl.compiled.ClsElementImpl.getMirror(ClsElementImpl.java:159)
        at com.intellij.psi.impl.compiled.ClsElementImpl.getText(ClsElementImpl.java:202)
        at com.intellij.psi.impl.source.resolve.graphInference.InferenceSession.argConstraints(InferenceSession.java:1830)
        at com.intellij.psi.impl.source.resolve.graphInference.InferenceSession.isFunctionalTypeMoreSpecific(InferenceSession.java:1761)
        at com.intellij.psi.impl.source.resolve.graphInference.InferenceSession.isMoreSpecificInternal(InferenceSession.java:1705)
        at com.intellij.psi.impl.source.resolve.graphInference.InferenceSession.lambda$isMoreSpecific$11(InferenceSession.java:1673)
        at com.intellij.psi.LambdaUtil.performWithSubstitutedParameterBounds(LambdaUtil.java:805)
        at com.intellij.psi.impl.source.resolve.graphInference.InferenceSession.isMoreSpecific(InferenceSession.java:1672)
        at com.intellij.psi.scope.conflictResolvers.JavaMethodsConflictResolver.isApplicableTo(JavaMethodsConflictResolver.java:643)
        at com.intellij.psi.scope.conflictResolvers.JavaMethodsConflictResolver.isMoreSpecific(JavaMethodsConflictResolver.java:548)
        at com.intellij.psi.scope.conflictResolvers.JavaMethodsConflictResolver.checkSpecifics(JavaMethodsConflictResolver.java:160)
        at com.intellij.psi.scope.conflictResolvers.JavaMethodsConflictResolver.guardedOverloadResolution(JavaMethodsConflictResolver.java:107)
        at com.intellij.psi.scope.conflictResolvers.JavaMethodsConflictResolver.lambda$resolveConflict$0(JavaMethodsConflictResolver.java:71)
        at com.intellij.openapi.util.RecursionManager$2.doPreventingRecursion(RecursionManager.java:112)
        at com.intellij.psi.scope.conflictResolvers.JavaMethodsConflictResolver.resolveConflict(JavaMethodsConflictResolver.java:71)
        at com.intellij.psi.scope.processor.ConflictFilterProcessor.getResult(ConflictFilterProcessor.java:94)
        at com.intellij.psi.impl.source.tree.java.PsiReferenceExpressionImpl.resolveToMethod(PsiReferenceExpressionImpl.java:311)
        at com.intellij.psi.impl.source.tree.java.PsiReferenceExpressionImpl.resolve(PsiReferenceExpressionImpl.java:284)
        at com.intellij.psi.impl.source.tree.java.PsiReferenceExpressionImpl.access$000(PsiReferenceExpressionImpl.java:47)
        at com.intellij.psi.impl.source.tree.java.PsiReferenceExpressionImpl$OurGenericsResolver.resolve(PsiReferenceExpressionImpl.java:189)
        at com.intellij.psi.impl.source.tree.java.PsiReferenceExpressionImpl$OurGenericsResolver.resolve(PsiReferenceExpressionImpl.java:178)
        at com.intellij.psi.impl.source.resolve.ResolveCache.lambda$resolveWithCaching$1(ResolveCache.java:205)
        at com.intellij.openapi.util.RecursionManager$2.doPreventingRecursion(RecursionManager.java:112)
        at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:204)
        at com.intellij.psi.impl.PsiImplUtil.multiResolveImpl(PsiImplUtil.java:724)
        at com.intellij.psi.impl.PsiImplUtil.multiResolveImpl(PsiImplUtil.java:715)
        at com.intellij.psi.impl.source.tree.java.PsiReferenceExpressionImpl.multiResolve(PsiReferenceExpressionImpl.java:352)
        at com.intellij.psi.impl.source.tree.java.PsiReferenceExpressionImpl.advancedResolve(PsiReferenceExpressionImpl.java:524)
        at com.intellij.psi.impl.source.tree.java.PsiMethodCallExpressionImpl.resolveMethodGenerics(PsiMethodCallExpressionImpl.java:51)
        at com.intellij.psi.PsiDiamondType.getDiamondsAwareResolveResult(PsiDiamondType.java:193)
        at com.intellij.psi.LambdaUtil.getFunctionalInterfaceType(LambdaUtil.java:402)
        at com.intellij.psi.impl.source.tree.java.PsiMethodReferenceExpressionImpl.getFunctionalInterfaceType(PsiMethodReferenceExpressionImpl.java:72)
        at com.intellij.psi.impl.source.tree.java.MethodReferenceResolver.getInterfaceType(MethodReferenceResolver.java:194)
        at com.intellij.psi.impl.source.tree.java.MethodReferenceResolver.resolve(MethodReferenceResolver.java:62)
        at com.intellij.psi.impl.source.tree.java.MethodReferenceResolver.resolve(MethodReferenceResolver.java:44)
        at com.intellij.psi.impl.source.resolve.ResolveCache.lambda$resolveWithCaching$1(ResolveCache.java:205)
        at com.intellij.openapi.util.RecursionManager$2.doPreventingRecursion(RecursionManager.java:112)
        at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:204)
        at com.intellij.psi.impl.PsiImplUtil.multiResolveImpl(PsiImplUtil.java:724)
        at com.intellij.psi.impl.PsiImplUtil.multiResolveImpl(PsiImplUtil.java:715)
        at com.intellij.psi.impl.source.tree.java.PsiMethodReferenceExpressionImpl.multiResolve(PsiMethodReferenceExpressionImpl.java:263)
        at com.intellij.psi.impl.source.tree.java.PsiMethodReferenceExpressionImpl.advancedResolve(PsiMethodReferenceExpressionImpl.java:477)
        at com.intellij.psi.impl.source.tree.java.PsiMethodReferenceExpressionImpl.resolve(PsiMethodReferenceExpressionImpl.java:454)
        at org.jetbrains.uast.java.JavaUCallableReferenceExpression.&lt;init&gt;(JavaUCallableReferenceExpression.kt:38)
        at org.jetbrains.uast.java.JavaConverter$convertExpression$3$13.invoke(JavaUastLanguagePlugin.kt:261)
        at org.jetbrains.uast.java.JavaConverter$convertExpression$3$13.invoke(JavaUastLanguagePlugin.kt:148)
        at org.jetbrains.uast.java.JavaConverter$convertExpression$2$1.invoke(JavaUastLanguagePlugin.kt:219)
        at org.jetbrains.uast.java.JavaConverter$convertExpression$2$1.invoke(JavaUastLanguagePlugin.kt:148)
        at org.jetbrains.uast.java.JavaConverter.convertExpression$intellij_java_uast(JavaUastLanguagePlugin.kt:380)
        at org.jetbrains.uast.java.JavaConverter.convertExpression$intellij_java_uast$default(JavaUastLanguagePlugin.kt:214)
        at org.jetbrains.uast.java.JavaConverter.convertOrEmpty$intellij_java_uast(JavaUastLanguagePlugin.kt:345)
        at org.jetbrains.uast.java.JavaUCallExpression$valueArguments$2.invoke(javaUCallExpressions.kt:42)
        at org.jetbrains.uast.java.JavaUCallExpression$valueArguments$2.invoke(javaUCallExpressions.kt:25)
        at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:131)
        at org.jetbrains.uast.java.JavaUCallExpression.getValueArguments(javaUCallExpressions.kt)
        at org.jetbrains.uast.UCallExpression$DefaultImpls.accept(UCallExpression.kt:103)
        at org.jetbrains.uast.UCallExpressionEx$DefaultImpls.accept(UCallExpression.kt)
        at org.jetbrains.uast.java.JavaUCallExpression.accept(javaUCallExpressions.kt:25)
        at org.jetbrains.uast.UQualifiedReferenceExpression$DefaultImpls.accept(UQualifiedReferenceExpression.kt:48)
        at org.jetbrains.uast.java.JavaUCompositeQualifiedExpression.accept(JavaUCompositeQualifiedExpression.kt:22)
        at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)
        at org.jetbrains.uast.UBlockExpression$DefaultImpls.accept(UBlockExpression.kt:35)
        at org.jetbrains.uast.java.JavaUCodeBlockExpression.accept(JavaUCodeBlockExpression.kt:22)
        at org.jetbrains.uast.UMethod$DefaultImpls.accept(UMethod.kt:60)
        at org.jetbrains.uast.UMethodTypeSpecific$DefaultImpls.accept(UMethod.kt)
        at org.jetbrains.uast.java.JavaUMethod.accept(JavaUMethod.kt:25)
        at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)
        at org.jetbrains.uast.UClass$DefaultImpls.accept(UClass.kt:69)
        at org.jetbrains.uast.UClassTypeSpecific$DefaultImpls.accept(UClass.kt)
        at org.jetbrains.uast.java.AbstractJavaUClass.accept(JavaUClass.kt:23)
        at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)
        at org.jetbrains.uast.UFile$DefaultImpls.accept(UFile.kt:91)
        at org.jetbrains.uast.java.JavaUFile.accept(JavaUFile.kt:24)
```
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1530807117257</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1530821828259</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>tnorbye</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tor Norbye</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nicolay Mitropolsky">Nicolay.Mitropolsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. UAST</value><valueId>IDE. UAST</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25353" entityId="25-2042876"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25353</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>JVM IR backend can't reference local variable in init block</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
class Foo(val i: Int) {
    init {
        val z = "42"
        val zz = z.toInt()
    }
}
```

Produces following compiler error on line 4:
```
java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Non-mapped local declaration: VAR name:z type:kotlin.String flags:val
  CONST String type=kotlin.String value=42
 
 in CONSTRUCTOR visibility:public &lt;&gt; (i:kotlin.Int) returnType:Foo flags:primary
  VALUE_PARAMETER name:i index:0 type:kotlin.Int flags:
  BLOCK_BODY
    DELEGATING_CONSTRUCTOR_CALL 'constructor Any()'
    BLOCK type=kotlin.Unit origin=null
      SET_FIELD 'i: Int' type=kotlin.Unit origin=null
        receiver: GET_VAR 'this@Foo: Foo' type=Foo origin=null
        value: GET_VAR 'value-parameter i: Int' type=kotlin.Int origin=INITIALIZE_PROPERTY_FROM_PARAMETER
      VAR name:z type:kotlin.String flags:val
        CONST String type=kotlin.String value=42
      VAR name:zz type:kotlin.Int flags:val
        CALL 'toInt() on String: Int' type=kotlin.Int origin=null
          $receiver: GET_VAR 'z: String' type=kotlin.String origin=null
 while generating code for:
CONSTRUCTOR visibility:public &lt;&gt; (i:kotlin.Int) returnType:Foo flags:primary
  VALUE_PARAMETER name:i index:0 type:kotlin.Int flags:
  BLOCK_BODY
    DELEGATING_CONSTRUCTOR_CALL 'constructor Any()'
    BLOCK type=kotlin.Unit origin=null
      SET_FIELD 'i: Int' type=kotlin.Unit origin=null
        receiver: GET_VAR 'this@Foo: Foo' type=Foo origin=null
        value: GET_VAR 'value-parameter i: Int' type=kotlin.Int origin=INITIALIZE_PROPERTY_FROM_PARAMETER
      VAR name:z type:kotlin.String flags:val
        CONST String type=kotlin.String value=42
      VAR name:zz type:kotlin.Int flags:val
        CALL 'toInt() on String: Int' type=kotlin.Int origin=null
          $receiver: GET_VAR 'z: String' type=kotlin.String origin=null

Element is unknownThe root cause was thrown at: FunctionCodegen.kt:54
	at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
	at org.jetbrains.kotlin.backend.jvm.JvmBackendFacade.doGenerateFilesInternal$backend(JvmBackendFacade.kt:57)
	at org.jetbrains.kotlin.backend.jvm.JvmIrCodegenFactory.generateModule(JvmIrCodegenFactory.kt:36)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.compileSingleFile(KotlinBytecodeToolWindow.kt:324)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.getBytecodeForFile(KotlinBytecodeToolWindow.kt:239)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:122)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:69)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:902)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)
	at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)
	at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:305)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.RuntimeException: Non-mapped local declaration: VAR name:z type:kotlin.String flags:val
  CONST String type=kotlin.String value=42
 
 in CONSTRUCTOR visibility:public &lt;&gt; (i:kotlin.Int) returnType:Foo flags:primary
  VALUE_PARAMETER name:i index:0 type:kotlin.Int flags:
  BLOCK_BODY
    DELEGATING_CONSTRUCTOR_CALL 'constructor Any()'
    BLOCK type=kotlin.Unit origin=null
      SET_FIELD 'i: Int' type=kotlin.Unit origin=null
        receiver: GET_VAR 'this@Foo: Foo' type=Foo origin=null
        value: GET_VAR 'value-parameter i: Int' type=kotlin.Int origin=INITIALIZE_PROPERTY_FROM_PARAMETER
      VAR name:z type:kotlin.String flags:val
        CONST String type=kotlin.String value=42
      VAR name:zz type:kotlin.Int flags:val
        CALL 'toInt() on String: Int' type=kotlin.Int origin=null
          $receiver: GET_VAR 'z: String' type=kotlin.String origin=null
 while generating code for:
CONSTRUCTOR visibility:public &lt;&gt; (i:kotlin.Int) returnType:Foo flags:primary
  VALUE_PARAMETER name:i index:0 type:kotlin.Int flags:
  BLOCK_BODY
    DELEGATING_CONSTRUCTOR_CALL 'constructor Any()'
    BLOCK type=kotlin.Unit origin=null
      SET_FIELD 'i: Int' type=kotlin.Unit origin=null
        receiver: GET_VAR 'this@Foo: Foo' type=Foo origin=null
        value: GET_VAR 'value-parameter i: Int' type=kotlin.Int origin=INITIALIZE_PROPERTY_FROM_PARAMETER
      VAR name:z type:kotlin.String flags:val
        CONST String type=kotlin.String value=42
      VAR name:zz type:kotlin.Int flags:val
        CALL 'toInt() on String: Int' type=kotlin.Int origin=null
          $receiver: GET_VAR 'z: String' type=kotlin.String origin=null

	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:54)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generateMethod(ClassCodegen.kt:154)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generateDeclaration(ClassCodegen.kt:120)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generate(ClassCodegen.kt:83)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen$Companion.generate(ClassCodegen.kt:105)
	at org.jetbrains.kotlin.backend.jvm.JvmCodegen.generateClass(JvmCodegen.kt:24)
	at org.jetbrains.kotlin.backend.jvm.JvmBackend.generateFile(JvmBackend.kt:36)
	at org.jetbrains.kotlin.backend.jvm.JvmBackendFacade.doGenerateFilesInternal$backend(JvmBackendFacade.kt:53)
	... 23 more
Caused by: java.lang.AssertionError: Non-mapped local declaration: VAR name:z type:kotlin.String flags:val
  CONST String type=kotlin.String value=42
 
 in CONSTRUCTOR visibility:public &lt;&gt; (i:kotlin.Int) returnType:Foo flags:primary
  VALUE_PARAMETER name:i index:0 type:kotlin.Int flags:
  BLOCK_BODY
    DELEGATING_CONSTRUCTOR_CALL 'constructor Any()'
    BLOCK type=kotlin.Unit origin=null
      SET_FIELD 'i: Int' type=kotlin.Unit origin=null
        receiver: GET_VAR 'this@Foo: Foo' type=Foo origin=null
        value: GET_VAR 'value-parameter i: Int' type=kotlin.Int origin=INITIALIZE_PROPERTY_FROM_PARAMETER
      VAR name:z type:kotlin.String flags:val
        CONST String type=kotlin.String value=42
      VAR name:zz type:kotlin.Int flags:val
        CALL 'toInt() on String: Int' type=kotlin.Int origin=null
          $receiver: GET_VAR 'z: String' type=kotlin.String origin=null

	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.findLocalIndex(ExpressionCodegen.kt:371)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateLocal(ExpressionCodegen.kt:360)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitGetValue(ExpressionCodegen.kt:330)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitGetValue(ExpressionCodegen.kt:95)
	at org.jetbrains.kotlin.ir.expressions.impl.IrGetValueImpl.accept(IrGetValueImpl.kt:46)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:326)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:321)
	at org.jetbrains.kotlin.backend.jvm.codegen.IrInlineCodegen.putValueOnStack(IrInlineCodegen.kt:81)
	at org.jetbrains.kotlin.backend.jvm.codegen.IrInlineCodegen.genValueAndPut(IrInlineCodegen.kt:57)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateCall(ExpressionCodegen.kt:230)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generateCall(ExpressionCodegen.kt:213)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitCall(ExpressionCodegen.kt:175)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitCall(ExpressionCodegen.kt:95)
	at org.jetbrains.kotlin.ir.expressions.impl.IrCallImpl.accept(IrCallImpl.kt:151)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:326)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.gen(ExpressionCodegen.kt:321)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitVariable(ExpressionCodegen.kt:306)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitVariable(ExpressionCodegen.kt:95)
	at org.jetbrains.kotlin.ir.declarations.impl.IrVariableImpl.accept(IrVariableImpl.kt:82)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitContainerExpression(ExpressionCodegen.kt:162)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitContainerExpression(ExpressionCodegen.kt:95)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitor$DefaultImpls.visitBlock(IrElementVisitor.kt:59)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlock(ExpressionCodegen.kt:137)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlock(ExpressionCodegen.kt:95)
	at org.jetbrains.kotlin.ir.expressions.impl.IrBlockImpl.accept(IrBlockImpl.kt:38)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlockBody(ExpressionCodegen.kt:131)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.visitBlockBody(ExpressionCodegen.kt:95)
	at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.accept(IrBlockBodyImpl.kt:34)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generate(ExpressionCodegen.kt:114)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.doGenerate(FunctionCodegen.kt:74)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:52)
	... 30 more
```

If I remove `z` variable access (`z.toInt()`), code compiles well. 

Possible cause: bug in InitializersLowering, which makes an unnecessary copy of `IrVariableImpl` for temporary variables. Then, when an original variable appears in method body, `findLocalIndex` fails to map it.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1531125514494</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1531997842211</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Leonid.Startsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Leonid Startsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><value>IR</value><valueId>Backend. JVM</valueId><valueId>IR</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25386" entityId="25-2044853"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25386</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>JVM IR backend produces incorrect bytecode when a `when` branch contains `break`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
fun readI(): Int = Random().nextInt()

fun f() {
    var i = 0
    label@while(true) {
        i = readI()
        when(i) {
            0 -&gt; throw IllegalStateException()
            -1 -&gt; break@label
            else -&gt; throw IllegalStateException()
        }
    }
}
```

```
java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: Couldn't transform method node:
f ()V:
    ICONST_0
    ISTORE 0
   L0
    INVOKESTATIC TestKt.readI ()I
    ISTORE 0
    ILOAD 0
    ISTORE 1
   L1
    ILOAD 1
    ICONST_0
    IF_ICMPNE L2
    ICONST_1
    GOTO L3
   L2
    ICONST_0
   L3
    IFEQ L4
    NEW java/lang/IllegalStateException
    DUP
    INVOKESPECIAL java/lang/IllegalStateException.&lt;init&gt; ()V
    CHECKCAST java/lang/Throwable
    ATHROW
    ACONST_NULL
    GOTO L5
   L4
    ILOAD 1
    ICONST_M1
    IF_ICMPNE L6
    ICONST_1
    GOTO L7
   L6
    ICONST_0
   L7
    IFEQ L8
    INVOKESTATIC kotlin/jvm/internal/$PseudoInsn.FIX_STACK_BEFORE_JUMP ()V
    GOTO L9
   L10
    ACONST_NULL
    GOTO L5
   L8
    NEW java/lang/IllegalStateException
    DUP
    INVOKESPECIAL java/lang/IllegalStateException.&lt;init&gt; ()V
    CHECKCAST java/lang/Throwable
    ATHROW
    ACONST_NULL
    GOTO L5
   L5
    GOTO L0
   L9
    RETURN
   L11
    LOCALVARIABLE tmp0_subject I L1 L5 1
    LOCALVARIABLE i I L0 L11 0
    MAXSTACK = 2
    MAXLOCALS = 2

Cause: Live jump 35 to dead label 49
Element is unknownThe root cause was thrown at: FixStackMethodTransformer.kt:112 while generating code for:
FUN name:f visibility:public modality:FINAL &lt;&gt; () returnType:Unit flags:
  BLOCK_BODY
    VAR name:i type:kotlin.Int flags:var
      CONST Int type=kotlin.Int value=0
    WHILE label=label origin=WHILE_LOOP
      condition: CONST Boolean type=kotlin.Boolean value=true
      body: BLOCK type=kotlin.Unit origin=null
        SET_VAR 'i: Int' type=kotlin.Unit origin=EQ
          CALL 'readI(): Int' type=kotlin.Int origin=null
        BLOCK type=kotlin.Nothing origin=WHEN
          VAR IR_TEMPORARY_VARIABLE name:tmp0_subject type:kotlin.Int flags:val
            GET_VAR 'i: Int' type=kotlin.Int origin=null
          WHEN type=kotlin.Nothing origin=WHEN
            BRANCH
              if: CALL 'EQEQ(Any?, Any?): Boolean' type=kotlin.Boolean origin=EQEQ
                arg0: GET_VAR 'tmp0_subject: Int' type=kotlin.Int origin=null
                arg1: CONST Int type=kotlin.Int value=0
              then: THROW type=kotlin.Nothing
                CALL 'constructor IllegalStateException()' type=java.lang.IllegalStateException origin=null
            BRANCH
              if: CALL 'EQEQ(Any?, Any?): Boolean' type=kotlin.Boolean origin=EQEQ
                arg0: GET_VAR 'tmp0_subject: Int' type=kotlin.Int origin=null
                arg1: CONST Int type=kotlin.Int value=-1
              then: BREAK label=label loop.label=label
            BRANCH
              if: CONST Boolean type=kotlin.Boolean value=true
              then: THROW type=kotlin.Nothing
                CALL 'constructor IllegalStateException()' type=java.lang.IllegalStateException origin=null

Element is unknownThe root cause was thrown at: FunctionCodegen.kt:54
	at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
	at org.jetbrains.kotlin.backend.jvm.JvmBackendFacade.doGenerateFilesInternal$backend(JvmBackendFacade.kt:57)
	at org.jetbrains.kotlin.backend.jvm.JvmIrCodegenFactory.generateModule(JvmIrCodegenFactory.kt:36)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.compileSingleFile(KotlinBytecodeToolWindow.kt:324)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.getBytecodeForFile(KotlinBytecodeToolWindow.kt:239)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:122)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:69)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:902)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)
	at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)
	at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:305)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.RuntimeException: Back-end (JVM) Internal error: Couldn't transform method node:
f ()V:
    ICONST_0
    ISTORE 0
   L0
    INVOKESTATIC TestKt.readI ()I
    ISTORE 0
    ILOAD 0
    ISTORE 1
   L1
    ILOAD 1
    ICONST_0
    IF_ICMPNE L2
    ICONST_1
    GOTO L3
   L2
    ICONST_0
   L3
    IFEQ L4
    NEW java/lang/IllegalStateException
    DUP
    INVOKESPECIAL java/lang/IllegalStateException.&lt;init&gt; ()V
    CHECKCAST java/lang/Throwable
    ATHROW
    ACONST_NULL
    GOTO L5
   L4
    ILOAD 1
    ICONST_M1
    IF_ICMPNE L6
    ICONST_1
    GOTO L7
   L6
    ICONST_0
   L7
    IFEQ L8
    INVOKESTATIC kotlin/jvm/internal/$PseudoInsn.FIX_STACK_BEFORE_JUMP ()V
    GOTO L9
   L10
    ACONST_NULL
    GOTO L5
   L8
    NEW java/lang/IllegalStateException
    DUP
    INVOKESPECIAL java/lang/IllegalStateException.&lt;init&gt; ()V
    CHECKCAST java/lang/Throwable
    ATHROW
    ACONST_NULL
    GOTO L5
   L5
    GOTO L0
   L9
    RETURN
   L11
    LOCALVARIABLE tmp0_subject I L1 L5 1
    LOCALVARIABLE i I L0 L11 0
    MAXSTACK = 2
    MAXLOCALS = 2

Cause: Live jump 35 to dead label 49
Element is unknownThe root cause was thrown at: FixStackMethodTransformer.kt:112 while generating code for:
FUN name:f visibility:public modality:FINAL &lt;&gt; () returnType:Unit flags:
  BLOCK_BODY
    VAR name:i type:kotlin.Int flags:var
      CONST Int type=kotlin.Int value=0
    WHILE label=label origin=WHILE_LOOP
      condition: CONST Boolean type=kotlin.Boolean value=true
      body: BLOCK type=kotlin.Unit origin=null
        SET_VAR 'i: Int' type=kotlin.Unit origin=EQ
          CALL 'readI(): Int' type=kotlin.Int origin=null
        BLOCK type=kotlin.Nothing origin=WHEN
          VAR IR_TEMPORARY_VARIABLE name:tmp0_subject type:kotlin.Int flags:val
            GET_VAR 'i: Int' type=kotlin.Int origin=null
          WHEN type=kotlin.Nothing origin=WHEN
            BRANCH
              if: CALL 'EQEQ(Any?, Any?): Boolean' type=kotlin.Boolean origin=EQEQ
                arg0: GET_VAR 'tmp0_subject: Int' type=kotlin.Int origin=null
                arg1: CONST Int type=kotlin.Int value=0
              then: THROW type=kotlin.Nothing
                CALL 'constructor IllegalStateException()' type=java.lang.IllegalStateException origin=null
            BRANCH
              if: CALL 'EQEQ(Any?, Any?): Boolean' type=kotlin.Boolean origin=EQEQ
                arg0: GET_VAR 'tmp0_subject: Int' type=kotlin.Int origin=null
                arg1: CONST Int type=kotlin.Int value=-1
              then: BREAK label=label loop.label=label
            BRANCH
              if: CONST Boolean type=kotlin.Boolean value=true
              then: THROW type=kotlin.Nothing
                CALL 'constructor IllegalStateException()' type=java.lang.IllegalStateException origin=null

	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:54)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generateMethod(ClassCodegen.kt:154)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generateDeclaration(ClassCodegen.kt:120)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen.generate(ClassCodegen.kt:83)
	at org.jetbrains.kotlin.backend.jvm.codegen.ClassCodegen$Companion.generate(ClassCodegen.kt:105)
	at org.jetbrains.kotlin.backend.jvm.JvmCodegen.generateClass(JvmCodegen.kt:24)
	at org.jetbrains.kotlin.backend.jvm.JvmBackend.generateFile(JvmBackend.kt:36)
	at org.jetbrains.kotlin.backend.jvm.JvmBackendFacade.doGenerateFilesInternal$backend(JvmBackendFacade.kt:53)
	... 23 more
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't transform method node:
f ()V:
    ICONST_0
    ISTORE 0
   L0
    INVOKESTATIC TestKt.readI ()I
    ISTORE 0
    ILOAD 0
    ISTORE 1
   L1
    ILOAD 1
    ICONST_0
    IF_ICMPNE L2
    ICONST_1
    GOTO L3
   L2
    ICONST_0
   L3
    IFEQ L4
    NEW java/lang/IllegalStateException
    DUP
    INVOKESPECIAL java/lang/IllegalStateException.&lt;init&gt; ()V
    CHECKCAST java/lang/Throwable
    ATHROW
    ACONST_NULL
    GOTO L5
   L4
    ILOAD 1
    ICONST_M1
    IF_ICMPNE L6
    ICONST_1
    GOTO L7
   L6
    ICONST_0
   L7
    IFEQ L8
    INVOKESTATIC kotlin/jvm/internal/$PseudoInsn.FIX_STACK_BEFORE_JUMP ()V
    GOTO L9
   L10
    ACONST_NULL
    GOTO L5
   L8
    NEW java/lang/IllegalStateException
    DUP
    INVOKESPECIAL java/lang/IllegalStateException.&lt;init&gt; ()V
    CHECKCAST java/lang/Throwable
    ATHROW
    ACONST_NULL
    GOTO L5
   L5
    GOTO L0
   L9
    RETURN
   L11
    LOCALVARIABLE tmp0_subject I L1 L5 1
    LOCALVARIABLE i I L0 L11 0
    MAXSTACK = 2
    MAXLOCALS = 2

Cause: Live jump 35 to dead label 49
Element is unknownThe root cause was thrown at: FixStackMethodTransformer.kt:112
	at org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.java:88)
	at org.jetbrains.org.objectweb.asm.MethodVisitor.visitEnd(MethodVisitor.java:878)
	at org.jetbrains.org.objectweb.asm.MethodVisitor.visitEnd(MethodVisitor.java:878)
	at org.jetbrains.kotlin.backend.jvm.codegen.ExpressionCodegen.generate(ExpressionCodegen.kt:126)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.doGenerate(FunctionCodegen.kt:74)
	at org.jetbrains.kotlin.backend.jvm.codegen.FunctionCodegen.generate(FunctionCodegen.kt:52)
	... 30 more
Caused by: java.lang.AssertionError: Live jump 35 to dead label 49
	at org.jetbrains.kotlin.codegen.optimization.fixStack.FixStackMethodTransformer.transformBreakContinueGotos(FixStackMethodTransformer.kt:112)
	at org.jetbrains.kotlin.codegen.optimization.fixStack.FixStackMethodTransformer.analyzeAndTransformBreakContinueGotos(FixStackMethodTransformer.kt:61)
	at org.jetbrains.kotlin.codegen.optimization.fixStack.FixStackMethodTransformer.transform(FixStackMethodTransformer.kt:44)
	at org.jetbrains.kotlin.codegen.optimization.transformer.CompositeMethodTransformer.transform(CompositeMethodTransformer.kt:25)
	at org.jetbrains.kotlin.codegen.optimization.transformer.CompositeMethodTransformer.transform(CompositeMethodTransformer.kt:25)
	at org.jetbrains.kotlin.codegen.optimization.OptimizationMethodVisitor.performTransformations(OptimizationMethodVisitor.kt:62)
	at org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.java:65)
	... 35 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1531230339285</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1531997879055</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Leonid.Startsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Leonid Startsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Michael Bogdanov">mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><value>IR</value><valueId>Backend. JVM</valueId><valueId>IR</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25412" entityId="25-2046243"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25412</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: cinterop: `const` modifier from C code is ignored</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have 

```c
typedef struct {
  int a;
  const double b;
} MyStruct;

void structs(MyStruct s) {}


typedef union {
  const int a;
  MyStruct b;
  float c;
} MyUnion;

void unions(MyUnion u) {}
```

The generated Kotlin code from `cinterop` is the same, no matter if I have `const` or not. Also, fields are mutable in both cases.

```

class MyStruct(rawPtr: NativePtr) : CStructVar(rawPtr) {

    companion object : Type(16, 8)

    var a: Int
        get() = memberAt&lt;IntVar&gt;(0).value
        set(value) { memberAt&lt;IntVar&gt;(0).value = value }

    var b: Double
        get() = memberAt&lt;DoubleVar&gt;(8).value
        set(value) { memberAt&lt;DoubleVar&gt;(8).value = value }

}

class MyUnion(rawPtr: NativePtr) : CStructVar(rawPtr) {

    companion object : Type(16, 8)

    var a: Int
        get() = memberAt&lt;IntVar&gt;(0).value
        set(value) { memberAt&lt;IntVar&gt;(0).value = value }

    val b: MyStruct
        get() = memberAt(0)

    var c: Float
        get() = memberAt&lt;FloatVar&gt;(0).value
        set(value) { memberAt&lt;FloatVar&gt;(0).value = value }

}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1531318588273</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533884534462</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Svyatoslav Scherbina">Svyatoslav.Scherbina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2951227" author="eugene.petrenko" authorFullName="Eugene Petrenko" issueId="KT-25412" deleted="false" text="Same for `const` references, e.g. `void foo(const MyStruct* s)` and `void foo(MyStruct* s)` have the same signature" shownForIssueAuthor="false" created="1531411456257" markdown="false"><replies/></comment></issue><issue id="KT-25427" entityId="25-2047126"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25427</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Overload with nullable generic type crashes compiler</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider the following code:

```
abstract class JsonParser&lt;T: Any&gt;(typeToken: KClass&lt;T&gt;) {
 fun foo(value: Any) {}
 fun foo(value: Any?) {}
}
```

Now replace `Any` with `T` and compiler starts crashing with 

```
exception: java.lang.AssertionError: kfun:kotlinx.serialization.json.examples.JsonParser.foo(#GENERIC_kotlin.Any)
        at org.jetbrains.kotlin.backend.konan.llvm.DeclarationsGeneratorVisitor.visitFunction(LlvmDeclarations.kt:427)
        at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitSimpleFunction(IrElementVisitorVoid.kt:52)
        at org.jetbrains.kotlin.backend.konan.llvm.DeclarationsGeneratorVisitor.visitSimpleFunction(LlvmDeclarations.kt:154)
        at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitSimpleFunction(IrElementVisitorVoid.kt:53)
        at org.jetbrains.kotlin.backend.konan.llvm.DeclarationsGeneratorVisitor.visitSimpleFunction(LlvmDeclarations.kt:154)
        at org.jetbrains.kotlin.backend.konan.llvm.DeclarationsGeneratorVisitor.visitSimpleFunction(LlvmDeclarations.kt:154)
        at org.jetbrains.kotlin.ir.declarations.impl.IrFunctionImpl.accept(IrFunctionImpl.kt:87)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1531385554766</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533884599356</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Vsevolod.Tolstopyatov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vsevolod Tolstopyatov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Igor Chevdar">Igor.Chevdar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25455" entityId="25-2048320"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25455</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Gradle IC: when class signature is changed its indirect subclasses in different module are not recompiled</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. Create Gradle project two modules `app` and `lib`, `app` depends on `lib`.
2. Create source files in `lib`:
A.kt:
```
package foo

open class A {
    fun f() {
        println("A.f")
    }
}
``` 
B.kt:
```
package foo

open class B : A()
```
3. Create source files in `app`:
C.kt:
```
package foo

open class C : B()
``` 
D.kt:
```
package foo

open class D : C()
```
main.kt:
```
package foo

fun main(args: Array&lt;String&gt;) {
    D().f()
}
```
3. Run main (with build action delegation to Gradle). It succeeds and prints `A.f` as expected.
4. Remove `A` from `B`'s superclasses.
5. Rerun main. The build should fail with compile error, but it succeeds, and `main` fails with `NoSuchMethodException`.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1531434897968</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536761664304</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.3.20</value><valueId>1.3.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Incremental Compile</value><valueId>Tools. Incremental Compile</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.50</value><valueId>1.2.50</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-566071" url="https://youtrack.jetbrains.com/_persistent/gradle-multi.zip?file=74-566071&amp;c=true">gradle-multi.zip</value></field><comment id="27-3062490" author="Aleksandr.Gribovich" authorFullName="Aleksandr Gribovich" issueId="KT-25455" deleted="false" text="Still reproducible. Steps:&#xA;1. Get project from attachment and run `./gradlew run`.&#xA;2. Edit `lib/src/main/kotlin/p01/A2.kt`: comment superclass `A1`.&#xA;3. Run `./gradlew run` again and get the error:&#xA;```&#xA;&gt; Task :app:run FAILED&#xA;Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: p01.A4.foo()V&#xA;        at p01.StartKt.main(Start.kt:4)&#xA;```&#xA;&#xA;Plugin versions: `1.2.70`, `1.3-M2`, `1.3.0-dev-438`." shownForIssueAuthor="false" created="1536685684041" markdown="true"><replies/></comment></issue><issue id="KT-25464" entityId="25-2048943"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25464</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Don't know how to generate outer expression: Class" with object expression and a call to inline function with parameter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin 1.2.51 compiler crashes on the following code:
```kotlin
class Bug {
  private fun createRunnable(nested: Nested): Runnable {
    return object : Runnable {
      override fun run() {
        bug()
      }

      private inline fun bug() {
        nested.toString()
      }
    }
  }

  private class Nested
}
```
Compiler's output is:
```stacktrace
e: java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: Don't know how to generate outer expression: Class: class Bug
Cause: Don't know how to generate outer expression: Class: class Bug
File being compiled at position: (9,9) in Bug.kt
The root cause was thrown at: CodegenContext.java:218
File being compiled at position: file:Bug.kt
The root cause was thrown at: ExpressionCodegen.java:317
	at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:442)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:146)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:95)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:50)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:88)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:454)
	at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:101)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:224)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:36)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:86)
	at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:98)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:545)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:98)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:418)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:927)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:957)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:926)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:417)
	at sun.reflect.GeneratedMethodAccessor107.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Don't know how to generate outer expression: Class: class Bug
Cause: Don't know how to generate outer expression: Class: class Bug
File being compiled at position: (9,9) in Bug.kt
The root cause was thrown at: CodegenContext.java:218
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:317)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:278)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:323)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateReceiverValue(ExpressionCodegen.java:2621)
	at org.jetbrains.kotlin.codegen.StackValue.genReceiver(StackValue.java:724)
	at org.jetbrains.kotlin.codegen.StackValue.receiver(StackValue.java:700)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putReceiverAndInlineMarkerIfNeeded(ExpressionCodegen.java:2434)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2365)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2351)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:347)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1627)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:643)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateMethodBody(SourceCompilerForInline.kt:202)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.doCreateMethodNodeFromSource(SourceCompilerForInline.kt:304)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen$Companion.createInlineMethodNode$backend(InlineCodegen.kt:506)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:157)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:667)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:648)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2403)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2351)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:347)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1627)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:643)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:399)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:251)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:172)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:142)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:199)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:155)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:75)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateObjectLiteral(ExpressionCodegen.java:231)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitObjectLiteralExpression(ExpressionCodegen.java:1006)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitObjectLiteralExpression(ExpressionCodegen.java:108)
	at org.jetbrains.kotlin.psi.KtObjectLiteralExpression.accept(KtObjectLiteralExpression.java:30)
&gt; Task :mobile:compileDebugKotlin FAILED
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:296)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:278)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:323)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$visitReturnExpression$11(ExpressionCodegen.java:1540)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:347)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1627)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:643)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:399)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:251)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:172)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:142)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:199)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:155)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:75)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:305)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:289)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	... 43 more
Caused by: java.lang.UnsupportedOperationException: Don't know how to generate outer expression: Class: class Bug
	at org.jetbrains.kotlin.codegen.context.CodegenContext.getOuterExpression(CodegenContext.java:218)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:555)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.context.CodegenContext.lookupInContext(CodegenContext.java:565)
	at org.jetbrains.kotlin.codegen.context.MethodContext.lookupInContext(MethodContext.java:81)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.findCapturedValue(ExpressionCodegen.java:1860)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.findLocalOrCapturedValue(ExpressionCodegen.java:1851)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitSimpleNameExpression(ExpressionCodegen.java:1766)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitSimpleNameExpression(ExpressionCodegen.java:108)
	at org.jetbrains.kotlin.psi.KtNameReferenceExpression.accept(KtNameReferenceExpression.kt:59)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:296)
	... 124 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1531486480443</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1531491461930</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Michael_Rozumyanskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Michael Rozumyanskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2952871" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-25464" deleted="false" text="Thank you, reproduced on v1.2.70-dev-372-IJ2018.2-1. The smallest repro I could come up with:&#xA;&#xA;```&#xA;class Foo {&#xA;    fun bar(param: Any): Any {&#xA;        return object {&#xA;            fun run() {&#xA;                bug()&#xA;            }&#xA;&#xA;            inline fun bug() {&#xA;                param&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;```" shownForIssueAuthor="false" created="1531491458163" markdown="true"><replies/></comment></issue><issue id="KT-25473" entityId="25-2049220"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25473</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>K/N regular expressions are not compliant with JVM regular expressions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>How to reproduce:
1) Take regex corpus from https://github.com/dvyukov/go-fuzz-corpus/tree/master/regexp
2) Filter out non UTF-8 strings
3) Compile resulting set by JVM and by K/N via `string.toRegex()`

As a result, a lot of regexes which are valid on JVM throw exception on K/N **and** vice versa.
File with non-matching regexes attached</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1531501084287</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533735639953</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Vsevolod.Tolstopyatov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vsevolod Tolstopyatov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Matveev">Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-545165" url="https://youtrack.jetbrains.com/_persistent/regex.txt?file=74-545165&amp;c=true">regex.txt</value></field><comment id="27-3006357" author="Nikolay.Igotti" authorFullName="Nikolay Igotti" issueId="KT-25473" deleted="false" text="Could you please retry your experiment after https://github.com/JetBrains/kotlin-native/commit/09427e3a7071af8bdd5555402bfee0afd087293e?" shownForIssueAuthor="false" created="1533735639967" markdown="false"><replies/></comment></issue><issue id="KT-25482" entityId="25-2049602"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25482</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bug: bad conversion of Java-&gt;Kotlin for the case of `Enum.valueOf`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Android Studio 3.3 Canary 3
Build #AI-181.5281.24.33.4884283, built on July 10, 2018
JRE: 1.8.0_152-release-1136-b04 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 10 10.0

For example, let's take this Java code:

    @Nullable
    public static String getStringPref(Context context, @StringRes final int prefKeyResId, @StringRes final int prefDefaultValueResId) {
        final String prefKey = context.getString(prefKeyResId);
        final String defaultValue = prefDefaultValueResId == 0 ? null : context.getResources().getString(prefDefaultValueResId);
        final String result = PreferenceManager.getDefaultSharedPreferences(context).getString(prefKey, defaultValue);
        return result;
    }

    public static &lt;EnumType extends Enum&lt;EnumType&gt;&gt; EnumType getEnumPref(Context context, final int prefKeyResId, final int prefDefaultValueResId, final Class&lt;EnumType&gt; enumClass) {
        final String value = getStringPref(context, prefKeyResId, prefDefaultValueResId);
        try {
            return Enum.valueOf(enumClass, value);
        } catch (final Exception e) {
        }
        return Enum.valueOf(enumClass, context.getString(prefDefaultValueResId));
    }

    public static &lt;EnumType extends Enum&lt;EnumType&gt;&gt; EnumType getEnumPref(Context context, final int prefKeyResId, final EnumType prefDefaultValue, final Class&lt;EnumType&gt; enumClass) {
        final String value = getStringPref(context, prefKeyResId, prefDefaultValue.name());
        try {
            return Enum.valueOf(enumClass, value);
        } catch (final Exception e) {
        }
        return prefDefaultValue;
    }


When you look at the converted code, you can see that `Enum.valueOf` was replaced as such:

    fun &lt;EnumType : Enum&lt;EnumType&gt;&gt; getEnumPref(context: Context, prefKeyResId: Int, prefDefaultValueResId: Int, enumClass: Class&lt;EnumType&gt;): EnumType {
        val value = getStringPref(context, prefKeyResId, prefDefaultValueResId)
        try {
            return Enum.valueOf&lt;EnumType&gt;(enumClass, value!!)
        } catch (e: Exception) {
        }

        return Enum.valueOf&lt;EnumType&gt;(enumClass, context.getString(prefDefaultValueResId))
    }

    fun &lt;EnumType : Enum&lt;EnumType&gt;&gt; getEnumPref(context: Context, prefKeyResId: Int, prefDefaultValue: EnumType, enumClass: Class&lt;EnumType&gt;): EnumType {
        val value = getStringPref(context, prefKeyResId, prefDefaultValue.name)
        try {
            return Enum.valueOf&lt;EnumType&gt;(enumClass, value!!)
        } catch (e: Exception) {
        }

        return prefDefaultValue
    }

But this has errors...
Plus it decided to put empty line in each, for some reason.
Attached screenshot and IDE log.
I wonder what's the best way to convert those though.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1531604509858</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533988295273</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>lblb636</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>AndroidDeveloperLB</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>lblb636</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>AndroidDeveloperLB</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>7</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. J2K</value><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-545273" url="https://youtrack.jetbrains.com/_persistent/idea.log?file=74-545273&amp;c=true">idea.log</value><value id="74-545274" url="https://youtrack.jetbrains.com/_persistent/studio64_2018-07-15_00-44-17.png?file=74-545274&amp;c=true">studio64_2018-07-15_00-44-17.png</value></field><comment id="27-2956064" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-25482" deleted="false" text="Thank you, reproduced on v1.2.70-dev-412-IJ2018.2-1. Minimal example:&#xA;&#xA;```&#xA;class Foo {&#xA;    static void main(String[] args) {&#xA;        Enum.valueOf(Color.class, &quot;RED&quot;);&#xA;    }&#xA;&#xA;    enum Color {RED}&#xA;}&#xA;```&#xA;&#xA;Result of translation to Kotlin:&#xA;&#xA;```&#xA;internal object Foo {&#xA;    fun main(args: Array&lt;String&gt;) {&#xA;        Enum.valueOf&lt;Color&gt;(Color::class.java, &quot;RED&quot;)&#xA;    }&#xA;&#xA;    internal enum class Color {&#xA;        RED&#xA;    }&#xA;}&#xA;```&#xA;&#xA;The correct translation would be `enumValueOf&lt;Color&gt;(&quot;RED&quot;)` (see [docs](https://kotlinlang.org/docs/reference/enum-classes.html#working-with-enum-constants))." shownForIssueAuthor="false" created="1531758647455" markdown="true"><replies/></comment><comment id="27-2956073" author="lblb636" authorFullName="AndroidDeveloperLB" issueId="KT-25482" deleted="false" text="@Alexey.Belkov Thank you for explaining what it should be.&#xA;Is &quot;enumValueOf&quot; a keyword, or something else?" shownForIssueAuthor="false" created="1531758970757" markdown="true"><replies/></comment><comment id="27-2956081" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-25482" deleted="false" text="@lblb636 It is a library function:&#xA;&#xA;&gt; Since Kotlin 1.1, it's possible to access the constants in an enum class in a generic way, using the enumValues&lt;T&gt;() and enumValueOf&lt;T&gt;() functions" shownForIssueAuthor="false" created="1531759166288" markdown="false"><replies/></comment><comment id="27-2956094" author="lblb636" authorFullName="AndroidDeveloperLB" issueId="KT-25482" deleted="false" text="What was it before? And previous way to do it still exists?" shownForIssueAuthor="false" created="1531759547072" updated="1531758970660" markdown="true"><replies/></comment><comment id="27-2957139" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-25482" deleted="false" text="@lblb636 Before 1.1 there was no way to do it without reflection, see KT-10569." shownForIssueAuthor="false" created="1531817248743" markdown="false"><replies/></comment><comment id="27-2957201" author="lblb636" authorFullName="AndroidDeveloperLB" issueId="KT-25482" deleted="false" text="@Alexey.Belkov Wow. Good to know." shownForIssueAuthor="false" created="1531817859491" updated="1531759546957" markdown="true"><replies/></comment><comment id="27-3013640" author="lblb636" authorFullName="AndroidDeveloperLB" issueId="KT-25482" deleted="false" text="@Alexey.Belkov Can you please explain to me how to convert some other things that should turn into enumValueOf ? &#xA;I've created a new issue about it, since it involves in even more complication and issues of the IDE, this time:&#xA;https://youtrack.jetbrains.com/issue/KT-26050" shownForIssueAuthor="false" created="1533988295275" markdown="true"><replies/></comment></issue><issue id="KT-25615" entityId="25-2055124"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25615</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Docs: Using Gradle / Using Maven: mentioned "X.X (EXPERIMENTAL)" value is actually useless</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>"Using Gradle" and "Using Maven" reference docs mention "1.3 (EXPERIMENTAL)" version value that should be set in `pom.xml` / `build.gradle`:
. https://kotlinlang.org/docs/reference/using-gradle.html#attributes-common-for-jvm-and-js
. https://kotlinlang.org/docs/reference/using-maven.html#attributes-common-for-jvm-and-js

Actually to use 1.3 (even experimental) the correct value is "1.3".
"1.3 (EXPERIMENTAL)" value is error, and it sets the actual value to the latest stable, like "1.2".</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1532042590836</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532042590836</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Docs</value><valueId>Docs</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25628" entityId="25-2055921"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25628</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: add initializer for `NativePlacement.alloc()`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I is possible 
```
 memScoped {
    val cStruct = cValue&lt;MyStruct&gt; {
      a = 42
      b = 3.14
    }

```

But the same for pointer is not: the `alloc&lt;T&gt;` extension function does not accept initializer lambda.

Also, the `cValue` function requires me to pass the initializer lambda.

Let's have the same looking APIs for both functions.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1532096722349</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533738768942</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Svyatoslav Scherbina">Svyatoslav.Scherbina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25635" entityId="25-2056093"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25635</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: klib misses type aliases</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have a C library code 
```

typedef int  (*MyFun)(int);

void  accept_fun(MyFun f);
MyFun supply_fun(MyFun f);

```
I compile it with `cinterop` and inspect the library with `klib`. It shows two function declarations, but not the `typealiases`. 
In CLion I see there are indeed type aliases too.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1532104614045</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534242683745</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Matveev">Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3006570" author="Nikolay.Igotti" authorFullName="Nikolay Igotti" issueId="KT-25635" deleted="false" text="What exactly do you expect to see in klib dump?" shownForIssueAuthor="false" created="1533738561292" markdown="false"><replies/></comment><comment id="27-3018434" author="eugene.petrenko" authorFullName="Eugene Petrenko" issueId="KT-25635" deleted="false" text="I expect to see the following:&#xA;```&#xA;typealias MyFunVar = CPointerVarOf&lt;MyFun&gt;&#xA;typealias MyFun = CPointer&lt;CFunction&lt;(Int) -&gt; Int&gt;&gt;&#xA;&#xA;fun accept_fun(f: MyFun?): Unit &#xA;fun supply_fun(): MyFun? &#xA;```&#xA;&#xA;The actual output with `klib` tool lacks the `typealias` declarations, so I only have:&#xA;``` &#xA;package lib {&#xA; fun accept_fun(f: MyFun? /* = CPointer&lt;CFunction&lt;(Int) -&gt; Int&gt;&gt;? */)&#xA; fun supply_fun(): MyFun? /* = CPointer&lt;CFunction&lt;(Int) -&gt; Int&gt;&gt;? */&#xA;}&#xA;```&#xA;&#xA;Let's see if we are missing `typealias` somewhere in the `klib`" shownForIssueAuthor="false" created="1534242683746" markdown="false"><replies/></comment></issue><issue id="KT-25639" entityId="25-2056183"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25639</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Endless loop in highlighting causing UI freeze</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>without `checkCanceled`, apparently</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1532113936038</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536219262424</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>peter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Peter Gromov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Zarechenskiy">zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Highlighting</value><valueId>IDE. Highlighting</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-547377" url="https://youtrack.jetbrains.com/_persistent/threadDumps-freeze-20180720-210827-IU-183.SNAPSHOT.zip?file=74-547377&amp;c=true">threadDumps-freeze-20180720-210827-IU-183.SNAPSHOT.zip</value></field></issue><issue id="KT-25652" entityId="25-2056655"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25652</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Value of exhaustive when is not returned in script</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>To reproduce:

Call following code:
```kotlin
val script = """
    when(true) {
        true -&gt; "true"
        false -&gt; "false"
    }
""".trimIndent()

val engine = ScriptEngineManager().getEngineByExtension("kts")!!

val o = engine.eval(script)
println(o)
```

Actual:
null is printed

Expected:
"true" is printed

Workaround:
Assign when to temporary value

```kotlin
val script2 = """
    val a = when(true) {
        true -&gt; "true"
        false -&gt; "false"
    }
    a
    """.trimIndent()

val engine = ScriptEngineManager().getEngineByExtension("kts")!!

val o2 = engine.eval(script2)
println(o2)
// "true" is printed
```
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1532273056747</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533646138495</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jereksel</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Andrzej Ressel</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Scripting</value><valueId>Frontend. Scripting</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.51</value><valueId>1.2.51</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25653" entityId="25-2056661"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25653</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>AE: "Stub count doesn't match stubbed node length" through ImportFixBase.reduceCandidatesBasedOnDependencyRuleViolation() when plugin version is 1.2.x, but coroutine library is 1.3-compatible</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Install IDE plugin 1.3-M1-eap-79.
Setup a project that uses Kotlin plugin 1.2.x and coroutine library compiled with 1.2.x. Tested Gradle:
```
plugins {
    id 'java'
    id 'org.jetbrains.kotlin.jvm' version '1.2.60-eap-61'
}
// ...
dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    compile "org.jetbrains.kotlinx:kotlinx-coroutines-core:0.23.4"
}
```
Provide source with usage:
```
import kotlinx.coroutines.experimental.delay
import kotlinx.coroutines.experimental.launch

fun main(args: Array&lt;String&gt;) {
    launch {
        delay(1000L)
        println("World!")
    }
    println("Hello,")
    Thread.sleep(2000L)
}
```
Now it's compilable, green.

Then in project settings change the library version, but *do not change plugin version*:
```
    compile "org.jetbrains.kotlinx:kotlinx-coroutines-core:0.23.4-eap13-1" // The only change.
```

Open the same source in the editor.
It gets error highlighting (correct), but also unstoppable exception is thrown during the file analysis.

NB: No problem when both plugin and library are updated.

IDEA 182.3882 + Kotlin plugin 1.3-M1-eap-79.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1532274148330</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532391583678</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-2966298" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25653" deleted="false" text="java.lang.AssertionError: Stub count doesn't match stubbed node length&#xA;&#x9;at com.intellij.psi.impl.source.FileTrees.lambda$reconcilePsi$3(FileTrees.java:175)&#xA;&#x9;at com.intellij.psi.impl.DebugUtil.performPsiModification(DebugUtil.java:562)&#xA;&#x9;at com.intellij.psi.impl.source.FileTrees.reconcilePsi(FileTrees.java:168)&#xA;&#x9;at com.intellij.psi.impl.source.FileTrees.withAst(FileTrees.java:135)&#xA;&#x9;at com.intellij.psi.impl.source.PsiFileImpl.loadTreeElement(PsiFileImpl.java:214)&#xA;&#x9;at com.intellij.psi.impl.source.PsiFileImpl.calcTreeElement(PsiFileImpl.java:707)&#xA;&#x9;at com.intellij.psi.impl.source.PsiFileImpl.getNode(PsiFileImpl.java:912)&#xA;&#x9;at com.intellij.psi.impl.source.PsiFileImpl.getNode(PsiFileImpl.java:55)&#xA;&#x9;at com.intellij.psi.AbstractFileViewProvider.findElementAt(AbstractFileViewProvider.java:260)&#xA;&#x9;at com.intellij.psi.AbstractFileViewProvider.findElementAt(AbstractFileViewProvider.java:231)&#xA;&#x9;at com.intellij.psi.util.PsiTreeUtil.findElementOfClassAtRange(PsiTreeUtil.java:991)&#xA;&#x9;at org.jetbrains.kotlin.idea.decompiler.KtDecompiledFile.getDeclaration(KtDecompiledFile.kt:49)&#xA;&#x9;at org.jetbrains.kotlin.idea.decompiler.navigation.ByDescriptorIndexer.getDeclarationForDescriptor$idea_core(findDecompiledDeclaration.kt:181)&#xA;&#x9;at org.jetbrains.kotlin.idea.decompiler.navigation.FindDecompiledDeclarationKt$findInScope$1.invoke(findDecompiledDeclaration.kt:83)&#xA;&#x9;at org.jetbrains.kotlin.idea.decompiler.navigation.FindDecompiledDeclarationKt$findInScope$1.invoke(findDecompiledDeclaration.kt)&#xA;&#x9;at kotlin.sequences.TransformingSequence$iterator$1.next(Sequences.kt:157)&#xA;&#x9;at kotlin.sequences.FilteringSequence$iterator$1.calcNext(Sequences.kt:117)&#xA;&#x9;at kotlin.sequences.FilteringSequence$iterator$1.hasNext(Sequences.kt:141)&#xA;&#x9;at kotlin.sequences.SequencesKt___SequencesKt.firstOrNull(_Sequences.kt:126)&#xA;&#x9;at org.jetbrains.kotlin.idea.decompiler.navigation.FindDecompiledDeclarationKt.findInScope(findDecompiledDeclaration.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.idea.decompiler.navigation.FindDecompiledDeclarationKt.findDecompiledDeclaration(findDecompiledDeclaration.kt:61)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInsight.DescriptorToSourceUtilsIde$getDeclarationsStream$1$2.invoke(DescriptorToSourceUtilsIde.kt:55)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInsight.DescriptorToSourceUtilsIde$getDeclarationsStream$1$2.invoke(DescriptorToSourceUtilsIde.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.utils.addToStdlib.AddToStdlibKt$sequenceOfLazyValues$1.invoke(addToStdlib.kt:69)&#xA;&#x9;at org.jetbrains.kotlin.utils.addToStdlib.AddToStdlibKt$sequenceOfLazyValues$1.invoke(addToStdlib.kt)&#xA;&#x9;at kotlin.sequences.TransformingSequence$iterator$1.next(Sequences.kt:157)&#xA;&#x9;at kotlin.sequences.FlatteningSequence$iterator$1.next(Sequences.kt:246)&#xA;&#x9;at kotlin.sequences.FilteringSequence$iterator$1.calcNext(Sequences.kt:117)&#xA;&#x9;at kotlin.sequences.FilteringSequence$iterator$1.hasNext(Sequences.kt:141)&#xA;&#x9;at kotlin.sequences.SequencesKt___SequencesKt.firstOrNull(_Sequences.kt:126)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInsight.DescriptorToSourceUtilsIde.getAnyDeclaration(DescriptorToSourceUtilsIde.kt:31)&#xA;&#x9;at org.jetbrains.kotlin.idea.quickfix.ImportFixBase.reduceCandidatesBasedOnDependencyRuleViolation(ImportFix.kt:216)&#xA;&#x9;at org.jetbrains.kotlin.idea.quickfix.ImportFixBase.collectSuggestionsForName(ImportFix.kt:191)&#xA;&#x9;at org.jetbrains.kotlin.idea.quickfix.ImportFixBase.collectSuggestions(ImportFix.kt:148)&#xA;&#x9;at org.jetbrains.kotlin.idea.quickfix.ImportFixBase.computeSuggestions(ImportFix.kt:94)&#xA;&#x9;at org.jetbrains.kotlin.idea.quickfix.ImportFixBase$Factory.createAction(ImportFix.kt:231)&#xA;&#x9;at org.jetbrains.kotlin.idea.quickfix.KotlinSingleIntentionActionFactory.doCreateActions(KotlinSingleIntentionActionFactory.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.idea.quickfix.KotlinIntentionActionsFactory.createActions(KotlinIntentionActionsFactory.kt:53)&#xA;&#x9;at org.jetbrains.kotlin.idea.quickfix.KotlinIntentionActionsFactory.createActionsForAllProblems(KotlinIntentionActionsFactory.kt:35)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.KotlinPsiCheckerKt.createQuickFixes(KotlinPsiChecker.kt:124)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.KotlinPsiCheckerKt.access$createQuickFixes(KotlinPsiChecker.kt:1)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.ElementAnnotator.setUpAnnotations(KotlinPsiChecker.kt:273)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.ElementAnnotator.registerDiagnosticAnnotations(KotlinPsiChecker.kt:268)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.ElementAnnotator.registerDiagnosticsAnnotations(KotlinPsiChecker.kt:199)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.KotlinPsiChecker.annotateElement(KotlinPsiChecker.kt:95)&#xA;&#x9;at org.jetbrains.kotlin.idea.highlighter.KotlinPsiChecker.annotate(KotlinPsiChecker.kt:75)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.runAnnotators(DefaultHighlightVisitor.java:139)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.visit(DefaultHighlightVisitor.java:102)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.runVisitors(GeneralHighlightingPass.java:366)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.lambda$collectHighlights$5(GeneralHighlightingPass.java:298)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.analyzeByVisitors(GeneralHighlightingPass.java:325)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.lambda$analyzeByVisitors$6(GeneralHighlightingPass.java:328)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.analyze(DefaultHighlightVisitor.java:86)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.analyzeByVisitors(GeneralHighlightingPass.java:328)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.collectHighlights(GeneralHighlightingPass.java:295)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.collectInformationWithProgress(GeneralHighlightingPass.java:238)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:83)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:69)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:423)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1151)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:416)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:415)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:391)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:389)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:161)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)" shownForIssueAuthor="false" created="1532274163732" markdown="false"><replies/></comment><comment id="27-2968802" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25653" deleted="false" text="Same on running the inspection via Code Cleanup." shownForIssueAuthor="false" created="1532391583681" markdown="false"><replies/></comment></issue><issue id="KT-25699" entityId="25-2058736"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25699</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>incremental compiler fail</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>after i made com.intellij.ui.HyperlinkLabel.getText() notnull, everything compiled but then broke in com/jetbrains/cidr/cpp/toolchains/CPPToolchainsPanel.kt:1095</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1532442236324</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1532453784543</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cdr</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Kudravtsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Incremental Compile</value><valueId>Tools. Incremental Compile</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25787" entityId="25-2067516"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25787</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Compiling Kotlin code produces "IllegalAccessError: tried to access field OuterClass.privateField" at runtime</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Running the following code (`gradlew run` on attached project, tried 3 versions):
```kotlin
class Presenter(private val view: View) {
	fun load() {
		Single
			.fromCallable { "Hello world" }
			.subscribeUsual(
				onSuccess = { result -&gt; view.display(result) },
				onError = { error -&gt; error.printStackTrace() }
			)
	}
}

inline fun &lt;T&gt; Single&lt;T&gt;.subscribeUsual(
	onSuccess: (result: T) -&gt; Unit,
	onError: (error: Throwable) -&gt; Unit
): Subscription =
	this
		.subscribeOn(Schedulers.immediate())
		.observeOn(Schedulers.immediate())
		.subscribe(onSuccess.toAction(), onError.toAction())

@Suppress("NOTHING_TO_INLINE")
inline fun &lt;T&gt; ((input: T) -&gt; Unit).toAction() = Action1&lt;T&gt; { this.invoke(it) }
```
throws this exception:
```
Exception in thread "main" java.lang.IllegalAccessError:
tried to access field some.pack.Presenter.view
from class some.pack.Presenter$load$$inlined$subscribeUsual$1
	at some.pack.Presenter$load$$inlined$subscribeUsual$1.call(Something.kt:49)
	at rx.Single$11.onSuccess(Single.java:1803)
	at rx.internals...
	at rx.Single.subscribe(Single.java:1789)
	at some.pack.Presenter.load(Something.kt:52)
	at some.pack.SomethingKt.main(Something.kt:10)
```

Generated code:
```java
public final void load() {
      // Robi: omitted irrelevant bits
      Action1 var3 = (Action1)(new Presenter$load$$inlined$subscribeUsual$1(this));
}

// Robi: this is top level!
public final class Presenter$load$$inlined$subscribeUsual$1 implements Action1 {
   // $FF: synthetic field
   final Presenter this$0;

   public Presenter$load$$inlined$subscribeUsual$1(Presenter var1) {
      this.this$0 = var1;
   }

   public final void call(Object it) {
      String result = (String)it;
      View var10000 = this.this$0.view; // Robi: accessing private
      Intrinsics.checkExpressionValueIsNotNull(result, "result");
      var10000.display(result);
   }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1532783831065</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535643488308</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><value>1.3-M1</value><value>1.2.51</value><valueId>1.2.60</valueId><valueId>1.3-M1</valueId><valueId>1.2.51</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-549817" url="https://youtrack.jetbrains.com/_persistent/kotlin-inline.zip?file=74-549817&amp;c=true">kotlin-inline.zip</value></field><comment id="27-2981481" author="TWiStErRob" authorFullName="Róbert Papp" issueId="KT-25787" deleted="false" text="Note: adding `crossinline` to `onSuccess` and `onError` solves the crash" shownForIssueAuthor="false" created="1532783940640" markdown="true"><replies/></comment></issue><issue id="KT-25833" entityId="25-2071264"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25833</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IntelliJ freezes for ~minute when right clicking on a large module (lots of files) in 'Project' panel</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>What steps will reproduce the issue?
1. create a nodeJS project with a large amount of files (~1049255) (node modules marked as excluded)
2. Right click on modules root in project's panel 

What is the expected result?
IntelliJ runs as usual
What happens instead?
IntelliJ freezes

IntelliJ IDEA 2018.2 (Ultimate Edition)
Build #IU-182.3684.101, built on July 24, 2018
Licensed to Micro Focus Inc. / Noam Doron
Subscription is active until January 1, 2019
JRE: 1.8.0_152-release-1248-b8 x86_64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
macOS 10.12.6</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533114448310</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535439593449</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>serge</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Serge Baranov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>noamdoron1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Noam Doron</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>7</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>5</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Duplicate" role="is duplicated by">IDEA-197724</value><value type="Similar" role="similar to">KT-25012</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Performance Problem</value><valueId>Performance Problem</valueId><color><bg>#ffc8ea</bg><fg>#444</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><value>Tools. J2K</value><valueId>IDE</valueId><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-550728" url="https://youtrack.jetbrains.com/_persistent/idea.log?file=74-550728&amp;c=true">idea.log</value><value id="74-551144" url="https://youtrack.jetbrains.com/_persistent/dump.txt?file=74-551144&amp;c=true">dump.txt</value><value id="74-551145" url="https://youtrack.jetbrains.com/_persistent/logs-20180801-103623.zip?file=74-551145&amp;c=true">logs-20180801-103623.zip</value><value id="74-551163" url="https://youtrack.jetbrains.com/_persistent/IU-182.3684.101_noamdoron_01.08.2018_12.05.09.zip?file=74-551163&amp;c=true">IU-182.3684.101_noamdoron_01.08.2018_12.05.09.zip</value></field><comment id="27-2989036" author="adernov" authorFullName="Andrey Dernov" issueId="KT-25833" deleted="false" text="Does it help to temporarily disable Kotlin plugin?" shownForIssueAuthor="false" created="1533116892765" markdown="false"><replies/></comment><comment id="27-2989085" author="noamdoron1" authorFullName="Noam Doron" issueId="KT-25833" deleted="false" text="Yes :) thanks a lot!" shownForIssueAuthor="false" created="1533118071674" markdown="true"><replies/></comment><comment id="27-3003867" author="nicity" authorFullName="Maxim Mossienko" issueId="KT-25833" deleted="false" text="Any ETA for the fix?" shownForIssueAuthor="false" created="1533653767083" markdown="false"><replies/></comment><comment id="27-3016423" author="camabeh" authorFullName="Jakub Faber" issueId="KT-25833" deleted="false" text="It's quite a problem, when using git submodules in a project." shownForIssueAuthor="false" created="1534169582571" markdown="true"><replies/></comment><comment id="27-3037078" author="jeto143" authorFullName="Jérémy Touati" issueId="KT-25833" deleted="false" text="Some notes (I'm the author of the bug recently marked as duplicate). The problem suddenly disappeared on me. What I tried was switching the boot JDK to one stored outside of the IDE. It seemed to reduce the freezes a bit, but then I made some other changes that didn't really make much of a difference so I ended up rolling back everything.&#xA;&#xA;Now I can right-click anywhere again without any issues (it may take 2 or 3 seconds the first time which is still a tad long but acceptable) and I'm pretty sure my set up / conf settings are the same as they were before, so no idea what happened to make it go away. Maybe some kind of global project-wide cache that IntelliJ slowly/silently builds in the background, that gets cleared when you update the IDE (since I noticed the freezes right after doing that)?" shownForIssueAuthor="false" created="1534948742793" updated="1534948843811" markdown="true"><replies/></comment><comment id="27-3037114" author="Simon.Ogorodnik" authorFullName="Simon Ogorodnik" issueId="KT-25833" deleted="false" text="@jeto143 Please, check which Kotlin plugin version installed in your IDE" shownForIssueAuthor="false" created="1534949271010" updated="1534949289680" markdown="true"><replies/></comment><comment id="27-3038105" author="jeto143" authorFullName="Jérémy Touati" issueId="KT-25833" deleted="false" text="@Simon.Ogorodnik 1.2.51-release-IJ2018.2-1" shownForIssueAuthor="false" created="1535010485048" markdown="true"><replies/></comment></issue><issue id="KT-25879" entityId="25-2075190"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25879</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Quick Doc: properties initializer is not shown</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>If variable is declared in java classes and you hover cursor on variable and press *Ctrl*  then it show declaration in hint.
If variable is declared In kotlin classes and when you hover cursor on variable and press *Ctrl*  then it show name of file where is declared this variable</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533319480533</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533324508539</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nibexo</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>nibexo</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-24999</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. KDoc</value><valueId>IDE. KDoc</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25887" entityId="25-2075700"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25887</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin Native gradle build fail with `endorsed is not supported. Endorsed standards and standalone APIs` on jdk &gt; 8 &amp; CLion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Using the following `gradle.build` file :
```
plugins {
    id "org.jetbrains.kotlin.platform.native" version "0.8.1"
}

sourceSets.main.component {
    outputKinds = [ KLIBRARY ]
    target 'wasm32'
}

sourceSets.test.component {
    target 'wasm32'
}
```

The gradle compile task fail with the following output :
```
02:59:24: Executing task 'compileReleaseKotlinNative --stacktrace'...


&gt; Configure project :
The GRADLE_METADATA feature is not enabled: publication and external dependencies will not work properly.

&gt; Task :checkKonanCompiler

&gt; Task :compileReleaseKotlinNative FAILED
Error: Could not create the Java Virtual Machine.
-Djava.endorsed.dirs=C:\Users\ylemoigne\AppData\Local\JetBrains\Toolbox\apps\CLion\ch-0\182.3684.76\jre64\lib\endorsed is not supported. Endorsed standards and standalone APIs
Error: A fatal exception has occurred. Program will exit.
in modular form will be supported via the concept of upgradeable modules.

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':compileReleaseKotlinNative'.
&gt; Process 'command 'C:\dev-tools\jdk-10\bin\java.exe'' finished with non-zero exit value 1

* Try:
Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Exception is:
org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileReleaseKotlinNative'.
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)
	at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)
	at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)
	at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)
	at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)
	at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)
	at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)
	at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)
	at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)
	at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)
	at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)
	at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)
	at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)
	at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)
	at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:273)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:258)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
Caused by: org.gradle.process.internal.ExecException: Process 'command 'C:\dev-tools\jdk-10\bin\java.exe'' finished with non-zero exit value 1
	at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:395)
	at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:37)
	at org.gradle.api.internal.file.DefaultFileOperations.javaexec(DefaultFileOperations.java:192)
	at org.gradle.api.internal.project.DefaultProject.javaexec(DefaultProject.java:1092)
	at org.jetbrains.kotlin.gradle.plugin.KonanCliRunner.run(KonanToolRunner.kt:82)
	at org.jetbrains.kotlin.gradle.plugin.experimental.tasks.KotlinNativeCompile.compile(KotlinNativeCompile.kt:120)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)
	at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:786)
	at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:753)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)
	... 31 more


* Get more help at https://help.gradle.org

BUILD FAILED in 0s
2 actionable tasks: 2 executed
Process 'command 'C:\dev-tools\jdk-10\bin\java.exe'' finished with non-zero exit value 1
02:59:25: Task execution finished 'compileReleaseKotlinNative --stacktrace'.
```

Outside CLion, it's another error :
```
C:\Dev\Projects\KApp&gt;gradlew compileReleaseKotlinNative --stacktrace

&gt; Configure project :
The GRADLE_METADATA feature is not enabled: publication and external dependencies will not work properly.

&gt; Task :compileReleaseKotlinNative FAILED
Error: Could not find or load main class Corporation
Caused by: java.lang.ClassNotFoundException: Corporation

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':compileReleaseKotlinNative'.
&gt; Process 'command 'C:\dev-tools\jdk-10\bin\java.exe'' finished with non-zero exit value 1

* Try:
Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Exception is:
org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileReleaseKotlinNative'.
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)
        at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)
        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)
        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)
        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)
        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)
        at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)
        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)
        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)
        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)
        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)
        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)
        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)
        at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:273)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:258)
        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)
        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)
        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)
        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)
        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)
        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
Caused by: org.gradle.process.internal.ExecException: Process 'command 'C:\dev-tools\jdk-10\bin\java.exe'' finished with non-zero exit value 1
        at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:395)
        at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:37)
        at org.gradle.api.internal.file.DefaultFileOperations.javaexec(DefaultFileOperations.java:192)
        at org.gradle.api.internal.project.DefaultProject.javaexec(DefaultProject.java:1092)
        at org.jetbrains.kotlin.gradle.plugin.KonanCliRunner.run(KonanToolRunner.kt:82)
        at org.jetbrains.kotlin.gradle.plugin.experimental.tasks.KotlinNativeCompile.compile(KotlinNativeCompile.kt:120)        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)
        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)
        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)
        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)
        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:786)
        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:753)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)
        ... 31 more


* Get more help at https://help.gradle.org

BUILD FAILED in 0s
2 actionable tasks: 2 executed

C:\Dev\Projects\KApp&gt;```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533431118521</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533737934142</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ylemoigne</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yann Le Moigne</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Matveev">Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-25893" entityId="25-2075924"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25893</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>crossinline suspend function leads to IllegalStateException: call to 'resume' before 'invoke' with coroutine or compile error</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>[Here's the permanent link to an open source Android project reproducing the two issues.](https://github.com/Beepiz/CameraCoroutines/tree/baba61600480f0f38419b331ce306b32095ea396)

To reproduce the runtime Exception, run the app module then click on the last button and wait 6 seconds where a toast should tell there's an error. You can then look at the logs and see the issue. If you replace `useHandlerWithContext { handler -&gt; … }` call by `useHandler { handler -&gt; … }` plus a nested `withContext(HandlerContext(handler) { … }` call, there's no issue while in theory, the code run should be the same apart from the lambda allocation/inlining differences.

To reproduce the compiler exception, try to run the only test in the `androidTest` directory of the app module. I saw this bug by trying to make a reproducer.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533512500969</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534849569267</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>louis.cad</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Louis CAD</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilmir Usmanov">Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Coroutines</value><valueId>Backend. JVM. Coroutines</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3001560" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25893" deleted="false" text="I've minimized the case with exception and extracted it to KT-25922.&#xA;&#xA;Will look at the run failure soon." shownForIssueAuthor="false" created="1533587583479" markdown="false"><replies/></comment><comment id="27-3002672" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25893" deleted="false" text="Tried the suggested change to `useHandler { ... }`, and the application fails to me with the same trace.&#xA;&#xA;Exactly, I edited `ExtensionsApproachCamActivity.kt` and changed related code this way:&#xA;```&#xA;...&#xA;    override fun onStart() {&#xA;        super.onStart()&#xA;        val tillOnStop = lifecycle.createJob(Event.ON_STOP)&#xA;        launch(UI, parent = tillOnStop) {&#xA;            try {&#xA;//                HandlerThread(&quot;cam&quot;).useHandlerWithContext { handler -&gt;&#xA;                HandlerThread(&quot;cam&quot;).useHandler { handler -&gt;&#xA;                    withContext(HandlerContext(handler)) {&#xA;                    val externalFilesDir = getExternalFilesDir(null).absolutePath&#xA;                    val videoPath = &quot;$externalFilesDir/ExtensionsApproachVideoRecord.mp4&quot;&#xA;                    recordVideo(CamCharacteristics.LensFacing.BACK, videoPath, handler) {&#xA;                        withContext(UI) {&#xA;                            toast(&quot;Recording…&quot;)&#xA;                            delay(6000)&#xA;                            longToast(&quot;Recording succeeded!&quot;)&#xA;                        }&#xA;                    }&#xA;                    }&#xA;                }&#xA;...&#xA;```&#xA;&#xA;Then the application fails with the same scenario in runtime with:&#xA;```&#xA;I/CameraManagerGlobal: Connecting to camera service&#xA;E/ExtensionsApproachCamActivity$onStart: java.util.NoSuchElementException: No camera with requested facing (1) found&#xA;        at com.beepiz.cameracoroutines.sample.extensions.media.VideoRecordingKt.recordVideo(VideoRecording.kt:43)&#xA;        at com.beepiz.cameracoroutines.sample.extensions.media.VideoRecordingKt.recordVideo(VideoRecording.kt:28)&#xA;        at com.beepiz.cameracoroutines.sample.ExtensionsApproachCamActivity$onStart$1$doResume$$inlined$useHandler$lambda$1.doResume(ExtensionsApproachCamActivity.kt:53)&#xA;        at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:42)&#xA;        at kotlinx.coroutines.experimental.DispatchedTask$DefaultImpls.run(Dispatched.kt:150)&#xA;        at kotlinx.coroutines.experimental.DispatchedContinuation.run(Dispatched.kt:14)&#xA;        at android.os.Handler.handleCallback(Handler.java:751)&#xA;        at android.os.Handler.dispatchMessage(Handler.java:95)&#xA;        at android.os.Looper.loop(Looper.java:154)&#xA;        at android.os.HandlerThread.run(HandlerThread.java:61)&#xA;```&#xA;&#xA;It's still can be a Kotlin failure, but I need a bit more investigations." shownForIssueAuthor="false" created="1533637237699" markdown="false"><replies/></comment><comment id="27-3003531" author="louis.cad" authorFullName="Louis CAD" issueId="KT-25893" deleted="false" text="@sashache The exception indicates that the device you've run the application on has no camera or has a corporate device policy that may prohibit it. To make it work, you need a device with access to camera, and you need to click the first two buttons in the sample and grant the permissions." shownForIssueAuthor="false" created="1533649280812" markdown="true"><replies/></comment></issue><issue id="KT-25900" entityId="25-2076282"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25900</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: dash in output name spoils Framework</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I compile the framework with command `kotlinc -produce framework -output foo-bar`
In the generated Framework I see Obj-C interfaces names with `foo-bar` infix. That breaks compilation. 
Let's make the compiler either fail or sanitize the output parameter value in the generated `.h` code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533548809617</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533738194647</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Svyatoslav Scherbina">Svyatoslav.Scherbina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3006527" author="Nikolay.Igotti" authorFullName="Nikolay Igotti" issueId="KT-25900" deleted="false" text="Note sure if it makes much sense, compilation error as early as possible looks sensible here." shownForIssueAuthor="false" created="1533738194657" markdown="false"><replies/></comment></issue><issue id="KT-25903" entityId="25-2076374"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25903</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: KotlinBase name does not use output name in Framework</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I compile my Kotlin code into Framework, next in the `&lt;framework/Headers/&lt;output-name&gt;/.h` I see the following declarations that do not depend from the output name:
- KotlinBase
- NSErrorKotlinException

There is a risk those declarations will conflict in an application where I use several Kotlin-generated Frameworks, produced with different version of Kotlin/Native</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533551508111</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534250930089</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Svyatoslav Scherbina">Svyatoslav.Scherbina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3006512" author="Nikolay.Igotti" authorFullName="Nikolay Igotti" issueId="KT-25903" deleted="false" text="Multiple frameworks in the same app are not supported." shownForIssueAuthor="false" created="1533737873692" markdown="false"><replies/></comment><comment id="27-3018980" author="eugene.petrenko" authorFullName="Eugene Petrenko" issueId="KT-25903" deleted="false" text="for the protocol: We do not have the clash in C interop" shownForIssueAuthor="false" created="1534250930090" markdown="false"><replies/></comment></issue><issue id="KT-25922" entityId="25-2077421"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25922</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Back-end Internal error : Couldn't inline method : Lambda inlining : invoke(Continuation) : Trying to access skipped parameter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Extracted from KT-25893.

Setup a project with coroutines.
If does matter, used kotlin-gradle-plugin 1.3-M1 and `kotlinx-coroutines-core:0.24.0-eap13`.

Dummy source:
```
import kotlinx.coroutines.CommonPool
import kotlinx.coroutines.runBlocking
import kotlinx.coroutines.withContext

suspend inline fun useWith(crossinline block: suspend () -&gt; Unit) {
    withContext(CommonPool) {
        block()
    }
}

class SuspendCrash {
    fun crash() = runBlocking {
        useWith {
            withContext(CommonPool) {}
        }
    }
}
```

Do Build. Build fails (see the comments).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533587462959</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536921034906</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilmir Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-26608</value><value type="Similar" role="similar to">KT-26658</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilmir Usmanov">Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Coroutines</value><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Coroutines</valueId><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3001546" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25922" deleted="false" text="23:28:35: Executing task 'build'...&#xA;&#xA;w: -Xcoroutines has no effect: coroutines are enabled anyway in 1.3 and beyond&#xA;e: java.lang.IllegalStateException: Backend Internal error: Exception during code generation&#xA;Cause: Back-end (JVM) Internal error: Couldn't inline method call 'useWith' into&#xA;public final fun invokeSuspend(result: kotlin.SuccessOrFailure&lt;kotlin.Any&gt;): kotlin.Any? defined in cr.SuspendCrash.crash.&lt;closure-SuspendCrash$crash$1&gt;&#xA;{&#xA;        useWith {&#xA;            withContext(CommonPool) {}&#xA;        }&#xA;    }&#xA;Cause: Lambda inlining cr/SuspendCrash$crash$1$1: couldn't inline method call&#xA;Cause: invoke (Lkotlin/coroutines/Continuation;)Ljava/lang/Object;:&#xA;   L0&#xA;    LINENUMBER 21 L0&#xA;    GETSTATIC kotlinx/coroutines/CommonPool.INSTANCE : Lkotlinx/coroutines/CommonPool;&#xA;    CHECKCAST kotlin/coroutines/CoroutineContext&#xA;    ACONST_NULL&#xA;    NEW cr/SuspendCrash$crash$1$invokeSuspend$$inlined$useWith$1$lambda$1&#xA;    DUP&#xA;    ACONST_NULL&#xA;    INVOKESPECIAL cr/SuspendCrash$crash$1$invokeSuspend$$inlined$useWith$1$lambda$1.&lt;init&gt; (Lkotlin/coroutines/Continuation;)V&#xA;    CHECKCAST kotlin/jvm/functions/Function1&#xA;    ALOAD 0&#xA;    ICONST_2&#xA;    ACONST_NULL&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    INVOKESTATIC kotlinx/coroutines/BuildersKt.withContext$default (Lkotlin/coroutines/CoroutineContext;Lkotlinx/coroutines/CoroutineStart;Lkotlin/jvm/functions/Function1;Lkotlin/coroutines/Continuation;ILjava/lang/Object;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L1&#xA;    ARETURN&#xA;   L2&#xA;    LOCALVARIABLE this Lcr/SuspendCrash$crash$1$1; L0 L2 0&#xA;    LOCALVARIABLE continuation Lkotlin/coroutines/Continuation; L0 L2 1&#xA;    LOCALVARIABLE $i$a$1$useWith I L0 L2 1&#xA;    MAXSTACK = 7&#xA;    MAXLOCALS = 2&#xA;&#xA;File being compiled at position: (15,9) in /home/ache/jb-projects/kotlin-master/temp-04-gradle/src/main/java/cr/25893.kt&#xA;The root cause was thrown at: MethodInliner.kt:850&#xA;File being compiled at position: file:///home/ache/jb-projects/kotlin-master/temp-04-gradle/src/main/java/cr/25893.kt&#xA;The root cause was thrown at: InlineCodegen.kt:124&#xA;&#x9;at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)&#xA;&#x9;at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:441)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:146)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:159)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:56)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:91)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:439)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:224)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:86)&#xA;&#x9;at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:98)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:547)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:421)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:929)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:969)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:928)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:420)&#xA;&#x9;at sun.reflect.GeneratedMethodAccessor100.invoke(Unknown Source)&#xA;&#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;&#x9;at java.lang.reflect.Method.invoke(Method.java:498)&#xA;&#x9;at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:200)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:197)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.Transport.serviceCall(Transport.java:196)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&#xA;&#x9;at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'useWith' into&#xA;public final fun invokeSuspend(result: kotlin.SuccessOrFailure&lt;kotlin.Any&gt;): kotlin.Any? defined in cr.SuspendCrash.crash.&lt;closure-SuspendCrash$crash$1&gt;&#xA;{&#xA;        useWith {&#xA;            withContext(CommonPool) {}&#xA;        }&#xA;    }&#xA;Cause: Lambda inlining cr/SuspendCrash$crash$1$1: couldn't inline method call&#xA;Cause: invoke (Lkotlin/coroutines/Continuation;)Ljava/lang/Object;:&#xA;   L0&#xA;    LINENUMBER 21 L0&#xA;    GETSTATIC kotlinx/coroutines/CommonPool.INSTANCE : Lkotlinx/coroutines/CommonPool;&#xA;    CHECKCAST kotlin/coroutines/CoroutineContext&#xA;    ACONST_NULL&#xA;    NEW cr/SuspendCrash$crash$1$invokeSuspend$$inlined$useWith$1$lambda$1&#xA;    DUP&#xA;    ACONST_NULL&#xA;    INVOKESPECIAL cr/SuspendCrash$crash$1$invokeSuspend$$inlined$useWith$1$lambda$1.&lt;init&gt; (Lkotlin/coroutines/Continuation;)V&#xA;    CHECKCAST kotlin/jvm/functions/Function1&#xA;    ALOAD 0&#xA;    ICONST_2&#xA;    ACONST_NULL&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    INVOKESTATIC kotlinx/coroutines/BuildersKt.withContext$default (Lkotlin/coroutines/CoroutineContext;Lkotlinx/coroutines/CoroutineStart;Lkotlin/jvm/functions/Function1;Lkotlin/coroutines/Continuation;ILjava/lang/Object;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L1&#xA;    ARETURN&#xA;   L2&#xA;    LOCALVARIABLE this Lcr/SuspendCrash$crash$1$1; L0 L2 0&#xA;    LOCALVARIABLE continuation Lkotlin/coroutines/Continuation; L0 L2 1&#xA;    LOCALVARIABLE $i$a$1$useWith I L0 L2 1&#xA;    MAXSTACK = 7&#xA;    MAXLOCALS = 2&#xA;&#xA;File being compiled at position: (15,9) in /home/ache/jb-projects/kotlin-master/temp-04-gradle/src/main/java/cr/25893.kt&#xA;The root cause was thrown at: MethodInliner.kt:850&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:162)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:679)&#xA;&#x9;at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:114)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:660)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2427)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2370)&#xA;&#x9;at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)&#xA;&#x9;at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)&#xA;&#x9;at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)&#xA;&#x9;at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)&#xA;&#x9;at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:350)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1644)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)&#xA;&#x9;at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda$generateResumeImpl$1.doGenerateBody(CoroutineCodegen.kt:369)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:666)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:422)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:263)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:184)&#xA;&#x9;at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateResumeImpl(CoroutineCodegen.kt:349)&#xA;&#x9;at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateClosureBody(CoroutineCodegen.kt:202)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:166)&#xA;&#x9;at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateBody(CoroutineCodegen.kt:206)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:128)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:994)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:964)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:955)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:111)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:39)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:281)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)&#xA;&#x9;at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:68)&#xA;&#x9;at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:58)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2398)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2370)&#xA;&#x9;at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)&#xA;&#x9;at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)&#xA;&#x9;at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)&#xA;&#x9;at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)&#xA;&#x9;at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:350)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1644)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:666)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:422)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:263)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:184)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:155)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:196)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:155)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:75)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:128)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:302)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:286)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)&#xA;&#x9;... 43 more&#xA;Caused by: org.jetbrains.kotlin.codegen.inline.InlineException: Lambda inlining cr/SuspendCrash$crash$1$1: couldn't inline method call&#xA;Cause: invoke (Lkotlin/coroutines/Continuation;)Ljava/lang/Object;:&#xA;   L0&#xA;    LINENUMBER 21 L0&#xA;    GETSTATIC kotlinx/coroutines/CommonPool.INSTANCE : Lkotlinx/coroutines/CommonPool;&#xA;    CHECKCAST kotlin/coroutines/CoroutineContext&#xA;    ACONST_NULL&#xA;    NEW cr/SuspendCrash$crash$1$invokeSuspend$$inlined$useWith$1$lambda$1&#xA;    DUP&#xA;    ACONST_NULL&#xA;    INVOKESPECIAL cr/SuspendCrash$crash$1$invokeSuspend$$inlined$useWith$1$lambda$1.&lt;init&gt; (Lkotlin/coroutines/Continuation;)V&#xA;    CHECKCAST kotlin/jvm/functions/Function1&#xA;    ALOAD 0&#xA;    ICONST_2&#xA;    ACONST_NULL&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    INVOKESTATIC kotlinx/coroutines/BuildersKt.withContext$default (Lkotlin/coroutines/CoroutineContext;Lkotlinx/coroutines/CoroutineStart;Lkotlin/jvm/functions/Function1;Lkotlin/coroutines/Continuation;ILjava/lang/Object;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L1&#xA;    ARETURN&#xA;   L2&#xA;    LOCALVARIABLE this Lcr/SuspendCrash$crash$1$1; L0 L2 0&#xA;    LOCALVARIABLE continuation Lkotlin/coroutines/Continuation; L0 L2 1&#xA;    LOCALVARIABLE $i$a$1$useWith I L0 L2 1&#xA;    MAXSTACK = 7&#xA;    MAXLOCALS = 2&#xA;&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.wrapException(MethodInliner.kt:850)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:119)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.access$doInline(MethodInliner.kt:44)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:295)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:385)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:99)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:72)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:313)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:277)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:168)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:178)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:203)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:385)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:99)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:72)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:277)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)&#xA;&#x9;... 107 more&#xA;Caused by: java.lang.RuntimeException: Trying to access skipped parameter: Ljava/lang/Object; at 0&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.remap(LocalVarRemapper.kt:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.visitVarInsn(LocalVarRemapper.kt:103)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.RemapVisitor.visitVarInsn(RemapVisitor.java:53)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.VarInsnNode.accept(VarInsnNode.java:86)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:116)&#xA;&#x9;... 129 more&#xA;&#xA;&gt; Task :compileKotlin FAILED&#xA;&#xA;FAILURE: Build failed with an exception.&#xA;&#xA;* What went wrong:&#xA;Execution failed for task ':compileKotlin'.&#xA;&gt; Internal compiler error. See log for more details&#xA;&#xA;* Try:&#xA;Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.&#xA;&#xA;* Get more help at https://help.gradle.org&#xA;&#xA;BUILD FAILED in 0s&#xA;1 actionable task: 1 executed&#xA;Internal compiler error. See log for more details&#xA;23:28:35: Task execution finished 'build'." shownForIssueAuthor="false" created="1533587481147" markdown="false"><replies/></comment><comment id="27-3002567" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25922" deleted="false" text="Original code, as a test case that also should work after the fix:&#xA;```&#xA;import android.os.HandlerThread&#xA;import com.beepiz.cameracoroutines.sample.extensions.useHandlerWithContext&#xA;import kotlinx.coroutines.experimental.android.UI&#xA;import kotlinx.coroutines.experimental.runBlocking&#xA;import kotlinx.coroutines.experimental.withContext&#xA;import org.junit.Test&#xA;import splitties.toast.toast&#xA;&#xA;class SuspendCrashTest {&#xA;&#xA;    @Test&#xA;    fun crashTestSuspendCrossinline() = runBlocking {&#xA;        HandlerThread(&quot;crash test&quot;).useHandlerWithContext {&#xA;            withContext(UI) {&#xA;                toast(&quot;Yo&quot;)&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;```&#xA;&#xA;```&#xA;import android.os.Handler&#xA;import android.os.HandlerThread&#xA;import kotlinx.coroutines.experimental.android.HandlerContext&#xA;import kotlinx.coroutines.experimental.withContext&#xA;&#xA;inline fun &lt;R&gt; HandlerThread.useHandler(&#xA;        quitSafely: Boolean = true,&#xA;        block: (Handler) -&gt; R&#xA;) = try {&#xA;    start()&#xA;    block(Handler(looper))&#xA;} finally {&#xA;    if (quitSafely) quitSafely() else quit()&#xA;}&#xA;&#xA;@Deprecated(&quot;Don't use this method as it leads to compile errors or crashes&quot;)&#xA;suspend inline fun &lt;R&gt; HandlerThread.useHandlerWithContext(&#xA;        quitSafely: Boolean = true,&#xA;        crossinline block: suspend (Handler) -&gt; R&#xA;): R = try {&#xA;    start()&#xA;    val handler = Handler(looper)&#xA;    withContext(HandlerContext(handler)) {&#xA;        block(handler)&#xA;    }&#xA;} finally {&#xA;    if (quitSafely) quitSafely() else quit()&#xA;}&#xA;```" shownForIssueAuthor="false" created="1533635544522" updated="1533635636768" markdown="false"><replies/></comment></issue><issue id="KT-25924" entityId="25-2077454"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25924</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Errors attempting to use kotlinc with module-info.java that requires an automatic module</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>If I use `kotlinc` to compile some kotlin source, and I include a `module-info.java` in the source list, and if that module requires some automatic modules that are on the `-Xmodule-path`, then I get errors like:

```
error: symbol is declared in unnamed module which is not read by current module
```

My command line is of the form:

```
kotlinc -d ./build -Xmodule-path=&lt;path&gt; -Xadd-modules=&lt;modules&gt; .src/main/kotlin ./src/main/java
```

Where:
- `&lt;path&gt;` is the path to all necessary library jars
- `&lt;modules&gt;` is a comma-separated list of all modules required by my module. All of the modules are provided by jars in `&lt;path&gt;`

If I remove `module-info.java` from the source list, then it compiles fine.

If `module-info.java` only requires modules from modular jars (i.e., none of the required modules are automatic), it compiles fine even when still including `module-info.java` in the source list.

A few questions:

1. is there currently any way to get `kotlinc` to compile while still including `module-info.java` in the source list, and while its module requires automatic modules?
2. if not, are these errors intentional, or are they a bug?
3. if I leave out `module-info.java` from the source list, does that disable some module checking / other features that might be useful.  Put another way, given a situation where all the modules required by `module-info.java` are provided by modular jars (i.e., none of the required modules are automatic), will `kotlinc` behave differently when `module-info.java` is in the source list versus when `module-info.java` is NOT in the source list?  Either way, it compiles without errors, but I don't know if leaving out `module-info.java` disables certain modules tests.
4. if you intend `kotlinc` to work the same regardless of the inclusion of `module-info.java`, then the current behavior is a bug. By fixing the bug, you’d allow me to have a simpler command line, since I could include the directory containing the `module-info.java`, instead of having to manually include every .java file except `module-info.java` under that directory</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533591474087</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536902936480</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>rgoldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ross Goldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rgoldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ross Goldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>7</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Udalov">udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. CLI</value><valueId>Tools. CLI</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><value>1.2.70</value><valueId>1.2.60</valueId><valueId>1.2.70</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-555369" url="https://youtrack.jetbrains.com/_persistent/automatic-modules-issue.zip?file=74-555369&amp;c=true">automatic-modules-issue.zip</value></field><comment id="27-3009580" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25924" deleted="false" text="In contrast to javac the argument of `-Xmodule-path` should not be a super-directory to all modules, but the list with every module, i.e. the list of jar files. A request to improve it is KT-20060.&#xA;If you pass the name of jars, like `-Xmodule-path=/some/path/automatic.module.jar` - does it work to you?&#xA;&#xA;If still does not, please attach a sample source set/project to reproduce.&#xA;Thanks." shownForIssueAuthor="false" created="1533824931196" updated="1533824950518" markdown="false"><replies/></comment><comment id="27-3009600" author="rgoldberg" authorFullName="Ross Goldberg" issueId="KT-25924" deleted="false" text="`&lt;path&gt;` in my tests was a colon-delimited list of paths to jars &amp; class file directories. I’ll try to put together a sample illustrating the error" shownForIssueAuthor="false" created="1533825311949" markdown="false"><replies/></comment><comment id="27-3014656" author="rgoldberg" authorFullName="Ross Goldberg" issueId="KT-25924" deleted="false" text="Here's a sample project.  Maybe I'm missing some arguments…&#xA;&#xA;Obviously, execute `run-me` to see the error.&#xA;&#xA;I tried Kotlin 1.2.60 &amp; Oracle JDK 10.0.2+13 on macOS 10.13.6.&#xA;&#xA;Inserting any of the following in the command line doesn't help:&#xA;&#xA;```&#xA;-Xadd-modules=kotlin.stdlib&#xA;-Xadd-modules=ALL-MODULE-PATH&#xA;```&#xA;&#xA;Similar errors also occur for other automatic modules, not just the kotlin.stdlib." shownForIssueAuthor="false" created="1534119307634" updated="1534119616031" markdown="false"><replies/></comment><comment id="27-3027509" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25924" deleted="false" text="Sorry for delay and thank you for the sample.&#xA;However, for me it compiles well with mentioned options with 1.2.60, 1.2.61 (upcoming release) and with 1.2.70-dev-1328 (current master).&#xA;&#xA;@udalov Can you take a look, what can it be? Thank you." shownForIssueAuthor="false" created="1534516135774" markdown="false"><replies/></comment><comment id="27-3027531" author="rgoldberg" authorFullName="Ross Goldberg" issueId="KT-25924" deleted="false" text="Very odd. Did you use Java 10.0.2+13? Are you on macOS (10.13.6)? I wonder why we’re getting different results. I think I installed my kotlinc using homebrew, in case that matters. I’ll check later." shownForIssueAuthor="false" created="1534517039278" updated="1534517152338" markdown="false"><replies/></comment><comment id="27-3027853" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-25924" deleted="false" text="Rechecked with 10.0.2+13 exactly, but on Linux: the same.&#xA;&#xA;@Alexey.Belkov : if you have chance please check on Mac too. Please note: you need to make sure you run kotlinc with JDK 10." shownForIssueAuthor="false" created="1534525047078" markdown="false"><replies/></comment><comment id="27-3030355" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-25924" deleted="false" text="I can reproduce the error in attached project on macOS:&#xA;&#xA;```&#xA;➜  KT-25924 kotlinc -version&#xA;info: kotlinc-jvm 1.2.60 (JRE 10.0.1+10)&#xA;&#xA;➜  KT-25924 ./run-me&#xA;src/p/C.kt:5:4: error: symbol is declared in unnamed module which is not read by current module&#xA;&#x9;&#x9;@JvmStatic&#xA;```" shownForIssueAuthor="false" created="1534764666290" markdown="true"><replies/></comment></issue><issue id="KT-25937" entityId="25-2078024"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>25937</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Decompilation to Java makes UI lag roughly every 2 seconds, and is not cancellable</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>If you try to decompile [this file](https://github.com/Beepiz/CameraCoroutines/blob/a118d64d708d2de12ff35c6e7940bcce4e66d121/app/src/main/java/com/beepiz/cameracoroutines/sample/CamTestActivity.kt) to Java, you'll be punished by constant lag of the IDE that only a force quit can stop (unless you wait for it to decompile to the 27.11MB text file.
You can also notice the heap values flicker a lot, which indicates an enormous memory and garbage collector pressure.

Kotlin bytecode to Java decompilation should be cancellable (use coroutines to help!), and should have a lower priority than UI.

Please, bring a fix for this before 1.3

I use kotlin bytecode to java decompiler a lot to check under the hood implementation and spot any unintended boxing or inefficiencies for hot stop code paths, but with coroutines being more and more present in my code, it "fails" very often and is more like Russian Roulette with a full charger minus one bullet and some luck sometimes.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533640879902</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1533827505551</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>louis.cad</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Louis CAD</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">IDEABKL-7410</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Roman Elizarov">elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Decompiler</value><valueId>IDE. Decompiler</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26038" entityId="25-2083381"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26038</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Tailrec optimization not being applied to tail recursive calls on a non-this receiver.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Tailrec on a non-`this` receiver is considered not `tailrec` by the Kotlin compiler.  The same function can be called on `this` as the receiver or be reimplemented by moving the receiver to a parameter to be handled correctly.  For example:
```
class RecTest {
    val otherInstance = RecTest()

    // Compiler and IntelliJ complain that this isn't tail recursive
    tailrec fun differentReceiver() {
        return otherInstance.differentReceiver()
    }

    // Correctly processed as tail recursive
    tailrec fun thisReceiver() {
        return this.thisReceiver()
    }
}

// Correctly processed as tail recursive
tailrec fun noReceiver(recTest: RecTest) {
    return noReceiver(recTest.otherInstance)
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533916485896</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920842066</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rgrasell</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ryan Grasell</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Declarations</value><valueId>Frontend. Declarations</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.10</value><valueId>1.2.10</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3012837" author="ruckustboom" authorFullName="Ruckus T-Boom" issueId="KT-26038" deleted="false" text="Maybe I'm missing something here, but there's no way you can create an instance of `RecTest`. It should be a stack overflow trying to create infinite nested copies." shownForIssueAuthor="false" created="1533918776901" markdown="false"><replies/></comment><comment id="27-3012850" author="rgrasell" authorFullName="Ryan Grasell" issueId="KT-26038" deleted="false" text="@ruckustboom, you're absolutely right.  This is just sample code that triggers the bug I'm seeing in my real code." shownForIssueAuthor="false" created="1533919199479" markdown="true"><replies/></comment></issue><issue id="KT-26050" entityId="25-2083886"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26050</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bug: when using `enumValueOf`, it requires to be inlined, which causes Java classes not being able to use the function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Android Studio 3.2 Beta 5
Build #AI-181.5281.24.32.4913314, built on July 26, 2018
JRE: 1.8.0_152-release-1136-b05 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 10 10.0

I wanted to use a newer version, but it seems the Canary is incapable of converting to Kotlin:
https://issuetracker.google.com/issues/112319515

Suppose you have this code in Java:

    public class PreferenceUtil {
        @Nullable
        public static &lt;EnumType extends Enum&lt;EnumType&gt;&gt; EnumType getEnumPref(Context context, @Nullable final int prefKeyResId, @Nullable final EnumType defaultValue, final Class&lt;EnumType&gt; enumClass) {
            final String value = getStringPref(context, prefKeyResId, defaultValue == null ? null : defaultValue.name());
            if (value == null)
                return defaultValue;
            try {
                return Enum.valueOf(enumClass, value);
            } catch (final Exception ignored) {
            }
            return defaultValue;
        }
    
        @Nullable
        public static String getStringPref(Context context, @StringRes final int prefKeyResId, final String defaultValue) {
            final String prefKey = context.getString(prefKeyResId);
            final String result = PreferenceManager.getDefaultSharedPreferences(context).getString(prefKey, defaultValue);
            return result;
        }
    }

And you use it in Java and Kotlin:

    public class FooJava {
    
        public static void foo(Context context) {
            SomeEnum someEnum = PreferenceUtil.getEnumPref(context, R.string.some_pref, SomeEnum.VALUE1, SomeEnum.class);
            Log.d("AppLog", "someEnum:" + someEnum);
        }
    }

    class FooKotlin {
    
        fun foo(context: Context) {
            val someEnum = PreferenceUtil.getEnumPref(context, R.string.some_pref, SomeEnum.VALUE1, SomeEnum::class.java)
            Log.d("AppLog", "someEnum:$someEnum")
        }
    }

And now you want to convert the code of PreferenceUtil  to Kotlin, so you get something that doesn't work, because of this issue I've reported:
https://youtrack.jetbrains.com/issue/KT-25482
But as I understand, we should use `enumValueOf ` , so I came with this:

     ...
     return enumValueOf&lt;EnumType&gt;(value)
     ...

But then it complains I should make the function inline, so I get this:

      inline fun &lt;reified EnumType : Enum&lt;EnumType&gt;&gt; getEnumPref ...

But then, only on the Java class that use it, it complains that the function is private, so I can't use it. Telling it to make it public (or anything else) as the quick-fix suggest doesn't do anything either, probably because it's inlined.

Attached sample project before the conversion, sample project after, and a video showing all the issues.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1533988278982</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920673668</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>lblb636</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>AndroidDeveloperLB</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26348</value><value type="Relates" role="relates to">KT-14743</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Problem</value><valueId>Problem</valueId><color><bg>#fce5f1</bg><fg>#dc5766</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-555225" url="https://youtrack.jetbrains.com/_persistent/2018-08-11_14-48-52.mp4?file=74-555225&amp;c=true">2018-08-11_14-48-52.mp4</value><value id="74-555226" url="https://youtrack.jetbrains.com/_persistent/after%20conversion.7z?file=74-555226&amp;c=true">after conversion.7z</value><value id="74-555227" url="https://youtrack.jetbrains.com/_persistent/original.7z?file=74-555227&amp;c=true">original.7z</value><value id="74-556086" url="https://youtrack.jetbrains.com/_persistent/after%20conversion%20with%20workaround.7z?file=74-556086&amp;c=true">after conversion with workaround.7z</value></field><comment id="27-3018680" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26050" deleted="false" text="Does it help if you use `java.lang.Enum.valueOf` instead of Kotlin function `enumValueOf`?" shownForIssueAuthor="false" created="1534247411241" markdown="false"><replies/></comment><comment id="27-3018825" author="lblb636" authorFullName="AndroidDeveloperLB" issueId="KT-26050" deleted="false" text="@Alexey.Belkov I didn't check that it works, but it seems it doesn't complain anymore.&#xA;Anyway, Kotlin should have a solution that works for both Java and Kotlin, and the conversion should be using this solution. &#xA;For now, since Kotlin's `enumValueOf` can cause issues, I suggest that the converted will use the workaround instead.&#xA;&#xA;Attached the same project after using what you wrote." shownForIssueAuthor="false" created="1534249112648" markdown="false"><replies/></comment></issue><issue id="KT-26056" entityId="25-2084179"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26056</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>J2K: Missing `toInt()` call when char used as array index</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Given the original Java code:
 ```java
public class C {
	public void f() {
		String[] displayMapping = {"NUL", "ONE"/*, ...*/};
		char chr = '\0';
		String toDisplay = displayMapping[chr];
		System.out.println(toDisplay);
	}
}
```
Executing "Code &gt; Convert Java file to Kotlin file" on it yields

**Actual**:
```kotlin
val displayMapping = arrayOf("NUL", "ONE"/*, ...*/)
val chr = '\u0000'
val toDisplay = displayMapping[chr]
println(toDisplay)
```

**Expected**:
```kotlin
val displayMapping = arrayOf("NUL", "ONE"/*, ...*/)
val chr = '\u0000'
val toDisplay = displayMapping[chr.toInt()]
println(toDisplay)
```

Type of `'chr'` is `Char`, and the array access requires an `Int` index. This is similar to KT-26054, but even the variable case generates red code.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534075084364</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534182664209</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-19333</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. J2K</value><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26058" entityId="25-2084246"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26058</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>J2K: Unreachable code for string concatenation inside `else` branch</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```java
String f() {
	if (Math.random() &gt;= 0.5) {
		return null;
	}
	return "a"
		+ System.currentTimeMillis()
		+ "b";
}
```
when converted to Kotlin becomes:
**Actual** (broken):
```kotlin
fun f(): String? {
	return if (Math.random() &gt;= 0.5) {
		null
	} else "a"
		+ System.currentTimeMillis()
		+ "b"
}
```
![](image.png)

**Expected** (note parentheses):
```kotlin
fun f(): String? {
	return if (Math.random() &gt;= 0.5) {
		null
	} else ("a"
		+ System.currentTimeMillis()
		+ "b")
}
```
or (note `+` position)
```
fun f(): String? {
	return if (Math.random() &gt;= 0.5) {
		null
	} else "a" +
		System.currentTimeMillis() +
		"b"
}
```
Although first one (with parentheses) is preferred as it doesn't change the original style. Undoing the `+`s may be tedious.

Note: if the `if` is removed before the Konversion, the code becomes:
```kotlin
	fun f(): String {
		return ("a"
			+ System.currentTimeMillis()
			+ "b")
	}
```
only code looking like the first code block in this issue fails to convert, all other tries converted successfully.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534085705938</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534184164666</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. J2K</value><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-555333" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-555333&amp;c=true">image.png</value></field></issue><issue id="KT-26059" entityId="25-2084256"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26059</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Exceptions when open project in different versions: No stub serializer &lt;file&gt; Broken stub format, most likely version of kotlin.FILE was not updated after serialization changes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>affected versions: CLion 2018.2.1 with K/N plugin 182.3911.51, CLion 183.1505 + plugin [master]
- open project (e.g. [samples](https://github.com/JetBrains/kotlin-native/tree/master/samples/)) in  2018.2.1
- build targets, check that navigation works
- close project
- open the same project in 183.xxx
- try Go to Definition on CUrl or CsvParser sample

result: exceptions
#1
```stacktrace
No stub serializer: /Users/Mari/Downloads/kotlin-native-macos-0.8.1/samples/curl/src/main/kotlin/main.kt: Broken stub format, most likely version of kotlin.FILE was not updated after serialization changes
Internal details, no serializer registered for stub: ID=4, externalId:.fileElementStubSerializer
AttributeStubFileStubSerializersql.SQL_CREATE_STATEMENTsql.SQL_ALTER_STATE; parent stub class=com.intellij.psi.stubs.PsiFileStubImpl, parent stub type:null

com.intellij.psi.stubs.SerializerNotFoundException: Broken stub format, most likely version of kotlin.FILE was not updated after serialization changes
Internal details, no serializer registered for stub: ID=4, externalId:.fileElementStubSerializer
AttributeStubFileStubSerializersql.SQL_CREATE_STATEMENTsql.SQL_ALTER_STATE; parent stub class=com.intellij.psi.stubs.PsiFileStubImpl, parent stub type:null
	at com.intellij.psi.stubs.StubSerializationHelper.a(StubSerializationHelper.java:193)
	at com.intellij.psi.stubs.StubSerializationHelper.a(StubSerializationHelper.java:212)
	at com.intellij.psi.stubs.StubSerializationHelper.a(StubSerializationHelper.java:212)
	at com.intellij.psi.stubs.StubSerializationHelper.a(StubSerializationHelper.java:212)
	at com.intellij.psi.stubs.StubSerializationHelper.deserialize(StubSerializationHelper.java:149)
	at com.intellij.psi.stubs.SerializationManagerImpl.deserialize(SerializationManagerImpl.java:169)
	at com.intellij.psi.stubs.SerializedStubTree.getStub(SerializedStubTree.java:95)
	at com.intellij.psi.stubs.SerializedStubTree.getStub(SerializedStubTree.java:83)
	at com.intellij.psi.stubs.StubTreeLoaderImpl.readFromVFile(StubTreeLoaderImpl.java:119)
	at com.intellij.psi.stubs.StubTreeLoaderImpl.readOrBuild(StubTreeLoaderImpl.java:53)
	at com.intellij.psi.impl.source.PsiFileImpl.getStubTree(PsiFileImpl.java:603)
	at com.intellij.psi.impl.source.PsiFileImpl.getStub(PsiFileImpl.java:565)
	at org.jetbrains.kotlin.psi.KtFile.getStub(KtFile.kt:166)
	at org.jetbrains.kotlin.psi.KtFile.getDeclarations(KtFile.kt:140)
	at org.jetbrains.kotlin.idea.KotlinIconProvider$Companion.getMainClass(KotlinIconProvider.kt:71)
	at org.jetbrains.kotlin.idea.KotlinIconProvider$Companion.getSingleClass(KotlinIconProvider.kt:66)
	at org.jetbrains.kotlin.idea.projectView.KotlinExpandNodeProjectViewProvider.modify(projectViewProviders.kt:52)
	at com.intellij.ide.util.treeView.AbstractTreeStructureBase.getChildElements(AbstractTreeStructureBase.java:40)
	at com.intellij.ui.tree.StructureTreeModel.c(StructureTreeModel.java:229)
	at com.intellij.ui.tree.StructureTreeModel.a(StructureTreeModel.java:139)
	at com.intellij.ui.tree.StructureTreeModel.isLeaf(StructureTreeModel.java:175)
	at com.intellij.ui.tree.AsyncTreeModel$CmdGetChildren.a(AsyncTreeModel.java:577)
	at com.intellij.ui.tree.AsyncTreeModel$CmdGetChildren.getNode(AsyncTreeModel.java:552)
	at com.intellij.ui.tree.AsyncTreeModel$ObsolescentCommand.get(AsyncTreeModel.java:444)
	at com.intellij.ui.tree.AsyncTreeModel$ObsolescentCommand.get(AsyncTreeModel.java:410)
	at com.intellij.util.concurrency.Command$Processor.a(Command.java:48)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1180)
	at com.intellij.openapi.progress.util.ProgressIndicatorUtils.a(ProgressIndicatorUtils.java:70)
	at com.intellij.openapi.progress.util.ProgressIndicatorUtils.a(ProgressIndicatorUtils.java:123)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:164)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:583)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:533)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:87)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:151)
	at com.intellij.openapi.progress.util.ProgressIndicatorUtils.runWithWriteActionPriority(ProgressIndicatorUtils.java:112)
	at com.intellij.openapi.progress.util.ProgressIndicatorUtils.runInReadActionWithWriteActionPriority(ProgressIndicatorUtils.java:70)
	at com.intellij.openapi.progress.util.ProgressIndicatorUtils.runInReadActionWithWriteActionPriority(ProgressIndicatorUtils.java:91)
	at com.intellij.util.concurrency.Invoker.b(Invoker.java:143)
	at com.intellij.util.concurrency.Invoker.b(Invoker.java:83)
	at com.intellij.util.concurrency.Invoker$BackgroundThread.a(Invoker.java:306)
	at com.intellij.util.concurrency.BoundedTaskExecutor.doRun(BoundedTaskExecutor.java:227)
	at com.intellij.util.concurrency.BoundedTaskExecutor.access$100(BoundedTaskExecutor.java:26)
	at com.intellij.util.concurrency.BoundedTaskExecutor$2$1.run(BoundedTaskExecutor.java:200)
	at com.intellij.util.ConcurrencyUtil.runUnderThreadName(ConcurrencyUtil.java:229)
	at com.intellij.util.concurrency.BoundedTaskExecutor$2.run(BoundedTaskExecutor.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
```

#2
```stacktrace
java.lang.Throwable: An invalid fqName `kotlinx.cinterop.package_kotlinx.cinterop` with short name `package_kotlinx.cinterop` is created for file `package_kotlinx.cinterop.knm` (isCompiled = true)
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:134)
	at org.jetbrains.kotlin.fileClasses.JvmFileClassUtilKt$javaFileFacadeFqName$1.compute(JvmFileClassUtil.kt:115)
	at com.intellij.psi.util.CachedValuesManager.lambda$getCachedValue$0(CachedValuesManager.java:140)
	at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)
	at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)
	at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:60)
	at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)
	at com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:87)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:139)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:126)
	at org.jetbrains.kotlin.fileClasses.JvmFileClassUtilKt.getJavaFileFacadeFqName(JvmFileClassUtil.kt:109)
	at org.jetbrains.kotlin.asJava.LightClassUtil.findFileFacade(LightClassUtil.kt:167)
	at org.jetbrains.kotlin.asJava.LightClassUtil.getWrappingClass(LightClassUtil.kt:156)
	at org.jetbrains.kotlin.asJava.LightClassUtil.getWrappingClasses(LightClassUtil.kt:178)
	at org.jetbrains.kotlin.asJava.LightClassUtil.getPsiMethodWrappers(LightClassUtil.kt:131)
	at org.jetbrains.kotlin.asJava.LightClassUtil.getLightClassMethods(LightClassUtil.kt:123)
	at org.jetbrains.kotlin.asJava.LightClassUtilsKt.toLightMethods(lightClassUtils.kt:73)
	at org.jetbrains.kotlin.idea.intentions.ConvertCamelCaseTestFunctionToSpacedIntention.applicabilityRange(ConvertCamelCaseTestFunctionToSpacedIntention.kt:52)
	at org.jetbrains.kotlin.idea.intentions.ConvertCamelCaseTestFunctionToSpacedIntention.applicabilityRange(ConvertCamelCaseTestFunctionToSpacedIntention.kt:40)
	at org.jetbrains.kotlin.idea.intentions.SelfTargetingRangeIntention.isApplicableTo(SelfTargetingIntention.kt:133)
	at org.jetbrains.kotlin.idea.intentions.SelfTargetingIntention.getTarget(SelfTargetingIntention.kt:76)
	at org.jetbrains.kotlin.idea.intentions.SelfTargetingIntention.isAvailable(SelfTargetingIntention.kt:92)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.availableFor(ShowIntentionActionsHandler.java:123)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass.a(ShowIntentionsPass.java:318)
	at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.chooseBetweenHostAndInjected(ShowIntentionActionsHandler.java:148)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass.getActionsToShow(ShowIntentionsPass.java:316)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass.getActionsToShow(ShowIntentionsPass.java:288)
	at com.intellij.codeInsight.daemon.impl.ShowIntentionsPass.doCollectInformation(ShowIntentionsPass.java:242)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:69)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.b(PassExecutorService.java:423)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1180)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.d(PassExecutorService.java:416)
	at com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:583)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:533)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:87)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.e(PassExecutorService.java:415)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.c(PassExecutorService.java:391)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:223)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:389)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:161)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534087352206</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536593231435</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Maria.Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maria Baburina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>7</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26719</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Karpukhin">Vyacheslav.Karpukhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3014366" author="Vyacheslav.Karpukhin" authorFullName="Vyacheslav Karpukhin" issueId="KT-26059" deleted="false" text="Likely caused by compatibility issues: build 182.3911.51 is probably not compatible with K/N 0.8.1." shownForIssueAuthor="false" created="1534087647765" markdown="false"><replies/></comment><comment id="27-3014371" author="Maria.Baburina" authorFullName="Maria Baburina" issueId="KT-26059" deleted="false" text="Is there some compatibility list?" shownForIssueAuthor="false" created="1534087925742" markdown="true"><replies/></comment><comment id="27-3014373" author="Vyacheslav.Karpukhin" authorFullName="Vyacheslav Karpukhin" issueId="KT-26059" deleted="false" text="No, but there is no neither backward nor forward compatibility guarantees." shownForIssueAuthor="false" created="1534088066797" markdown="false"><replies/></comment><comment id="27-3014489" author="Maria.Baburina" authorFullName="Maria Baburina" issueId="KT-26059" deleted="false" text="I also get exception #2 with build 182.3911.51 + K/N 0.8.2.&#xA;approximate _STR_:&#xA;- go to `src/main/kotlin/org/konan/libgit/GitTree.kt:25`&#xA;- Go to Definition of `memScoped` and then back&#xA;&#xA;result: exception #2" shownForIssueAuthor="false" created="1534097905597" markdown="true"><replies/></comment><comment id="27-3014497" author="Vyacheslav.Karpukhin" authorFullName="Vyacheslav Karpukhin" issueId="KT-26059" deleted="false" text="Was libgit rebuilt with 0.8.2? Generated .klib might be outdated." shownForIssueAuthor="false" created="1534098055708" markdown="false"><replies/></comment><comment id="27-3016364" author="Maria.Baburina" authorFullName="Maria Baburina" issueId="KT-26059" deleted="false" text="I successfully run `GitChurn` run configuration. Is this the right way of rebuilding?&#xA;Because after that I navigate from `src/main/kotlin/main.kt` on `main` func and got exception #1." shownForIssueAuthor="false" created="1534168860319" markdown="false"><replies/></comment><comment id="27-3060479" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-26059" deleted="false" text="Extracted #2 to the separate ticket: KT-26719" shownForIssueAuthor="false" created="1536593231441" updated="1536593237892" markdown="false"><replies/></comment></issue><issue id="KT-26107" entityId="25-2085179"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26107</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>@Suppress only works with line break</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>## What steps will reproduce the issue?

Reformatting the following code block:

```kotlin
Flux.combineLatest(sources) { lastObjects -&gt;
    lastObjects.map {
        @Suppress("UNCHECKED_CAST")
        it as Message&lt;T&gt;
    }
}
```

with `@Suppress` on the same line like the statement it applies to:

```kotlin
Flux.combineLatest(sources) { lastObjects -&gt;
    lastObjects.map { @Suppress("UNCHECKED_CAST") it as Message&lt;T&gt; }
}
```
## What is the expected result?

The warning should be suppressed in both cases.

## What happens instead?

Warning is only suppressed when `@Suppress` is followed by a line break.

![Suppress doesn't work](suppress-error.PNG)

![Suppress works only with line break](suppress-ok.PNG)

## Environment

IntelliJ IDEA 2018.2.1 (Ultimate Edition)
Build #IU-182.3911.13, built on July 31, 2018
Licensed to ...
Subscription is active until February 12, 2019
JRE: 1.8.0_152-release-1248-b8 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 10 10.0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534161273715</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920810946</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cryptos_de</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Christian Helmbold</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Lexer &amp; Parser</value><valueId>Frontend. Lexer &amp; Parser</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-555665" url="https://youtrack.jetbrains.com/_persistent/suppress-error.PNG?file=74-555665&amp;c=true">suppress-error.PNG</value><value id="74-555666" url="https://youtrack.jetbrains.com/_persistent/suppress-ok.PNG?file=74-555666&amp;c=true">suppress-ok.PNG</value></field><comment id="27-3015996" author="adernov" authorFullName="Andrey Dernov" issueId="KT-26107" deleted="false" text="What language do you use?" shownForIssueAuthor="false" created="1534162632200" markdown="false"><replies/></comment><comment id="27-3016578" author="cryptos_de" authorFullName="Christian Helmbold" issueId="KT-26107" deleted="false" text="I'm using Kotlin." shownForIssueAuthor="false" created="1534171521467" markdown="true"><replies/></comment><comment id="27-3018532" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26107" deleted="false" text="Self-contained:&#xA;&#xA;```&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    @Suppress(&quot;UNCHECKED_CAST&quot;) listOf(1) as List&lt;String&gt;&#xA;}&#xA;```" shownForIssueAuthor="false" created="1534244704988" markdown="false"><replies/></comment></issue><issue id="KT-26105" entityId="25-2085665"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26105</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Name shadowed" warning doesn't work for nested lambdas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
fun f(name: String) {
    listOf&lt;String&gt;().forEach { name -&gt;
        println(name)
    }
}
```
gives a warning:
![](image.png)

But the following code doesn't:
```kotlin
fun f(name: String) {
    listOf&lt;List&lt;String&gt;&gt;().forEach { list -&gt;
        list.forEach { name -&gt;
            println(name)
        }
    }
}
```

however changing the `list` to `name` does (twice):
![](image1.png)
so it looks like only the scope just outside is considered</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534174916070</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920828799</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-8106</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-555764" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-555764&amp;c=true">image.png</value><value id="74-555766" url="https://youtrack.jetbrains.com/_persistent/image1.png?file=74-555766&amp;c=true">image1.png</value></field></issue><issue id="KT-26108" entityId="25-2085839"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26108</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>J2K drops annotation from local variable declaration in Java for/foreach loops</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```java
@Target({ElementType.LOCAL_VARIABLE, ElementType.PARAMETER})
@interface Ann {
}

public class C {
	public void f() {
		@Ann int control = 0;
		@Ann int[] arr = {1, 2, 3};
		for (@Ann int test : arr) {
			System.out.println(control + test);
		}
		for (@Ann int i = 0; i &lt; arr.length; i++) {
			System.out.println(control + arr[i]);
		}
	}
}
```

**Actual**:
```kotlin
@Ann val control = 0
@Ann val arr = intArrayOf(1, 2, 3)
for (test in arr) {
	println(control + test)
}
for (i in arr.indices) {
	println(control + arr[i])
}
```

**Expected**:
```kotlin
@Ann val control = 0
@Ann val arr = intArrayOf(1, 2, 3)
for (@Ann test in arr) {
	println(control + test)
}
for (@Ann i in arr.indices) {
	println(control + arr[i])
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534183533990</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534190944115</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. J2K</value><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26109" entityId="25-2085847"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26109</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>J2K drops standard Java @SuppressWarnings</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```java
public class C {
	@SuppressWarnings("deprecation")
	public void f() {
		if (Math.random() &lt; 0.5) {
			normal();
		} else {
			dep();
		}
	}

	@SuppressWarnings("DeprecatedIsStillUsed")
	@Deprecated
	private void dep() {}

	private void normal() {}
}
```

**Actual**:
```kotlin
class C {
	fun f() {
		if (Math.random() &lt; 0.5) {
			normal()
		} else {
			dep()
		}
	}

	@Deprecated("")
	private fun dep() {
	}

	private fun normal() {}
}
```

**Expected**:
```kotlin
class C {
	@Suppress("DEPRECATION")
	fun f() {
		if (Math.random() &lt; 0.5) {
			normal()
		} else {
			dep()
		}
	}

	@Deprecated("")
	private fun dep() {
	}

	private fun normal() {}
}
```

Notes:
 * at least the standard JLS suppressions should be supported
   * https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.4.6 (`deprecated`) without condition
   * https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.4.5 (`unchecked`) if it would give an unchecked warning in Kotlin as well
   * there may be more
 * I can understand why `@SuppressWarnings("DeprecatedIsStillUsed")` would be dropped (inspection may not exists in other language)
 * `unused` is another example that transfers between languages</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534184237116</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534200474560</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>TWiStErRob</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Róbert Papp</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-6424</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. J2K</value><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3017398" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26109" deleted="false" text="Just for reference: KT-6424." shownForIssueAuthor="false" created="1534191146403" markdown="false"><replies/></comment></issue><issue id="KT-26116" entityId="25-2086079"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26116</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>No error when class member val is referenced in inline function before it is assigned later on</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
class MyClass {
    init {
        "".apply { println(bar) }
    }
    val bar = "bar"
}

MyClass()
```

Executing the above with `kotlinc -script &lt;file&gt;` causes it to print `null`.

I'd expect a similar error to what you get running this code:

```
class MyClass {
    val foo = bar
    val bar = "baz"
}
MyClass()
```

Which provides the error message:

```
kotlin-puzzler.kts:2:15: error: variable 'bar' must be initialized
    val foo = bar
```

This should be possible because `apply` is inline, and expanded at compile-time. I don't expect this to be possible for non-inline functions.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534195132716</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920770971</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mike.holler</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Michael Holler</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-10455</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Data-flow analysis</value><valueId>Frontend. Data-flow analysis</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3020845" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26116" deleted="false" text="To clarify: using the property directly in `init` block correctly reports an error. The problem is using properties inside lambdas.&#xA;&#xA;```&#xA;class MyClass {&#xA;    init {&#xA;       println(bar) // Error: variable 'bar' must be initialized&#xA;    }&#xA;    val bar = &quot;bar&quot;&#xA;}&#xA;```" shownForIssueAuthor="false" created="1534322794037" markdown="false"><replies/></comment></issue><issue id="KT-26123" entityId="25-2086481"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26123</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>NPE in ModuleDFGBuilder$FunctionDFGBuilder.getNode</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The task `:backend.native:tests:build_external_compiler_codegen_box_closures` in https://buildserver.labs.intellij.net/viewLog.html?buildId=33420902&amp;buildTypeId=Kotlin_KotlinNative_Master_KotlinNativeLinuxBoxTestsSamplesManualRun&amp;tab=buildLog&amp;state=2296%2C12079%2C12350%2C12645%2C12799%2C19500%2C19501&amp;filter=all&amp;expand=none#_state=2296,12079,12350,12645,12799,19500,19501

Fails with: 
```
exception: kotlin.KotlinNullPointerException
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$FunctionDFGBuilder.getNode(DFGBuilder.kt:546)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$FunctionDFGBuilder.expressionToEdge(DFGBuilder.kt:539)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$FunctionDFGBuilder.getNode(DFGBuilder.kt:616)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$FunctionDFGBuilder.expressionToEdge(DFGBuilder.kt:539)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$FunctionDFGBuilder.getNode(DFGBuilder.kt:730)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$FunctionDFGBuilder.build(DFGBuilder.kt:504)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.analyze(DFGBuilder.kt:318)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitConstructor(DFGBuilder.kt:262)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitConstructor(IrElementVisitorVoid.kt:56)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitConstructor(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitConstructor(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.declarations.impl.IrConstructorImpl.accept(IrConstructorImpl.kt:90)
	at org.jetbrains.kotlin.ir.declarations.impl.IrClassImpl.acceptChildren(IrClassImpl.kt:105)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoidKt.acceptChildrenVoid(IrElementVisitorVoid.kt:251)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitElement(DFGBuilder.kt:250)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitDeclaration(IrElementVisitorVoid.kt:40)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitDeclaration(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitClass(IrElementVisitorVoid.kt:43)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitClass(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitClass(IrElementVisitorVoid.kt:44)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitClass(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitClass(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.declarations.impl.IrClassImpl.accept(IrClassImpl.kt:100)
	at org.jetbrains.kotlin.ir.declarations.impl.IrFileImpl.acceptChildren(IrFileImpl.kt:79)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoidKt.acceptChildrenVoid(IrElementVisitorVoid.kt:251)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitElement(DFGBuilder.kt:250)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitPackageFragment(IrElementVisitorVoid.kt:30)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitPackageFragment(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitFile(IrElementVisitorVoid.kt:37)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitFile(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitFile(IrElementVisitorVoid.kt:38)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitFile(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitFile(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.declarations.impl.IrFileImpl.accept(IrFileImpl.kt:76)
	at org.jetbrains.kotlin.ir.declarations.impl.IrModuleFragmentImpl.acceptChildren(IrModuleFragmentImpl.kt:45)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoidKt.acceptChildrenVoid(IrElementVisitorVoid.kt:251)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitElement(DFGBuilder.kt:250)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitModuleFragment(IrElementVisitorVoid.kt:27)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitModuleFragment(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.visitors.IrElementVisitorVoid$DefaultImpls.visitModuleFragment(IrElementVisitorVoid.kt:28)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitModuleFragment(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder$build$1.visitModuleFragment(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.ir.declarations.impl.IrModuleFragmentImpl.accept(IrModuleFragmentImpl.kt:42)
	at org.jetbrains.kotlin.backend.konan.optimizations.ModuleDFGBuilder.build(DFGBuilder.kt:247)
	at org.jetbrains.kotlin.backend.konan.llvm.IrToBitcodeKt$emitLLVM$2.invoke(IrToBitcode.kt:75)
	at org.jetbrains.kotlin.backend.konan.llvm.IrToBitcodeKt$emitLLVM$2.invoke(IrToBitcode.kt)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:145)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:119)
	at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)
	at org.jetbrains.kotlin.backend.konan.PhaseManager.phase(KonanPhases.kt:144)
	at org.jetbrains.kotlin.backend.konan.llvm.IrToBitcodeKt.emitLLVM(IrToBitcode.kt:74)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5$2.invoke(KonanDriver.kt:102)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5$2.invoke(KonanDriver.kt)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:145)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:119)
	at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)
	at org.jetbrains.kotlin.backend.konan.PhaseManager.phase(KonanPhases.kt:144)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5.invoke(KonanDriver.kt:101)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5.invoke(KonanDriver.kt)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:145)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:119)
	at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)
	at org.jetbrains.kotlin.backend.konan.PhaseManager.phase(KonanPhases.kt:144)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt.runTopLevelPhases(KonanDriver.kt:95)
	at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:82)
	at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:42)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:91)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:69)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:37)
	at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMainNoExit(CLITool.kt:201)
	at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMain(CLITool.kt:192)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:206)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:197)
	at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)
	at org.jetbrains.kotlin.konan.util.UtilKt.profile(Util.kt:29)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion.main(K2Native.kt:199)
	at org.jetbrains.kotlin.cli.bc.K2NativeKt.main(K2Native.kt:211)
```

To reproduce run this task from the branch `origin/update-tests-stdlib-all`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534238702150</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536584416431</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Sergey.Bogolepov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Sergey Bogolepov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Pavel.Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Igor Chevdar">Igor.Chevdar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3044129" author="Sergey.Bogolepov" authorFullName="Sergey Bogolepov" issueId="KT-26123" deleted="false" text="Minimal reproducer:&#xA;```kotlin&#xA;fun main(args:Array&lt;String&gt;) { &#xA;    val o = &quot;OK&quot;&#xA;    fun ok() = o&#xA;    class OK {&#xA;        init {&#xA;            ok()&#xA;        }&#xA;    }&#xA;}&#xA;```&#xA;Fails only if the new inference is enabled." shownForIssueAuthor="false" created="1535456288277" updated="1535456657208" markdown="true"><replies/></comment><comment id="27-3060143" author="Igor.Chevdar" authorFullName="Igor Chevdar" issueId="KT-26123" deleted="false" text="@Sergey.Bogolepov How to enable the new inference?" shownForIssueAuthor="false" created="1536584154835" markdown="false"><replies/></comment><comment id="27-3060156" author="Sergey.Bogolepov" authorFullName="Sergey Bogolepov" issueId="KT-26123" deleted="false" text="@Igor.Chevdar `konanc -XXLanguage:+NewInference main.kt`" shownForIssueAuthor="false" created="1536584416439" markdown="false"><replies/></comment></issue><issue id="KT-26125" entityId="25-2086522"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26125</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Call hierarchy misses icons for kotlin functions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>![](pic.png)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534239886573</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536681449074</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-25838</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE</value><valueId>IDE</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-556001" url="https://youtrack.jetbrains.com/_persistent/pic.png?file=74-556001&amp;c=true">pic.png</value><value id="74-566038" url="https://youtrack.jetbrains.com/_persistent/pic2.png?file=74-566038&amp;c=true">pic2.png</value></field><comment id="27-3062318" author="goodwinnk" authorFullName="Nikolay Krasko" issueId="KT-26125" deleted="false" text="@maxmedvedev Is this issue is still present for you?" shownForIssueAuthor="false" created="1536678296720" markdown="false"><replies/></comment><comment id="27-3062401" author="maxmedvedev" authorFullName="Maxim Medvedev" issueId="KT-26125" deleted="false" text="@goodwinnk v1.3-M2-release-IJ2018.3-1 &#xA;![](pic2.png)" shownForIssueAuthor="false" created="1536681449075" markdown="true"><replies/></comment></issue><issue id="KT-26130" entityId="25-2086862"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26130</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incorrect method signature for a generic function with inline class as a type parameter upper bound</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
package test

inline class Z(val x: Int)

fun &lt;T : Z&gt; foo(x: T) {}
```

`foo` has the following signature in the bytecode:
```
  // access flags 0x19
  // signature &lt;T:Ltest/Z;&gt;(TT;)V
  // declaration: void foo&lt;T extends test.Z&gt;(T)
  public final static foo(I)V
```

Here generic signature and method descriptor are inconsistent.
For example, one can invoke such function from Java as:
```java
package test;

public class InvokeFromJava {
    public static void main(String[] args) {
        TestKt.foo(new Z(42)); // NB 'new Z(42)', not '42'
    }
}
```
However, it fails at run-time:
Exception in thread "main" java.lang.NoSuchMethodError: test.TestKt.foo(Ltest/Z;)V
	at test.InvokeFromJava.main(InvokeFromJava.java:5)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534250691245</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535462308638</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Denis Zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26131</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M1</value><valueId>1.3-M1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26131" entityId="25-2086887"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26131</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incorrect method signature for a generic function with a "primitive" type as a type parameter upper bound</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
package test

fun &lt;T : Int&gt; bar(x: T) {}
```

Generated signatures for `bar`:
```
  // access flags 0x19
  // signature &lt;T:Ljava/lang/Integer;&gt;(TT;)V
  // declaration: void bar&lt;T extends java.lang.Integer&gt;(T)
  public final static bar(I)V
```

Note that method descriptor is `bar(I)V`, while generic signature is `&lt;T:Ljava/lang/Integer;&gt;(TT;)V`.

Calling such method from Java fails at run-time:
```java
package test;

public class InvokeFromJava {
    public static void main(String[] args) {
        TestKt.bar(42);
    }
}
```
Exception in thread "main" java.lang.NoSuchMethodError: test.TestKt.bar(Ljava/lang/Integer;)V
	at test.InvokeFromJava.main(InvokeFromJava.java:5)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534250992791</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534259628229</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26130</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><value>Language design</value><valueId>Backend. JVM</valueId><valueId>Language design</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26132" entityId="25-2086894"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26132</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Overloaded generic function imported from different package shadows top level function with more specific receiver</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following example compiles:

```kt
fun &lt;T: Any&gt; T.test() = 1
fun &lt;T: Any&gt; Pair&lt;String, T&gt;.test() = "2"

fun main(args: Array&lt;String&gt;) {
  val a: Int = 1.test()
  val b: String = ("1" to 1).test()
}
```

However, if one of the functions is moved to another package like:

other/other.kt:

```kt
package other
fun &lt;T: Any&gt; T.test() = 1
```
the main does not compile: 
```kt
import other.test
fun &lt;T: Any&gt; Pair&lt;String, T&gt;.test() = "2"
fun main(args: Array&lt;String&gt;) {
  val a: Int = 1.test()
  val b: String = ("1" to 1).test() // test() from other is used and the result type is int
}
```
BUT, moving the pair version of the function inside main helps: 
```kt
import other.test
fun main(args: Array&lt;String&gt;) {
  fun &lt;T: Any&gt; Pair&lt;String, T&gt;.test() = "2"
  val a: Int = 1.test()
  val b: String = ("1" to 1).test()
}
```
It also helps if it is a member of the class (not necessarily a nested function).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534251043855</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534327434152</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>solodkyy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yuriy Solodkyy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3021119" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26132" deleted="false" text="Simplified a bit:&#xA;&#xA;```&#xA;// FILE other/a.kt&#xA;&#xA;package other&#xA;&#xA;fun &lt;T&gt; T.test() = 1&#xA;&#xA;// FILE main.kt&#xA;&#xA;import other.test&#xA;&#xA;fun String.test() = &quot;2&quot;&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    println(1.test())   // 1 - OK&#xA;    println(&quot;2&quot;.test()) // 1&#xA;}&#xA;```" shownForIssueAuthor="false" created="1534327425875" markdown="false"><replies/></comment></issue><issue id="KT-26140" entityId="25-2087262"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26140</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Fail to compile big arity function: Built-in class kotlin.Function42 is not found</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following code make compiler fail with exception
```
class A(val value: String)

class Fun : (A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A) -&gt; String {
    override fun invoke(
        p1: A, p2: A, p3: A, p4: A, p5: A, p6: A, p7: A, p8: A, p9: A,
        p10: A, p11: A, p12: A, p13: A, p14: A, p15: A, p16: A, p17: A, p18: A, p19: A,
        p20: A, p21: A, p22: A, p23: A, p24: A, p25: A, p26: A, p27: A, p28: A, p29: A,
        p30: A, p31: A, p32: A, p33: A, p34: A, p35: A, p36: A, p37: A, p38: A, p39: A,
        p40: A, p41: A, p42: A
    ): String {
        return p21.value + p32.value
    }
}

fun box(): String {
    val a = A("")
    val f = Fun()
    return f(a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, A("O"), a, a, a, a, a, a, a, a, a, a, A("K"), a, a, a, a, a, a, a, a, a, a)
}

fun main(args: Array&lt;String&gt;) {
    println(box())
}
```

The exception:
```
java.lang.AssertionError: Built-in class kotlin.Function42 is not found
	at org.jetbrains.kotlin.builtins.KotlinBuiltIns.getBuiltInClassByName(KotlinBuiltIns.java:486)
	at org.jetbrains.kotlin.builtins.KotlinBuiltIns.access$800(KotlinBuiltIns.java:57)
	at org.jetbrains.kotlin.builtins.KotlinBuiltIns$5.invoke(KotlinBuiltIns.java:165)
	at org.jetbrains.kotlin.builtins.KotlinBuiltIns$5.invoke(KotlinBuiltIns.java:162)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:448)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunctionToNotNull.invoke(LockBasedStorageManager.java:523)
	at org.jetbrains.kotlin.builtins.KotlinBuiltIns.getBuiltInClassByName(KotlinBuiltIns.java:479)
	at org.jetbrains.kotlin.builtins.KotlinBuiltIns.getBuiltInClassByName(KotlinBuiltIns.java:521)
	at org.jetbrains.kotlin.builtins.KotlinBuiltIns.getFunction(KotlinBuiltIns.java:616)
	at org.jetbrains.kotlin.builtins.FunctionTypesKt.createFunctionType(functionTypes.kt:194)
	at org.jetbrains.kotlin.resolve.TypeResolver$resolveTypeElement$1.visitFunctionType(TypeResolver.kt:251)
	at org.jetbrains.kotlin.psi.KtVisitorVoid.visitFunctionType(KtVisitorVoid.java:935)
	at org.jetbrains.kotlin.psi.KtVisitorVoid.visitFunctionType(KtVisitorVoid.java:21)
	at org.jetbrains.kotlin.psi.KtFunctionType.accept(KtFunctionType.java:64)
	at org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:59)
	at org.jetbrains.kotlin.resolve.TypeResolver.resolveTypeElement(TypeResolver.kt:202)
	at org.jetbrains.kotlin.resolve.TypeResolver.resolvePossiblyBareType(TypeResolver.kt:123)
	at org.jetbrains.kotlin.resolve.TypeResolver.resolveType(TypeResolver.kt:107)
	at org.jetbrains.kotlin.resolve.TypeResolver.resolveType(TypeResolver.kt:78)
	at org.jetbrains.kotlin.resolve.DescriptorResolver.resolveSuperTypeListEntries(DescriptorResolver.java:202)
	at org.jetbrains.kotlin.resolve.DescriptorResolver.resolveSupertypes(DescriptorResolver.java:139)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassDescriptor.computeSupertypes(LazyClassDescriptor.java:699)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassDescriptor$LazyClassTypeConstructor.computeSupertypes(LazyClassDescriptor.java:602)
	at org.jetbrains.kotlin.types.AbstractTypeConstructor$supertypes$1.invoke(AbstractTypeConstructor.kt:34)
	at org.jetbrains.kotlin.types.AbstractTypeConstructor$supertypes$1.invoke(AbstractTypeConstructor.kt:22)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)
	at org.jetbrains.kotlin.types.AbstractTypeConstructor.getSupertypes(AbstractTypeConstructor.kt:23)
	at org.jetbrains.kotlin.types.AbstractTypeConstructor.getSupertypes(AbstractTypeConstructor.kt:22)
	at org.jetbrains.kotlin.resolve.descriptorUtil.DescriptorUtilsKt.getSuperClassNotAny(DescriptorUtils.kt:129)
	at org.jetbrains.kotlin.resolve.descriptorUtil.DescriptorUtilsKt.getAllSuperclassesWithoutAny(DescriptorUtils.kt:342)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.ClassResolutionScopesSupport$inheritanceScopeWithoutMe$1.invoke(ClassResolutionScopesSupport.kt:52)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.ClassResolutionScopesSupport$inheritanceScopeWithoutMe$1.invoke(ClassResolutionScopesSupport.kt:31)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.ClassResolutionScopesSupport$inheritanceScopeWithMe$1.invoke(ClassResolutionScopesSupport.kt:58)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.ClassResolutionScopesSupport$inheritanceScopeWithMe$1.invoke(ClassResolutionScopesSupport.kt:31)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.ClassResolutionScopesSupport$scopeForMemberDeclarationResolution$1.invoke(ClassResolutionScopesSupport.kt:67)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.ClassResolutionScopesSupport$scopeForMemberDeclarationResolution$1.invoke(ClassResolutionScopesSupport.kt:31)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassDescriptor.getScopeForMemberDeclarationResolution(LazyClassDescriptor.java:345)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope.getScopeForMemberDeclarationResolution(LazyClassMemberScope.kt:135)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.doGetFunctions(AbstractLazyMemberScope.kt:101)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.access$doGetFunctions(AbstractLazyMemberScope.kt:38)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope$functionDescriptors$1.invoke(AbstractLazyMemberScope.kt:50)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope$functionDescriptors$1.invoke(AbstractLazyMemberScope.kt:38)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:448)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunctionToNotNull.invoke(LockBasedStorageManager.java:523)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.getContributedFunctions(AbstractLazyMemberScope.kt:90)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope.getContributedFunctions(LazyClassMemberScope.kt:189)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$resolveToDescriptor$1.visitNamedFunction(LazyDeclarationResolver.kt:125)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$resolveToDescriptor$1.visitNamedFunction(LazyDeclarationResolver.kt:94)
	at org.jetbrains.kotlin.psi.KtNamedFunction.accept(KtNamedFunction.java:49)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.kt:94)
	at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.kt:91)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.createFunctionDescriptors(LazyTopDownAnalyzer.kt:283)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations(LazyTopDownAnalyzer.kt:204)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations$default(LazyTopDownAnalyzer.kt:60)
	at org.jetbrains.kotlin.backend.konan.TopDownAnalyzerFacadeForKonan.analyzeFilesWithGivenTrace(TopDownAnalyzerFacadeForKonan.kt:71)
	at org.jetbrains.kotlin.backend.konan.TopDownAnalyzerFacadeForKonan.analyzeFiles(TopDownAnalyzerFacadeForKonan.kt:50)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$1$1.invoke(KonanDriver.kt:60)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$1$1.invoke(KonanDriver.kt)
	at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:101)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$1.invoke(KonanDriver.kt:59)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$1.invoke(KonanDriver.kt)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:145)
	at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:119)
	at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)
	at org.jetbrains.kotlin.backend.konan.PhaseManager.phase(KonanPhases.kt:144)
	at org.jetbrains.kotlin.backend.konan.KonanDriverKt.runTopLevelPhases(KonanDriver.kt:57)
	at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:82)
	at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:42)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:91)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:69)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:37)
	at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMainNoExit(CLITool.kt:201)
	at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMain(CLITool.kt:192)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:206)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:197)
	at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)
	at org.jetbrains.kotlin.konan.util.UtilKt.profile(Util.kt:29)
	at org.jetbrains.kotlin.cli.bc.K2Native$Companion.main(K2Native.kt:199)
	at org.jetbrains.kotlin.cli.bc.K2NativeKt.main(K2Native.kt:211)
	at org.jetbrains.kotlin.cli.utilities.MainKt.main(main.kt:27)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534261391469</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534489478911</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Pavel.Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Punegov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Igor Chevdar">Igor.Chevdar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26189" entityId="25-2089964"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26189</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>With -Xuse-javac type inference fails for argument type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>With -Xuse-javac flag, kotlin compiler fails to infer the argument type. Relevant code:

```
// utils.kt
import com.google.android.gms.tasks.Task
import kotlin.coroutines.experimental.Continuation
import kotlin.coroutines.experimental.suspendCoroutine

suspend fun &lt;T&gt; Task&lt;T&gt;.await(): T {
    return suspendCoroutine { c: Continuation&lt;T&gt; -&gt;
        addOnSuccessListener { c.resume(it) }
    }
}

// Method in Task.class, under libs/classes.jar
public abstract Task&lt;TResult&gt; addOnSuccessListener(@NonNull OnSuccessListener&lt;? super TResult&gt; var1);

// Interface in OnSuccessListener.class under libs/classes.jar
public interface OnSuccessListener&lt;TResult&gt; {
  void onSuccess(TResult var1);
}
```

Running `./gradlew build` in the attached project fails with `Type mismatch: inferred type is Any! but T was expected`. I was not able to create a smaller sample that reproduces the issue, nor I was able to reproduce when referencing types in Java sources. If `-Xuse-javac` is removed from build.gradle, build succeeds.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534426285472</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534431613408</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>gavra</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ivan Gavrilovic</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Udalov">udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend</value><valueId>Frontend</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-556908" url="https://youtrack.jetbrains.com/_persistent/kotlin-use-javac.zip?file=74-556908&amp;c=true">kotlin-use-javac.zip</value><value id="74-556957" url="https://youtrack.jetbrains.com/_persistent/kotlin-use-javac-import.zip?file=74-556957&amp;c=true">kotlin-use-javac-import.zip</value></field><comment id="27-3024895" author="gavra" authorFullName="Ivan Gavrilovic" issueId="KT-26189" deleted="false" text="While trying to compile&#xA;```&#xA;import uy.kohesive.injekt.registry.default.DefaultRegistrar&#xA;fun foo() {&#xA;    DefaultRegistrar()&#xA;}&#xA;```&#xA;with `-Xuse-javac`, it failed with `Unresolved reference: registry`. Type is from a jar in the compile classpath (libs/injekt.jar), project in the attachment reproduces the issue (`./gradlew build`). Removing `-Xuse-javac` from build.gradle fixes the build.&#xA;&#xA;Feel free to split these into two separate issues if the root cause is different." shownForIssueAuthor="false" created="1534430763624" markdown="true"><replies/></comment></issue><issue id="KT-26210" entityId="25-2090845"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26210</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IOE “Cannot create file” on creating new file with existing filename by pasting a code in Project view</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Open project with Kotlin, open Project View and select some package. Paste this code `class Foo` by pressing Ctrl+V: now `Foo.kt` had been created. Select the package again and paste the code one more time. You will see an exception.

NB: no such error with pasting Java class.

IJ 182.3684.40 + Kotlin 1.2.61-eap-89
IJ 182.4129.26 + Kotlin 1.2.70-dev-1337
IJ 182.4129.4 + Kotlin 1.3-M2-eap-51</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534495009142</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534495245256</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Project View</value><valueId>IDE. Project View</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3026356" author="Aleksandr.Gribovich" authorFullName="Aleksandr Gribovich" issueId="KT-26210" deleted="false" text="```&#xA;com.intellij.util.IncorrectOperationException: Cannot create file '/Users/jetbrains/IdeaProjects/del/del-jps-17-02/src/p01/Foo.kt'. File already exists.&#xA;&#x9;at com.intellij.psi.impl.file.PsiDirectoryImpl.checkCreateFile(PsiDirectoryImpl.java:386)&#xA;&#x9;at com.intellij.psi.impl.file.PsiJavaDirectoryImpl.checkCreateFile(PsiJavaDirectoryImpl.java:48)&#xA;&#x9;at com.intellij.psi.impl.file.PsiDirectoryImpl.createFile(PsiDirectoryImpl.java:316)&#xA;&#x9;at org.jetbrains.kotlin.idea.conversion.copy.KotlinFilePasteProvider$performPaste$1.invoke(KotlinFilePasteProvider.kt:38)&#xA;&#x9;at org.jetbrains.kotlin.idea.conversion.copy.KotlinFilePasteProvider$performPaste$1.invoke(KotlinFilePasteProvider.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt$sam$com_intellij_openapi_util_Computable$0.compute(ApplicationUtils.kt)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1050)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt.runWriteAction(ApplicationUtils.kt:31)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt$executeWriteCommand$1.run(ApplicationUtils.kt:35)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:139)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:97)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:87)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:73)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt.executeWriteCommand(ApplicationUtils.kt:35)&#xA;&#x9;at org.jetbrains.kotlin.idea.conversion.copy.KotlinFilePasteProvider.performPaste(KotlinFilePasteProvider.kt:37)&#xA;&#x9;at com.intellij.ide.CopyPasteDelegator$MyEditable.performPaste(CopyPasteDelegator.java:143)&#xA;&#x9;at com.intellij.ide.actions.PasteAction.actionPerformed(PasteAction.java:45)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:237)&#xA;&#x9;at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$1.performAction(IdeKeyEventDispatcher.java:620)&#xA;&#x9;at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$processAction$2(IdeKeyEventDispatcher.java:669)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:195)&#xA;&#x9;at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:668)&#xA;&#x9;at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processActionOrWaitSecondStroke(IdeKeyEventDispatcher.java:520)&#xA;&#x9;at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.inInitState(IdeKeyEventDispatcher.java:475)&#xA;&#x9;at com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:212)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:697)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:382)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)" shownForIssueAuthor="false" created="1534495014341" updated="1534495036921" markdown="true"><replies/></comment></issue><issue id="KT-26224" entityId="25-2091954"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26224</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Android Jetifier: Cannot access class 'Lkotlinx.coroutines.experimental.android.HandlerContext'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Attempting to build and run the app on the emulator consistently dies with:
.... MainActivity.kt: (28, 16): Cannot access class 'Lkotlinx.coroutines.experimental.android.HandlerContext;'. Check your module classpath for missing or conflicting dependencies

Just updated to Android Studio 3.3 Canary 6
ext.kotlin_version = '1.2.70-eap-4'
Tried clearing all caches, rebooting, etc.
'HandlerContext' is not found anywhere in my code.

org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugKotlin'.
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)
	at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)
	at org.gradle.api.internal.tasks.execution.SkipCachedTaskExecuter.execute(SkipCachedTaskExecuter.java:105)
	at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)
	at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)
	at org.gradle.api.internal.tasks.execution.ResolveBuildCacheKeyExecuter.execute(ResolveBuildCacheKeyExecuter.java:66)
	at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)
	at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)
	at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)
	at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)
	at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)
	at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)
	at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)
	at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)
	at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)
	at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)
	at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:273)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:258)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.gradle.api.GradleException: Compilation error. See log for more details
	at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:16)
	at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:434)
	at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:396)
	at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:292)
	at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:254)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)
	at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)
	... 36 more</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534571039019</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534942919571</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>benjaminhill</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Benjamin Hill</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Android</value><value>Backend. JVM. Coroutines</value><valueId>Android</valueId><valueId>Backend. JVM. Coroutines</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3031164" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26224" deleted="false" text="Hello, can you please share your project (perhaps privately) for us to reproduce the problem?" shownForIssueAuthor="false" created="1534776192561" markdown="true"><replies/></comment><comment id="27-3031657" author="benjaminhill" authorFullName="Benjamin Hill" issueId="KT-26224" deleted="false" text="Huh, seems to be related to &quot;android.enableJetifier=true&quot;&#xA;Sure, project is up at https://github.com/salamanders/deconstructed-camera" shownForIssueAuthor="false" created="1534782796424" markdown="true"><replies/></comment><comment id="27-3036741" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26224" deleted="false" text="Please try the workaround suggested [here](https://github.com/Kotlin/kotlinx.coroutines/issues/367#issuecomment-414185769)." shownForIssueAuthor="false" created="1534942861547" markdown="true"><replies/></comment></issue><issue id="KT-26237" entityId="25-2092513"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26237</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Misleading suggestions for java platform calls</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Given the following function in a Spring-Boot project:

    fun countByStatus(status: InvoiceStatus) =
        jdbcTemplate.queryForObject(
            """SELECT COUNT(*) FROM invoice i WHERE i.json_data-&gt;&gt;'status'=?""", Long::class.java, status.name
        )

The return type is Long, but as it is a Java platform call, idea warns about nullability issues (see first screenshot). When I hit Alt-Enter, it suggests me to add a non-null-asserted call (!!).

However, when I follow this suggestion, it then warns me about the non-null-asserted call being unneccessary (see second screenshot)
Whatever I do, it's wrong...

Changing the function as follows fixes all the warnings. But it does not suggest this 

        fun countByStatus(status: InvoiceStatus): Long =
          jdbcTemplate.queryForObject(
            """SELECT COUNT(*) FROM invoice i WHERE i.json_data-&gt;&gt;'newStatus'=?""", Long::class.java, status.name
        )</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534748598577</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534957806948</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>post@bastian-voigt.de</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Bastian Voigt</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>13</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Glukhikh">mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Inspections and Intentions</value><valueId>IDE. Inspections and Intentions</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-557647" url="https://youtrack.jetbrains.com/_persistent/Bildschirmfoto%20von%202018-08-20%2009-01-05.png?file=74-557647&amp;c=true">Bildschirmfoto von 2018-08-20 09-01-05.png</value><value id="74-557648" url="https://youtrack.jetbrains.com/_persistent/Bildschirmfoto%20von%202018-08-20%2009-03-04.png?file=74-557648&amp;c=true">Bildschirmfoto von 2018-08-20 09-03-04.png</value><value id="74-558129" url="https://youtrack.jetbrains.com/_persistent/Bildschirmfoto%20von%202018-08-21%2009-34-11.png?file=74-558129&amp;c=true">Bildschirmfoto von 2018-08-21 09-34-11.png</value></field><comment id="27-3029650" author="Nicolay.Mitropolsky" authorFullName="Nicolay Mitropolsky" issueId="KT-26237" deleted="false" text="@post@bastian-voigt.de please tell which version of Kotlin this is about" shownForIssueAuthor="false" created="1534752518888" markdown="true"><replies/></comment><comment id="27-3029713" author="post@bastian-voigt.de" authorFullName="Bastian Voigt" issueId="KT-26237" deleted="false" text="Kotlin version is 1.2.60" shownForIssueAuthor="false" created="1534754196385" markdown="true"><replies/></comment><comment id="27-3031600" author="Nicolay.Mitropolsky" authorFullName="Nicolay Mitropolsky" issueId="KT-26237" deleted="false" text="&gt; Changing the function as follows fixes all the warnings. But it does not suggest this&#xA;&#xA;Strange, it does for me. And I can't see a warning that `!!` is unnecessary...&#xA;&#xA;What is your IDEA version then?" shownForIssueAuthor="false" created="1534780908608" markdown="true"><replies/></comment><comment id="27-3032575" author="post@bastian-voigt.de" authorFullName="Bastian Voigt" issueId="KT-26237" deleted="false" text="2018.1.5. I also added a screenshot with the detailed info" shownForIssueAuthor="false" created="1534836946459" markdown="true"><replies/></comment><comment id="27-3035328" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26237" deleted="false" text="@post@bastian-voigt.de Could you share your project with us to reproduce the issue? We mostly need the project configuration, i.e. the content of pom.xml or build.gradle." shownForIssueAuthor="false" created="1534889976377" markdown="false"><replies/></comment><comment id="27-3036132" author="post@bastian-voigt.de" authorFullName="Bastian Voigt" issueId="KT-26237" deleted="false" text="Sorry that's not possible as this is a real-world customer project. You can ask me questions about the build.gradle and I can answer :)" shownForIssueAuthor="false" created="1534932996228" markdown="true"><replies/></comment><comment id="27-3036133" author="post@bastian-voigt.de" authorFullName="Bastian Voigt" issueId="KT-26237" deleted="false" text="It's gradle-wrapper 4.9, spring-boot 2.0.4 and Kotlin 1.2.60" shownForIssueAuthor="false" created="1534933019877" markdown="true"><replies/></comment><comment id="27-3036189" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26237" deleted="false" text="Can you post the set of dependencies in build.gradle?&#xA;Typically `dependencies { ... }` section is enough. However, some Gradle plugins add dependencies implicitly. If you know such dependencies in your project mention them also, please.&#xA;&#xA;Actually `plugins { ... }` and `dependencies { ... }` section together could help." shownForIssueAuthor="false" created="1534934461112" updated="1534934590740" markdown="false"><replies/></comment><comment id="27-3036516" author="post@bastian-voigt.de" authorFullName="Bastian Voigt" issueId="KT-26237" deleted="false" text="Today I upgraded to 2018.2 and the latest kotlin plugin. Problem is still there." shownForIssueAuthor="false" created="1534939572793" markdown="true"><replies/></comment><comment id="27-3036519" author="post@bastian-voigt.de" authorFullName="Bastian Voigt" issueId="KT-26237" deleted="false" text="buildscript{    dependencies {&#xA;        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;&#xA;        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)&#xA;    }&#xA;}" shownForIssueAuthor="false" created="1534939601533" markdown="true"><replies/></comment><comment id="27-3036520" author="post@bastian-voigt.de" authorFullName="Bastian Voigt" issueId="KT-26237" deleted="false" text="plugins {&#xA;    // Use task dependencyUpdates to check for updates&#xA;    id &quot;com.github.ben-manes.versions&quot; version &quot;0.20.0&quot;&#xA;}" shownForIssueAuthor="false" created="1534939623306" markdown="true"><replies/></comment><comment id="27-3036523" author="post@bastian-voigt.de" authorFullName="Bastian Voigt" issueId="KT-26237" deleted="false" text="dependencies {&#xA;    compile &quot;org.springframework.boot:spring-boot-starter-web:$springBootVersion&quot;&#xA;    compile &quot;org.springframework.boot:spring-boot-starter-jdbc:$springBootVersion&quot;&#xA;&#xA;    compile &quot;org.postgresql:postgresql:42.2.4&quot;&#xA;    compile &quot;org.flywaydb:flyway-core:5.0.7&quot;&#xA;    compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;&#xA;    compile &quot;org.jetbrains.kotlin:kotlin-reflect:$kotlin_version&quot;&#xA;    compile &quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.9.6&quot;&#xA;    compile &quot;de.siegmar:logback-gelf:1.1.0&quot;&#xA;    compile 'com.jcraft:jsch:0.1.54'&#xA;    compile 'com.google.guava:guava:26.0-jre'&#xA;    compile 'org.apache.commons:commons-csv:1.5'&#xA;&#xA;    testCompile(&quot;org.springframework.boot:spring-boot-starter-test:$springBootVersion&quot;) {&#xA;        exclude group: &quot;junit&quot;, module: &quot;junit&quot;&#xA;    }&#xA;    testCompile &quot;com.opentable.components:otj-pg-embedded:0.12.0&quot;&#xA;    testCompile &quot;com.nhaarman:mockito-kotlin:1.6.0&quot;&#xA;    testCompile &quot;org.springframework.cloud:spring-cloud-contract-wiremock:2.0.1.RELEASE&quot;&#xA;    testCompile 'org.apache.sshd:sshd-sftp:2.0.0'&#xA;&#xA;    testImplementation &quot;org.junit.jupiter:junit-jupiter-api:$junit_version&quot;&#xA;    testImplementation &quot;org.junit.jupiter:junit-jupiter-params:$junit_version&quot;&#xA;    testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:$junit_version&quot;&#xA;}" shownForIssueAuthor="false" created="1534939652600" markdown="true"><replies/></comment><comment id="27-3037469" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26237" deleted="false" text="Thank you.&#xA;I've re-created all the same dependencies and plugins, but can't reproduce the issue to the moment.&#xA;For me quick fix to add `!!` is suggested, but after applying it, no warning is shown.&#xA;&#xA;Just for case my dummy declarations are:&#xA;```&#xA;var jdbcTemplate = JdbcTemplate()&#xA;data class InvoiceStatus(val name: String)&#xA;```" shownForIssueAuthor="false" created="1534957806963" markdown="false"><replies/></comment></issue><issue id="KT-26238" entityId="25-2092553"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26238</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Goto implementation from interface to delegated implementation puts caret at the beginning of the file</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Navigate to implementation (cmd + alt + B on mac) works not very accurately when invoked from interface method to implementation class which delegates interface implementation.

Example:
`JavaInterface.java:`
```
public interface JavaInterface {
    void &lt;caret&gt;method();
}
```

`KtImplementation.kt:`
```
class KtImplementation(val delegate: JavaInterface) : JavaInterface by delegate {
    /**
     *
     */
}
```

Navigate to implementation just makes tab with `KtImplementation.kt` active without updating cursor position.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534750642973</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534837475204</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alexander.Luyblinsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Luyblinsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2620</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Navigation</value><valueId>IDE. Navigation</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3031041" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26238" deleted="false" text="Tried with Kotlin plugin 1.2.60, IDEA 2018.2.1. Navigating from `void &lt;caret&gt;method();` goes to `&lt;caret&gt;class KtImplementation`, at least in a sandbox project. Can you confirm?" shownForIssueAuthor="false" created="1534774733640" markdown="true"><replies/></comment><comment id="27-3032551" author="Alexander.Luyblinsky" authorFullName="Alexander Luyblinsky" issueId="KT-26238" deleted="false" text="@Alexey.Belkov Sorry, my example above not very representative and in fact little confusing. Actually with recent Kotlin version it navigates to the beginning of file, not to class itself.&#xA;Please try this example instead:&#xA;`KtImplementation.kt`&#xA;```&#xA;/**&#xA; * Sneaky comment here&#xA; */&#xA;class KtImplementation(val delegate: JavaInterface) : JavaInterface by delegate {}&#xA;```&#xA;Kotlin 1.2.61-release-IJ2018.2-1, 2018.2 Build #IU-182.3911.6" shownForIssueAuthor="false" created="1534836445687" markdown="false"><replies/></comment><comment id="27-3032616" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26238" deleted="false" text="Thank you, reproduced." shownForIssueAuthor="false" created="1534837475209" markdown="true"><replies/></comment></issue><issue id="KT-26250" entityId="25-2093357"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26250</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Log spam from KotlinCacheService "Creating cache with synthetic files" every few milliseconds</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I've got megabytes of this in my logs:

    2018-08-20 13:57:51,130 [3052837]   WARN - hes.resolve.KotlinCacheService - Creating cache with synthetic files ([KtFile: PyTestParamterized.kt]) in classes of library SdkInfo(project=Project 'C:\Users\Christian\Documents\workspace\checkout' Eclipse Workspace, sdk=IntelliJ IDEA IU-181.4445.4: java version "1.8.0_131" (C:/Users/Christian/AppData/Local/JetBrains/Toolbox/apps/IDEA-U/ch-1/182.4129.26)) 
Starts at: 2018-08-20 13:55:27,645

The exceptions above are from my liveplugin experiments, had an exception in my MultiHostInjector which I fixed.

IntelliJ IDEA 2018.2.2 (Ultimate Edition)
Build #IU-182.4129.26, built on August 16, 2018
Subscription is active until March 14, 2019
JRE: 1.8.0_152-release-1248-b8 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 10 10.0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534766697147</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536137848744</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Podkhalyuzin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>vqrslogin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Chris</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Configuration</value><valueId>IDE. Configuration</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26260" entityId="25-2093878"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26260</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>OutOfMemoryError in dokka</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Java 64-bit, Xmx 378m. Process failed with OOME:

Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
at java.util.Arrays.copyOf(Unknown Source)
at java.lang.AbstractStringBuilder.ensureCapacityInternal(Unknown Source)
at java.lang.AbstractStringBuilder.append(Unknown Source)
at java.lang.StringBuilder.append(Unknown Source)
at org.jetbrains.dokka.HtmlFormatService.appendOutlineHeader(HtmlFormatService.kt:126)
at org.jetbrains.dokka.OutlineFormatService$DefaultImpls.appendOutline(OutlineService.kt:17)
at org.jetbrains.dokka.HtmlFormatService.appendOutline(HtmlFormatService.kt:113)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:21)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:8)
at org.jetbrains.dokka.HtmlFormatService.appendOutlineLevel(HtmlFormatService.kt:131)
at org.jetbrains.dokka.OutlineFormatService$DefaultImpls.appendOutline(OutlineService.kt:20)
at org.jetbrains.dokka.HtmlFormatService.appendOutline(HtmlFormatService.kt:113)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:21)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:8)
at org.jetbrains.dokka.HtmlFormatService.appendOutlineLevel(HtmlFormatService.kt:131)
at org.jetbrains.dokka.OutlineFormatService$DefaultImpls.appendOutline(OutlineService.kt:20)
at org.jetbrains.dokka.HtmlFormatService.appendOutline(HtmlFormatService.kt:113)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:21)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:8)
at org.jetbrains.dokka.HtmlFormatService.appendOutlineLevel(HtmlFormatService.kt:131)
at org.jetbrains.dokka.OutlineFormatService$DefaultImpls.appendOutline(OutlineService.kt:20)
at org.jetbrains.dokka.HtmlFormatService.appendOutline(HtmlFormatService.kt:113)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:21)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:8)
at org.jetbrains.dokka.HtmlFormatService.appendOutlineLevel(HtmlFormatService.kt:131)
at org.jetbrains.dokka.OutlineFormatService$DefaultImpls.appendOutline(OutlineService.kt:20)
at org.jetbrains.dokka.HtmlFormatService.appendOutline(HtmlFormatService.kt:113)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:21)
at org.jetbrains.dokka.OutlineFormatService$appendOutline$1.invoke(OutlineService.kt:8)
at org.jetbrains.dokka.HtmlFormatService.appendOutlineLevel(HtmlFormatService.kt:131)
at org.jetbrains.dokka.OutlineFormatService$DefaultImpls.appendOutline(OutlineService.kt:20)
at org.jetbrains.dokka.HtmlFormatService.appendOutline(HtmlFormatService.kt:113)
</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534778271810</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534778285902</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>pavel.sher</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Pavel Sher</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>pavel.sher</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Pavel Sher</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">TW-56408</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Dokka</value><valueId>Tools. Dokka</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26263" entityId="25-2093973"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26263</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Java-to-Kotlin generator erroneously replaces equals with ==</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>For the following Java code:

```java
import java.util.Objects;

public class Tester {

  static final class Foo {
    public final String v;

    Foo(String v) { this.v = v; }

    @Override
    public int hashCode() { return Objects.hash(v); }

    @Override
    public boolean equals(Object obj) {
      if (obj instanceof Foo) return Objects.equals(v, ((Foo) obj).v);
      if (obj instanceof Bar) return Objects.equals(v, ((Bar) obj).v);
      return false;
    }
  }

  static final class Bar {
    public final String v;

    Bar(String v) { this.v = v; }

    @Override
    public int hashCode() { return Objects.hash(v); }

    @Override
    public boolean equals(Object obj) {
      if (obj instanceof Foo) return Objects.equals(v, ((Foo) obj).v);
      if (obj instanceof Bar) return Objects.equals(v, ((Bar) obj).v);
      return false;
    }
  }

  public static void main(String[] args) {
    System.out.println("Equal? " + (new Foo("test").equals(new Bar("test"))));
  }
}
```

It is converted to the following in Kotlin:

```kotlin
import java.util.*

object Tester {

    internal class Foo(val v: String) {

        override fun hashCode(): Int {
            return Objects.hash(v)
        }

        override fun equals(obj: Any?): Boolean {
            if (obj is Foo) return v == obj.v
            return if (obj is Bar) v == obj.v else false
        }
    }

    internal class Bar(val v: String) {

        override fun hashCode(): Int {
            return Objects.hash(v)
        }

        override fun equals(obj: Any?): Boolean {
            if (obj is Foo) return v == obj.v
            return if (obj is Bar) v == obj.v else false
        }
    }

    @JvmStatic
    fun main(args: Array&lt;String&gt;) {
        println("Equal? " + (Foo("test") == Bar("test")))
    }
}
```

Which (unfortunately) fails compilation due to equality comparison on unrelated non-open classes. While ideally `equals` should be `==` in these cases like all the others IMO, at the least the code converter should not convert to erroring Kotlin code.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534781559906</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534788321532</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cretz</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Chad Retz</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-25050</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. J2K</value><valueId>Tools. J2K</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26300" entityId="25-2095556"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26300</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Smartcasts don't work if pass same fields of instances of the same class in contract function with conjunction not-null condition</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Example:
```
fun funWithContract(value1: Any?, value2: Any?) {
    contract {
        returns() implies (value1 != null &amp;&amp; value2 != null)
    }
    if (!(value1 != null &amp;&amp; value2 != null)) throw Exception()
}
class case_4_class {
    val prop_1: Int? = 1
    val prop_2: Int? = 2
    fun case_4() {
        val o = case_4_class()
        val o2 = case_4_class()
        funWithContract(o.prop_2, o2.prop_2)
        println(o.prop_2.plus(3))
        println(o2.prop_2.plus(3)) // nullable receiver
    }
}
```
But it's OK:
1.
```
class case_4_class {
    val prop_1: Int? = 1
    val prop_2: Int? = 2
    fun case_4() {
        val o = case_4_class()
        val o2 = case_4_class()
        funWithContract(o.prop_2, o2.prop_1)
        println(o.prop_2.plus(3))
        println(o2.prop_1.plus(3)) // OK
    }
}
```
2.
```
class case_3_class {
    val prop_2: Int? = 10
}
class case_4_class {
    val prop_2: Int? = 10
    fun case_4() {
        val o = case_4_class()
        val o2 = case_3_class()
        funWithContract(o.prop_2, o2.prop_2)
        println(o.prop_2.plus(3))
        println(o2.prop_2.plus(3)) // OK
    }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534871809960</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536320468410</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Victor.Petukhov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Victor Petukhov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.3.20</value><valueId>1.3.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Dmitry Savvinov">Dmitry.Savvinov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend</value><valueId>Frontend</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M1</value><valueId>1.3-M1</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26303" entityId="25-2095631"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26303</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Suspicious overload resolution ambiguity on Kotlin/JS</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>For the following code

```
package foo

operator fun Int.invoke() = null
fun Int.foo() = null
```

and its somewhat funky, but valid use

```
import foo.foo as invoke
import foo.invoke

fun main(args: Array&lt;String&gt;) {
    42() // Overload resolution ambiguity here
}
```

we get an overload resolution ambiguity.

At the same time, `42()` gets resolved to the operator `invoke` on Kotlin/JVM (which seems the correct thing to do).

Who is right and what should we fix here?</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534873309452</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920719758</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ice-phoenix</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Marat Akhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>5</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-558442" url="https://youtrack.jetbrains.com/_persistent/kt-26303.zip?file=74-558442&amp;c=true">kt-26303.zip</value></field><comment id="27-3035182" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-26303" deleted="false" text="@ice-phoenix could you please provide more info? How do you compile it? Which version of compiler (IDE plugin, Gradle plugin and so on) do you use?" shownForIssueAuthor="false" created="1534880939399" markdown="true"><replies/></comment><comment id="27-3035183" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-26303" deleted="false" text="@ice-phoenix maybe you could share the project where it's reproduced for you?" shownForIssueAuthor="false" created="1534880997168" markdown="true"><replies/></comment><comment id="27-3035277" author="ice-phoenix" authorFullName="Marat Akhin" issueId="KT-26303" deleted="false" text="Attached please find the project which reproduces the issue.&#xA;&#xA;It also reproduces on a fresh project with `-Xnew-inference`." shownForIssueAuthor="false" created="1534886528843" markdown="true"><replies/></comment><comment id="27-3035878" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-26303" deleted="false" text="Reproduced only with `-Xnew-inference`. @zarechenskiy please take a look." shownForIssueAuthor="false" created="1534927569361" markdown="true"><replies/></comment><comment id="27-3035882" author="Zalim.Bashorov" authorFullName="Zalim Bashorov" issueId="KT-26303" deleted="false" text="@ice-phoenix thank you!" shownForIssueAuthor="false" created="1534927614871" markdown="true"><replies/></comment></issue><issue id="KT-26315" entityId="25-2096240"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26315</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Temporary variables created by devirtualization are not boxed correctly</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider the following code:
```
interface Foo&lt;T&gt; {
    fun foo(t: T)
}

val foo = object: Foo&lt;Int&gt; {
    override fun foo(t: Int) {}
}

fun main(args: Array&lt;String&gt;) {
    val a = arrayOf(1)
    foo.foo(a[0])
}
```

If we run the compiler with `-g` flag, the compilation fails with the following message:

```
Call parameter type does not match function signature!
  %tmp1 = alloca i32, !dbg !42
 %struct.ObjHeader**  call void @UpdateRef(i32* %tmp1, %struct.ObjHeader* %24), !dbg !49
Call parameter type does not match function signature!
  %30 = load i32, i32* %tmp1, !dbg !49
 %struct.ObjHeader*  invoke void @"kfun:object-1.$&lt;bridge-NNNU&gt;foo(kotlin.Int)#internal"(%struct.ObjHeader* %29, i32 %30)
          to label %call_success6 unwind label %cleanup_landingpad, !dbg !49
...
error: compilation failed: Invalid module
```

In bitcode, we create a temporary `i32` variable and try to put an object reference loaded from the array into it. Disabling devirtualization fixes the issue so it looks like the problem is somewhere between devirtualization and boxing.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534930521441</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535094526820</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Ilya.Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Matveev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Igor Chevdar">Igor.Chevdar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26317" entityId="25-2096264"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26317</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Coroutine intrinsics don't capture variables properly</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Sometimes (I'm not able to extract smaller reproducer) captured variables are not updated properly from coroutines intrinsics.

See workaround (revert it in `develop` branch to reproduce the bug):
https://github.com/Kotlin/kotlinx.coroutines/commit/bbe6d8a915b2be9c0a7ff9d92677c878718fa219
Without it `WithTimeoutOrNullTest` starts to fail because `coroutine` variable is always `null`.
Tests can be run with `./gradlew :kotlinx-coroutines-core-native:test`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534931637713</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535094543570</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Vsevolod.Tolstopyatov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vsevolod Tolstopyatov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Svyatoslav Scherbina">Svyatoslav.Scherbina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26329" entityId="25-2096602"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26329</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>We should be able to report errors in common module provoked by different compiler flags in platform module</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534941897978</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1534964793566</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mikhail Glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-24435</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Pavel Talanov">pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Highlighting</value><value>IDE. Multiplatform</value><valueId>IDE. Highlighting</valueId><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c0">multiplatform</tag></issue><issue id="KT-26336" entityId="25-2096863"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26336</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Default lambda argument in inline function - Can't find method 'invoke()Ljava/lang/Throwable;</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Hello,
i am trying to write some string to enum inline mapping functions and i got compilation error.

kotlin version: 1.2.61

Code base to simulate

```
enum class TarEnum {
    VAL
}
inline fun &lt;reified T : Enum&lt;T&gt;&gt; String?.enumOrNull(): T? {
    this ?: return null
    return enumValues&lt;T&gt;().firstOrNull { it.name == this }
}

inline fun &lt;reified T : Enum&lt;T&gt;&gt; String?.enumOrThrow(handleNull: () -&gt; Throwable = { IllegalArgumentException("Enum type ${T::class.java} not contain value=$this") }): T {
    return this.enumOrNull&lt;T&gt;() ?: throw handleNull()
}
```

When i use previous code like this it compile fine.
```
fun main(args: Array&lt;String&gt;) {
    "VAL".enumOrThrow&lt;TarEnum&gt;() { IllegalArgumentException() }
}
```
But this usage produce error message bellow
```
fun main(args: Array&lt;String&gt;) {
    "VAL".enumOrThrow&lt;TarEnum&gt;()
}
```

```stacktrace
Cause: enumOrThrow$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)Ljava/lang/Enum;:
   L0
   L1
    LINENUMBER 12 L1
    ALOAD 0
    INVOKESTATIC $$$DEFAULT_LAMBDA_FAKE_CALL$$$.$$$DEFAULT_LAMBDA_FAKE_CALL$$$1 (Ljava/lang/String;)V
   L2
   L3
   L4
   L5
    LINENUMBER 19 L5
    ALOAD 0
    ASTORE 3
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
    NOP
   L6
    LINENUMBER 20 L6
    ALOAD 3
    DUP
    IFNULL L7
    GOTO L8
   L7
    POP
    ACONST_NULL
    NOP
    GOTO L9
   L10
   L11
   L8
    POP
   L12
    LINENUMBER 21 L12
    NOP
    INVOKESTATIC cz/example/TarEnum.values ()[Lcz/example/TarEnum;
    NOP
    GOTO L13
   L13
    ASTORE 4
   L14
    LINENUMBER 21 L14
    NOP
   L15
    LINENUMBER 22 L15
    ALOAD 4
    ARRAYLENGTH
    ISTORE 5
    ICONST_0
    ISTORE 6
   L16
    ILOAD 6
    ILOAD 5
    IF_ICMPGE L17
    ALOAD 4
    ILOAD 6
    AALOAD
    ASTORE 7
   L18
    ALOAD 7
    CHECKCAST java/lang/Enum
    ASTORE 8
   L19
    LINENUMBER 21 L19
    ALOAD 8
    INVOKEVIRTUAL java/lang/Enum.name ()Ljava/lang/String;
    ALOAD 3
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.areEqual (Ljava/lang/Object;Ljava/lang/Object;)Z
   L20
    NOP
    GOTO L21
   L21
    INVOKESTATIC java/lang/Boolean.valueOf (Z)Ljava/lang/Boolean;
    CHECKCAST java/lang/Boolean
    INVOKEVIRTUAL java/lang/Boolean.booleanValue ()Z
    IFEQ L22
    ALOAD 7
    NOP
    GOTO L23
   L22
    IINC 6 1
   L24
    GOTO L16
   L17
    LINENUMBER 23 L17
    ACONST_NULL
    NOP
    GOTO L23
   L23
    CHECKCAST java/lang/Enum
    NOP
    GOTO L9
   L25
   L26
   L9
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    DUP
    IFNULL L27
    GOTO L28
   L27
    POP
   L29
    LINENUMBER 19 L29
    ALOAD 1
    INVOKEINTERFACE kotlin/jvm/functions/Function0.invoke ()Ljava/lang/Object;
    CHECKCAST java/lang/Throwable
    ATHROW
    ACONST_NULL
   L28
    ARETURN
   L30
   L31
    ARETURN
    LOCALVARIABLE it$iv Ljava/lang/Enum; L19 L21 8
    LOCALVARIABLE $i$a$1$firstOrNull I L19 L21 9
    LOCALVARIABLE element$iv$iv Ljava/lang/Object; L18 L24 7
    LOCALVARIABLE $receiver$iv$iv [Ljava/lang/Object; L15 L23 4
    LOCALVARIABLE $i$f$firstOrNull I L15 L23 10
    LOCALVARIABLE $receiver$iv Ljava/lang/String; L6 L26 3
    LOCALVARIABLE $i$f$enumOrNull I L6 L26 11
    LOCALVARIABLE $receiver Ljava/lang/String; L0 L31 0
    LOCALVARIABLE handleNull Lkotlin/jvm/functions/Function0; L2 L31 1
    LOCALVARIABLE $i$f$enumOrThrow I L3 L31 2
    MAXSTACK = 3
    MAXLOCALS = 12

Cause: Can't find method 'invoke()Ljava/lang/Throwable;' in 'cz/example/ExampleKt$enumOrThrow$1'
File being compiled at position: (17,11) in C:/work/app/src/main/kotlin/cz/example/Example.kt
The root cause was thrown at: LambdaInfo.kt:158
File being compiled at position: file://C:/work/app/src/main/kotlin/cz/example/Example.kt
The root cause was thrown at: InlineCodegen.kt:124
        at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)
        at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
        at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:442)
        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyzeAndGenerate(KotlinToJVMBytecodeCompiler.kt:349)
        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileBunchOfSources(KotlinToJVMBytecodeCompiler.kt:242)
        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:200)
        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)
        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:95)
        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:50)
        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:88)
        at org.jetbrains.kotlin.maven.KotlinCompileMojoBase.execCompiler(KotlinCompileMojoBase.java:237)
        at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execCompiler(K2JVMCompileMojo.java:237)
        at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execCompiler(K2JVMCompileMojo.java:55)
        at org.jetbrains.kotlin.maven.KotlinCompileMojoBase.execute(KotlinCompileMojoBase.java:220)
        at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execute(K2JVMCompileMojo.java:222)
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)
        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)
        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:954)
        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:192)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'enumOrThrow' into
public fun main(args: kotlin.Array&lt;kotlin.String&gt;): kotlin.Unit defined in cz.example in file Example.kt
fun main(args: Array&lt;String&gt;) {
    "VAL".enumOrThrow&lt;TarEnum&gt;()
}
Cause: enumOrThrow$default (Ljava/lang/String;Lkotlin/jvm/functions/Function0;ILjava/lang/Object;)Ljava/lang/Enum;:
   L0
   L1
    LINENUMBER 12 L1
    ALOAD 0
    INVOKESTATIC $$$DEFAULT_LAMBDA_FAKE_CALL$$$.$$$DEFAULT_LAMBDA_FAKE_CALL$$$1 (Ljava/lang/String;)V
   L2
   L3
   L4
   L5
    LINENUMBER 19 L5
    ALOAD 0
    ASTORE 3
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.beforeInlineCall ()V
    NOP
   L6
    LINENUMBER 20 L6
    ALOAD 3
    DUP
    IFNULL L7
    GOTO L8
   L7
    POP
    ACONST_NULL
    NOP
    GOTO L9
   L10
   L11
   L8
    POP
   L12
    LINENUMBER 21 L12
    NOP
    INVOKESTATIC cz/example/TarEnum.values ()[Lcz/example/TarEnum;
    NOP
    GOTO L13
   L13
    ASTORE 4
   L14
    LINENUMBER 21 L14
    NOP
   L15
    LINENUMBER 22 L15
    ALOAD 4
    ARRAYLENGTH
    ISTORE 5
    ICONST_0
    ISTORE 6
   L16
    ILOAD 6
    ILOAD 5
    IF_ICMPGE L17
    ALOAD 4
    ILOAD 6
    AALOAD
    ASTORE 7
   L18
    ALOAD 7
    CHECKCAST java/lang/Enum
    ASTORE 8
   L19
    LINENUMBER 21 L19
    ALOAD 8
    INVOKEVIRTUAL java/lang/Enum.name ()Ljava/lang/String;
    ALOAD 3
    INVOKESTATIC kotlin/jvm/internal/Intrinsics.areEqual (Ljava/lang/Object;Ljava/lang/Object;)Z
   L20
    NOP
    GOTO L21
   L21
    INVOKESTATIC java/lang/Boolean.valueOf (Z)Ljava/lang/Boolean;
    CHECKCAST java/lang/Boolean
    INVOKEVIRTUAL java/lang/Boolean.booleanValue ()Z
    IFEQ L22
    ALOAD 7
    NOP
    GOTO L23
   L22
    IINC 6 1
   L24
    GOTO L16
   L17
    LINENUMBER 23 L17
    ACONST_NULL
    NOP
    GOTO L23
   L23
    CHECKCAST java/lang/Enum
    NOP
    GOTO L9
   L25
   L26
   L9
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.afterInlineCall ()V
    DUP
    IFNULL L27
    GOTO L28
   L27
    POP
   L29
    LINENUMBER 19 L29
    ALOAD 1
    INVOKEINTERFACE kotlin/jvm/functions/Function0.invoke ()Ljava/lang/Object;
    CHECKCAST java/lang/Throwable
    ATHROW
    ACONST_NULL
   L28
    ARETURN
   L30
   L31
    ARETURN
    LOCALVARIABLE it$iv Ljava/lang/Enum; L19 L21 8
    LOCALVARIABLE $i$a$1$firstOrNull I L19 L21 9
    LOCALVARIABLE element$iv$iv Ljava/lang/Object; L18 L24 7
    LOCALVARIABLE $receiver$iv$iv [Ljava/lang/Object; L15 L23 4
    LOCALVARIABLE $i$f$firstOrNull I L15 L23 10
    LOCALVARIABLE $receiver$iv Ljava/lang/String; L6 L26 3
    LOCALVARIABLE $i$f$enumOrNull I L6 L26 11
    LOCALVARIABLE $receiver Ljava/lang/String; L0 L31 0
    LOCALVARIABLE handleNull Lkotlin/jvm/functions/Function0; L2 L31 1
    LOCALVARIABLE $i$f$enumOrThrow I L3 L31 2
    MAXSTACK = 3
    MAXLOCALS = 12

Cause: Can't find method 'invoke()Ljava/lang/Throwable;' in 'cz/example/ExampleKt$enumOrThrow$1'
File being compiled at position: (17,11) in C:/work/app/src/main/kotlin/cz/example/Example.kt
The root cause was thrown at: LambdaInfo.kt:158
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:164)
        at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:667)
        at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)
        at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:648)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2403)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2351)
        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
        at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
        at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:347)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:332)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1627)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:643)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:399)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:251)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:172)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:142)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:199)
        at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
        ... 39 more
Caused by: java.lang.IllegalStateException: Can't find method 'invoke()Ljava/lang/Throwable;' in 'cz/example/ExampleKt$enumOrThrow$1'
        at org.jetbrains.kotlin.codegen.inline.DefaultLambda.generateLambdaBody(LambdaInfo.kt:158)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:312)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:245)
        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)
        ... 65 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1534949801618</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535010659651</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>whiskass</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vaclav Stengl</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-24477</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.10</value><value>1.2.61</value><valueId>1.2.10</valueId><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3038119" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26336" deleted="false" text="Thank you. Simplified:&#xA;&#xA;```&#xA;inline fun foo(&#xA;    f: () -&gt; Throwable = { IllegalArgumentException() }&#xA;) {}&#xA;&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    foo()&#xA;}&#xA;```&#xA;&#xA;Note: explicitly casting to `Throwable` does not produce the error:&#xA;&#xA;```&#xA;inline fun foo(&#xA;    f: () -&gt; Throwable = { IllegalArgumentException() as Throwable }&#xA;) {}&#xA;```&#xA;&#xA;Note: looks very similar to KT-24477." shownForIssueAuthor="false" created="1535010594032" updated="1535010791913" markdown="true"><replies/></comment></issue><issue id="KT-26342" entityId="25-2097339"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26342</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin blog: I don't see code examples</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535004903041</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535638116581</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Roman_Belov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Roman Belov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nleo</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vasiliy Shirokov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-558904" url="https://youtrack.jetbrains.com/_persistent/Screenshot_2018-08-23%20Basic%20Syntax%20-%20Kotlin%20Programming%20Language.png?file=74-558904&amp;c=true">Screenshot_2018-08-23 Basic Syntax - Kotlin Programming Language.png</value><value id="74-558905" url="https://youtrack.jetbrains.com/_persistent/Screenshot%20from%202018-08-23%2010-14-45.png?file=74-558905&amp;c=true">Screenshot from 2018-08-23 10-14-45.png</value><value id="74-561285" url="https://youtrack.jetbrains.com/_persistent/chrome.jpg?file=74-561285&amp;c=true">chrome.jpg</value><value id="74-561286" url="https://youtrack.jetbrains.com/_persistent/chrome%20problem.jpg?file=74-561286&amp;c=true">chrome problem.jpg</value><value id="74-561288" url="https://youtrack.jetbrains.com/_persistent/image1535622891545.png?file=74-561288&amp;c=true">image1535622891545.png</value></field><comment id="27-3037989" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26342" deleted="false" text="Please try disabling all browser extensions, opening in incognito mode, or try a different browser. Does it help?" shownForIssueAuthor="false" created="1535006737586" markdown="true"><replies/></comment><comment id="27-3047287" author="kirill.timofeev" authorFullName="Kirill Timofeev" issueId="KT-26342" deleted="false" text="Have the same issue with mobile chrome (no extensions) and FF (adblock plus) on android 7&#xA;FF version 61.0.2" shownForIssueAuthor="false" created="1535622893685" updated="1535622911366" markdown="true"><replies/></comment><comment id="27-3047304" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26342" deleted="false" text="Note: still can't reproduce on latest versions of Chrome and Firefox (Android 8)." shownForIssueAuthor="false" created="1535623413631" markdown="true"><replies/></comment><comment id="27-3047961" author="Roman_Belov" authorFullName="Roman Belov" issueId="KT-26342" deleted="false" text="I'm afraid that could be RosComNadzor issue. @kirill.timofeev @nleo please try again through VPN or proxy" shownForIssueAuthor="false" created="1535638116587" markdown="false"><replies/></comment></issue><issue id="KT-26346" entityId="25-2097403"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26346</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"VerifyError" for inline function with reified parameter returning anonymous object with Enum usage</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Got the following error:
```
java.lang.VerifyError: Bad return type
Exception Details:
  Location:
    scientifik/kplot/common/specifications/GenericAxisSpecification$$special$$inlined$enum$1.getValue(Lscientifik/kplot/common/config/Configuration;Lkotlin/reflect/KProperty;)Ljava/lang/Enum; @64: areturn
  Reason:
    Type 'java/lang/Object' (current frame, stack[0]) is not assignable to 'java/lang/Enum' (from method signature)
  Current Frame:
    bci: @64
    flags: { }
    locals: { 'scientifik/kplot/common/specifications/GenericAxisSpecification$$special$$inlined$enum$1', 'scientifik/kplot/common/config/Configuration', 'kotlin/reflect/KProperty' }
    stack: { 'java/lang/Object' }
  Bytecode:
    0x0000000: 2b12 22b8 0028 2c12 2ab8 0028 2b2a b400
    0x0000010: 1259 c600 06a7 000a 572c b900 3001 00b9
    0x0000020: 0036 0200 b800 3c59 c600 134e 2d3a 0419
    0x0000030: 04b8 0042 59c6 0006 a700 0857 2ab4 0016
    0x0000040: b0                                     
  Stackmap Table:
    full_frame(@24,{Object[#2],Object[#50],Object[#44]},{Object[#50],Object[#73]})
    full_frame(@31,{Object[#2],Object[#50],Object[#44]},{Object[#50],Object[#73]})
    same_locals_1_stack_item_frame(@59,Object[#5])
    same_locals_1_stack_item_frame(@64,Object[#5])
```
on application start.

I think it is somehow connected to this code:

```kotlin
inline fun &lt;reified E : Enum&lt;E&gt;&gt; Configuration.enum(default: E, key: String? = null) = object : ReadWriteProperty&lt;Configuration, E&gt; {
    override fun getValue(thisRef: Configuration, property: KProperty&lt;*&gt;): E {
        return (thisRef[key ?: property.name].string)?.let { enumValueOf&lt;E&gt;(it) } ?: default
    }

    override fun setValue(thisRef: Configuration, property: KProperty&lt;*&gt;, value: E) {
        thisRef[key ?: property.name] = value.name
    }
}
```

because it is the only place where Enums are really used. The code is in the common module and it is called from JVM module.

IntelliJ IDEA 2018.2.2 (Ultimate Edition)
Build #IU-182.4129.33, built on August 21, 2018
JRE: 1.8.0_152-release-1248-b8 amd64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
Windows 10 10.0

Kotlin plugin and library: 1.2.61</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535009879802</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535116525904</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>darksnake</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Nozik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26348</value><value type="Similar" role="similar to">KT-17390</value><value type="Similar" role="similar to">KT-17431</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.10</value><value>1.2.61</value><valueId>1.2.10</valueId><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3038139" author="darksnake" authorFullName="Alexander Nozik" issueId="KT-26346" deleted="false" text="A Workaround is to remove inlining and implement actual enum resolution on JVM:&#xA;```kotlin&#xA;internal actual fun &lt;E : Enum&lt;E&gt;&gt; strToEnum(type: KClass&lt;out E&gt;, name: String): E {&#xA;    return java.lang.Enum.valueOf(type.java as Class&lt;E&gt;, name)&#xA;}&#xA;```" shownForIssueAuthor="false" created="1535011127781" markdown="true"><replies/></comment><comment id="27-3040802" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26346" deleted="false" text="Thank you, reproduced in a regular Kotlin project. Sample code:&#xA;&#xA;```&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    enum(Color.BLUE)&#xA;}&#xA;&#xA;inline fun &lt;reified E : Enum&lt;E&gt;&gt; enum(default: E) = object {&#xA;    fun foo(): E = enumValueOf&lt;E&gt;(&quot;BLUE&quot;) ?: default&#xA;}&#xA;&#xA;enum class Color { BLUE }&#xA;```&#xA;&#xA;Looks like a duplicate of KT-17390, or at least very similar." shownForIssueAuthor="false" created="1535116472694" markdown="false"><replies/></comment></issue><issue id="KT-26366" entityId="25-2098514"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26366</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>UseExperimental with full qualified reference to marker annotation class is reported as error</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>With all necessary compiler flags provide some experimental API marker:
```
package feature.experimental.add

@Experimental annotation class LocalMarker
```

Refer to it from `@UseExperimental` with full qualified name:
```
@UseExperimental(feature.experimental.add.LocalMarker::class)
fun someFun() {}
```

Both compiler and IDE report EXPERIMENTAL_MARKER_CAN_ONLY_BE_USED_AS_ANNOTATION_OR_ARGUMENT_IN_USE_EXPERIMENTAL error:
&gt; Error:(1, 49) Kotlin: This class can only be used as an annotation or as an argument to @UseExperimental

But why?
NB: Using import statement + short name is accepted.
NB: Using FQN in regular annotation is accepted.

IDEA 182.4346 + Kotlin plugin 1.3-M2-eap-126.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535053426722</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920695745</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-22956</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Udalov">udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26384" entityId="25-2099315"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26384</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Compiler crash with nested multi-catch try, finally block and inline function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Having a function return in a try with multiple catch options, nested in an apply in a try-finally block causes the compiler to fail to inline the apply with a ConcurrentModificationException:

The outer try block can have as many or as few catch blocks as desired, the finally block is all that is important (even if empty). The inner try block must have at least two catches, irrelevant of exception type (they can all catch the same if you wanted). The inner try must also have a return, presumably what tips the compiler over the edge.

Compiling a simple test case:
```kotlin
class Test {
    fun test() {
        try {
            apply {
                try {
                    return test()
                } catch (e: Exception) {

                } catch (e: Throwable) {

                }
            }
        } finally {
            
        }
    }
}
```
Results in
**Back-end (JVM) Internal error: Couldn't inline method call 'apply' into
public final fun test(): kotlin.Unit defined in Test**

```stacktrace
Cause: apply (Ljava/lang/Object;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;:
  @Lkotlin/internal/InlineOnly;() // invisible
   L0
    LINENUMBER 72 L0
    NOP
   L1
    LINENUMBER 75 L1
    ALOAD 1
    ALOAD 0
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    POP
   L2
    LINENUMBER 76 L2
    ALOAD 0
    ARETURN
   L3
    LOCALVARIABLE $receiver Ljava/lang/Object; L0 L3 0
    LOCALVARIABLE block Lkotlin/jvm/functions/Function1; L0 L3 1
    LOCALVARIABLE $i$f$apply I L0 L3 2
    MAXSTACK = 2
    MAXLOCALS = 3

Cause: java.util.ConcurrentModificationException
The root cause was thrown at: LinkedHashMap.java:719
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:135)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:178)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:671)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:106)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:652)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2324)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2275)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateTryExpression$27(ExpressionCodegen.java:4046)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:75)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:354)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:339)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1590)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:58)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:78)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:569)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:332)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:298)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:147)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:210)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:168)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:84)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateDefaultImplsIfNeeded(ImplementationBodyCodegen.java:242)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:93)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:142)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:316)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:157)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.compileSingleFile(KotlinBytecodeToolWindow.kt:316)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$Companion.getBytecodeForFile(KotlinBytecodeToolWindow.kt:237)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:120)
	at org.jetbrains.kotlin.idea.internal.KotlinBytecodeToolWindow$UpdateBytecodeToolWindowTask.processRequest(KotlinBytecodeToolWindow.kt:67)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1$1.run(LongRunningReadTask.java:110)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:912)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$3.run(LongRunningReadTask.java:226)
	at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:543)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:488)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask.runWithWriteActionPriority(LongRunningReadTask.java:223)
	at org.jetbrains.kotlin.idea.util.LongRunningReadTask$1.run(LongRunningReadTask.java:105)
	at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:315)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.util.ConcurrentModificationException
	at java.util.LinkedHashMap$LinkedHashIterator.nextNode(LinkedHashMap.java:719)
	at java.util.LinkedHashMap$LinkedKeyIterator.next(LinkedHashMap.java:742)
	at org.jetbrains.kotlin.codegen.inline.IntervalMetaInfo.splitAndRemoveCurrentIntervals(CoveringTryCatchNodeProcessor.kt:212)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateAndInsertFinallyBlocks(SourceCompilerForInline.kt:361)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:295)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:169)
	... 65 more```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535118537409</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535119632902</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Chocohead</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Chocohead</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.30</value><value>1.3-M1</value><value>1.2.61</value><valueId>1.2.30</valueId><valueId>1.3-M1</valueId><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26396" entityId="25-2099939"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26396</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Navigate -&gt; Implementation" broken for Java interface implemented by anonymous object which also extends another class</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>X.java
```java
interface X { // gutter shows no inheritors
  void foo(); // here too
}
```

kt.kt
```
open class A

fun main(args: Array&lt;String&gt;) {
    object: A(), X {
        override fun foo() {}
    }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535283607835</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535367844101</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-2620</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Navigation</value><valueId>IDE. Navigation</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3042366" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26396" deleted="false" text="* No gutter icons for interface and its methods&#xA;* Action &quot;Navigate to implementation&quot; doesn't work&#xA;&#xA;Note: all is OK when anonymous object only implements an interface." shownForIssueAuthor="false" created="1535367674492" markdown="true"><replies/></comment></issue><issue id="KT-26417" entityId="25-2100682"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26417</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Backend Internal error when using labels with `try`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Error:Kotlin: [Internal Error] java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: Couldn't inline method call 'use' into
Information:Kotlin: kotlinc-jvm 1.2.61 (JRE 1.8.0_171-b11)

```kotlin
import java.io.ByteArrayInputStream

fun main(args: Array&lt;String&gt;) {
  call()
}

fun call() {
  val x: Int = out@ try {
    ByteArrayInputStream(ByteArray(5)).use {
      if (it.read() == 42) {
        return@out 0
      }
    }

    return@out 1
  } catch (ex: Throwable) {
    throw ex
  }
  println(x)
}
```

```stacktrace
Error:Kotlin: [Internal Error] java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: Couldn't inline method call 'use' into
public fun call(): kotlin.Unit defined in root package in file main.kt
fun call() {
    val x: Int = out@ try {
        ByteArrayInputStream(ByteArray(5)).use {
            if (it.read() == 42) {
                return@out 0
            }
        }
        return@out 1
    } catch (ex: Throwable) {
        throw ex
    }
    println(x)
}
Cause: use (Ljava/io/Closeable;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;:
  @Lkotlin/internal/InlineOnly;() // invisible
    TRYCATCHBLOCK L0 L1 L2 java/lang/Throwable
    TRYCATCHBLOCK L3 L4 L5 java/lang/Throwable
    TRYCATCHBLOCK L0 L1 L6 null
    TRYCATCHBLOCK L2 L6 L6 null
    TRYCATCHBLOCK L6 L7 L6 null
   L8
    LINENUMBER 22 L8
    ACONST_NULL
    CHECKCAST java/lang/Throwable
    ASTORE 3
   L0
    LINENUMBER 23 L0
    NOP
   L9
    LINENUMBER 24 L9
    ALOAD 1
    ALOAD 0
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    ASTORE 4
   L1
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyStart (I)V
   L10
    LINENUMBER 29 L10
    LINENUMBER 30 L10
    ICONST_1
    ICONST_1
    ICONST_0
    INVOKESTATIC kotlin/internal/PlatformImplementationsKt.apiVersionIsAtLeast (III)Z
    IFEQ L11
    ALOAD 0
    ALOAD 3
    INVOKESTATIC kotlin/io/CloseableKt.closeFinally (Ljava/io/Closeable;Ljava/lang/Throwable;)V
    GOTO L12
   L11
    LINENUMBER 31 L11
    ALOAD 0
    IFNONNULL L13
    GOTO L12
   L13
    LINENUMBER 32 L13
    ALOAD 0
    INVOKEINTERFACE java/io/Closeable.close ()V
   L12
    LINENUMBER 38 L12
    LINENUMBER 39 L12
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyEnd (I)V
    ALOAD 4
    ARETURN
   L2
    LINENUMBER 29 L2
    LINENUMBER 38 L2
    LINENUMBER 25 L2
    ASTORE 4
   L14
    LINENUMBER 26 L14
    ALOAD 4
    ASTORE 3
   L15
    LINENUMBER 27 L15
    ALOAD 4
    ATHROW
   L6
    LINENUMBER 29 L6
    LINENUMBER 38 L6
    LINENUMBER 40 L6
    ASTORE 4
   L7
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyStart (I)V
   L16
    LINENUMBER 29 L16
    LINENUMBER 30 L16
    ICONST_1
    ICONST_1
    ICONST_0
    INVOKESTATIC kotlin/internal/PlatformImplementationsKt.apiVersionIsAtLeast (III)Z
    IFEQ L17
    ALOAD 0
    ALOAD 3
    INVOKESTATIC kotlin/io/CloseableKt.closeFinally (Ljava/io/Closeable;Ljava/lang/Throwable;)V
    GOTO L18
   L17
    LINENUMBER 31 L17
    ALOAD 0
    IFNONNULL L19
    GOTO L18
   L19
    LINENUMBER 32 L19
    ALOAD 3
    IFNONNULL L3
    ALOAD 0
    INVOKEINTERFACE java/io/Closeable.close ()V
    GOTO L18
   L3
    LINENUMBER 34 L3
    NOP
   L20
    LINENUMBER 35 L20
    ALOAD 0
    INVOKEINTERFACE java/io/Closeable.close ()V
   L4
    GOTO L18
   L5
    LINENUMBER 36 L5
    ASTORE 5
   L18
    LINENUMBER 38 L18
    LINENUMBER 39 L18
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyEnd (I)V
    ALOAD 4
    ATHROW
   L21
    LOCALVARIABLE e Ljava/lang/Throwable; L14 L6 4
    LOCALVARIABLE exception Ljava/lang/Throwable; L0 L21 3
    LOCALVARIABLE $receiver Ljava/io/Closeable; L8 L21 0
    LOCALVARIABLE block Lkotlin/jvm/functions/Function1; L8 L21 1
    LOCALVARIABLE $i$f$use I L8 L21 2
    MAXSTACK = 3
    MAXLOCALS = 6
Cause: java.lang.NullPointerException
File being compiled at position: (7,44) in /Users/belkov/Code/sandbox/src/main.kt
The root cause was thrown at: KotlinTypeMapper.java:394
File being compiled at position: file:///Users/belkov/Code/sandbox/src/main.kt
The root cause was thrown at: InlineCodegen.kt:124
	at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:441)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:146)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:94)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:50)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:88)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:402)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:101)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:929)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:969)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:928)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:400)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'use' into
public fun call(): kotlin.Unit defined in root package in file main.kt
fun call() {
    val x: Int = out@ try {
        ByteArrayInputStream(ByteArray(5)).use {
            if (it.read() == 42) {
                return@out 0
            }
        }
        return@out 1
    } catch (ex: Throwable) {
        throw ex
    }
    println(x)
}
Cause: use (Ljava/io/Closeable;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;:
  @Lkotlin/internal/InlineOnly;() // invisible
    TRYCATCHBLOCK L0 L1 L2 java/lang/Throwable
    TRYCATCHBLOCK L3 L4 L5 java/lang/Throwable
    TRYCATCHBLOCK L0 L1 L6 null
    TRYCATCHBLOCK L2 L6 L6 null
    TRYCATCHBLOCK L6 L7 L6 null
   L8
    LINENUMBER 22 L8
    ACONST_NULL
    CHECKCAST java/lang/Throwable
    ASTORE 3
   L0
    LINENUMBER 23 L0
    NOP
   L9
    LINENUMBER 24 L9
    ALOAD 1
    ALOAD 0
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    ASTORE 4
   L1
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyStart (I)V
   L10
    LINENUMBER 29 L10
    LINENUMBER 30 L10
    ICONST_1
    ICONST_1
    ICONST_0
    INVOKESTATIC kotlin/internal/PlatformImplementationsKt.apiVersionIsAtLeast (III)Z
    IFEQ L11
    ALOAD 0
    ALOAD 3
    INVOKESTATIC kotlin/io/CloseableKt.closeFinally (Ljava/io/Closeable;Ljava/lang/Throwable;)V
    GOTO L12
   L11
    LINENUMBER 31 L11
    ALOAD 0
    IFNONNULL L13
    GOTO L12
   L13
    LINENUMBER 32 L13
    ALOAD 0
    INVOKEINTERFACE java/io/Closeable.close ()V
   L12
    LINENUMBER 38 L12
    LINENUMBER 39 L12
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyEnd (I)V
    ALOAD 4
    ARETURN
   L2
    LINENUMBER 29 L2
    LINENUMBER 38 L2
    LINENUMBER 25 L2
    ASTORE 4
   L14
    LINENUMBER 26 L14
    ALOAD 4
    ASTORE 3
   L15
    LINENUMBER 27 L15
    ALOAD 4
    ATHROW
   L6
    LINENUMBER 29 L6
    LINENUMBER 38 L6
    LINENUMBER 40 L6
    ASTORE 4
   L7
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyStart (I)V
   L16
    LINENUMBER 29 L16
    LINENUMBER 30 L16
    ICONST_1
    ICONST_1
    ICONST_0
    INVOKESTATIC kotlin/internal/PlatformImplementationsKt.apiVersionIsAtLeast (III)Z
    IFEQ L17
    ALOAD 0
    ALOAD 3
    INVOKESTATIC kotlin/io/CloseableKt.closeFinally (Ljava/io/Closeable;Ljava/lang/Throwable;)V
    GOTO L18
   L17
    LINENUMBER 31 L17
    ALOAD 0
    IFNONNULL L19
    GOTO L18
   L19
    LINENUMBER 32 L19
    ALOAD 3
    IFNONNULL L3
    ALOAD 0
    INVOKEINTERFACE java/io/Closeable.close ()V
    GOTO L18
   L3
    LINENUMBER 34 L3
    NOP
   L20
    LINENUMBER 35 L20
    ALOAD 0
    INVOKEINTERFACE java/io/Closeable.close ()V
   L4
    GOTO L18
   L5
    LINENUMBER 36 L5
    ASTORE 5
   L18
    LINENUMBER 38 L18
    LINENUMBER 39 L18
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.finallyEnd (I)V
    ALOAD 4
    ATHROW
   L21
    LOCALVARIABLE e Ljava/lang/Throwable; L14 L6 4
    LOCALVARIABLE exception Ljava/lang/Throwable; L0 L21 3
    LOCALVARIABLE $receiver Ljava/io/Closeable; L8 L21 0
    LOCALVARIABLE block Lkotlin/jvm/functions/Function1; L8 L21 1
    LOCALVARIABLE $i$f$use I L8 L21 2
    MAXSTACK = 3
    MAXLOCALS = 6
Cause: java.lang.NullPointerException
File being compiled at position: (7,44) in /Users/belkov/Code/sandbox/src/main.kt
The root cause was thrown at: KotlinTypeMapper.java:394
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:164)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:684)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:665)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2417)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2360)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1216)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1157)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitBlockExpression(ExpressionCodegen.java:920)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitBlockExpression(ExpressionCodegen.java:111)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:281)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:330)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateTryExpression$28(ExpressionCodegen.java:4295)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.initializeLocalVariable(ExpressionCodegen.java:3987)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitProperty(ExpressionCodegen.java:3858)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitProperty(ExpressionCodegen.java:111)
	at org.jetbrains.kotlin.psi.KtProperty.accept(KtProperty.java:57)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:31)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtVisitor.visitExpression(KtVisitor.java:182)
	at org.jetbrains.kotlin.psi.KtVisitor.visitDeclaration(KtVisitor.java:29)
	at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:398)
	at org.jetbrains.kotlin.psi.KtVisitor.visitProperty(KtVisitor.java:57)
	at org.jetbrains.kotlin.psi.KtProperty.accept(KtProperty.java:57)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:373)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1210)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1155)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:373)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:426)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:157)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:201)
	at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	... 36 more
Caused by: java.lang.NullPointerException
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapReturnType(KotlinTypeMapper.java:394)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapReturnType(KotlinTypeMapper.java:389)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.getNonLocalReturnInfo(ExpressionCodegen.java:1606)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$visitReturnExpression$11(ExpressionCodegen.java:1524)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:350)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:330)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateSingleBranchIf$5(ExpressionCodegen.java:732)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:350)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateMethodBody(SourceCompilerForInline.kt:191)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateLambdaBody(SourceCompilerForInline.kt:143)
	at org.jetbrains.kotlin.codegen.inline.ExpressionLambda.generateLambdaBody(LambdaInfo.kt:188)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:312)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:245)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)
	... 94 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535377713303</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535447947016</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>vladsaif</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Vladislav Sayfulin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-22274</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><value>1.2.61</value><valueId>1.2.60</valueId><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-560168" url="https://youtrack.jetbrains.com/_persistent/Error%20message.txt?file=74-560168&amp;c=true">Error message.txt</value></field><comment id="27-3043810" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26417" deleted="false" text="Thank you. In fact, all of these labels don't do what you expect (see KT-22274). In Kotlin 1.3-M2+ all three label usages are highlighted as warnings. In 1.4+ they will be errors. Please rewrite your code without labels to fix the problem." shownForIssueAuthor="false" created="1535447896262" markdown="true"><replies/></comment></issue><issue id="KT-26418" entityId="25-2100800"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26418</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Back-end (JVM) Internal error when compiling decorated suspend inline functions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Original report [here](https://discuss.kotlinlang.org/t/kotlin-error-compiling-decorated-suspend-inline-functions/9115/1). Sample project attached.

Reproduced with Kotlin 1.2.61, kotlinx-coroutines-core:0.25.0.

```
import kotlinx.coroutines.experimental.async
import kotlinx.coroutines.experimental.runBlocking
import org.junit.Test
import kotlin.coroutines.experimental.Continuation
import kotlin.coroutines.experimental.suspendCoroutine

class InlineSuspendFail {

    @Test
    fun showFail() {

        val decoratedWork = decorate {
            work {
                Thread {
                    Thread.sleep(100)
                    it.resume(42)
                }.start()
            }
        }

        val deferred = async { decoratedWork() }
        runBlocking { deferred.await() }

    }

    fun decorate(actualWork: suspend () -&gt; Int): suspend () -&gt; Int {
        return {
            actualWork
                .let { workDecorator(it) }
                .invoke()
        }
    }

    suspend inline fun work(crossinline triggerResume: (Continuation&lt;Int&gt;) -&gt; Unit): Int {
        System.out.println("Starting suspend")
        return suspendCoroutine { continuation -&gt;
            System.out.println("Triggering resume")
            triggerResume(continuation)
            System.out.println("Resume triggered")
        }
    }

    suspend inline fun workDecorator(crossinline work: suspend () -&gt; Int): suspend () -&gt; Int =
        suspend {
            System.out.println("About to call work")
            work()
        }
}
```

```stacktrace
Kotlin: [Internal Error] java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: wrong code generated
org.jetbrains.kotlin.codegen.CompilationException Back-end (JVM) Internal error: Couldn't transform method node:
doResume (Ljava/lang/Object;Ljava/lang/Throwable;)Ljava/lang/Object;:
  @Lorg/jetbrains/annotations/Nullable;() // invisible
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 1
   L0
   L1
   L2
    LINENUMBER 13 L2
    ALOAD 0
    GETFIELD InlineSuspendFail$showFail$decoratedWork$1.this$0 : LInlineSuspendFail;
    ASTORE 3
    NOP
   L3
    LINENUMBER 48 L3
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Starting suspend"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L4
    LINENUMBER 49 L4
    NOP
   L5
    LINENUMBER 50 L5
    ICONST_0
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
    ALOAD 0
    INVOKESTATIC kotlin/coroutines/experimental/jvm/internal/CoroutineIntrinsics.normalizeContinuation (Lkotlin/coroutines/experimental/Continuation;)Lkotlin/coroutines/experimental/Continuation;
    ASTORE 5
   L6
    LINENUMBER 51 L6
    NEW kotlin/coroutines/experimental/SafeContinuation
    DUP
    ALOAD 5
    INVOKESPECIAL kotlin/coroutines/experimental/SafeContinuation.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    ASTORE 6
   L7
    LINENUMBER 52 L7
   L8
    LINENUMBER 53 L8
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Triggering resume"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L9
    LINENUMBER 54 L9
    ALOAD 6
   L10
   L11
    LINENUMBER 14 L11
   L12
    LINENUMBER 17 L12
   L13
    LINENUMBER 14 L13
    NEW java/lang/Thread
    DUP
    NEW InlineSuspendFail$showFail$decoratedWork$1$1$1
    DUP
    CHECKCAST kotlin/coroutines/experimental/Continuation
    CHECKCAST kotlin/coroutines/experimental/Continuation
    INVOKESPECIAL InlineSuspendFail$showFail$decoratedWork$1$1$1.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    CHECKCAST java/lang/Runnable
    INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V
   L14
    LINENUMBER 17 L14
    INVOKEVIRTUAL java/lang/Thread.start ()V
   L15
    LINENUMBER 18 L15
    NOP
    GOTO L16
   L17
   L18
   L16
   L19
    LINENUMBER 55 L19
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Resume triggered"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L20
    LINENUMBER 56 L20
    NOP
    GOTO L21
   L21
   L22
    LINENUMBER 57 L22
    ALOAD 6
    INVOKEVIRTUAL kotlin/coroutines/experimental/SafeContinuation.getResult ()Ljava/lang/Object;
   L23
    NOP
   L24
    LINENUMBER 50 L24
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
   L25
    NOP
   L26
   L27
    LINENUMBER 58 L27
    NOP
    GOTO L28
   L28
    NOP
    GOTO L29
   L30
   L31
   L29
   L32
   L33
    LINENUMBER 18 L33
    ARETURN
   L34
    LOCALVARIABLE it Lkotlin/coroutines/experimental/Continuation; L10 L18 8
    LOCALVARIABLE $i$a$1$work I L10 L18 9
    LOCALVARIABLE continuation$iv Lkotlin/coroutines/experimental/Continuation; L8 L21 7
    LOCALVARIABLE $i$a$2$suspendCoroutine I L8 L21 10
    LOCALVARIABLE safe$iv$iv Lkotlin/coroutines/experimental/SafeContinuation; L7 L23 6
    LOCALVARIABLE c$iv$iv Lkotlin/coroutines/experimental/Continuation; L6 L24 5
    LOCALVARIABLE $i$a$2$suspendCoroutineOrReturn I L6 L24 11
    LOCALVARIABLE $i$f$suspendCoroutine I L5 L28 12
    LOCALVARIABLE this_$iv LInlineSuspendFail; L3 L31 3
    LOCALVARIABLE $i$f$work I L3 L31 13
    LOCALVARIABLE this LInlineSuspendFail$showFail$decoratedWork$1; L0 L34 0
    LOCALVARIABLE data Ljava/lang/Object; L0 L34 1
    LOCALVARIABLE throwable Ljava/lang/Throwable; L0 L34 2
    MAXSTACK = 5
    MAXLOCALS = 14

Cause: Error at instruction #55 INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V: Expected value generated with NEW
Element is unknownThe root cause was thrown at: MethodAnalyzer.kt:150
bytecode:
  @Lorg/jetbrains/annotations/Nullable;() // invisible
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 1
   L0
   L1
   L2
    LINENUMBER 13 L2
    ALOAD 0
    GETFIELD InlineSuspendFail$showFail$decoratedWork$1.this$0 : LInlineSuspendFail;
    ASTORE 3
    NOP
   L3
    LINENUMBER 48 L3
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Starting suspend"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L4
    LINENUMBER 49 L4
    NOP
   L5
    LINENUMBER 50 L5
    ICONST_0
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
    ALOAD 0
    INVOKESTATIC kotlin/coroutines/experimental/jvm/internal/CoroutineIntrinsics.normalizeContinuation (Lkotlin/coroutines/experimental/Continuation;)Lkotlin/coroutines/experimental/Continuation;
    ASTORE 5
   L6
    LINENUMBER 51 L6
    NEW kotlin/coroutines/experimental/SafeContinuation
    DUP
    ALOAD 5
    INVOKESPECIAL kotlin/coroutines/experimental/SafeContinuation.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    ASTORE 6
   L7
    LINENUMBER 52 L7
   L8
    LINENUMBER 53 L8
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Triggering resume"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L9
    LINENUMBER 54 L9
    ALOAD 6
   L10
   L11
    LINENUMBER 14 L11
   L12
    LINENUMBER 17 L12
   L13
    LINENUMBER 14 L13
    NEW java/lang/Thread
    DUP
    NEW InlineSuspendFail$showFail$decoratedWork$1$1$1
    DUP
    CHECKCAST kotlin/coroutines/experimental/Continuation
    CHECKCAST kotlin/coroutines/experimental/Continuation
    INVOKESPECIAL InlineSuspendFail$showFail$decoratedWork$1$1$1.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    CHECKCAST java/lang/Runnable
    INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V
   L14
    LINENUMBER 17 L14
    INVOKEVIRTUAL java/lang/Thread.start ()V
   L15
    LINENUMBER 18 L15
    NOP
    GOTO L16
   L17
   L18
   L16
   L19
    LINENUMBER 55 L19
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Resume triggered"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L20
    LINENUMBER 56 L20
    NOP
    GOTO L21
   L21
   L22
    LINENUMBER 57 L22
    ALOAD 6
    INVOKEVIRTUAL kotlin/coroutines/experimental/SafeContinuation.getResult ()Ljava/lang/Object;
   L23
    NOP
   L24
    LINENUMBER 50 L24
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
   L25
    NOP
   L26
   L27
    LINENUMBER 58 L27
    NOP
    GOTO L28
   L28
    NOP
    GOTO L29
   L30
   L31
   L29
   L32
   L33
    LINENUMBER 18 L33
    ARETURN
   L34
    LOCALVARIABLE it Lkotlin/coroutines/experimental/Continuation; L10 L18 8
    LOCALVARIABLE $i$a$1$work I L10 L18 9
    LOCALVARIABLE continuation$iv Lkotlin/coroutines/experimental/Continuation; L8 L21 7
    LOCALVARIABLE $i$a$2$suspendCoroutine I L8 L21 10
    LOCALVARIABLE safe$iv$iv Lkotlin/coroutines/experimental/SafeContinuation; L7 L23 6
    LOCALVARIABLE c$iv$iv Lkotlin/coroutines/experimental/Continuation; L6 L24 5
    LOCALVARIABLE $i$a$2$suspendCoroutineOrReturn I L6 L24 11
    LOCALVARIABLE $i$f$suspendCoroutine I L5 L28 12
    LOCALVARIABLE this_$iv LInlineSuspendFail; L3 L31 3
    LOCALVARIABLE $i$f$work I L3 L31 13
    LOCALVARIABLE this LInlineSuspendFail$showFail$decoratedWork$1; L0 L34 0
    LOCALVARIABLE data Ljava/lang/Object; L0 L34 1
    LOCALVARIABLE throwable Ljava/lang/Throwable; L0 L34 2
    MAXSTACK = 5
    MAXLOCALS = 14

Cause: Back-end (JVM) Internal error: Couldn't transform method node:
doResume (Ljava/lang/Object;Ljava/lang/Throwable;)Ljava/lang/Object;:
  @Lorg/jetbrains/annotations/Nullable;() // invisible
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 1
   L0
   L1
   L2
    LINENUMBER 13 L2
    ALOAD 0
    GETFIELD InlineSuspendFail$showFail$decoratedWork$1.this$0 : LInlineSuspendFail;
    ASTORE 3
    NOP
   L3
    LINENUMBER 48 L3
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Starting suspend"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L4
    LINENUMBER 49 L4
    NOP
   L5
    LINENUMBER 50 L5
    ICONST_0
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
    ALOAD 0
    INVOKESTATIC kotlin/coroutines/experimental/jvm/internal/CoroutineIntrinsics.normalizeContinuation (Lkotlin/coroutines/experimental/Continuation;)Lkotlin/coroutines/experimental/Continuation;
    ASTORE 5
   L6
    LINENUMBER 51 L6
    NEW kotlin/coroutines/experimental/SafeContinuation
    DUP
    ALOAD 5
    INVOKESPECIAL kotlin/coroutines/experimental/SafeContinuation.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    ASTORE 6
   L7
    LINENUMBER 52 L7
   L8
    LINENUMBER 53 L8
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Triggering resume"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L9
    LINENUMBER 54 L9
    ALOAD 6
   L10
   L11
    LINENUMBER 14 L11
   L12
    LINENUMBER 17 L12
   L13
    LINENUMBER 14 L13
    NEW java/lang/Thread
    DUP
    NEW InlineSuspendFail$showFail$decoratedWork$1$1$1
    DUP
    CHECKCAST kotlin/coroutines/experimental/Continuation
    CHECKCAST kotlin/coroutines/experimental/Continuation
    INVOKESPECIAL InlineSuspendFail$showFail$decoratedWork$1$1$1.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    CHECKCAST java/lang/Runnable
    INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V
   L14
    LINENUMBER 17 L14
    INVOKEVIRTUAL java/lang/Thread.start ()V
   L15
    LINENUMBER 18 L15
    NOP
    GOTO L16
   L17
   L18
   L16
   L19
    LINENUMBER 55 L19
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Resume triggered"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L20
    LINENUMBER 56 L20
    NOP
    GOTO L21
   L21
   L22
    LINENUMBER 57 L22
    ALOAD 6
    INVOKEVIRTUAL kotlin/coroutines/experimental/SafeContinuation.getResult ()Ljava/lang/Object;
   L23
    NOP
   L24
    LINENUMBER 50 L24
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
   L25
    NOP
   L26
   L27
    LINENUMBER 58 L27
    NOP
    GOTO L28
   L28
    NOP
    GOTO L29
   L30
   L31
   L29
   L32
   L33
    LINENUMBER 18 L33
    ARETURN
   L34
    LOCALVARIABLE it Lkotlin/coroutines/experimental/Continuation; L10 L18 8
    LOCALVARIABLE $i$a$1$work I L10 L18 9
    LOCALVARIABLE continuation$iv Lkotlin/coroutines/experimental/Continuation; L8 L21 7
    LOCALVARIABLE $i$a$2$suspendCoroutine I L8 L21 10
    LOCALVARIABLE safe$iv$iv Lkotlin/coroutines/experimental/SafeContinuation; L7 L23 6
    LOCALVARIABLE c$iv$iv Lkotlin/coroutines/experimental/Continuation; L6 L24 5
    LOCALVARIABLE $i$a$2$suspendCoroutineOrReturn I L6 L24 11
    LOCALVARIABLE $i$f$suspendCoroutine I L5 L28 12
    LOCALVARIABLE this_$iv LInlineSuspendFail; L3 L31 3
    LOCALVARIABLE $i$f$work I L3 L31 13
    LOCALVARIABLE this LInlineSuspendFail$showFail$decoratedWork$1; L0 L34 0
    LOCALVARIABLE data Ljava/lang/Object; L0 L34 1
    LOCALVARIABLE throwable Ljava/lang/Throwable; L0 L34 2
    MAXSTACK = 5
    MAXLOCALS = 14

Cause: Error at instruction #55 INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V: Expected value generated with NEW
Element is unknownThe root cause was thrown at: MethodAnalyzer.kt:150
File being compiled at position: (12,38) in /Users/belkov/Code/coroutines-bug/src/main/kotlin/main.kt
The root cause was thrown at: TransformationMethodVisitor.java:88
File being compiled at position: file:///Users/belkov/Code/coroutines-bug/src/main/kotlin/main.kt
The root cause was thrown at: FunctionCodegen.java:1035
	at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:441)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:146)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:94)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:50)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:88)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:402)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:101)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:929)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:969)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:928)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:400)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: wrong code generated
org.jetbrains.kotlin.codegen.CompilationException Back-end (JVM) Internal error: Couldn't transform method node:
doResume (Ljava/lang/Object;Ljava/lang/Throwable;)Ljava/lang/Object;:
  @Lorg/jetbrains/annotations/Nullable;() // invisible
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 1
   L0
   L1
   L2
    LINENUMBER 13 L2
    ALOAD 0
    GETFIELD InlineSuspendFail$showFail$decoratedWork$1.this$0 : LInlineSuspendFail;
    ASTORE 3
    NOP
   L3
    LINENUMBER 48 L3
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Starting suspend"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L4
    LINENUMBER 49 L4
    NOP
   L5
    LINENUMBER 50 L5
    ICONST_0
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
    ALOAD 0
    INVOKESTATIC kotlin/coroutines/experimental/jvm/internal/CoroutineIntrinsics.normalizeContinuation (Lkotlin/coroutines/experimental/Continuation;)Lkotlin/coroutines/experimental/Continuation;
    ASTORE 5
   L6
    LINENUMBER 51 L6
    NEW kotlin/coroutines/experimental/SafeContinuation
    DUP
    ALOAD 5
    INVOKESPECIAL kotlin/coroutines/experimental/SafeContinuation.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    ASTORE 6
   L7
    LINENUMBER 52 L7
   L8
    LINENUMBER 53 L8
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Triggering resume"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L9
    LINENUMBER 54 L9
    ALOAD 6
   L10
   L11
    LINENUMBER 14 L11
   L12
    LINENUMBER 17 L12
   L13
    LINENUMBER 14 L13
    NEW java/lang/Thread
    DUP
    NEW InlineSuspendFail$showFail$decoratedWork$1$1$1
    DUP
    CHECKCAST kotlin/coroutines/experimental/Continuation
    CHECKCAST kotlin/coroutines/experimental/Continuation
    INVOKESPECIAL InlineSuspendFail$showFail$decoratedWork$1$1$1.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    CHECKCAST java/lang/Runnable
    INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V
   L14
    LINENUMBER 17 L14
    INVOKEVIRTUAL java/lang/Thread.start ()V
   L15
    LINENUMBER 18 L15
    NOP
    GOTO L16
   L17
   L18
   L16
   L19
    LINENUMBER 55 L19
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Resume triggered"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L20
    LINENUMBER 56 L20
    NOP
    GOTO L21
   L21
   L22
    LINENUMBER 57 L22
    ALOAD 6
    INVOKEVIRTUAL kotlin/coroutines/experimental/SafeContinuation.getResult ()Ljava/lang/Object;
   L23
    NOP
   L24
    LINENUMBER 50 L24
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
   L25
    NOP
   L26
   L27
    LINENUMBER 58 L27
    NOP
    GOTO L28
   L28
    NOP
    GOTO L29
   L30
   L31
   L29
   L32
   L33
    LINENUMBER 18 L33
    ARETURN
   L34
    LOCALVARIABLE it Lkotlin/coroutines/experimental/Continuation; L10 L18 8
    LOCALVARIABLE $i$a$1$work I L10 L18 9
    LOCALVARIABLE continuation$iv Lkotlin/coroutines/experimental/Continuation; L8 L21 7
    LOCALVARIABLE $i$a$2$suspendCoroutine I L8 L21 10
    LOCALVARIABLE safe$iv$iv Lkotlin/coroutines/experimental/SafeContinuation; L7 L23 6
    LOCALVARIABLE c$iv$iv Lkotlin/coroutines/experimental/Continuation; L6 L24 5
    LOCALVARIABLE $i$a$2$suspendCoroutineOrReturn I L6 L24 11
    LOCALVARIABLE $i$f$suspendCoroutine I L5 L28 12
    LOCALVARIABLE this_$iv LInlineSuspendFail; L3 L31 3
    LOCALVARIABLE $i$f$work I L3 L31 13
    LOCALVARIABLE this LInlineSuspendFail$showFail$decoratedWork$1; L0 L34 0
    LOCALVARIABLE data Ljava/lang/Object; L0 L34 1
    LOCALVARIABLE throwable Ljava/lang/Throwable; L0 L34 2
    MAXSTACK = 5
    MAXLOCALS = 14

Cause: Error at instruction #55 INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V: Expected value generated with NEW
Element is unknownThe root cause was thrown at: MethodAnalyzer.kt:150
bytecode:
  @Lorg/jetbrains/annotations/Nullable;() // invisible
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 1
   L0
   L1
   L2
    LINENUMBER 13 L2
    ALOAD 0
    GETFIELD InlineSuspendFail$showFail$decoratedWork$1.this$0 : LInlineSuspendFail;
    ASTORE 3
    NOP
   L3
    LINENUMBER 48 L3
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Starting suspend"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L4
    LINENUMBER 49 L4
    NOP
   L5
    LINENUMBER 50 L5
    ICONST_0
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
    ALOAD 0
    INVOKESTATIC kotlin/coroutines/experimental/jvm/internal/CoroutineIntrinsics.normalizeContinuation (Lkotlin/coroutines/experimental/Continuation;)Lkotlin/coroutines/experimental/Continuation;
    ASTORE 5
   L6
    LINENUMBER 51 L6
    NEW kotlin/coroutines/experimental/SafeContinuation
    DUP
    ALOAD 5
    INVOKESPECIAL kotlin/coroutines/experimental/SafeContinuation.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    ASTORE 6
   L7
    LINENUMBER 52 L7
   L8
    LINENUMBER 53 L8
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Triggering resume"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L9
    LINENUMBER 54 L9
    ALOAD 6
   L10
   L11
    LINENUMBER 14 L11
   L12
    LINENUMBER 17 L12
   L13
    LINENUMBER 14 L13
    NEW java/lang/Thread
    DUP
    NEW InlineSuspendFail$showFail$decoratedWork$1$1$1
    DUP
    CHECKCAST kotlin/coroutines/experimental/Continuation
    CHECKCAST kotlin/coroutines/experimental/Continuation
    INVOKESPECIAL InlineSuspendFail$showFail$decoratedWork$1$1$1.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    CHECKCAST java/lang/Runnable
    INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V
   L14
    LINENUMBER 17 L14
    INVOKEVIRTUAL java/lang/Thread.start ()V
   L15
    LINENUMBER 18 L15
    NOP
    GOTO L16
   L17
   L18
   L16
   L19
    LINENUMBER 55 L19
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Resume triggered"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L20
    LINENUMBER 56 L20
    NOP
    GOTO L21
   L21
   L22
    LINENUMBER 57 L22
    ALOAD 6
    INVOKEVIRTUAL kotlin/coroutines/experimental/SafeContinuation.getResult ()Ljava/lang/Object;
   L23
    NOP
   L24
    LINENUMBER 50 L24
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
   L25
    NOP
   L26
   L27
    LINENUMBER 58 L27
    NOP
    GOTO L28
   L28
    NOP
    GOTO L29
   L30
   L31
   L29
   L32
   L33
    LINENUMBER 18 L33
    ARETURN
   L34
    LOCALVARIABLE it Lkotlin/coroutines/experimental/Continuation; L10 L18 8
    LOCALVARIABLE $i$a$1$work I L10 L18 9
    LOCALVARIABLE continuation$iv Lkotlin/coroutines/experimental/Continuation; L8 L21 7
    LOCALVARIABLE $i$a$2$suspendCoroutine I L8 L21 10
    LOCALVARIABLE safe$iv$iv Lkotlin/coroutines/experimental/SafeContinuation; L7 L23 6
    LOCALVARIABLE c$iv$iv Lkotlin/coroutines/experimental/Continuation; L6 L24 5
    LOCALVARIABLE $i$a$2$suspendCoroutineOrReturn I L6 L24 11
    LOCALVARIABLE $i$f$suspendCoroutine I L5 L28 12
    LOCALVARIABLE this_$iv LInlineSuspendFail; L3 L31 3
    LOCALVARIABLE $i$f$work I L3 L31 13
    LOCALVARIABLE this LInlineSuspendFail$showFail$decoratedWork$1; L0 L34 0
    LOCALVARIABLE data Ljava/lang/Object; L0 L34 1
    LOCALVARIABLE throwable Ljava/lang/Throwable; L0 L34 2
    MAXSTACK = 5
    MAXLOCALS = 14

Cause: Back-end (JVM) Internal error: Couldn't transform method node:
doResume (Ljava/lang/Object;Ljava/lang/Throwable;)Ljava/lang/Object;:
  @Lorg/jetbrains/annotations/Nullable;() // invisible
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 1
   L0
   L1
   L2
    LINENUMBER 13 L2
    ALOAD 0
    GETFIELD InlineSuspendFail$showFail$decoratedWork$1.this$0 : LInlineSuspendFail;
    ASTORE 3
    NOP
   L3
    LINENUMBER 48 L3
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Starting suspend"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L4
    LINENUMBER 49 L4
    NOP
   L5
    LINENUMBER 50 L5
    ICONST_0
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
    ALOAD 0
    INVOKESTATIC kotlin/coroutines/experimental/jvm/internal/CoroutineIntrinsics.normalizeContinuation (Lkotlin/coroutines/experimental/Continuation;)Lkotlin/coroutines/experimental/Continuation;
    ASTORE 5
   L6
    LINENUMBER 51 L6
    NEW kotlin/coroutines/experimental/SafeContinuation
    DUP
    ALOAD 5
    INVOKESPECIAL kotlin/coroutines/experimental/SafeContinuation.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    ASTORE 6
   L7
    LINENUMBER 52 L7
   L8
    LINENUMBER 53 L8
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Triggering resume"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L9
    LINENUMBER 54 L9
    ALOAD 6
   L10
   L11
    LINENUMBER 14 L11
   L12
    LINENUMBER 17 L12
   L13
    LINENUMBER 14 L13
    NEW java/lang/Thread
    DUP
    NEW InlineSuspendFail$showFail$decoratedWork$1$1$1
    DUP
    CHECKCAST kotlin/coroutines/experimental/Continuation
    CHECKCAST kotlin/coroutines/experimental/Continuation
    INVOKESPECIAL InlineSuspendFail$showFail$decoratedWork$1$1$1.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    CHECKCAST java/lang/Runnable
    INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V
   L14
    LINENUMBER 17 L14
    INVOKEVIRTUAL java/lang/Thread.start ()V
   L15
    LINENUMBER 18 L15
    NOP
    GOTO L16
   L17
   L18
   L16
   L19
    LINENUMBER 55 L19
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Resume triggered"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L20
    LINENUMBER 56 L20
    NOP
    GOTO L21
   L21
   L22
    LINENUMBER 57 L22
    ALOAD 6
    INVOKEVIRTUAL kotlin/coroutines/experimental/SafeContinuation.getResult ()Ljava/lang/Object;
   L23
    NOP
   L24
    LINENUMBER 50 L24
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
   L25
    NOP
   L26
   L27
    LINENUMBER 58 L27
    NOP
    GOTO L28
   L28
    NOP
    GOTO L29
   L30
   L31
   L29
   L32
   L33
    LINENUMBER 18 L33
    ARETURN
   L34
    LOCALVARIABLE it Lkotlin/coroutines/experimental/Continuation; L10 L18 8
    LOCALVARIABLE $i$a$1$work I L10 L18 9
    LOCALVARIABLE continuation$iv Lkotlin/coroutines/experimental/Continuation; L8 L21 7
    LOCALVARIABLE $i$a$2$suspendCoroutine I L8 L21 10
    LOCALVARIABLE safe$iv$iv Lkotlin/coroutines/experimental/SafeContinuation; L7 L23 6
    LOCALVARIABLE c$iv$iv Lkotlin/coroutines/experimental/Continuation; L6 L24 5
    LOCALVARIABLE $i$a$2$suspendCoroutineOrReturn I L6 L24 11
    LOCALVARIABLE $i$f$suspendCoroutine I L5 L28 12
    LOCALVARIABLE this_$iv LInlineSuspendFail; L3 L31 3
    LOCALVARIABLE $i$f$work I L3 L31 13
    LOCALVARIABLE this LInlineSuspendFail$showFail$decoratedWork$1; L0 L34 0
    LOCALVARIABLE data Ljava/lang/Object; L0 L34 1
    LOCALVARIABLE throwable Ljava/lang/Throwable; L0 L34 2
    MAXSTACK = 5
    MAXLOCALS = 14

Cause: Error at instruction #55 INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V: Expected value generated with NEW
Element is unknownThe root cause was thrown at: MethodAnalyzer.kt:150
File being compiled at position: (12,38) in /Users/belkov/Code/coroutines-bug/src/main/kotlin/main.kt
The root cause was thrown at: TransformationMethodVisitor.java:88
	at org.jetbrains.kotlin.codegen.FunctionCodegen.endVisit(FunctionCodegen.java:1035)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:439)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)
	at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateDoResume(CoroutineCodegen.kt:301)
	at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateClosureBody(CoroutineCodegen.kt:167)
	at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:166)
	at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateBody(CoroutineCodegen.kt:171)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:989)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:963)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:954)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:111)
	at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:39)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:281)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:53)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:51)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2388)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2360)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.initializeLocalVariable(ExpressionCodegen.java:3987)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitProperty(ExpressionCodegen.java:3858)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitProperty(ExpressionCodegen.java:111)
	at org.jetbrains.kotlin.psi.KtProperty.accept(KtProperty.java:57)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:31)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitKtElement(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtVisitor.visitExpression(KtVisitor.java:182)
	at org.jetbrains.kotlin.psi.KtVisitor.visitDeclaration(KtVisitor.java:29)
	at org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:398)
	at org.jetbrains.kotlin.psi.KtVisitor.visitProperty(KtVisitor.java:57)
	at org.jetbrains.kotlin.psi.KtProperty.accept(KtProperty.java:57)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:373)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1210)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1155)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)
	at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)
	at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:373)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:426)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:157)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:201)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:155)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:75)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:307)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:291)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	... 36 more
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't transform method node:
doResume (Ljava/lang/Object;Ljava/lang/Throwable;)Ljava/lang/Object;:
  @Lorg/jetbrains/annotations/Nullable;() // invisible
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0
    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 1
   L0
   L1
   L2
    LINENUMBER 13 L2
    ALOAD 0
    GETFIELD InlineSuspendFail$showFail$decoratedWork$1.this$0 : LInlineSuspendFail;
    ASTORE 3
    NOP
   L3
    LINENUMBER 48 L3
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Starting suspend"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L4
    LINENUMBER 49 L4
    NOP
   L5
    LINENUMBER 50 L5
    ICONST_0
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
    ALOAD 0
    INVOKESTATIC kotlin/coroutines/experimental/jvm/internal/CoroutineIntrinsics.normalizeContinuation (Lkotlin/coroutines/experimental/Continuation;)Lkotlin/coroutines/experimental/Continuation;
    ASTORE 5
   L6
    LINENUMBER 51 L6
    NEW kotlin/coroutines/experimental/SafeContinuation
    DUP
    ALOAD 5
    INVOKESPECIAL kotlin/coroutines/experimental/SafeContinuation.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    ASTORE 6
   L7
    LINENUMBER 52 L7
   L8
    LINENUMBER 53 L8
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Triggering resume"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L9
    LINENUMBER 54 L9
    ALOAD 6
   L10
   L11
    LINENUMBER 14 L11
   L12
    LINENUMBER 17 L12
   L13
    LINENUMBER 14 L13
    NEW java/lang/Thread
    DUP
    NEW InlineSuspendFail$showFail$decoratedWork$1$1$1
    DUP
    CHECKCAST kotlin/coroutines/experimental/Continuation
    CHECKCAST kotlin/coroutines/experimental/Continuation
    INVOKESPECIAL InlineSuspendFail$showFail$decoratedWork$1$1$1.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;)V
    CHECKCAST java/lang/Runnable
    INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V
   L14
    LINENUMBER 17 L14
    INVOKEVIRTUAL java/lang/Thread.start ()V
   L15
    LINENUMBER 18 L15
    NOP
    GOTO L16
   L17
   L18
   L16
   L19
    LINENUMBER 55 L19
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "Resume triggered"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L20
    LINENUMBER 56 L20
    NOP
    GOTO L21
   L21
   L22
    LINENUMBER 57 L22
    ALOAD 6
    INVOKEVIRTUAL kotlin/coroutines/experimental/SafeContinuation.getResult ()Ljava/lang/Object;
   L23
    NOP
   L24
    LINENUMBER 50 L24
    ICONST_1
    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V
   L25
    NOP
   L26
   L27
    LINENUMBER 58 L27
    NOP
    GOTO L28
   L28
    NOP
    GOTO L29
   L30
   L31
   L29
   L32
   L33
    LINENUMBER 18 L33
    ARETURN
   L34
    LOCALVARIABLE it Lkotlin/coroutines/experimental/Continuation; L10 L18 8
    LOCALVARIABLE $i$a$1$work I L10 L18 9
    LOCALVARIABLE continuation$iv Lkotlin/coroutines/experimental/Continuation; L8 L21 7
    LOCALVARIABLE $i$a$2$suspendCoroutine I L8 L21 10
    LOCALVARIABLE safe$iv$iv Lkotlin/coroutines/experimental/SafeContinuation; L7 L23 6
    LOCALVARIABLE c$iv$iv Lkotlin/coroutines/experimental/Continuation; L6 L24 5
    LOCALVARIABLE $i$a$2$suspendCoroutineOrReturn I L6 L24 11
    LOCALVARIABLE $i$f$suspendCoroutine I L5 L28 12
    LOCALVARIABLE this_$iv LInlineSuspendFail; L3 L31 3
    LOCALVARIABLE $i$f$work I L3 L31 13
    LOCALVARIABLE this LInlineSuspendFail$showFail$decoratedWork$1; L0 L34 0
    LOCALVARIABLE data Ljava/lang/Object; L0 L34 1
    LOCALVARIABLE throwable Ljava/lang/Throwable; L0 L34 2
    MAXSTACK = 5
    MAXLOCALS = 14

Cause: Error at instruction #55 INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V: Expected value generated with NEW
Element is unknownThe root cause was thrown at: MethodAnalyzer.kt:150
	at org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.java:88)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.endVisit(FunctionCodegen.java:1023)
	... 101 more
Caused by: org.jetbrains.org.objectweb.asm.tree.analysis.AnalyzerException: Error at instruction #55 INVOKESPECIAL java/lang/Thread.&lt;init&gt; (Ljava/lang/Runnable;)V: Expected value generated with NEW
	at org.jetbrains.kotlin.codegen.optimization.common.MethodAnalyzer.analyze(MethodAnalyzer.kt:150)
	at org.jetbrains.kotlin.codegen.coroutines.UninitializedStoresProcessor.run(processUninitializedStores.kt:92)
	at org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.performTransformations(CoroutineTransformerMethodVisitor.kt:103)
	at org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.java:65)
	... 102 more
Caused by: java.lang.IllegalStateException: Expected value generated with NEW
	at org.jetbrains.kotlin.codegen.coroutines.UninitializedStoresProcessor.getUninitializedValueForConstructorCall(processUninitializedStores.kt:180)
	at org.jetbrains.kotlin.codegen.coroutines.UninitializedStoresProcessor.access$getUninitializedValueForConstructorCall(processUninitializedStores.kt:74)
	at org.jetbrains.kotlin.codegen.coroutines.UninitializedStoresProcessor$UninitializedNewValueFrame.execute(processUninitializedStores.kt:154)
	at org.jetbrains.kotlin.codegen.optimization.common.MethodAnalyzer.analyze(MethodAnalyzer.kt:120)
	... 105 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535380729443</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535380910717</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Coroutines</value><valueId>Backend. JVM. Coroutines</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-560204" url="https://youtrack.jetbrains.com/_persistent/coroutines-bug.zip?file=74-560204&amp;c=true">coroutines-bug.zip</value></field></issue><issue id="KT-26440" entityId="25-2101633"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26440</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin Migration: INRE through KotlinMigrationProjectComponent$onImportFinished$1.run()</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Once caught an exception during Kotlin Migration process.
(I.e. got Gradle-based project, upgraded Kotlin version to newer and re-sync, got suggestion to migrate, run migration.)
It does _not_ occur every time, hope the trace helps in fixing.

IDEA 182.4394 + Kotlin plugin 1.3-M2-eap-165.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535457458370</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535457604907</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Configuration</value><valueId>IDE. Configuration</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3044206" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26440" deleted="false" text="com.intellij.openapi.project.IndexNotReadyException: Please change caller according to com.intellij.openapi.project.IndexNotReadyException documentation&#xA;&#x9;at com.intellij.openapi.project.IndexNotReadyException.create(IndexNotReadyException.java:77)&#xA;&#x9;at com.intellij.util.indexing.FileBasedIndexImpl.handleDumbMode(FileBasedIndexImpl.java:774)&#xA;&#x9;at com.intellij.util.indexing.FileBasedIndexImpl.ensureUpToDate(FileBasedIndexImpl.java:723)&#xA;&#x9;at com.intellij.util.indexing.FileBasedIndexImpl.ensureUpToDate(FileBasedIndexImpl.java:706)&#xA;&#x9;at com.intellij.psi.stubs.StubIndexImpl.doProcessStubs(StubIndexImpl.java:336)&#xA;&#x9;at com.intellij.psi.stubs.StubIndexImpl.processElements(StubIndexImpl.java:312)&#xA;&#x9;at com.intellij.psi.stubs.StubIndex.getElements(StubIndex.java:145)&#xA;&#x9;at com.intellij.psi.stubs.StubIndex.getElements(StubIndex.java:134)&#xA;&#x9;at com.intellij.psi.impl.java.stubs.index.JavaFullClassNameIndex.get(JavaFullClassNameIndex.java:47)&#xA;&#x9;at com.intellij.psi.impl.file.impl.JavaFileManagerImpl.doFindClasses(JavaFileManagerImpl.java:88)&#xA;&#x9;at com.intellij.psi.impl.file.impl.JavaFileManagerImpl.findClass(JavaFileManagerImpl.java:123)&#xA;&#x9;at com.intellij.psi.impl.PsiElementFinderImpl.findClass(PsiElementFinderImpl.java:39)&#xA;&#x9;at com.intellij.psi.impl.JavaPsiFacadeImpl.doFindClass(JavaPsiFacadeImpl.java:125)&#xA;&#x9;at com.intellij.psi.impl.JavaPsiFacadeImpl.findClass(JavaPsiFacadeImpl.java:102)&#xA;&#x9;at com.intellij.openapi.module.JavaModuleType.lambda$isValidJavaSdk$0(JavaModuleType.java:94)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:955)&#xA;&#x9;at com.intellij.openapi.application.ReadAction.compute(ReadAction.java:57)&#xA;&#x9;at com.intellij.openapi.module.JavaModuleType.isValidJavaSdk(JavaModuleType.java:94)&#xA;&#x9;at com.intellij.openapi.module.JavaModuleType.isValidSdk(JavaModuleType.java:88)&#xA;&#x9;at com.intellij.codeInspection.ex.GlobalJavaInspectionContextImpl.isBadSdk(GlobalJavaInspectionContextImpl.java:154)&#xA;&#x9;at com.intellij.codeInspection.ex.GlobalJavaInspectionContextImpl.isInspectionsEnabled(GlobalJavaInspectionContextImpl.java:103)&#xA;&#x9;at com.intellij.codeInspection.ex.JavaInspectionExtensionsFactory.isProjectConfiguredToRunInspections(JavaInspectionExtensionsFactory.java:63)&#xA;&#x9;at com.intellij.codeInspection.ex.GlobalInspectionContextUtil.canRunInspections(GlobalInspectionContextUtil.java:41)&#xA;&#x9;at com.intellij.codeInspection.ex.GlobalInspectionContextBase.doInspections(GlobalInspectionContextBase.java:188)&#xA;&#x9;at com.intellij.codeInspection.ex.GlobalInspectionContextImpl.doInspections(GlobalInspectionContextImpl.java:162)&#xA;&#x9;at org.jetbrains.kotlin.idea.migration.CodeInspectionAction.runInspections(CodeInspectionAction.java:54)&#xA;&#x9;at org.jetbrains.kotlin.idea.migration.CodeInspectionAction.analyze(CodeInspectionAction.java:34)&#xA;&#x9;at com.intellij.analysis.BaseAnalysisAction.actionPerformed(BaseAnalysisAction.java:76)&#xA;&#x9;at org.jetbrains.kotlin.idea.configuration.KotlinMigrationProjectComponent$onImportFinished$1.run(KotlinMigrationProjectComponent.kt:100)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl$2.run(TransactionGuardImpl.java:315)&#xA;&#x9;at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.doRun(LaterInvocator.java:447)&#xA;&#x9;at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:431)&#xA;&#x9;at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:415)&#xA;&#x9;at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:781)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:722)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:382)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)" shownForIssueAuthor="false" created="1535457475982" markdown="false"><replies/></comment></issue><issue id="KT-26450" entityId="25-2101843"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26450</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Quick doc: inconsistent placement of type parameter upper bounds in method signature</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider Kotlin code:

```
interface Interface {
    fun &lt;T&gt; foo() where T : CharSequence, T : Comparable&lt;T&gt;
}
```

Invoke "Quick documentation", see this signature:

`public abstract fun &lt;T : CharSequence&gt; foo(): Unit where T : Comparable&lt;T&gt; defined in Interface`

The problem is that one upper bound is on the left, and the other is on the right. This makes the signature hard to read and understand.

Note: same problem as KT-26392.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535461997452</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535461997452</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26392</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. KDoc</value><valueId>IDE. KDoc</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26456" entityId="25-2102046"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26456</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Expected inline class should not require constructor</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following should work:
```
expect inline class Foo
```

This way we are declaring an expected `inline` class whose actual carrier type is platform-specific.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535466289603</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535615202962</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Roman Elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roman Elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-23338</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Zarechenskiy">zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Language design</value><valueId>Language design</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c0">multiplatform</tag></issue><issue id="KT-26463" entityId="25-2102095"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26463</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Refactor -&gt; Inline property" breaks callable references</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Given:

Function or property in the current class
```
    fun fooBar(): String? {
        return connectedPeer
    }
```
which is later used as reference
```
val fooBarProvider = ::fooBar
private val myHandler = MyHandler(currentPeerProvider)
```


Where MyHandler is
```
private class MyHandler(private val fooBarProvider: () -&gt; String?) : Handler {
...
}
```

If I use `Refactor` -&gt; `Inline` the result is Invalid Kotlin code:

```
private val myHandler = MyHandler(::this.fooBar)
```

Instead it should simply "copy-pasting" initial value without `this.` added in the middle :

```
private val myHandler = MyHandler(::fooBar)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535468835683</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535716197282</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>alextrotsenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alex Trotsenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>alextrotsenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alex Trotsenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-13186</value><value type="Relates" role="relates to">KT-25790</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Glukhikh">mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Refactorings</value><valueId>IDE. Refactorings</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3049269" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26463" deleted="false" text="Thank you, reproduced. Sample code:&#xA;&#xA;```&#xA;class Wrapper(val f: () -&gt; String)&#xA;&#xA;class Test {&#xA;    fun f(): String = &quot;Hello&quot;&#xA;    val reference = ::f&#xA;    val foo = Wrapper(reference) // try to inline `reference`&#xA;}&#xA;```&#xA;&#xA;Inlining produces &quot;IllegalStateException: Callable reference simple name shouldn't be parsed to null&quot; (KT-13186):&#xA;&#xA;```stacktrace&#xA;org.jetbrains.kotlin.utils.KotlinExceptionWithAttachments: Exception while analyzing expression at (6,15) in /Users/belkov/Code/sandbox/src/main.kt&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.logOrThrowException(ExpressionTypingVisitorDispatcher.java:233)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.lambda$getTypeInfo$0(ExpressionTypingVisitorDispatcher.java:211)&#xA;&#x9;at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:91)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:161)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:132)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.getTypeInfo(ExpressionTypingVisitorDispatcher.java:144)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getTypeInfo(ExpressionTypingServices.java:114)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getTypeInfo(ExpressionTypingServices.java:93)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.getType(ExpressionTypingServices.java:130)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingServices.safeGetType(ExpressionTypingServices.java:79)&#xA;&#x9;at org.jetbrains.kotlin.resolve.VariableTypeAndInitializerResolver.resolveInitializerType(VariableTypeAndInitializerResolver.kt:155)&#xA;&#x9;at org.jetbrains.kotlin.resolve.VariableTypeAndInitializerResolver.access$resolveInitializerType(VariableTypeAndInitializerResolver.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.resolve.VariableTypeAndInitializerResolver$resolveTypeNullable$1.invoke(VariableTypeAndInitializerResolver.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.resolve.VariableTypeAndInitializerResolver$resolveTypeNullable$1.invoke(VariableTypeAndInitializerResolver.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)&#xA;&#x9;at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)&#xA;&#x9;at org.jetbrains.kotlin.types.DeferredType.getDelegate(DeferredType.java:78)&#xA;&#x9;at org.jetbrains.kotlin.types.WrappedType.getAnnotations(KotlinType.kt:75)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.ForceResolveUtil.forceResolveAllContents(ForceResolveUtil.java:105)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.ForceResolveUtil.doForceResolveAllContents(ForceResolveUtil.java:92)&#xA;&#x9;at org.jetbrains.kotlin.resolve.lazy.ForceResolveUtil.forceResolveAllContents(ForceResolveUtil.java:41)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.propertyAdditionalResolve(ResolveElementCache.kt:548)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.performElementAdditionalResolve(ResolveElementCache.kt:348)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.getElementsAdditionalResolve(ResolveElementCache.kt:154)&#xA;&#x9;at org.jetbrains.kotlin.idea.project.ResolveElementCache.resolveToElements(ResolveElementCache.kt:222)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ModuleResolutionFacadeImpl.analyze(ModuleResolutionFacadeImpl.kt:59)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ModuleResolutionFacadeImpl.analyze(ModuleResolutionFacadeImpl.kt:53)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeWithDebugInfo.analyze(ResolutionFacadeWithDebugInfo.kt:38)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyze(resolutionApi.kt:112)&#xA;&#x9;at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyze$default(resolutionApi.kt:111)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.CodeInliner.dropArgumentsForDefaultValues(CodeInliner.kt:502)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.CodeInliner.postProcessInsertedCode(CodeInliner.kt:426)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.CodeInliner.access$postProcessInsertedCode(CodeInliner.kt:50)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.CodeInliner$doInline$3.invoke(CodeInliner.kt:152)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.CodeInliner$doInline$3.invoke(CodeInliner.kt:50)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.ExpressionReplacementPerformer.doIt(ReplacementPerformer.kt:162)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.ExpressionReplacementPerformer.doIt(ReplacementPerformer.kt:70)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.CodeInliner.doInline(CodeInliner.kt:151)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.CallableUsageReplacementStrategy$createReplacer$1.invoke(CallableUsageReplacementStrategy.kt:53)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.CallableUsageReplacementStrategy$createReplacer$1.invoke(CallableUsageReplacementStrategy.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.UsageReplacementStrategyKt.processUsages(UsageReplacementStrategy.kt:140)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.UsageReplacementStrategyKt.access$processUsages(UsageReplacementStrategy.kt:1)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.UsageReplacementStrategyKt$replaceUsages$2$1.invoke(UsageReplacementStrategy.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.UsageReplacementStrategyKt$replaceUsages$2$1.invoke(UsageReplacementStrategy.kt)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt$sam$com_intellij_openapi_util_Computable$0.compute(ApplicationUtils.kt)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1050)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt.runWriteAction(ApplicationUtils.kt:31)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt$executeWriteCommand$1.run(ApplicationUtils.kt:35)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:131)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:97)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:87)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:73)&#xA;&#x9;at org.jetbrains.kotlin.idea.util.application.ApplicationUtilsKt.executeWriteCommand(ApplicationUtils.kt:35)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.UsageReplacementStrategyKt$replaceUsages$2.run(UsageReplacementStrategy.kt:82)&#xA;&#x9;at com.intellij.ui.GuiUtils.invokeLaterIfNeeded(GuiUtils.java:377)&#xA;&#x9;at org.jetbrains.kotlin.idea.codeInliner.UsageReplacementStrategyKt.replaceUsages(UsageReplacementStrategy.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.inline.KotlinInlineCallableProcessor.performRefactoring(KotlinInlineCallableProcessor.kt:65)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.lambda$doRefactoring$9(BaseRefactoringProcessor.java:477)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.lambda$doRefactoring$10(BaseRefactoringProcessor.java:488)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$15(ApplicationImpl.java:999)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)&#xA;&#x9;at com.intellij.openapi.progress.util.PotemkinProgress.runInSwingThread(PotemkinProgress.java:168)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runEdtProgressWriteAction(ApplicationImpl.java:999)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithNonCancellableProgressInDispatchThread(ApplicationImpl.java:979)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.doRefactoring(BaseRefactoringProcessor.java:488)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.lambda$execute$2(BaseRefactoringProcessor.java:315)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:139)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:97)&#xA;&#x9;at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:87)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.execute(BaseRefactoringProcessor.java:313)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.doRun(BaseRefactoringProcessor.java:244)&#xA;&#x9;at com.intellij.refactoring.BaseRefactoringProcessor.run(BaseRefactoringProcessor.java:564)&#xA;&#x9;at com.intellij.refactoring.ui.RefactoringDialog.invokeRefactoring(RefactoringDialog.java:203)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.inline.KotlinInlineValDialog.doAction(KotlinInlineValDialog.kt:64)&#xA;&#x9;at com.intellij.refactoring.ui.RefactoringDialog.doRefactorAction(RefactoringDialog.java:100)&#xA;&#x9;at com.intellij.refactoring.ui.RefactoringDialog$RefactorAction.actionPerformed(RefactoringDialog.java:180)&#xA;&#x9;at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)&#xA;&#x9;at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)&#xA;&#x9;at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)&#xA;&#x9;at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)&#xA;&#x9;at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)&#xA;&#x9;at java.awt.Component.processMouseEvent(Component.java:6548)&#xA;&#x9;at javax.swing.JComponent.processMouseEvent(JComponent.java:3325)&#xA;&#x9;at java.awt.Component.processEvent(Component.java:6313)&#xA;&#x9;at java.awt.Container.processEvent(Container.java:2237)&#xA;&#x9;at java.awt.Component.dispatchEventImpl(Component.java:4903)&#xA;&#x9;at java.awt.Container.dispatchEventImpl(Container.java:2295)&#xA;&#x9;at java.awt.Component.dispatchEvent(Component.java:4725)&#xA;&#x9;at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)&#xA;&#x9;at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)&#xA;&#x9;at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)&#xA;&#x9;at java.awt.Container.dispatchEventImpl(Container.java:2281)&#xA;&#x9;at java.awt.Window.dispatchEventImpl(Window.java:2746)&#xA;&#x9;at java.awt.Component.dispatchEvent(Component.java:4725)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)&#xA;&#x9;at java.awt.EventQueue$4.run(EventQueue.java:737)&#xA;&#x9;at java.awt.EventQueue$4.run(EventQueue.java:735)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:781)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:718)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:382)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109)&#xA;&#x9;at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:190)&#xA;&#x9;at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:235)&#xA;&#x9;at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:233)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:233)&#xA;&#x9;at java.awt.Dialog.show(Dialog.java:1077)&#xA;&#x9;at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl$MyDialog.show(DialogWrapperPeerImpl.java:698)&#xA;&#x9;at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl.show(DialogWrapperPeerImpl.java:430)&#xA;&#x9;at com.intellij.openapi.ui.DialogWrapper.invokeShow(DialogWrapper.java:1690)&#xA;&#x9;at com.intellij.openapi.ui.DialogWrapper.show(DialogWrapper.java:1639)&#xA;&#x9;at com.intellij.refactoring.ui.RefactoringDialog.show(RefactoringDialog.java:67)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.inline.KotlinInlineValHandler.performRefactoring(KotlinInlineValHandler.kt:187)&#xA;&#x9;at org.jetbrains.kotlin.idea.refactoring.inline.KotlinInlineValHandler.inlineElement(KotlinInlineValHandler.kt:114)&#xA;&#x9;at com.intellij.refactoring.inline.InlineRefactoringActionHandler.invoke(InlineRefactoringActionHandler.java:73)&#xA;&#x9;at com.intellij.refactoring.actions.BaseRefactoringAction.actionPerformed(BaseRefactoringAction.java:131)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)&#xA;&#x9;at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:235)&#xA;&#x9;at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.lambda$actionPerformed$0(ActionMenuItem.java:304)&#xA;&#x9;at com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:307)&#xA;&#x9;at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:106)&#xA;&#x9;at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:294)&#xA;&#x9;at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)&#xA;&#x9;at com.intellij.openapi.actionSystem.impl.ActionMenuItem.lambda$fireActionPerformed$0(ActionMenuItem.java:114)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.lambda$submitTransaction$1(TransactionGuardImpl.java:111)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuardImpl.submitTransaction(TransactionGuardImpl.java:120)&#xA;&#x9;at com.intellij.openapi.application.TransactionGuard.submitTransaction(TransactionGuard.java:122)&#xA;&#x9;at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:114)&#xA;&#x9;at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)&#xA;&#x9;at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)&#xA;&#x9;at javax.swing.JToggleButton$ToggleButtonModel.setPressed(JToggleButton.java:308)&#xA;&#x9;at javax.swing.AbstractButton.doClick(AbstractButton.java:376)&#xA;&#x9;at com.apple.laf.ScreenMenuItemCheckbox.itemStateChanged(ScreenMenuItemCheckbox.java:193)&#xA;&#x9;at java.awt.CheckboxMenuItem.processItemEvent(CheckboxMenuItem.java:389)&#xA;&#x9;at java.awt.CheckboxMenuItem.processEvent(CheckboxMenuItem.java:357)&#xA;&#x9;at java.awt.MenuComponent.dispatchEventImpl(MenuComponent.java:355)&#xA;&#x9;at java.awt.MenuComponent.dispatchEvent(MenuComponent.java:343)&#xA;&#x9;at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:767)&#xA;&#x9;at java.awt.EventQueue.access$500(EventQueue.java:98)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:715)&#xA;&#x9;at java.awt.EventQueue$3.run(EventQueue.java:709)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)&#xA;&#x9;at java.awt.EventQueue$4.run(EventQueue.java:737)&#xA;&#x9;at java.awt.EventQueue$4.run(EventQueue.java:735)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)&#xA;&#x9;at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:781)&#xA;&#x9;at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:722)&#xA;&#x9;at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:382)&#xA;&#x9;at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&#xA;&#x9;at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)&#xA;&#x9;at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)&#xA;Caused by: java.lang.IllegalStateException: Callable reference simple name shouldn't be parsed to null&#xA;&#x9;at org.jetbrains.kotlin.psi.KtCallableReferenceExpression.getCallableReference(KtCallableReferenceExpression.java:38)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.DoubleColonExpressionResolver.resolveCallableReferenceRHS(DoubleColonExpressionResolver.kt:708)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.DoubleColonExpressionResolver.resolveCallableReference(DoubleColonExpressionResolver.kt:631)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.ArgumentTypeResolver.getShapeTypeOfCallableReference(ArgumentTypeResolver.java:283)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.ArgumentTypeResolver.getCallableReferenceTypeInfo(ArgumentTypeResolver.java:270)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.ArgumentTypeResolver.getArgumentTypeInfo(ArgumentTypeResolver.java:214)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.ArgumentTypeResolver.analyzeArgumentsAndRecordTypes(ArgumentTypeResolver.java:402)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCall(CallResolver.java:661)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCallOrGetCachedResults(CallResolver.java:589)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.lambda$computeTasksAndResolveCall$0(CallResolver.java:208)&#xA;&#x9;at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:91)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:206)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:196)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallResolver.resolveFunctionCall(CallResolver.java:321)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getResolvedCallForFunction(CallExpressionResolver.kt:93)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getCallExpressionTypeInfoWithoutFinalTypeCheck(CallExpressionResolver.kt:215)&#xA;&#x9;at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getCallExpressionTypeInfo(CallExpressionResolver.kt:192)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.BasicExpressionTypingVisitor.visitCallExpression(BasicExpressionTypingVisitor.java:720)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.visitCallExpression(ExpressionTypingVisitorDispatcher.java:375)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$ForDeclarations.visitCallExpression(ExpressionTypingVisitorDispatcher.java:44)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtCallExpression.accept(KtCallExpression.java:35)&#xA;&#x9;at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.lambda$getTypeInfo$0(ExpressionTypingVisitorDispatcher.java:172)&#xA;&#x9;... 174 more&#xA;```" shownForIssueAuthor="false" created="1535710238420" markdown="true"><replies/></comment></issue><issue id="KT-26478" entityId="25-2103017"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26478</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Objective-C object's class name is null in ClassCastException's message</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
import platform.Foundation.*

class C

fun main(args:Array&lt;String&gt;) {
    val v = NSDate()
    println(v as C)
}
```
Output: `Uncaught exception from Kotlin's main: kotlin.ClassCastException: null cannot be cast to C`</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535547927002</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535548036505</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Sergey.Bogolepov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Sergey Bogolepov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Sergey.Bogolepov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Bogolepov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Bogolepov">Sergey.Bogolepov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26497" entityId="25-2103554"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26497</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Non-nullable multiplatform expected companion property is null/undefined</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>A non-nullable property in the companion object of an expected class is undefined for Kotlin/JS and null in Kotlin/Native. Value is properly defined in Kotlin/JVM.

Project: https://github.com/square/okio
Property: okio.ByteString.Companion.EMPTY (https://github.com/square/okio/blob/master/okio/src/main/kotlin/okio/ByteString.kt#L130)

I tested this by placing print statements in a common unit test.

Basic structure is as follows. I'm working to create a smaller, more contained example.

Kotlin/Common
```
internal val COMMON_EMPTY = ByteString.of()
internal fun commonOf(data: ByteArray) = ByteString(data.copyOf())

expect class ByteString {
  ...
  companion object {
    val EMPTY: ByteString
    fun of(vararg data: Byte): ByteString
    ...
  }
}
```

Kotlin/JVM, Kotlin/JS, and Kotlin/Native
```
actual class ByteString {
  ...
  actual companion object {
    actual val EMPTY: ByteString = COMMON_EMPTY
    actual fun of(vararg data: Byte) = commonOf(data)
    ...
  }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535594897678</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536667673271</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Zalim Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>brian.e.norman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Brian Norman</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><value>Language design</value><value>Backend. JS</value><valueId>Backend. JVM</valueId><valueId>Language design</valueId><valueId>Backend. JS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3046928" author="brian.e.norman" authorFullName="Brian Norman" issueId="KT-26497" deleted="false" text="I've created a new branch in a fork of the same project and striped out everything not related. Run the build to see a print out of the null and undefined property&#xA;https://github.com/bnorm/okio/tree/bnorm.0829.null_property" shownForIssueAuthor="false" created="1535596678488" markdown="true"><replies/></comment><tag cssClass="c0">multiplatform</tag></issue><issue id="KT-26506" entityId="25-2104023"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26506</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incorrect bytecode generated for inner class inside inline class referencing outer 'this'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
inline class Outer(val x: Int) {
    inner class Inner {
        fun foo() = x
    }
}
```

```
foo ()I:
   L0
    LINENUMBER 5 L0
    ILOAD 0 // &lt;--- should be ALOAD 0
    GETFIELD test/Outer$Inner.this$0 : I
    IRETURN
   L1
    LOCALVARIABLE this Ltest/Outer$Inner; L0 L1 0
    MAXSTACK = 1
    MAXLOCALS = 1
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535626477640</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535626477640</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-23338</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26507" entityId="25-2104064"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26507</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Weird coroutine behavior after OOM</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>So, my application seems to leak all Ktor websockets which is somehow related to the use of coroutines - not yet sure if my fault or not.
6,595 instances of `io.ktor.http.cio.websocket.DefaultWebSocketSessionImpl` - should be 0.

In addition, once several OOM errors got thrown some coroutines throw `IllegalStateException`s which I guess they shouldn't. The whole fun ends in 100% CPU usage and an unusable java process.

I didn't have that problem with the same code before I've updated to more recent versions of Kotlin, Kotlin Coroutines &amp; Ktor.
I'm not sure how to further isolate the issue other than trying different versions of these three libraries and wait for the problem to occur again in production, which I'll do.

What follows is some info I've collected.

## Log file excerpt
```
Exception in thread "Ktor-client-apache" Exception in thread "Ktor-client-apache" java.lang.OutOfMemoryError: Java heap space
Exception in thread "Ktor-client-apache" java.lang.OutOfMemoryError: Java heap space
java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:19:38.301 WARN  o.e.j.u.t.strategy.EatWhatYouKill -
java.lang.OutOfMemoryError: Java heap space
Exception in thread "qtp239465106-642" java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:19:37.839 WARN  o.e.j.u.t.strategy.EatWhatYouKill -
java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:19:20.166 WARN  o.e.j.util.thread.QueuedThreadPool -
java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:21:17.527 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:21:07.718 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:20:58.000 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:20:36.932 WARN  o.e.j.u.t.strategy.EatWhatYouKill -
java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:20:35.174 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:20:17.841 WARN  o.e.j.u.t.strategy.EatWhatYouKill -
java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:20:18.234 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:20:18.233 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:21:19.657 WARN  o.e.j.u.t.strategy.EatWhatYouKill -
java.lang.IllegalStateException: Already resumed, but proposed with update kotlin.Unit
	at kotlinx.coroutines.experimental.AbstractContinuation.resumeImpl(AbstractContinuation.kt:292)
	at kotlinx.coroutines.experimental.AbstractContinuation.resume(AbstractContinuation.kt:143)
	at io.ktor.server.jetty.internal.EndPointReader.onFillable(EndPointChannels.kt:65)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)
	at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:291)
	at org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:151)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)
	at java.lang.Thread.run(Thread.java:748)
2018-08-29 16:20:14.671 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space

…
&lt;many more such exceptions but websockets still working somehow&gt;
…
2018-08-29 16:31:02.110 WARN  o.e.j.util.thread.QueuedThreadPool - Unexpected thread death: org.eclipse.jetty.util.thread.QueuedThreadPool$2@6cf3ea65 in QueuedThreadPool[qtp239465106]@e45f292{STARTED,8&lt;=36&lt;=200,i=27,q=0}[ReservedThreadExecutor@29f1699f{s=3/4,p=0}]
…
&lt;many more such exceptions but websockets NOT working anymore&gt;
…
2018-08-29 16:44:00.134 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:44:03.821 WARN  org.eclipse.jetty.io.ManagedSelector - java.lang.OutOfMemoryError: Java heap space
2018-08-29 16:44:03.000 WARN  o.e.j.u.t.strategy.EatWhatYouKill -
java.lang.OutOfMemoryError: Java heap space
Exception in thread "qtp239465106-32"
Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread "qtp239465106-32"
Exception in thread "Thread-644" java.lang.OutOfMemoryError: Java heap space
Exception in thread "qtp239465106-681" java.lang.OutOfMemoryError: Java heap space
…
&lt;an hour of silence&gt;
…
Exception in thread "Thread-646" java.lang.OutOfMemoryError: Java heap space
&lt;then total silence - 100% CPU usage by now&gt;
```

## GC path example
Looking at the heap dump, this is the GC root path of `io.ktor.http.cio.websocket.DefaultWebSocketSessionImpl#1`:
```
this$0 in io.ktor.http.cio.websocket.DefaultWebSocketSessionImpl$2#1
handler in kotlinx.coroutines.experimental.InvokeOnCompletion#1
_prev in kotlinx.coroutines.experimental.InvokeOnCompletion#2
_prev in kotlinx.coroutines.experimental.InvokeOnCompletion#3
…
… (60 more like this - what keeps this thing alive??)
…
_prev in kotlinx.coroutines.experimental.InvokeOnCompletion#64
_prev in kotlinx.coroutines.experimental.NodeList#174
_state in kotlinx.coroutines.experimental.CompletableDeferredImpl#399
context in io.ktor.websocket.WebSockets#1
$webSockets in io.ktor.websocket.WebSockets$Feature$install$1$1#1
handler in io.ktor.application.ApplicationEvents$HandlerRegistration#7
_prev in kotlinx.coroutines.experimental.internal.LockFreeLinkedListHead#1057
val in java.util.concurrent.ConcurrentHashMap$Node#18366
[6] in java.util.concurrent.ConcurrentHashMap$Node[]#260 : 16 items
table in java.util.concurrent.ConcurrentHashMap#1873
handlers in io.ktor.application.ApplicationEvents#1
monitor in io.ktor.server.engine.ApplicationEngineEnvironmentReloading#1 [GC root - Java frame]
```


## Thread dump
Attached.
The thread causing 100% CPU is `qtp239465106-648`.


## Versions

#### Problematic
JDK openjdk-8-jre-headless 151 on Ubuntu
Kotlin 1.2.61
Kotlin Coroutines 0.24.0
Ktor 0.9.3

#### Problematic
JDK openjdk-8-jre-headless 181 on Ubuntu
Kotlin 1.2.61
Kotlin Coroutines 0.22.5
Ktor 0.9.2

#### Stable
JDK openjdk-8-jre-headless 151 on Ubuntu
Kotlin 1.2.31
Kotlin Coroutines 0.22.1
Ktor 0.9.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535627724341</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536700261122</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>fluidsonic</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Marc Knaup</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>fluidsonic</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Marc Knaup</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Libraries</value><valueId>Libraries</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-561315" url="https://youtrack.jetbrains.com/_persistent/thread-dump.txt?file=74-561315&amp;c=true">thread-dump.txt</value></field></issue><issue id="KT-26519" entityId="25-2104726"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26519</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>VerifyError: Bad invokespecial instruction on private @JvmStatic inline function with reified type parameter inside companion object</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have this function which I'm compiling with gradle (kotlinc-version 1.2.61) in a project that uses much reflection.
```
@JvmStatic
        private inline infix fun &lt;reified T : Any&gt; KClass&lt;T&gt;.toConstructor(noinline constructor: (T) -&gt; Value&lt;*&gt;)
                : Pair&lt;KClass&lt;*&gt;, (Any) -&gt; Value&lt;*&gt;&gt; {
            return this to { v: Any -&gt; constructor(v as T) }
```
Here is my buildscript
```
buildscript {
    dependencies {
        classpath 'org.junit.platform:junit-platform-gradle-plugin:1.0.0'
    }
}

plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.2.61'
}

group 'nikok'
version '1.0-SNAPSHOT'

apply plugin: 'org.junit.platform.gradle.plugin'

repositories {
    mavenCentral()
}

targetCompatibility = JavaVersion.VERSION_1_6

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    compile "org.jetbrains.kotlin:kotlin-reflect:1.2.61"
    testCompile 'org.jetbrains.spek:spek-api:1.1.5'
    testRuntime 'org.jetbrains.spek:spek-junit-platform-engine:1.1.5'
    testCompile 'com.natpryce:hamkrest:1.6.0.0'
}
```
Everything compiles fine but when I run the code I get this error message
java.lang.VerifyError: Bad invokespecial instruction: current class isn't assignable to reference class.
Exception Details:
  Location:
    memorize/impl/Value.toConstructor(Lkotlin/reflect/KClass;Lkotlin/jvm/functions/Function1;)Lkotlin/Pair; @5: invokespecial
  Reason:
    Error exists in the bytecode
  Bytecode:
    0x0000000: b200 582a 2bb7 005c b0   

I already tried with targCompatibility = JavaVersion.VERSION_1_8 but it keeps failing

I looked at these issues https://youtrack.jetbrains.com/issue/KT-6804, https://youtrack.jetbrains.com/issue/KT-9712, https://youtrack.jetbrains.com/issue/KT-6804
But for me it looks as these things were different</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535646767038</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1535715579956</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>niko.knop003</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Niko Knop</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>niko.knop003</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Niko Knop</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-6804</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.10</value><value>1.2.60</value><valueId>1.2.10</valueId><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3049145" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26519" deleted="false" text="Thank you, reproduced. Minimal sample:&#xA;&#xA;```&#xA;class Foo {&#xA;    companion object {&#xA;        @JvmStatic&#xA;        private inline fun &lt;reified T&gt; bar() {&#xA;        }&#xA;    }&#xA;&#xA;    fun test() {&#xA;        bar&lt;String&gt;()&#xA;    }&#xA;}&#xA;&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    Foo().test()&#xA;}&#xA;```&#xA;&#xA;```stacktrace&#xA;Exception in thread &quot;main&quot; java.lang.VerifyError: Bad invokespecial instruction: current class isn't assignable to reference class.&#xA;Exception Details:&#xA;  Location:&#xA;    Foo.bar()V @3: invokespecial&#xA;  Reason:&#xA;    Error exists in the bytecode&#xA;  Bytecode:&#xA;    0x0000000: b200 0ab7 0025 b1  &#xA;```&#xA;&#xA;By the way, if you want to generate JVM 1.8 bytecode with Kotlin, use [this syntax](https://stackoverflow.com/a/44297713/992380)." shownForIssueAuthor="false" created="1535707185513" markdown="true"><replies/></comment><comment id="27-3049461" author="niko.knop003" authorFullName="Niko Knop" issueId="KT-26519" deleted="false" text="Thank you for your tip" shownForIssueAuthor="false" created="1535715579956" markdown="false"><replies/></comment></issue><issue id="KT-26522" entityId="25-2104839"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26522</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IllegalArgumentException in ProGuard on optimized nullable enum comparison</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
Unexpected error while evaluating instruction:
  Class       = [example/com/kotlinenum/MainActivity]
  Method      = [onCreate(Landroid/os/Bundle;)V]
  Instruction = [56] ificmpne +7 (target=63)
  Exception   = [java.lang.IllegalArgumentException] (Value "null" is not an integer value [proguard.evaluation.value.TypedReferenceValue])
Unexpected error while performing partial evaluation:
  Class       = [example/com/kotlinenum/MainActivity]
  Method      = [onCreate(Landroid/os/Bundle;)V]
  Exception   = [java.lang.IllegalArgumentException] (Value "null" is not an integer value [proguard.evaluation.value.TypedReferenceValue])
```

Recreated when compiling the following with default proguard optimizations and kotlin `1.2.40` (and higher):

```
enum class Type {
    A, B, C
}

interface Wrapper {
    val type: Type
}

val map = mapOf&lt;String, Wrapper&gt;()
val wrapper = map["a"]
println(wrapper?.type == Type.A)
```

Can be fixed by:

- Reducing kotlin version to 1.2.31 or lower
- Comparing to null manually
`wrapper != null &amp;&amp; wrapper.type == Type.A`
- Disabling enum unboxing
`-optimizations !class/unboxing/enum`

Example project can be found at:
https://github.com/absimas/KotlinEnum</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535661431377</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536752207110</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ab.simas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Simas Abramovas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-16867</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.40</value><valueId>1.2.40</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3049191" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26522" deleted="false" text="Thank you, reproduced. Seems related: KT-16867." shownForIssueAuthor="false" created="1535708203295" markdown="true"><replies/></comment><comment id="27-3063526" author="mbogdanov" authorFullName="Michael Bogdanov" issueId="KT-26522" deleted="false" text="Related proguard issue: https://sourceforge.net/p/proguard/bugs/720/" shownForIssueAuthor="false" created="1536752207116" markdown="false"><replies/></comment></issue><issue id="KT-26524" entityId="25-2104883"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26524</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>False positive "Redundant explicit 'this'" for inner class inheriting a synthetic property from a Java class</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
open class Base1 {
    val foo: Int get() { print("right method called"); return 0 }
}

// Base2.java
//public class Base2 {
//  int getFoo() { throw new IllegalArgumentException(""); }
//}

class Impl : Base1() {

    inner class Inner : Base2() {
        fun delegatingToFoo() = this@Impl.foo
    }

}
```
!image.png!</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535670126347</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536663783163</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Mikhail Glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>alexander_kirsanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Kirsanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Glukhikh">mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Inspections and Intentions</value><valueId>IDE. Inspections and Intentions</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-561618" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-561618&amp;c=true">image.png</value></field><comment id="27-3061536" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-26524" deleted="false" text="Yet cannot reproduce (1.3.0-dev-419, IDEA 2018.2)." shownForIssueAuthor="false" created="1536662781838" updated="1536663758205" markdown="false"><replies/></comment><comment id="27-3061566" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-26524" deleted="false" text="Reproduced in 1.3.0-dev-426, IDEA 2018.3." shownForIssueAuthor="false" created="1536663783164" markdown="false"><replies/></comment></issue><issue id="KT-26536" entityId="25-2105701"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26536</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Bogus 'invisible' member when accessing internal member through KJK-inheritance</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider following code:
```
// FILE: KotlinTop.kt
open class KotlinTop {
    internal val foo: Int = 42
}

// FILE: JavaMiddle.java
public class JavaMiddle extends KotlinTop { }

// FILE: KotlinBotton.kt
class KotlinBottom : JavaMiddle()

// FILE: test.kt
fun test(file: Any?) {
    if (file is KotlinBottom) {
        println(file.foo)
    }
}
```

- CLI compiler reports error on `file.foo` access: `Cannot access 'roleImpl': it is invisible (private in a supertype) in 'KotlinBottom'`

Some observations:
- If compiler is tricked to resolve `foo` on `KotlinTop` rather than `KotlinBottom`, error goes away:
```
fun test(file: Any?) {
    if (file is KotlinBottom) {
        val tmp: KotlinTop = file
        println(tmp.foo) // OK
    }
}
```
- IDE plugin doesn't report errors (difference because of lightclasses generation?)
- Seems like the bug was here since ever (tested on 1.1.61, still reproduces)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535730675410</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920634859</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Savvinov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Savvinov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26541" entityId="25-2105974"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26541</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>When statement within method call is formatted incorrectly with option "Align when multiline"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>This is how things should be formatted:
```kt
type.setImageResource(when (trash.type) {
    DeletionType.TEAM -&gt; RC.drawable.ic_person_grey_96dp
    DeletionType.SCOUT -&gt; RC.drawable.ic_content_paste_colorable_24dp
    else -&gt; error("Unsupported type: ${trash.type}")
})
```

This is how IntelliJ tries to format it:
```kt
type.setImageResource(when (trash.type) {
                          DeletionType.TEAM -&gt; RC.drawable.ic_person_grey_96dp
                          DeletionType.SCOUT -&gt; RC.drawable.ic_content_paste_colorable_24dp
                          else -&gt; error("Unsupported type: ${trash.type}")
                      })
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535770129607</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536229062980</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>SUPERCILEX</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alex Saveau</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Code Style, Formatting</value><valueId>IDE. Code Style, Formatting</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M2</value><value>1.2.61</value><valueId>1.3-M2</valueId><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-563324" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202018-09-05%20at%2012.52.07.png?file=74-563324&amp;c=true">Screen Shot 2018-09-05 at 12.52.07.png</value></field><comment id="27-3054618" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26541" deleted="false" text="Hello, sorry, I couldn't reproduce this on sample code:&#xA;&#xA;```&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    foo(when(1) {&#xA;        1 -&gt; 1&#xA;        else -&gt; 2&#xA;    })&#xA;}&#xA;&#xA;fun foo(x: Int) {}&#xA;```&#xA;&#xA;IDEA doesn't change the formatting of this fragment. See also the relevant code style settings on the screenshot. Does it work for you?" shownForIssueAuthor="false" created="1536141347039" markdown="false"><replies/></comment><comment id="27-3055742" author="SUPERCILEX" authorFullName="Alex Saveau" issueId="KT-26541" deleted="false" text="Ah, it's a bug when you have `Align when multiline` enabled" shownForIssueAuthor="false" created="1536181893759" markdown="true"><replies/></comment></issue><issue id="KT-26552" entityId="25-2106229"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26552</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Script dependencies resolution failed" in *.gradle.kts files when Gradle Wrapper 4.10 composite build includes plugin used via dependency substitution</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>"Script dependencies resolution failed" in `*.gradle.kts` files when Gradle Wrapper 4.10 composite build has one included build that applies a plugin from another included build via dependency substitution.

What steps will reproduce the issue?
1. Open the attached project in IntelliJ
2. Open `artifact/build.gradle.kts` &amp; `artifact/settings.gradle.kts`
3. Notice the red banner stating that "Script dependencies resolution failed"

What is the expected result?
Script dependencies resolution doesn't fail, and no red banner appears

What happens instead?
See above</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1535904817695</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536148255002</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rgoldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ross Goldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Igushkin">h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Gradle</value><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-562257" url="https://youtrack.jetbrains.com/_persistent/plugin-dependency-substitution.zip?file=74-562257&amp;c=true">plugin-dependency-substitution.zip</value></field></issue><issue id="KT-26557" entityId="25-2107304"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26557</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Kotlin reference / Using Gradle: description of source set configuration in Kotlin Gradle DSL could be improved</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>"Using Gradle" manual page (https://kotlinlang.org/docs/reference/using-gradle.html) says about source sets in `.gradle.kts`:
&gt; With Gradle Kotlin DSL, configure source sets with `java.sourceSets { ... }` instead.

1st, starting with Gradle 4.10 it's just `sourceSets { ... }`.

2nd, simple copy of Groovy `.gradle` DSL is not resolved:
```
sourceSets {
    main.kotlin.srcDirs += 'src/main/myKotlin' // errors
    main.java.srcDirs += 'src/main/myJava' // errors
}
```

The following works, for comparison:
```
sourceSets["main"].java {
    srcDir("src/main/myJava")
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536007359936</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536007359936</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Docs</value><valueId>Docs</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26568" entityId="25-2107581"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26568</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Forbid non-trivial projections for Array class literals used in annotations</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
import kotlin.reflect.KClass

annotation class Ann(val x: KClass&lt;*&gt;)

@Ann(Array&lt;in String&gt;::class)
fun foo1() {}

@Ann(Array&lt;Array&lt;out String&gt;&gt;::class)
fun foo2() {}
```
- With a warning in 1.3.x
- Turn into an error in 1.4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536053805337</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536053836812</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Denis Zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>denis.zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Denis Zharkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-22069</value><value type="Relates" role="relates to">KT-26408</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.3.20</value><valueId>1.3.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Udalov">udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend</value><valueId>Frontend</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c20">for-language-committee</tag></issue><issue id="KT-26597" entityId="25-2108489"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26597</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Error type encountered: [ERROR : Cannot be inferred] (ErrorType)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>See the attached project. Run `gradle build` shows

```
e: java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: Error type encountered: [ERROR : Cannot be inferred] (ErrorType).
Cause: Error type encountered: [ERROR : Cannot be inferred] (ErrorType).
File being compiled at position: (36,45) in /home/ice1000/git-repos/Ruiko.kt/src/lexer/lexer.kt
The root cause was thrown at: KotlinTypeMapper.java:113
File being compiled at position: file:///home/ice1000/git-repos/Ruiko.kt/src/lexer/lexer.kt
The root cause was thrown at: ExpressionCodegen.java:320
        at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)
        at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
        at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:441)
        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:146)
        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)
        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)
        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:94)
        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:50)
        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:88)
        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:439)
        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:101)
        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:224)
        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:36)
        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:86)
        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:98)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:547)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:101)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:421)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:929)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)
        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:969)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:928)
        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:420)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
        at sun.rmi.transport.Transport$1.run(Transport.java:200)
        at sun.rmi.transport.Transport$1.run(Transport.java:197)
        at java.security.AccessController.doPrivileged(Native Method)
        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
        at java.security.AccessController.doPrivileged(Native Method)
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Error type encountered: [ERROR : Cannot be inferred] (ErrorType).
Cause: Error type encountered: [ERROR : Cannot be inferred] (ErrorType).
File being compiled at position: (36,45) in /home/ice1000/git-repos/Ruiko.kt/src/lexer/lexer.kt
The root cause was thrown at: KotlinTypeMapper.java:113
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:320)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:281)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
        at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:53)
        at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:51)
        at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2388)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2360)
        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
        at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:350)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
        at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:426)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)
        at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:178)
        at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:166)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:989)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:963)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitNamedFunction(ExpressionCodegen.java:935)
        at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitNamedFunction(CodegenStatementVisitor.java:46)
        at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitNamedFunction(CodegenStatementVisitor.java:22)
        at org.jetbrains.kotlin.psi.KtNamedFunction.accept(KtNamedFunction.java:48)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:373)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1210)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1155)
        at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)
        at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)
        at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:373)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
        at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:426)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)
        at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:178)
        at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:166)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:989)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:963)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitNamedFunction(ExpressionCodegen.java:935)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitNamedFunction(ExpressionCodegen.java:925)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitNamedFunction(ExpressionCodegen.java:111)
        at org.jetbrains.kotlin.psi.KtNamedFunction.accept(KtNamedFunction.java:48)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:281)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
        at org.jetbrains.kotlin.codegen.ClosureGenerationStrategy.doGenerateBody(ClosureGenerationStrategy.kt:31)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:426)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)
        at org.jetbrains.kotlin.codegen.ClosureCodegen.generateClosureBody(ClosureCodegen.java:178)
        at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:166)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:989)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:963)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitNamedFunction(ExpressionCodegen.java:935)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitNamedFunction(ExpressionCodegen.java:925)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitNamedFunction(ExpressionCodegen.java:111)
        at org.jetbrains.kotlin.psi.KtNamedFunction.accept(KtNamedFunction.java:48)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:281)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:326)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:426)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:157)
        at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:201)
        at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)
        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
        ... 44 more
Caused by: java.lang.IllegalStateException: Error type encountered: [ERROR : Cannot be inferred] (ErrorType).
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper$1.processErrorType(KotlinTypeMapper.java:113)
        at org.jetbrains.kotlin.load.kotlin.TypeSignatureMappingKt.mapType(typeSignatureMapping.kt:92)
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapType(KotlinTypeMapper.java:502)
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapReturnType(KotlinTypeMapper.java:425)
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapReturnType(KotlinTypeMapper.java:418)
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignatureWithCustomParameters(KotlinTypeMapper.java:1255)
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignature(KotlinTypeMapper.java:1175)
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignature(KotlinTypeMapper.java:1144)
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignature(KotlinTypeMapper.java:1110)
        at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapAsmMethod(KotlinTypeMapper.java:1100)
        at org.jetbrains.kotlin.codegen.inline.PsiExpressionLambda.&lt;init&gt;(LambdaInfo.kt:249)
        at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.rememberClosure(InlineCodegen.kt:764)
        at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genValueAndPut(InlineCodegen.kt:739)
        at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:51)
        at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2388)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2360)
        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
        at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
        at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:350)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)
        at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda$generateDoResume$1.doGenerateBody(CoroutineCodegen.kt:321)
        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:426)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)
        at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateDoResume(CoroutineCodegen.kt:301)
        at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateClosureBody(CoroutineCodegen.kt:167)
        at org.jetbrains.kotlin.codegen.ClosureCodegen.generateBody(ClosureCodegen.java:166)
        at org.jetbrains.kotlin.codegen.coroutines.CoroutineCodegenForLambda.generateBody(CoroutineCodegen.kt:171)
        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:989)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:963)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:954)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.visitLambdaExpression(ExpressionCodegen.java:111)
        at org.jetbrains.kotlin.psi.KtLambdaExpression.accept(KtLambdaExpression.java:39)
        at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)
        ... 140 more

&gt; Task :compileKotlin FAILED

FAILURE: Build failed with an exception.
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536115186775</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536219219979</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ice1000</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Tesla Ice Zhang</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-23531</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-563210" url="https://youtrack.jetbrains.com/_persistent/Ruiko.kt.zip?file=74-563210&amp;c=true">Ruiko.kt.zip</value></field><comment id="27-3055149" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26597" deleted="false" text="Thank you. Stack trace looks similar to KT-23531. Does it help if you rewrite the function without coroutines?" shownForIssueAuthor="false" created="1536154778548" markdown="false"><replies/></comment><comment id="27-3055600" author="ice1000" authorFullName="Tesla Ice Zhang" issueId="KT-26597" deleted="false" text="I need coroutines.&#xA;&#xA;But if I specify the function return type, it works.&#xA;&#xA;```kotlin&#xA;fun loop(view: StringView): Sequence&lt;Either&lt;String, Token&gt;&gt; = buildSequence {&#xA;```" shownForIssueAuthor="false" created="1536169756315" markdown="true"><replies/></comment></issue><issue id="KT-26603" entityId="25-2108787"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26603</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>New Project Wizard: Kotlin SDK setup for a new JS JPS project works incorrectly</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Open New Project Wizard, Kotlin section. 
Select `Kotlin/JS ` variant, Next. 
On the next screen, `Project SDK` line contains some Kotlin SDK, in my case it's quite old, from `1.2.30` Kotlin version. Click `New..` button. Here I'd expect some dialog to be opened since there are three dots. Or at least some UI feedback, that the SDK is generated. Actually, Nothing happens. This is the *first* problem.
Click `New..` button several times, which is natural for a user who doesn't get any feedback from UX in the situation described above.
Click a dropdown list and select one of the generated SDK's. Click `Finish`. The error dialog is shown: !Screen Shot 2018-09-05 at 12.21.29.png! — this is the *second* problem. 
The *third* possible problem is that message itself isn't clear enough: what should be changed and where the problem is. And it obviously has a typo.

Created only one ticket since the listed problems seem to have the same root cause. Please let me know if a separate ticket is needed. 

* IDEA 2018.1.6 (181.5540.7), Kotlin Plugin 1.3-M2-release-201
* IDEA 2018.2.3 EAP (182.4323.6), Kotlin plugin 1.2.70-eap-40
* IDEA 2018.2.3 RC (182.4323.18), Kotlin plugin 1.3.0-dev-93</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536139735006</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536139818560</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-24412</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Sedunov">asedunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Configuration</value><valueId>IDE. Configuration</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-563300" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202018-09-05%20at%2012.21.29.png?file=74-563300&amp;c=true">Screen Shot 2018-09-05 at 12.21.29.png</value></field></issue><issue id="KT-26605" entityId="25-2108897"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26605</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Data class and bean validation in containers</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When trying to validate a container in a bean data class the annotation for the validation is not taken into consideration, for example:

```
data class Something (val collection: List&lt;@NotBlank String&gt; = listOf())
```

the `@NotBlank` validation is not taken into account, there is a StackOverflow with the same problem https://stackoverflow.com/questions/51085138/kotlin-data-class-and-bean-validation-with-container-element-constraints and even a sample project exemplifying the issue: https://github.com/empovit/bean-validation-container-constraints</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536145202651</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536159767462</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nicolay.Mitropolsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nicolay Mitropolsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cprieto</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Cristian Prieto</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26608" entityId="25-2109109"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26608</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Couldn't inline method call. RuntimeException: Trying to access skipped parameter: Ljava/lang/Object;</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Here's a short version of the error message (I omitted the bytecode and further stacktraces):
```console
e: java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: Couldn't inline method call 'goAsyncAndLaunch' into
public open fun onReceive(context: android.content.Context?, intent: android.content.Intent?): kotlin.Unit defined in net.suivideflotte.mockups.suiviconducteur.InliningBugReceiverWrapper.InliningBugReceiver
override fun onReceive(context: Context?, intent: Intent?) {
            if (intent?.action == Intent.ACTION_BOOT_COMPLETED) goAsyncAndLaunch {
                try {
                    delay(0.also { yield() })
                } catch (e: Exception) {
                    Timber.e(e)
                }
            }
        }
Cause: Lambda inlining net/suivideflotte/mockups/suiviconducteur/InliningBugReceiverWrapper$InliningBugReceiver$onReceive$1: couldn't inline method call
```

and here's a sample code for Android that can reproduce the error:

```kotlin
import android.content.BroadcastReceiver
import android.content.Context
import android.content.Intent
import kotlinx.coroutines.experimental.CoroutineScope
import kotlinx.coroutines.experimental.CoroutineStart
import kotlinx.coroutines.experimental.Job
import kotlinx.coroutines.experimental.android.UI
import kotlinx.coroutines.experimental.delay
import kotlinx.coroutines.experimental.launch
import kotlinx.coroutines.experimental.yield
import timber.log.Timber

class InliningBugReceiverWrapper : BroadcastReceiver() {

    class InliningBugReceiver : BroadcastReceiver() {
        override fun onReceive(context: Context?, intent: Intent?) {
            if (intent?.action == Intent.ACTION_BOOT_COMPLETED) goAsyncAndLaunch {
                try {
                    delay(0.also { yield() })
                } catch (e: Exception) {
                    Timber.e(e)
                }
            }
        }
    }

    override fun onReceive(context: Context?, intent: Intent?) {
        TODO()
    }
}

@Suppress("NOTHING_TO_INLINE")
inline fun BroadcastReceiver.goAsyncAndLaunch(crossinline block: suspend () -&gt; Unit) {
    val pendingResult = goAsync()
    launchInUi {
        try {
            block()
        } finally {
            pendingResult.finish()
        }
    }
}

@Suppress("NOTHING_TO_INLINE")
inline fun launchInUi(
        parent: Job? = null,
        noinline block: suspend CoroutineScope.() -&gt; Unit
): Job {
    return launch(UI, start = CoroutineStart.UNDISPATCHED, parent = parent, block = block)
}
```
Note that changing `goAsyncAndLaunch` lambda to `noinline` also triggers the compilation bug.

There may be a way to reproduce the bug with simpler code, but maybe this would only get fixed for code with less inline nesting then?</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536151843780</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536330071442</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilmir Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>louis.cad</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Louis CAD</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-26658</value><value type="Similar" role="similar to">KT-25922</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilmir Usmanov">Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Coroutines</value><value>Backend. JVM. Inline</value><valueId>Backend. JVM. Coroutines</valueId><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-564774" url="https://youtrack.jetbrains.com/_persistent/KT-26608-idea.zip?file=74-564774&amp;c=true">KT-26608-idea.zip</value></field><comment id="27-3055065" author="louis.cad" authorFullName="Louis CAD" issueId="KT-26608" deleted="false" text="The error seems to appear only when there's a `try`/`catch` block in the `goAsyncAndLaunch` lambda. Maybe it also happens with `try`/`finally`.&#xA;I wonder also for more `try` blocks inside a suspend lambda (inline or not) of an inline higher order function." shownForIssueAuthor="false" created="1536152621209" markdown="true"><replies/></comment><comment id="27-3058070" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26608" deleted="false" text="Thank you, reproduced also without Android. Simplified:&#xA;&#xA;```&#xA;import kotlinx.coroutines.experimental.delay&#xA;import kotlinx.coroutines.experimental.launch&#xA;import kotlinx.coroutines.experimental.yield&#xA;&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    goAsyncAndLaunch {&#xA;        delay(0.also { yield() })&#xA;    }&#xA;}&#xA;&#xA;inline fun goAsyncAndLaunch(crossinline block: suspend () -&gt; Unit) {&#xA;    launch(block = { block() })&#xA;}&#xA;```&#xA;&#xA;Sample project attached.&#xA;&#xA;```stacktrace&#xA;Error:Kotlin: [Internal Error] java.lang.IllegalStateException: Backend Internal error: Exception during code generation&#xA;Cause: Back-end (JVM) Internal error: Couldn't inline method call 'goAsyncAndLaunch' into&#xA;public fun main(args: kotlin.Array&lt;kotlin.String&gt;): kotlin.Unit defined in root package in file main.kt&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    goAsyncAndLaunch {&#xA;        delay(0.also { yield() })&#xA;    }&#xA;}&#xA;Cause: Lambda inlining MainKt$main$1: couldn't inline method call&#xA;Cause: invoke (Lkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;:&#xA;   L0&#xA;    LINENUMBER 15 L0&#xA;    ICONST_0&#xA;    INVOKESTATIC java/lang/Integer.valueOf (I)Ljava/lang/Integer;&#xA;    ASTORE 2&#xA;    NOP&#xA;   L1&#xA;    NOP&#xA;   L2&#xA;    ALOAD 2&#xA;    CHECKCAST java/lang/Number&#xA;    INVOKEVIRTUAL java/lang/Number.intValue ()I&#xA;    ISTORE 3&#xA;   L3&#xA;    LINENUMBER 15 L3&#xA;    ICONST_3&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ACONST_NULL&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    INVOKESTATIC kotlinx/coroutines/experimental/YieldKt.yield (Lkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    POP&#xA;   L4&#xA;    NOP&#xA;    GOTO L5&#xA;   L5&#xA;    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;&#xA;   L6&#xA;    LINENUMBER 15 L6&#xA;    POP&#xA;   L7&#xA;    ALOAD 2&#xA;    NOP&#xA;    GOTO L8&#xA;   L8&#xA;    CHECKCAST java/lang/Number&#xA;    INVOKEVIRTUAL java/lang/Number.intValue ()I&#xA;    ALOAD 0&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L9&#xA;    LINENUMBER 15 L9&#xA;    INVOKESTATIC kotlinx/coroutines/experimental/DelayKt.delay (ILkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L10&#xA;    ARETURN&#xA;   L11&#xA;    LOCALVARIABLE it I L3 L5 3&#xA;    LOCALVARIABLE $i$a$1$also I L3 L5 4&#xA;    LOCALVARIABLE this LMainKt$main$1; L0 L11 0&#xA;    LOCALVARIABLE continuation Lkotlin/coroutines/experimental/Continuation; L0 L11 1&#xA;    LOCALVARIABLE $i$a$1$goAsyncAndLaunch I L0 L11 1&#xA;    MAXSTACK = 3&#xA;    MAXLOCALS = 5&#xA;File being compiled at position: (6,5) in /Users/belkov/Code/KT-26608-idea/src/main/kotlin/main.kt&#xA;The root cause was thrown at: MethodInliner.kt:817&#xA;File being compiled at position: file:///Users/belkov/Code/KT-26608-idea/src/main/kotlin/main.kt&#xA;The root cause was thrown at: InlineCodegen.kt:124&#xA;&#x9;at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)&#xA;&#x9;at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:441)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:146)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:94)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:50)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:88)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:402)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:929)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:969)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:928)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:400)&#xA;&#x9;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xA;&#x9;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&#xA;&#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;&#x9;at java.lang.reflect.Method.invoke(Method.java:498)&#xA;&#x9;at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:200)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:197)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.Transport.serviceCall(Transport.java:196)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)&#xA;&#x9;at java.lang.Thread.run(Thread.java:748)&#xA;Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'goAsyncAndLaunch' into&#xA;public fun main(args: kotlin.Array&lt;kotlin.String&gt;): kotlin.Unit defined in root package in file main.kt&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    goAsyncAndLaunch {&#xA;        delay(0.also { yield() })&#xA;    }&#xA;}&#xA;Cause: Lambda inlining MainKt$main$1: couldn't inline method call&#xA;Cause: invoke (Lkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;:&#xA;   L0&#xA;    LINENUMBER 15 L0&#xA;    ICONST_0&#xA;    INVOKESTATIC java/lang/Integer.valueOf (I)Ljava/lang/Integer;&#xA;    ASTORE 2&#xA;    NOP&#xA;   L1&#xA;    NOP&#xA;   L2&#xA;    ALOAD 2&#xA;    CHECKCAST java/lang/Number&#xA;    INVOKEVIRTUAL java/lang/Number.intValue ()I&#xA;    ISTORE 3&#xA;   L3&#xA;    LINENUMBER 15 L3&#xA;    ICONST_3&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ACONST_NULL&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    INVOKESTATIC kotlinx/coroutines/experimental/YieldKt.yield (Lkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    POP&#xA;   L4&#xA;    NOP&#xA;    GOTO L5&#xA;   L5&#xA;    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;&#xA;   L6&#xA;    LINENUMBER 15 L6&#xA;    POP&#xA;   L7&#xA;    ALOAD 2&#xA;    NOP&#xA;    GOTO L8&#xA;   L8&#xA;    CHECKCAST java/lang/Number&#xA;    INVOKEVIRTUAL java/lang/Number.intValue ()I&#xA;    ALOAD 0&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L9&#xA;    LINENUMBER 15 L9&#xA;    INVOKESTATIC kotlinx/coroutines/experimental/DelayKt.delay (ILkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L10&#xA;    ARETURN&#xA;   L11&#xA;    LOCALVARIABLE it I L3 L5 3&#xA;    LOCALVARIABLE $i$a$1$also I L3 L5 4&#xA;    LOCALVARIABLE this LMainKt$main$1; L0 L11 0&#xA;    LOCALVARIABLE continuation Lkotlin/coroutines/experimental/Continuation; L0 L11 1&#xA;    LOCALVARIABLE $i$a$1$goAsyncAndLaunch I L0 L11 1&#xA;    MAXSTACK = 3&#xA;    MAXLOCALS = 5&#xA;File being compiled at position: (6,5) in /Users/belkov/Code/KT-26608-idea/src/main/kotlin/main.kt&#xA;The root cause was thrown at: MethodInliner.kt:817&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:162)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:684)&#xA;&#x9;at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:665)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2417)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2360)&#xA;&#x9;at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)&#xA;&#x9;at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)&#xA;&#x9;at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)&#xA;&#x9;at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)&#xA;&#x9;at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:99)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:350)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:335)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1630)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:60)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:670)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:426)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:187)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:157)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:201)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:133)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)&#xA;&#x9;... 36 more&#xA;Caused by: org.jetbrains.kotlin.codegen.inline.InlineException: Lambda inlining MainKt$main$1: couldn't inline method call&#xA;Cause: invoke (Lkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;:&#xA;   L0&#xA;    LINENUMBER 15 L0&#xA;    ICONST_0&#xA;    INVOKESTATIC java/lang/Integer.valueOf (I)Ljava/lang/Integer;&#xA;    ASTORE 2&#xA;    NOP&#xA;   L1&#xA;    NOP&#xA;   L2&#xA;    ALOAD 2&#xA;    CHECKCAST java/lang/Number&#xA;    INVOKEVIRTUAL java/lang/Number.intValue ()I&#xA;    ISTORE 3&#xA;   L3&#xA;    LINENUMBER 15 L3&#xA;    ICONST_3&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ACONST_NULL&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    INVOKESTATIC kotlinx/coroutines/experimental/YieldKt.yield (Lkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    POP&#xA;   L4&#xA;    NOP&#xA;    GOTO L5&#xA;   L5&#xA;    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;&#xA;   L6&#xA;    LINENUMBER 15 L6&#xA;    POP&#xA;   L7&#xA;    ALOAD 2&#xA;    NOP&#xA;    GOTO L8&#xA;   L8&#xA;    CHECKCAST java/lang/Number&#xA;    INVOKEVIRTUAL java/lang/Number.intValue ()I&#xA;    ALOAD 0&#xA;    ICONST_0&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L9&#xA;    LINENUMBER 15 L9&#xA;    INVOKESTATIC kotlinx/coroutines/experimental/DelayKt.delay (ILkotlin/coroutines/experimental/Continuation;)Ljava/lang/Object;&#xA;    ICONST_2&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;    ICONST_1&#xA;    INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V&#xA;   L10&#xA;    ARETURN&#xA;   L11&#xA;    LOCALVARIABLE it I L3 L5 3&#xA;    LOCALVARIABLE $i$a$1$also I L3 L5 4&#xA;    LOCALVARIABLE this LMainKt$main$1; L0 L11 0&#xA;    LOCALVARIABLE continuation Lkotlin/coroutines/experimental/Continuation; L0 L11 1&#xA;    LOCALVARIABLE $i$a$1$goAsyncAndLaunch I L0 L11 1&#xA;    MAXSTACK = 3&#xA;    MAXLOCALS = 5&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.wrapException(MethodInliner.kt:817)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:114)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.access$doInline(MethodInliner.kt:39)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:260)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:352)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:94)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.kt:312)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:276)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:167)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:173)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:198)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:352)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:94)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:67)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:277)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)&#xA;&#x9;... 62 more&#xA;Caused by: java.lang.RuntimeException: Trying to access skipped parameter: Ljava/lang/Object; at 0&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.remap(LocalVarRemapper.kt:80)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.LocalVarRemapper.visitVarInsn(LocalVarRemapper.kt:103)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.RemapVisitor.visitVarInsn(RemapVisitor.java:53)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.VarInsnNode.accept(VarInsnNode.java:86)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)&#xA;&#x9;at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)&#xA;&#x9;at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:111)&#xA;&#x9;... 84 more&#xA;```" shownForIssueAuthor="false" created="1536317757595" updated="1536317789515" markdown="true"><replies/></comment></issue><issue id="KT-26610" entityId="25-2109194"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26610</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Step into does not work for some methods in JS projects</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Found in IDEA IU-183.1946, Kotlin plugin version 1.2.70-eap-34
Is also reproduced in older versions too (IDEA 182.4323.46, Kotlin 1.2.61)

Steps to reproduce:
1. Open attached project

2. Go to kotlin-javascript/src/main/kotlin/Test01.kt

3. Set breakpoint at first line in ``fun takeValueAndPrintIt()`` (line 21)

4. Build project, debug Run.html in kotlin-javascript, reach the breakpoint (just press button in browser)

5. In debug window try to perform "step into" for getElementById method

6. Debugger can not perform step into.
It tries to open file rtti.js and fails with following error:
``Cannot load 'http://localhost:63343/acceptance-multiplatform/kotlin-javascript/build/kotlin_js/lib/rtti.js': Request failed with status code 404``

7. Step out, step over to line 24: 
``val user = User(name.value, password.value)``

8. Step into User constructor, it works ok</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536154788679</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536165135946</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Anastasiia.Kapanina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Anastasiia Kapanina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Anastasiia.Kapanina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Anastasiia Kapanina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Debugger</value><value>IDE. JS</value><valueId>IDE. Debugger</valueId><valueId>IDE. JS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Anastasiia Kapanina">Anastasiia.Kapanina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-563449" url="https://youtrack.jetbrains.com/_persistent/acceptance-multiplatform.zip?file=74-563449&amp;c=true">acceptance-multiplatform.zip</value></field></issue><issue id="KT-26614" entityId="25-2109284"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26614</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Navigate to Super Method" doesn't support constructor properties</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
abstract class A {
    abstract val prop: Int
}

class Impl(
    override val &lt;caret&gt;prop: Int //Cmd+U (go to super declaration) should navigate to A#prop 
): A()
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536158435453</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536230769631</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26627</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Navigation</value><valueId>IDE. Navigation</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26618" entityId="25-2109404"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26618</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Constructors created when default values are asigned to parameters (kotlin.jvm.internal.DefaultConstructorMarker) do not preserve argument names on JVM 8+</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>When a class or dataclass uses default values for some parameters, an additional constructor is created with two additional parameters (int and kotlin.jvm.internal.DefaultConstructorMarker), but the original parameters names are not preserved from the original constructors.

This causes some tools that rely on reflection and parameter names (i.e. to map values from a map to a dataclass) to fail since they will find a not valid constructor on the `constructors[0]` array (since the JVM cannot guarantee the order of the constructors on the array).

```
    @Test
    fun testTablePojoConstructors() {
        A::class.java.constructors.forEach {
            assert(it.parameters.any { it.name == "aString" || it.name == "anInt"})
        }

        B::class.java.constructors.forEach {
            assert(it.parameters.any { it.name == "anotherString" || it.name == "anotherInt"})
        }
    }

    data class A(@Size(min = 1, max = 32) val aString: String, val anInt: Int)

    data class B(@Size(min = 1, max = 32) val anotherString: String, val anotherInt: Int = 1, val string2: String = "hello world")
```

This test fails since B has two constructors and the additional one has default (jvm) parameter names (arg0, arg1, arg2 ...)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536164018759</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536331031976</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>juan.3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Juan Francisco Ara Monzon</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><value>Reflection</value><valueId>Backend. JVM</valueId><valueId>Reflection</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.51</value><valueId>1.2.51</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3055509" author="juan.3" authorFullName="Juan Francisco Ara Monzon" issueId="KT-26618" deleted="false" text="Forgot to mention, run the tests with `--parameters` `[compileKotlin, compileTestKotlin]*.kotlinOptions*.jvmTarget        = '1.8'` and `[compileKotlin, compileTestKotlin]*.kotlinOptions*.javaParameters   = true` as needed" shownForIssueAuthor="false" created="1536164726491" markdown="true"><replies/></comment></issue><issue id="KT-26621" entityId="25-2109511"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26621</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: Using 'get' function in ktor client results in unresolved reference error due to similar name for cinterop library</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I am using Kotlin/Native 0.8.2. To invoke the build error, we could do something like:
        val client = HttpClient()                                                                
        val htmlContent : String = client.get&lt;String&gt;("https://en.wikipedia.org/wiki/Main_Page") 

This results in a build error with the following message:

    Error:Error:line (74)unresolved reference. None of the following candidates is applicable because of receiver type mismatch:
    public inline operator fun &lt;reified T : CVariable&gt; CPointer&lt;String&gt;.get(index: Int): String defined in kotlinx.cinterop
    public inline operator fun &lt;reified T : CVariable&gt; CPointer&lt;String&gt;.get(index: Long): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Byte&gt; CPointer&lt;ByteVarOf&lt;String&gt;&gt;.get(index: Int): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Byte&gt; CPointer&lt;ByteVarOf&lt;String&gt;&gt;.get(index: Long): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : CPointer&lt;*&gt;&gt; CPointer&lt;CPointerVarOf&lt;String&gt;&gt;.get(index: Int): String? defined in kotlinx.cinterop
    public inline operator fun &lt;T : CPointer&lt;*&gt;&gt; CPointer&lt;CPointerVarOf&lt;String&gt;&gt;.get(index: Long): String? defined in kotlinx.cinterop
    public inline operator fun &lt;T : Double&gt; CPointer&lt;DoubleVarOf&lt;String&gt;&gt;.get(index: Int): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Double&gt; CPointer&lt;DoubleVarOf&lt;String&gt;&gt;.get(index: Long): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Float&gt; CPointer&lt;FloatVarOf&lt;String&gt;&gt;.get(index: Int): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Float&gt; CPointer&lt;FloatVarOf&lt;String&gt;&gt;.get(index: Long): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Int&gt; CPointer&lt;IntVarOf&lt;String&gt;&gt;.get(index: Int): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Int&gt; CPointer&lt;IntVarOf&lt;String&gt;&gt;.get(index: Long): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Long&gt; CPointer&lt;LongVarOf&lt;String&gt;&gt;.get(index: Int): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Long&gt; CPointer&lt;LongVarOf&lt;String&gt;&gt;.get(index: Long): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Short&gt; CPointer&lt;ShortVarOf&lt;String&gt;&gt;.get(index: Int): String defined in kotlinx.cinterop
    public inline operator fun &lt;T : Short&gt; CPointer&lt;ShortVarOf&lt;String&gt;&gt;.get(index: Long): String defined in kotlinx.cinterop
            val htmlContent = client.get&lt;String&gt;("https://en.wikipedia.org/wiki/Main_Page")</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536170255160</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536760001322</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>leonid.stashevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Leonid Stashevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mjgurumukhani</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mohit Gurumukhani</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Leonid Stashevsky">leonid.stashevsky</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Libraries</value><value>Native</value><valueId>Libraries</valueId><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3062798" author="leonid.stashevsky" authorFullName="Leonid Stashevsky" issueId="KT-26621" deleted="false" text="There are no `operator get` methods in ktor client.&#xA;It looks like a compiler issue." shownForIssueAuthor="false" created="1536735931873" markdown="true"><replies/></comment><comment id="27-3063929" author="leonid.stashevsky" authorFullName="Leonid Stashevsky" issueId="KT-26621" deleted="false" text="Could you provide some info about the dependencies section, your modules, and imports in the file with a client?&#xA;It looks like some imports are missing." shownForIssueAuthor="false" created="1536760001323" markdown="true"><replies/></comment></issue><issue id="KT-26624" entityId="25-2110027"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26624</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Can not load class from classpath</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider the following example:

```
cat &lt;&lt;"EOF" &gt; log4j.kt
import java.net.URLClassLoader

object CpTester{

    @JvmStatic
    fun main(args: Array&lt;String&gt;) {
        org.apache.log4j.Logger.getRootLogger() // this is fine

        val contextClassLoader = Thread.currentThread().getContextClassLoader()
        println("classloader is of type:" + contextClassLoader.javaClass.name)
        println((contextClassLoader as URLClassLoader).urLs)

        contextClassLoader.loadClass("org.apache.log4j.Logger") // this crashes with ClassNotFoundException
    }
}

EOF

kotlinc -cp ${HOME}/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar log4j.kt
kotlin -cp ${PWD}:$HOME/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar CpTester
```

which fails with 
```
classloader is of type:sun.misc.Launcher$AppClassLoader
[file:/Users/brandl/.sdkman/candidates/kotlin/1.2.61/lib/kotlin-runner.jar]
Exception in thread "main" java.lang.ClassNotFoundException: org.apache.log4j.Logger
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at CpTester.main(log4j.kt:16)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jetbrains.kotlin.runner.AbstractRunner.run(runners.kt:61)
	at org.jetbrains.kotlin.runner.Main.run(Main.kt:109)
	at org.jetbrains.kotlin.runner.Main.main(Main.kt:119)
```

The classpath is apparently empty, although classes are loaded correctly when being "just" used.


This may be a duplicate of https://youtrack.jetbrains.net/issue/KT-24991

The same applies to `kts` scripts:
```
cat &lt;&lt;"EOF" &gt; log4j.kts
import java.net.URLClassLoader

org.apache.log4j.Logger.getRootLogger() // this is fine

val contextClassLoader = Thread.currentThread().getContextClassLoader()
println("classloader is of type:" + contextClassLoader.javaClass.name)
println((contextClassLoader as URLClassLoader).urLs)

contextClassLoader.loadClass("org.apache.log4j.Logger") // this crashes with ClassNotFoundException
EOF

kotlinc -cp ${HOME}/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar -script log4j.kts

```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536227392082</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536591276821</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Holger.Brandl</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>holger brandl</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Udalov">udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. CLI</value><valueId>Tools. CLI</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26627" entityId="25-2110118"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26627</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Goto super declaration" action should have proper text</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>It should be "Go to super property/function/class" depending on which declaration it's invoked</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536230769223</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536230774332</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>maxmedvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Maxim Medvedev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26614</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Navigation</value><valueId>IDE. Navigation</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3056355" author="maxmedvedev" authorFullName="Maxim Medvedev" issueId="KT-26627" deleted="false" text="see `com.intellij.codeInsight.navigation.JavaGotoSuperHandler#update`" shownForIssueAuthor="false" created="1536230774332" markdown="true"><replies/></comment></issue><issue id="KT-26637" entityId="25-2110576"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26637</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Annotation is unable to infer type argument from its `KClass&lt;T&gt;` parameter</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Original report [here](https://stackoverflow.com/questions/52204919/why-cant-an-annotation-class-infer-type-arguments
).

```
import kotlin.reflect.KClass

annotation class Ann&lt;T : Any&gt;(val klass: KClass&lt;T&gt;)
class Foo

fun main(args: Array&lt;String&gt;) {
    @Ann(Foo::class) val foo = Foo() // Error: One type argument expected for annotation class Ann&lt;T : Any&gt;

    @Ann&lt;Foo&gt;(Foo::class) val bar = Foo() // OK
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536245401318</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536245401318</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26642" entityId="25-2110776"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26642</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Wrong warning "Expression under 'when' is never equal to null" when checking instance of nullable Nothing type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>using the following assignment:
`val b = "a" is Nothing?` 
IDE is showing the following confusing warning message: 
Expression **under 'when'** is never equal to null</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536263765377</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920478607</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mhshams</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mohammad Shamsi</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Minor</value><valueId>Minor</valueId><color><bg>#e6e6e6</bg><fg>#888</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-564571" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-564571&amp;c=true">image.png</value></field></issue><issue id="KT-26644" entityId="25-2110823"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26644</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: Type inference for inline functions with generic and a nullable function fails</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have a function with the following signature:
inline fun &lt;reified T : Any&gt; get(tag: String? = null): T
When I call this function using get() when passing as a parameter to a function, the type inference fails and results in null.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536272967230</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536921656204</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Nikolay.Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Nikolay Igotti</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mjgurumukhani</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mohit Gurumukhani</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Igor Chevdar">Igor.Chevdar</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Native</value><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3058551" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26644" deleted="false" text="Could you please share a code sample of how exactly are you calling the function?" shownForIssueAuthor="false" created="1536331772371" markdown="true"><replies/></comment><comment id="27-3058633" author="spierce7.1" authorFullName="Scott Pierce" issueId="KT-26644" deleted="false" text="Here is the trimmed down function signature. Incase it matters, this `ObjectGraph` code is a separate library.&#xA;```&#xA;expect class ObjectGraph internal constructor() {&#xA;  inline fun &lt;reified T : Any&gt; get(tag: String? = null): T&#xA;```&#xA;&#xA;Here is the usage:&#xA;```&#xA;private val exampleService: ExampleService = objectGraph.get()&#xA;```&#xA;&#xA;We get a weird exception. **What's also really frustrating is that it's not treated as a crash, and even though the app doesn't build, the previous version of the app is loaded as if the build succeeded. It's very misleading. This is building in AppCode.**&#xA;```&#xA;Information:Running script 'Compile Kotlin/Native'&#xA;&gt; Task :api-ios:checkKonanCompiler&#xA;&gt; Task :kinject-injector-ios:checkKonanCompiler&#xA;&gt; Task :kinject-ios:checkKonanCompiler&#xA;&gt; Task :kinject-ios:compileDebugIos_x64KotlinNative UP-TO-DATE&#xA;&gt; Task :kinject-injector-ios:compileDebugIos_x64KotlinNative UP-TO-DATE&#xA;&gt; Task :logger-ios:checkKonanCompiler&#xA;&gt; Task :logger-ios:compileDebugIos_x64KotlinNative UP-TO-DATE&#xA;&gt; Task :model-ios:checkKonanCompiler&#xA;&gt; Task :model-ios:compileDebugIos_x64KotlinNative UP-TO-DATE&#xA;&gt; Task :model-server-ios:checkKonanCompiler&#xA;&gt; Task :model-server-ios:compileDebugIos_x64KotlinNative UP-TO-DATE&#xA;&gt; Task :service-ios:checkKonanCompiler&#xA;&gt; Task :service-ios:compileDebugIos_x64KotlinNative&#xA;Error:compilation failed: null&#xA; * Source files: CoachService.kt, AuthInterceptor.kt, CryptoUtil.kt, HttpClientTypedResponse.kt, ActionCardService.kt, AuthService.kt, MemberService.kt, RegistrationService.kt, UrlEncode.kt, InstantiateHttpClient.kt, CryptoUtil.kt, UrlEncode.kt&#xA; * Compiler version info: Konan: 0.8.2 / Kotlin: 1.2.70&#xA; * Output kind: LIBRARY&#xA;exception: kotlin.KotlinNullPointerException&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.Inliner.buildParameterToArgument(FunctionInlining.kt:403)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.Inliner.evaluateArguments(FunctionInlining.kt:440)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.Inliner.inlineFunction(FunctionInlining.kt:169)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.Inliner.inline(FunctionInlining.kt:143)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.FunctionInlining.visitCall(FunctionInlining.kt:95)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:170)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrCallImpl.accept(IrCallImpl.kt:85)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrExpression$DefaultImpls.transform(IrExpression.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrCallWithIndexedArgumentsBase.transformChildren(IrCallWithIndexedArgumentsBase.kt:70)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitExpression(IrElementTransformerVoid.kt:109)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitMemberAccess(IrElementTransformerVoid.kt:163)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFunctionAccess(IrElementTransformerVoid.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:169)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.FunctionInlining.visitCall(FunctionInlining.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:170)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrCallImpl.accept(IrCallImpl.kt:85)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrExpression$DefaultImpls.transform(IrExpression.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrReturnImpl.transformChildren(IrReturnImpl.kt:52)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitExpression(IrElementTransformerVoid.kt:109)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitReturn(IrElementTransformerVoid.kt:240)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitReturn(IrElementTransformerVoid.kt:241)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitReturn(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrReturnImpl.accept(IrReturnImpl.kt:45)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrExpression$DefaultImpls.transform(IrExpression.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.transformChildren(IrBlockBodyImpl.kt:49)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBody(IrElementTransformerVoid.kt:90)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.accept(IrBlockBodyImpl.kt:40)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrBody$DefaultImpls.transform(IrBody.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrBlockBody$DefaultImpls.transform(IrBody.kt)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.transform(IrBlockBodyImpl.kt:26)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFunctionBase.transformChildren(IrFunctionBase.kt:71)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitDeclaration(IrElementTransformerVoid.kt:46)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFunction(IrElementTransformerVoid.kt:55)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.IrElementTransformerVoidWithContext.visitFunctionNew(IrElementTransformerVoidWithContext.kt:89)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.IrElementTransformerVoidWithContext.visitFunction(IrElementTransformerVoidWithContext.kt:63)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:58)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:59)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFunctionImpl.accept(IrFunctionImpl.kt:87)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.IrDeclaration$DefaultImpls.transform(IrDeclaration.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrDeclarationBase.transform(IrDeclarationBase.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrContainerExpressionBase.transformChildren(IrContainerExpressionBase.kt:44)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitExpression(IrElementTransformerVoid.kt:109)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitContainerExpression(IrElementTransformerVoid.kt:121)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlock(IrElementTransformerVoid.kt:124)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlock(IrElementTransformerVoid.kt:125)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlock(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockImpl.accept(IrBlockImpl.kt:51)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrExpression$DefaultImpls.transform(IrExpression.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrCallWithIndexedArgumentsBase.transformChildren(IrCallWithIndexedArgumentsBase.kt:70)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitExpression(IrElementTransformerVoid.kt:109)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitMemberAccess(IrElementTransformerVoid.kt:163)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFunctionAccess(IrElementTransformerVoid.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:169)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.FunctionInlining.visitCall(FunctionInlining.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:170)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrCallImpl.accept(IrCallImpl.kt:85)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrExpression$DefaultImpls.transform(IrExpression.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.transformChildren(IrBlockBodyImpl.kt:49)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBody(IrElementTransformerVoid.kt:90)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.accept(IrBlockBodyImpl.kt:40)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrBody$DefaultImpls.transform(IrBody.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrBlockBody$DefaultImpls.transform(IrBody.kt)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.transform(IrBlockBodyImpl.kt:26)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFunctionBase.transformChildren(IrFunctionBase.kt:71)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitDeclaration(IrElementTransformerVoid.kt:46)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFunction(IrElementTransformerVoid.kt:55)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.IrElementTransformerVoidWithContext.visitFunctionNew(IrElementTransformerVoidWithContext.kt:89)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.IrElementTransformerVoidWithContext.visitFunction(IrElementTransformerVoidWithContext.kt:63)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:58)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:59)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFunctionImpl.accept(IrFunctionImpl.kt:87)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.IrDeclaration$DefaultImpls.transform(IrDeclaration.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrDeclarationBase.transform(IrDeclarationBase.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrContainerExpressionBase.transformChildren(IrContainerExpressionBase.kt:44)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitExpression(IrElementTransformerVoid.kt:109)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitContainerExpression(IrElementTransformerVoid.kt:121)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlock(IrElementTransformerVoid.kt:124)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlock(IrElementTransformerVoid.kt:125)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlock(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockImpl.accept(IrBlockImpl.kt:51)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrExpression$DefaultImpls.transform(IrExpression.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrCallWithIndexedArgumentsBase.transformChildren(IrCallWithIndexedArgumentsBase.kt:70)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitExpression(IrElementTransformerVoid.kt:109)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitMemberAccess(IrElementTransformerVoid.kt:163)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFunctionAccess(IrElementTransformerVoid.kt:166)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:169)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.FunctionInlining.visitCall(FunctionInlining.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:170)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitCall(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrCallImpl.accept(IrCallImpl.kt:85)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrExpression$DefaultImpls.transform(IrExpression.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrReturnImpl.transformChildren(IrReturnImpl.kt:52)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitExpression(IrElementTransformerVoid.kt:109)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitReturn(IrElementTransformerVoid.kt:240)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitReturn(IrElementTransformerVoid.kt:241)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitReturn(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrReturnImpl.accept(IrReturnImpl.kt:45)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrExpression$DefaultImpls.transform(IrExpression.kt:27)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrExpressionBase.transform(IrExpressionBase.kt:23)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.transformChildren(IrBlockBodyImpl.kt:49)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBody(IrElementTransformerVoid.kt:90)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitBlockBody(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.accept(IrBlockBodyImpl.kt:40)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrBody$DefaultImpls.transform(IrBody.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.IrBlockBody$DefaultImpls.transform(IrBody.kt)&#xA;&#x9;at org.jetbrains.kotlin.ir.expressions.impl.IrBlockBodyImpl.transform(IrBlockBodyImpl.kt:26)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFunctionBase.transformChildren(IrFunctionBase.kt:71)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitDeclaration(IrElementTransformerVoid.kt:46)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFunction(IrElementTransformerVoid.kt:55)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.IrElementTransformerVoidWithContext.visitFunctionNew(IrElementTransformerVoidWithContext.kt:89)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.IrElementTransformerVoidWithContext.visitFunction(IrElementTransformerVoidWithContext.kt:63)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:58)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:59)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitSimpleFunction(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFunctionImpl.accept(IrFunctionImpl.kt:87)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.IrDeclaration$DefaultImpls.transform(IrDeclaration.kt:36)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrDeclarationBase.transform(IrDeclarationBase.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFileImpl.transformChildren(IrFileImpl.kt:84)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitPackageFragment(IrElementTransformerVoid.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFile(IrElementTransformerVoid.kt:37)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.IrElementTransformerVoidWithContext.visitFileNew(IrElementTransformerVoidWithContext.kt:81)&#xA;&#x9;at org.jetbrains.kotlin.backend.common.IrElementTransformerVoidWithContext.visitFile(IrElementTransformerVoidWithContext.kt:35)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFile(IrElementTransformerVoid.kt:38)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitFile(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFileImpl.accept(IrFileImpl.kt:76)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.IrFile$DefaultImpls.transform(IrFile.kt:47)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrFileImpl.transform(IrFileImpl.kt:33)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrModuleFragmentImpl.transformChildren(IrModuleFragmentImpl.kt:54)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoidKt.transformChildrenVoid(IrElementTransformerVoid.kt:267)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildrenVoid(IrElementTransformerVoid.kt:262)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.transformChildren(IrElementTransformerVoid.kt:25)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitModuleFragment(IrElementTransformerVoid.kt:30)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitModuleFragment(IrElementTransformerVoid.kt:32)&#xA;&#x9;at org.jetbrains.kotlin.ir.visitors.IrElementTransformerVoid.visitModuleFragment(IrElementTransformerVoid.kt:24)&#xA;&#x9;at org.jetbrains.kotlin.ir.declarations.impl.IrModuleFragmentImpl.accept(IrModuleFragmentImpl.kt:46)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.lower.FunctionInlining.inline(FunctionInlining.kt:72)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanLower$lowerModule$4.invoke(KonanLower.kt:62)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanLower$lowerModule$4.invoke(KonanLower.kt:31)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:145)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:119)&#xA;&#x9;at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager.phase(KonanPhases.kt:144)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanLower.lowerModule(KonanLower.kt:61)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanLower.lower(KonanLower.kt:37)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5$1.invoke(KonanDriver.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5$1.invoke(KonanDriver.kt)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:145)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:119)&#xA;&#x9;at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager.phase(KonanPhases.kt:144)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5.invoke(KonanDriver.kt:96)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanDriverKt$runTopLevelPhases$5.invoke(KonanDriver.kt)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:145)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager$phase$$inlined$with$lambda$1.invoke(KonanPhases.kt:119)&#xA;&#x9;at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.PhaseManager.phase(KonanPhases.kt:144)&#xA;&#x9;at org.jetbrains.kotlin.backend.konan.KonanDriverKt.runTopLevelPhases(KonanDriver.kt:95)&#xA;&#x9;at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:82)&#xA;&#x9;at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:42)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:91)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:69)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:37)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMainNoExit(CLITool.kt:201)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMain(CLITool.kt:192)&#xA;&#x9;at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:206)&#xA;&#x9;at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:197)&#xA;&#x9;at org.jetbrains.kotlin.konan.util.UtilKt.profileIf(Util.kt:34)&#xA;&#x9;at org.jetbrains.kotlin.konan.util.UtilKt.profile(Util.kt:29)&#xA;&#x9;at org.jetbrains.kotlin.cli.bc.K2Native$Companion.main(K2Native.kt:199)&#xA;&#x9;at org.jetbrains.kotlin.cli.bc.K2NativeKt.main(K2Native.kt:211)&#xA;&#x9;at org.jetbrains.kotlin.cli.utilities.MainKt.main(main.kt:27)&#xA;&gt; Task :service-ios:compileDebugIos_x64KotlinNative FAILED&#xA;FAILURE: Build failed with an exception.&#xA;* What went wrong:&#xA;Execution failed for task ':service-ios:compileDebugIos_x64KotlinNative'.&#xA;&gt; Process 'command '/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/bin/java'' finished with non-zero exit value 2&#xA;* Try:&#xA;Run with --info or --debug option to get more log output. Run with --scan to get full insights.&#xA;* Exception is:&#xA;org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':service-ios:compileDebugIos_x64KotlinNative'.&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)&#xA;&#x9;at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:256)&#xA;&#x9;at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)&#xA;&#x9;at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)&#xA;&#x9;at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)&#xA;&#x9;at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)&#xA;&#x9;at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)&#xA;&#x9;at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:249)&#xA;&#x9;at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:238)&#xA;&#x9;at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)&#xA;&#x9;at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)&#xA;&#x9;at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:663)&#xA;&#x9;at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:596)&#xA;&#x9;at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)&#xA;&#x9;at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)&#xA;&#x9;at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)&#xA;&#x9;at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)&#xA;Caused by: org.gradle.process.internal.ExecException: Process 'command '/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/bin/java'' finished with non-zero exit value 2&#xA;&#x9;at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)&#xA;&#x9;at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:36)&#xA;&#x9;at org.gradle.api.internal.file.DefaultFileOperations.javaexec(DefaultFileOperations.java:186)&#xA;&#x9;at org.gradle.api.internal.project.DefaultProject.javaexec(DefaultProject.java:1077)&#xA;&#x9;at org.jetbrains.kotlin.gradle.plugin.KonanCliRunner.run(KonanToolRunner.kt:91)&#xA;&#x9;at org.jetbrains.kotlin.gradle.plugin.experimental.tasks.KotlinNativeCompile.compile(KotlinNativeCompile.kt:120)&#xA;&#x9;at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)&#xA;&#x9;at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)&#xA;&#x9;at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)&#xA;&#x9;at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)&#xA;&#x9;at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:794)&#xA;&#x9;at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:761)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)&#xA;&#x9;at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)&#xA;&#x9;at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)&#xA;&#x9;at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)&#xA;&#x9;at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)&#xA;&#x9;at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)&#xA;&#x9;at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)&#xA;&#x9;... 29 more&#xA;* Get more help at https://help.gradle.org&#xA;BUILD FAILED in 7s&#xA;13 actionable tasks: 8 executed, 5 up-to-date&#xA;Command /bin/sh emitted errors but did not return a nonzero exit code to indicate failure&#xA;Information:Build finished with 0 errors and 1 warning in 8 s 188 ms&#xA;```&#xA;&#xA;It's fixed when we change the call to:&#xA;```&#xA;private val exampleService: ExampleService = objectGraph.get&lt;ExampleService&gt;(null)&#xA;```" shownForIssueAuthor="false" created="1536334573398" markdown="true"><replies/></comment></issue><issue id="KT-26645" entityId="25-2110825"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26645</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: IllegalStateException while calling Ktor client to make get requests</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>On using suspended functions to make get requests using call through ktor's engine for native, I get the following excpetion:
Uncaught Kotlin exception: kotlin.IllegalStateException: There is no event loop. Use runBlocking { ... } to start one.

I am using ktor's engine by having an extension function the engine which calls the client using the following:

```
suspend inline fun &lt;reified T&gt; HttpClient.getTyped(
    url: String = "",
    body: Any = EmptyContent,
    noinline block: HttpRequestBuilder.() -&gt; Unit = {}
): HttpClientTypedResponse&lt;T&gt; {
    println("Calling at the next line!")
    val call = call {
        url("https://en.wikipedia.org/wiki/Main_Page")
        method = HttpMethod.Get
    }

    return try {
        HttpClientTypedResponse(call.response, call.receive())
    } catch (e: Exception) {
        HttpClientTypedResponse(call.response, null)
    }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536273647783</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536333277280</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>spierce7.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Scott Pierce</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mjgurumukhani</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mohit Gurumukhani</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Libraries</value><value>Native</value><valueId>Libraries</valueId><valueId>Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3058595" author="spierce7.1" authorFullName="Scott Pierce" issueId="KT-26645" deleted="false" text="To be clear, this is being called from inside of a `runBlocking` lambda." shownForIssueAuthor="false" created="1536333277281" markdown="true"><replies/></comment></issue><issue id="KT-26652" entityId="25-2111277"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26652</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inspection plugin: ArrayIndexOutOfBoundsException on project compilation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Reproduced on **JDK 10**.

```
git clone git@github.com:mglukhikh/inspection-plugin.git
cd inspection-plugin
gradle build
```

```stacktrace
&gt; Task :buildSrc:compileKotlin
Using kotlin incremental compilation

e: java.lang.ArrayIndexOutOfBoundsException: 450
    at org.jetbrains.org.objectweb.asm.ClassReader.readUnsignedShort(ClassReader.java:2464)
    at org.jetbrains.org.objectweb.asm.ClassReader.readUTF8(ClassReader.java:2525)
    at org.jetbrains.org.objectweb.asm.ClassReader.readModule(ClassReader.java:761)
    at org.jetbrains.org.objectweb.asm.ClassReader.accept(ClassReader.java:646)
    at org.jetbrains.org.objectweb.asm.ClassReader.accept(ClassReader.java:507)
    at org.jetbrains.kotlin.resolve.jvm.modules.JavaModuleInfo$Companion.read(JavaModuleInfo.kt:67)
    at org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder.findSystemModule(CliJavaModuleFinder.kt:45)
    at org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder.access$findSystemModule(CliJavaModuleFinder.kt:26)
    at org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder$systemModules$1.invoke(CliJavaModuleFinder.kt:37)
    at org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder$systemModules$1.invoke(CliJavaModuleFinder.kt:26)
    at kotlin.sequences.TransformingSequence$iterator$1.next(Sequences.kt:148)
    at kotlin.sequences.FilteringSequence$iterator$1.calcNext(Sequences.kt:108)
    at kotlin.sequences.FilteringSequence$iterator$1.hasNext(Sequences.kt:132)
    at kotlin.sequences.FlatteningSequence$iterator$1.ensureItemIterator(Sequences.kt:253)
    at kotlin.sequences.FlatteningSequence$iterator$1.hasNext(Sequences.kt:240)
    at kotlin.sequences.SequencesKt___SequencesKt.none(_Sequences.kt:1240)
    at org.jetbrains.kotlin.cli.jvm.compiler.ClasspathRootsResolver.addModularRoots(ClasspathRootsResolver.kt:180)
    at org.jetbrains.kotlin.cli.jvm.compiler.ClasspathRootsResolver.convertClasspathRoots(ClasspathRootsResolver.kt:97)
    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:207)
    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:114)
    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:382)
    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createCoreEnvironment(K2JVMCompiler.kt:281)
    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createEnvironmentWithScriptingSupport(K2JVMCompiler.kt:271)
    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:163)
    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)
    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:93)
    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:46)
    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)
    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compileChanged(IncrementalJvmCompilerRunner.kt:443)
    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compileIncrementally(IncrementalJvmCompilerRunner.kt:301)
    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.compile(IncrementalJvmCompilerRunner.kt:128)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:455)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:98)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:400)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:832)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)
    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:859)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:831)
    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:399)
    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.base/java.lang.reflect.Method.invoke(Method.java:564)
    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)
    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
    at java.base/java.security.AccessController.doPrivileged(Native Method)
    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)
    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)
    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)
    at java.base/java.security.AccessController.doPrivileged(Native Method)
    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)
    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)
    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at java.base/java.lang.Thread.run(Thread.java:844)


&gt; Task :buildSrc:compileKotlin FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':buildSrc:compileKotlin'.
&gt; Internal compiler error. See log for more details

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Get more help at https://help.gradle.org

CONFIGURE FAILED in 11s
Internal compiler error. See log for more details
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536320352881</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536325931011</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-23025</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Udalov">udalov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. CLI</value><valueId>Tools. CLI</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.4</value><valueId>1.1.4</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3058350" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26652" deleted="false" text="I guess this is a duplicate of KT-23025." shownForIssueAuthor="false" created="1536325931012" markdown="true"><replies/></comment><tag cssClass="c6">inspection-plugin</tag></issue><issue id="KT-26656" entityId="25-2111381"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26656</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Ambiguity about @JvmDefault-ability in inherited interface</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>{code}
interface A {
  fun foo()
}

interface B {
  @JvmDefault
  fun foo()
}

interface D : A, B //it's not clear is 'foo' @JvmDefault or not
class X(foo: D): D by foo //so should delegation be generated or not?
{code}</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536324245936</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536920228389</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>mbogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Michael Bogdanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26360</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.3.20</value><valueId>1.3.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Language design</value><value>Frontend. Declarations</value><valueId>Language design</valueId><valueId>Frontend. Declarations</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26657" entityId="25-2111402"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26657</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Consider adding a special constructor accessor marker for constructors with inline class types in value parameters</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Synthetic accessor for a constructor with signature `S` has signature `S; Lkotlin/jvm/internal/DefaultConstructorMarker;`, so that corresponding `&lt;init&gt;` methods don't clash:
```
   private &lt;init&gt;(I)V // original constructor
   public synthetic &lt;init&gt;(ILkotlin/jvm/internal/DefaultConstructorMarker;)V // synthetic accessor
```

Consider adding a special marker class (interface) to distinguish synthetic accessors generated for constructors with inline class types in value parameters.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536324876456</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536325236401</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-23338</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.3.20</value><valueId>1.3.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><value>Language design</value><valueId>Backend. JVM</valueId><valueId>Language design</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26669" entityId="25-2111718"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26669</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Remove unnecessary parentheses" reports parens of function returned from extension function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Following to KT-23448 &amp; KT-23452.

Open dummy in the IDE:
```
fun returnFun0(fn: () -&gt; Unit): (() -&gt; Unit) -&gt; Unit = TODO()
fun &lt;T&gt; returnFun1(fn: () -&gt; T): (() -&gt; T) -&gt; T = TODO()
fun &lt;T&gt; returnFun2(fn: (T) -&gt; T): ((T) -&gt; T) -&gt; T = TODO()
fun Unit.returnFun3(fn: (Unit) -&gt; Unit): ((Unit) -&gt; Unit) -&gt; Unit = TODO()
fun &lt;T&gt; T.returnFun5(fn: (T) -&gt; Boolean): ((T) -&gt; T) -&gt; T = TODO()

fun context52() {
    returnFun0 {} () {} // no inspection warning
    returnFun1 { true } () { true } // no inspection warning
    returnFun2&lt;Boolean&gt; { true } () { true } // no inspection warning
    Unit.returnFun3 {} () {} // inspection warning
    25.returnFun5 { true } () { it * 2 } // inspection warning
}
```
See the comment in the sample above.
Usages of extension functions are reported by "Kotlin | Redundant constructs | Remove unnecessary parentheses from function call with lambda" inspection.
Apply "Remove unnecessary parentheses" quick fix. Add-remove a space to wake up the highlighting.
The resulted code is incompilable.

IDEA 183.2278 + Kotlin plugin 1.3.0-dev-305.
IDEA 181.5550 + Kotlin plugin 1.2.70-eap-44.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536341122282</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536341122282</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Glukhikh">mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Inspections and Intentions</value><valueId>IDE. Inspections and Intentions</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26677" entityId="25-2111762"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26677</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>@TypeQualifierDefault is not considered in single-expression functions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Given
- the java code `@Nonnull @TypeQualifierDefault(ElementType.METHOD) public @interface NonnullApi {}`
- the kotlin code `fun add(a: String, b: String) = Adder.add(a, b)`

Then using @Nonnull directly generates no warning `class Adder { @Nonnull public static String add(String a, String b) {return a + b;} }`

But using @NonnullApi `@NunnullApi class Adder { public static String add(String a, String b) {return a + b;} }`
generates the warning "Declaration has type inferred from a platform call, which can lead to unchecked nullability issues. Specify type explicitly as nullable or non-nullable." for the kotlin function.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536345726884</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536749724431</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>nidi</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>nidi</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>4</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Java Descriptors and Signatures</value><valueId>Java Descriptors and Signatures</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-565598" url="https://youtrack.jetbrains.com/_persistent/Bildschirmfoto%202018-09-10%20um%2020.35.29.png?file=74-565598&amp;c=true">Bildschirmfoto 2018-09-10 um 20.35.29.png</value><value id="74-565851" url="https://youtrack.jetbrains.com/_persistent/kt.zip?file=74-565851&amp;c=true">kt.zip</value></field><comment id="27-3060584" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26677" deleted="false" text="Hello, this looks like as designed to me. Please [specify the compiler argument &quot;-Xjsr305=strict&quot;](https://kotlinlang.org/docs/reference/java-interop.html#jsr-305-support) in your build, ex. in Gradle:&#xA;&#xA;```&#xA;kotlinOptions.freeCompilerArgs = [&quot;-Xjsr305=strict&quot;]&#xA;```&#xA;&#xA;See also related issue KT-21364. Does that solve the problem?" shownForIssueAuthor="false" created="1536595705619" markdown="true"><replies/></comment><comment id="27-3060728" author="nidi" authorFullName="nidi" issueId="KT-26677" deleted="false" text="It seems to be a IDE-only issue. &#xA;Using a maven build, I was not able to produce the message &quot;Declaration has type inferred from a platform call, which can lead to unchecked nullability issues. Specify type explicitly as nullable or non-nullable.&quot;&#xA;But adding `!!` results in &quot;Unnecessary non-null assertion (!!)&quot; when either using @Nonnull or @TypeQualifierDefault, regardless of the -Xjsr305 option.&#xA;&#xA;But in the editor using @TypeQualifierDefault, I get the &quot;nullability warning&quot; without `!!`  and the &quot;Unnecessary (!!) warning&quot; with `!!`&#xA;Btw. the editor's type hints seems to infer the type correctly." shownForIssueAuthor="false" created="1536604797270" markdown="true"><replies/></comment><comment id="27-3061245" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26677" deleted="false" text="@nidi Thanks. Can you please attach your sample project and specify the line that is not behaving correctly?" shownForIssueAuthor="false" created="1536655184695" markdown="false"><replies/></comment><comment id="27-3061705" author="nidi" authorFullName="nidi" issueId="KT-26677" deleted="false" text="Problem is a Test.kt:8" shownForIssueAuthor="false" created="1536666910864" markdown="true"><replies/></comment></issue><issue id="KT-26697" entityId="25-2112108"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26697</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Compiler error generating constructor for local class extending local class which calls a function outside local context</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Compiler error when creating a local class `C` that extends another local class which calls some other function outside the enclosing element (I have only tested it with functions) of the local class.

This is the smallest reproduction I could come up with:
```kotlin
import java.util.*

class A() {
    fun foo(a: Int, b: Int): Boolean = a == b
    
    private fun foo() {
        open class B(val b: Int) {
            fun bar(other: B) = foo(other.b, b)
        }
        
        class C(b: Int, val c: Int) : B(b)
    }
}
```
As tested on try.kotlinlang.org:
```
Cause: Back-end (JVM) Internal error: Error generating constructors of class B with kind IMPLEMENTATION
Back-end (JVM) Internal error: Error generating constructors of class C with kind IMPLEMENTATION
Cause: Error generating constructors of class C with kind IMPLEMENTATION
File being compiled at position: (11,9) in /Simplest version.kt
The root cause was thrown at: ImplementationBodyCodegen.java:442
```

Might be a duplicate of KT-11902 but I'm not sure</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536524029051</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536603771866</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>tschuchortdev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Thilo Schuchort</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-11902</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.1.61</value><valueId>1.1.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26698" entityId="25-2112124"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26698</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>OnlyInputTypes doesn't work in presence of upper bound constraint</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>If a type parameter is annotated with `OnlyInputTypes` _and_ has an upper bound constraint, then the former annotation has no effect.

```
open class Base()
class CX : Base()
class CY : Base()

fun &lt;@OnlyInputTypes T&gt; foo(a: T, b: T) {}
fun &lt;@OnlyInputTypes T : Any&gt; fooA(a: T, b: T) {}
fun &lt;@OnlyInputTypes T : Base&gt; fooB(a: T, b: T) {}


fun usage(x: CX, y: CY) {
    foo(x, y) // expected err, got err
    fooA(x, y) // expected err, got ok
    fooB(x, y) // expected err, got ok
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536530615434</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536530623977</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>ilya.gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Gorbunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26704" entityId="25-2112307"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26704</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Correct variable-as-function call fails to compile in case of function type dependent on variable type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
package test

val &lt;T : CharSequence&gt; T.z
    get() = { x: T -&gt; this }

fun test() = "def".z("abc") // Error on "abc", see below
```

Error: Type mismatch: inferred type is String but T was expected

```
package test

val &lt;T : Number&gt; List&lt;T&gt;.valTest1: (T) -&gt; T
    get() = fun(x: T) = x

fun test1() = listOf(1, 2, 3).valTest1(42) // Error on '42', see below
```

Error: The integer literal does not conform to the expected type T</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536570200751</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536574431035</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-10364</value><value type="Relates" role="relates to">KT-26531</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c0">fixed-in-new-inference</tag></issue><issue id="KT-26708" entityId="25-2112442"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26708</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>NoSuchMethodError on private companion object property access inside a lambda call in an outer interface</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>This code gets compiled (no reference or access issues marked) but causes an error as soon as the member of the private companion object is called by another instance.
I've just tested it on https://try.kotlinlang.org:

```
interface A {
    
    fun foo(): Unit {
        Runnable{
            println("called $x")
        }.run()
    }
    
    private companion object {
        val x = 45
    }
}

class B: A

fun main(args: Array&lt;String&gt;) {
    B().foo()
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536575844515</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536659853829</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Os_Man</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Os Man</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3061427" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26708" deleted="false" text="Thank you. Simplified a bit:&#xA;&#xA;```&#xA;interface A {&#xA;    fun foo() {&#xA;        { x }()&#xA;    }&#xA;&#xA;    private companion object {&#xA;        val x = 45&#xA;    }&#xA;}&#xA;&#xA;class B : A&#xA;&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    B().foo()&#xA;}&#xA;```&#xA;&#xA;When compiled and run with 1.2.61:&#xA;&#xA;```stacktrace&#xA;Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: A.access$Companion()LA$Companion;&#xA;&#x9;at A$foo$1.invoke(main.kt:4)&#xA;&#x9;at A$foo$1.invoke(main.kt:1)&#xA;&#x9;at A$DefaultImpls.foo(main.kt:4)&#xA;&#x9;at B.foo(main.kt:12)&#xA;&#x9;at MainKt.main(main.kt:15)&#xA;```&#xA;&#xA;When compiled and run with 1.3-M2:&#xA;&#xA;```stacktrace&#xA;Exception in thread &quot;main&quot; java.lang.ClassFormatError: Illegal field modifiers in class A: 0x1A&#xA;&#x9;at java.lang.ClassLoader.defineClass1(Native Method)&#xA;&#x9;at java.lang.ClassLoader.defineClass(ClassLoader.java:763)&#xA;&#x9;at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)&#xA;&#x9;at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)&#xA;&#x9;at java.net.URLClassLoader.access$100(URLClassLoader.java:73)&#xA;&#x9;at java.net.URLClassLoader$1.run(URLClassLoader.java:368)&#xA;&#x9;at java.net.URLClassLoader$1.run(URLClassLoader.java:362)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.net.URLClassLoader.findClass(URLClassLoader.java:361)&#xA;&#x9;at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&#xA;&#x9;at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&#xA;&#x9;at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&#xA;&#x9;at java.lang.ClassLoader.defineClass1(Native Method)&#xA;&#x9;at java.lang.ClassLoader.defineClass(ClassLoader.java:763)&#xA;&#x9;at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)&#xA;&#x9;at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)&#xA;&#x9;at java.net.URLClassLoader.access$100(URLClassLoader.java:73)&#xA;&#x9;at java.net.URLClassLoader$1.run(URLClassLoader.java:368)&#xA;&#x9;at java.net.URLClassLoader$1.run(URLClassLoader.java:362)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at java.net.URLClassLoader.findClass(URLClassLoader.java:361)&#xA;&#x9;at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&#xA;&#x9;at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)&#xA;&#x9;at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&#xA;&#x9;at MainKt.main(main.kt:14)&#xA;```&#xA;&#xA;Note: no frontend/IDE error in both cases." shownForIssueAuthor="false" created="1536659848362" markdown="true"><replies/></comment></issue><issue id="KT-26710" entityId="25-2112560"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26710</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Should not report "implicit 'it' is shadowed when it is not used"</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider this code:

```
fun main(args: Array&lt;String&gt;) {
    repeat(10) {
        print(List(5) { it }) // WARNING: Implicit parameter 'it' of enclosing lambda is shadowed
    }
}
```

The warning here is not helpful and is annoying, because there is really no good way to get rid of it. The outer `it` in `repeat` is not used at all so "shadowing it" is really not a problem. It happens with other functions, not just `repeat`, so suggestion is not to report "shadowed" warning when the "shadowed it" was not used in the first place. It should work well with "must use it" inspection for higher-order functions whose only purpose is to get `it` into the scope.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536581620091</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536650635248</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Mikhail Glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roman Elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-11850</value><value type="Similar" role="similar to">KT-26268</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Vyacheslav Gerasimov">Vyacheslav.Gerasimov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Inspections and Intentions</value><valueId>IDE. Inspections and Intentions</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M2</value><value>1.2.61</value><valueId>1.3-M2</valueId><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3060089" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26710" deleted="false" text="NB: Recently KT-26268 was fixed in *1.3 master*." shownForIssueAuthor="false" created="1536582861939" markdown="false"><replies/></comment><comment id="27-3061107" author="mikhail.glukhikh" authorFullName="Mikhail Glukhikh" issueId="KT-26710" deleted="false" text="I think this case is different from KT-26268 (there was no `it` at all, and here we have inner `it` in use but outer one not in use). Personally, I'm not exactly sure we should not report the shadowing here because it can be unclear which `it` is in use inside inner lambda. A good fix is to add `_ -&gt;` to the outer lambda. I'm delegating the final decision to @Vyacheslav.Gerasimov who reviewed two previous PRs about this inspection." shownForIssueAuthor="false" created="1536650628919" updated="1536650669024" markdown="false"><replies/></comment></issue><issue id="KT-26715" entityId="25-2112707"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26715</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inline class constructor reference in ?.let() causes internal compiler error</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I frequently find myself needing to convert nullable primitive types to nullable inline class types. The easiest way, at least with currently available syntax, would be using ?.let(::Type), like so:

````
inline class TypedInt(val v: Int)
fun foo(i: Int?) {
    println(i?.let(::TypedInt))
}
````

However, this causes an internal compiler error:

````
Error:Kotlin: [Internal Error] java.lang.IllegalStateException: Backend Internal error: Exception during code generation
Cause: Back-end (JVM) Internal error: Couldn't inline method call 'let' into
public fun foo(i: kotlin.Int?): kotlin.Unit defined in root package in file InlineNullTest.kt
fun foo(i: Int?) {
    println(i?.let(::TypedInt))
}
Cause: let (Ljava/lang/Object;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;:
  @Lkotlin/internal/InlineOnly;() // invisible
   L0
    LINENUMBER 97 L0
    NOP
   L1
    LINENUMBER 100 L1
    ALOAD 1
    ALOAD 0
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    ARETURN
   L2
    LOCALVARIABLE $receiver Ljava/lang/Object; L0 L2 0
    LOCALVARIABLE block Lkotlin/jvm/functions/Function1; L0 L2 1
    LOCALVARIABLE $i$f$let I L0 L2 2
    MAXSTACK = 2
    MAXLOCALS = 3
Cause: java.lang.NullPointerException
File being compiled at position: (5,16) in /home/bart/projects/plaza/altin-server/apps/dataserver/src/main/java/InlineNullTest.kt
The root cause was thrown at: String.java:204
File being compiled at position: file:///home/bart/projects/plaza/altin-server/apps/dataserver/src/main/java/InlineNullTest.kt
The root cause was thrown at: InlineCodegen.kt:128
	at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)
	at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)
	at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:446)
	at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:142)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)
	at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)
	at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)
	at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:402)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:101)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:937)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)
	at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:977)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:936)
	at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:400)
	at sun.reflect.GeneratedMethodAccessor89.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'let' into
public fun foo(i: kotlin.Int?): kotlin.Unit defined in root package in file InlineNullTest.kt
fun foo(i: Int?) {
    println(i?.let(::TypedInt))
}
Cause: let (Ljava/lang/Object;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;:
  @Lkotlin/internal/InlineOnly;() // invisible
   L0
    LINENUMBER 97 L0
    NOP
   L1
    LINENUMBER 100 L1
    ALOAD 1
    ALOAD 0
    INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;
    ARETURN
   L2
    LOCALVARIABLE $receiver Ljava/lang/Object; L0 L2 0
    LOCALVARIABLE block Lkotlin/jvm/functions/Function1; L0 L2 1
    LOCALVARIABLE $i$f$let I L0 L2 2
    MAXSTACK = 2
    MAXLOCALS = 3
Cause: java.lang.NullPointerException
File being compiled at position: (5,16) in /home/bart/projects/plaza/altin-server/apps/dataserver/src/main/java/InlineNullTest.kt
The root cause was thrown at: String.java:204
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:128)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:168)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:684)
	at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:114)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:665)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2490)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2433)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.CoercionValue.putSelector(StackValue.kt:31)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:112)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:101)
	at org.jetbrains.kotlin.codegen.StackValue$StackValueWithSimpleReceiver.putReceiver(StackValue.java:1908)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:110)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:101)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.putArgumentOrCapturedToLocalVal(InlineCodegen.kt:330)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.putValueIfNeeded(InlineCodegen.kt:778)
	at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genValueAndPut(InlineCodegen.kt:751)
	at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:58)
	at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:68)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2461)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2433)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)
	at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:112)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:101)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:378)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:363)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1672)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:64)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:84)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:674)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:435)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:183)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:154)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:196)
	at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:128)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)
	... 35 more
Caused by: java.lang.NullPointerException
	at java.lang.String.&lt;init&gt;(String.java:204)
	at org.jetbrains.org.objectweb.asm.Type.getInternalName(Type.java:589)
	at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.anew(InstructionAdapter.java:1094)
	at org.jetbrains.kotlin.codegen.ExpressionCodegen.lambda$generateConstructorCall$27(ExpressionCodegen.java:4254)
	at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:112)
	at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:105)
	at org.jetbrains.kotlin.codegen.FunctionReferenceGenerationStrategy.doGenerateBody(FunctionReferenceGenerationStrategy.java:198)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:84)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:674)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateMethodBody(SourceCompilerForInline.kt:192)
	at org.jetbrains.kotlin.codegen.inline.PsiSourceCompilerForInline.generateLambdaBody(SourceCompilerForInline.kt:144)
	at org.jetbrains.kotlin.codegen.inline.ExpressionLambda.generateLambdaBody(LambdaInfo.kt:188)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.kt:316)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:249)
	at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:162)
	... 77 more</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536586136982</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536588843147</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>bartvh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Bart van Heukelom</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Subtask" role="subtask of">KT-23338</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Zarechenskiy">zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM</value><valueId>Backend. JVM</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M2</value><valueId>1.3-M2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3060324" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26715" deleted="false" text="Thank you. Similar error with a plain constructor reference:&#xA;&#xA;```&#xA;inline class TypedInt(val v: Int)&#xA;&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    ::TypedInt&#xA;}&#xA;```&#xA;&#xA;```stacktrace&#xA;Error:Kotlin: [Internal Error] java.lang.IllegalStateException: Backend Internal error: Exception during code generation&#xA;Cause: Back-end (JVM) Internal error: null&#xA;Cause: java.lang.NullPointerException&#xA;File being compiled at position: (4,5) in /Users/belkov/Code/1.3-M2/src/main.kt&#xA;The root cause was thrown at: unknown&#xA;File being compiled at position: file:///Users/belkov/Code/1.3-M2/src/main.kt&#xA;The root cause was thrown at: ExpressionCodegen.java:322&#xA;&#x9;at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)&#xA;&#x9;at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)&#xA;&#x9;at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)&#xA;&#x9;at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:446)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:142)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)&#xA;&#x9;at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)&#xA;&#x9;at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:402)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:937)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)&#xA;&#x9;at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:977)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:936)&#xA;&#x9;at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:400)&#xA;&#x9;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xA;&#x9;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&#xA;&#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&#xA;&#x9;at java.lang.reflect.Method.invoke(Method.java:498)&#xA;&#x9;at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:200)&#xA;&#x9;at sun.rmi.transport.Transport$1.run(Transport.java:197)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.Transport.serviceCall(Transport.java:196)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)&#xA;&#x9;at java.security.AccessController.doPrivileged(Native Method)&#xA;&#x9;at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)&#xA;&#x9;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)&#xA;&#x9;at java.lang.Thread.run(Thread.java:748)&#xA;Caused by: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: null&#xA;Cause: java.lang.NullPointerException&#xA;File being compiled at position: (4,5) in /Users/belkov/Code/1.3-M2/src/main.kt&#xA;The root cause was thrown at: unknown&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:322)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:401)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1248)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1193)&#xA;&#x9;at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)&#xA;&#x9;at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:299)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:401)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:362)&#xA;&#x9;at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1672)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:64)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:84)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:674)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:435)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:266)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:183)&#xA;&#x9;at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:154)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:196)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:95)&#xA;&#x9;at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:128)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:127)&#xA;&#x9;at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)&#xA;&#x9;... 36 more&#xA;Caused by: java.lang.NullPointerException&#xA;```" shownForIssueAuthor="false" created="1536588833176" markdown="true"><replies/></comment></issue><issue id="KT-26717" entityId="25-2112786"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26717</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Enable custom extension points in K/K plugin for CLion and AppCode</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Extension points have been disabled in https://github.com/JetBrains/kotlin/commit/23f8998e7d43bc425931063bbce15ee8b060b924. They should be accurately re-enabled but only for CLion and AppCode.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536588800289</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536666765020</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Mikhail Glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitriy.Dolovov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitriy Dolovov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Dmitriy Dolovov">Dmitriy.Dolovov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><valueId>IDE. Native</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26719" entityId="25-2112905"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26719</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"java.lang.Throwable: An invalid fqName `kotlinx.cinterop.package_kotlinx.cinterop` with short name `package_kotlinx.cinterop` is created for file `package_kotlinx.cinterop.knm` (isCompiled = true)" on navigation to kilb's</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>OS X, 10.13.6 (17G65)
Open the attached project, `Hi.kt` in `macModule`. Ctrl + click on `fopen` to navigate to the declaration in klib. The corresponding `klib` file is opened,but also the exception is thrown. Reproduced with the other platform functions, such as `toKString()` or `ByteVar` from stdlib, for example

* IDEA 2018.2.4 EAP (182.4505.7), Kotlin plugin 1.3.0-dev-362</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536593171589</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537118508757</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26059</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Dmitriy Dolovov">Dmitriy.Dolovov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><value>IDE. Multiplatform</value><valueId>IDE. Native</valueId><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-565542" url="https://youtrack.jetbrains.com/_persistent/tmp-new-mpp-0002.zip?file=74-565542&amp;c=true">tmp-new-mpp-0002.zip</value></field><comment id="27-3060474" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-26719" deleted="false" text="java.lang.Throwable: An invalid fqName `kotlinx.cinterop.package_kotlinx.cinterop` with short name `package_kotlinx.cinterop` is created for file `package_kotlinx.cinterop.knm` (isCompiled = true)&#xA;&#x9;at com.intellij.openapi.diagnostic.Logger.error(Logger.java:123)&#xA;&#x9;at org.jetbrains.kotlin.fileClasses.JvmFileClassUtilKt$javaFileFacadeFqName$1.compute(JvmFileClassUtil.kt:115)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.lambda$getCachedValue$0(CachedValuesManager.java:140)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:60)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)&#xA;&#x9;at com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:87)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:139)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:126)&#xA;&#x9;at org.jetbrains.kotlin.fileClasses.JvmFileClassUtilKt.getJavaFileFacadeFqName(JvmFileClassUtil.kt:109)&#xA;&#x9;at org.jetbrains.kotlin.asJava.LightClassUtil.findFileFacade(LightClassUtil.kt:167)&#xA;&#x9;at org.jetbrains.kotlin.asJava.LightClassUtil.getWrappingClass(LightClassUtil.kt:156)&#xA;&#x9;at org.jetbrains.kotlin.asJava.LightClassUtil.getWrappingClasses(LightClassUtil.kt:178)&#xA;&#x9;at org.jetbrains.kotlin.asJava.LightClassUtil.getPsiMethodWrappers(LightClassUtil.kt:131)&#xA;&#x9;at org.jetbrains.kotlin.asJava.LightClassUtil.extractPropertyAccessors(LightClassUtil.kt:195)&#xA;&#x9;at org.jetbrains.kotlin.asJava.LightClassUtil.getLightClassPropertyMethods(LightClassUtil.kt:80)&#xA;&#x9;at org.jetbrains.uast.kotlin.KotlinUastLanguagePluginKt.convertNonLocalProperty(KotlinUastLanguagePlugin.kt:278)&#xA;&#x9;at org.jetbrains.uast.kotlin.KotlinUastLanguagePluginKt.access$convertNonLocalProperty(KotlinUastLanguagePlugin.kt:1)&#xA;&#x9;at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertDeclaration$uast_kotlin(KotlinUastLanguagePlugin.kt:214)&#xA;&#x9;at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertDeclarationOrElement(KotlinUastLanguagePlugin.kt:96)&#xA;&#x9;at org.jetbrains.uast.kotlin.KotlinUastLanguagePlugin.convertElementWithParent(KotlinUastLanguagePlugin.kt:84)&#xA;&#x9;at org.jetbrains.uast.UastContext.convertElementWithParent(UastContext.kt:76)&#xA;&#x9;at org.jetbrains.uast.UastContextKt.toUElement(UastContext.kt:117)&#xA;&#x9;at com.intellij.codeInspection.i18n.folding.PropertyFoldingBuilder$2.visitElement(PropertyFoldingBuilder.java:77)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:62)&#xA;&#x9;at com.intellij.psi.PsiWalkingState.visit(PsiWalkingState.java:70)&#xA;&#x9;at com.intellij.psi.PsiWalkingState.visit(PsiWalkingState.java:27)&#xA;&#x9;at com.intellij.util.WalkingState.walkChildren(WalkingState.java:65)&#xA;&#x9;at com.intellij.util.WalkingState.elementStarted(WalkingState.java:52)&#xA;&#x9;at com.intellij.psi.PsiWalkingState.elementStarted(PsiWalkingState.java:79)&#xA;&#x9;at com.intellij.psi.PsiRecursiveElementWalkingVisitor.visitElement(PsiRecursiveElementWalkingVisitor.java:48)&#xA;&#x9;at com.intellij.codeInspection.i18n.folding.PropertyFoldingBuilder$2.visitElement(PropertyFoldingBuilder.java:81)&#xA;&#x9;at com.intellij.psi.PsiElementVisitor.visitFile(PsiElementVisitor.java:34)&#xA;&#x9;at com.intellij.psi.PsiRecursiveElementWalkingVisitor.visitFile(PsiRecursiveElementWalkingVisitor.java:70)&#xA;&#x9;at org.jetbrains.kotlin.psi.KtFile.accept(KtFile.kt:210)&#xA;&#x9;at com.intellij.codeInspection.i18n.folding.PropertyFoldingBuilder.buildFoldRegions(PropertyFoldingBuilder.java:65)&#xA;&#x9;at com.intellij.lang.folding.LanguageFolding.buildFoldingDescriptors(LanguageFolding.java:71)&#xA;&#x9;at com.intellij.lang.folding.CompositeFoldingBuilder.buildFoldRegions(CompositeFoldingBuilder.java:43)&#xA;&#x9;at com.intellij.lang.folding.LanguageFolding.buildFoldingDescriptors(LanguageFolding.java:71)&#xA;&#x9;at com.intellij.codeInsight.folding.impl.FoldingUpdate.getFoldingsFor(FoldingUpdate.java:239)&#xA;&#x9;at com.intellij.codeInsight.folding.impl.FoldingUpdate.getFoldingsFor(FoldingUpdate.java:225)&#xA;&#x9;at com.intellij.codeInsight.folding.impl.FoldingUpdate.getUpdateResult(FoldingUpdate.java:97)&#xA;&#x9;at com.intellij.codeInsight.folding.impl.FoldingUpdate.lambda$updateFoldRegions$0(FoldingUpdate.java:86)&#xA;&#x9;at com.intellij.psi.impl.PsiParameterizedCachedValue.doCompute(PsiParameterizedCachedValue.java:45)&#xA;&#x9;at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:60)&#xA;&#x9;at com.intellij.psi.impl.PsiParameterizedCachedValue.getValue(PsiParameterizedCachedValue.java:35)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.getParameterizedCachedValue(CachedValuesManager.java:96)&#xA;&#x9;at com.intellij.codeInsight.folding.impl.FoldingUpdate.updateFoldRegions(FoldingUpdate.java:82)&#xA;&#x9;at com.intellij.codeInsight.folding.impl.CodeFoldingManagerImpl.updateFoldRegions(CodeFoldingManagerImpl.java:298)&#xA;&#x9;at com.intellij.codeInsight.folding.impl.CodeFoldingManagerImpl.updateFoldRegionsAsync(CodeFoldingManagerImpl.java:284)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.CodeFoldingPass.doCollectInformation(CodeFoldingPass.java:42)&#xA;&#x9;at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:69)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:423)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1161)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:416)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)&#xA;&#x9;at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)&#xA;&#x9;at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:415)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:391)&#xA;&#x9;at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)&#xA;&#x9;at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:222)&#xA;&#x9;at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:389)&#xA;&#x9;at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:161)&#xA;&#x9;at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)&#xA;&#x9;at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)&#xA;&#x9;at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)&#xA;&#x9;at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)" shownForIssueAuthor="false" created="1536593188096" markdown="false"><replies/></comment><comment id="27-3067661" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26719" deleted="false" text="IDEA 182.4681 + Kotlin plugin 1.3.0-rc-25: met the same on opening `~/.konan/kotlin-native-linux-0.9/klib/platform/linux_x64/linux/linkdata/package_platform.linux.knm` (and any other .kpm) from External Libraries node in IDEA project on linux.&#xA;&#xA;```&#xA;java.lang.Throwable: An invalid fqName `platform.linux.package_platform.linux` with short name `package_platform.linux` is created for file `package_platform.linux.knm` (isCompiled = true)&#xA;&#x9;at com.intellij.openapi.diagnostic.Logger.error(Logger.java:123)&#xA;&#x9;at org.jetbrains.kotlin.fileClasses.JvmFileClassUtilKt$javaFileFacadeFqName$1.compute(JvmFileClassUtil.kt:115)&#xA;&#x9;at com.intellij.psi.util.CachedValuesManager.lambda$getCachedValue$0(CachedValuesManager.java:140)&#xA;&#x9;at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)&#xA;&#xA;etc&#xA;```" shownForIssueAuthor="false" created="1537118508780" markdown="false"><replies/></comment><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26721" entityId="25-2112957"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26721</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Redundant import statement inserted on J2K conversion in Native module of a multiplatform project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a multiplatform project with Kotlin Native target. 
Create some file in the Native module. Paste the following code: 
{code lang=Kotlin}
import kotlinx.cinterop.*
import platform.posix.*

fun foo() {
    val file = fopen("", "r")
}
{code}

Copy-paste the following code at the end of the file, agree with J2K conversion.
{code lang=Java}
public class JHello {
    void fromJava() {
        System.out.println("Greetings from Java!");
    }
}
{code}

The result will be: 
{code lang=Kotlin}
import kotlinx.cinterop.*
import platform.posix.*


fun foo() {
    val file = fopen("", "r")
}

import kotlinx.*
import platform.*

class JHello {
    internal fun fromJava() {
        println("Greetings from Java!")
    }
}
{code}
— two extra and redundant imports are inserted. That doesn't happen if there weren't any imports before or those were from stdlib or from the other project modules, so it;s specific to the native library imports. 

* IDEA 2018.2.4 EAP (182.4505.7), Kotlin plugin 1.3.0-dev-362</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536596012132</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536596012132</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. J2K</value><value>IDE. Multiplatform</value><valueId>Tools. J2K</valueId><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26734" entityId="25-2113510"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26734</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>ACCIDENTAL_OVERRIDE error not reported in web demo</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
class C {
    fun equals(a: Any) = true.also { println("C::equals") } // (*)
}

fun main(args: Array&lt;String&gt;) {
    val x: Any = C()
    println(x == "")
}
```

The code above should not compile (because of ACCIDENTAL_OVERRIDE on function declaration at (*)).
However, in web demo it compiles, and prints 
```
C::equals
true
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536657907675</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536660230614</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Dmitry.Petrov.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Dmitry Petrov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Web Demo</value><valueId>Web Demo</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M2</value><valueId>1.3-M2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26741" entityId="25-2113834"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26741</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Maven auto-import does not pick changes in `kotlin.code.style` property</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>May be the same to KT-18229, but use case is different.

Get Kotlin IDE plugin supporting code style migration. Tested plugins are listed in the end of this description.

Get Maven-based project with Kotlin configured. Provide the `kotlin.code.style` property in `pom.xml`:
```
    &lt;properties&gt;
        &lt;kotlin.code.style&gt;official&lt;/kotlin.code.style&gt;
        &lt;kotlin.version&gt;1.2.70-eap-40&lt;/kotlin.version&gt;
    &lt;/properties&gt;
```

Reimport the project: the property takes the effect.
(`.idea/codeStyles/Project.xml` contains `&lt;option name="CODE_STYLE_DEFAULTS" value="KOTLIN_OFFICIAL" /&gt;`).

Then in `pom.xml` edit +only+ the property value: change to `obsolete`.
Maven notification suggests re-import. Click the link +in the notification balloon+. Save all.
Effect: nothing changes. The property is not applied. That's the issue.

Do complete Reimport from Maven tool window, Save all: now the change is applied.

Same occurs for backward change: `obsolete -&gt; official`.

IDEA 183.2411 + Kotlin plugin 1.3.0-dev-433.
IDEA 181.5550 + Kotlin plugin 1.2.70-release(-54).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536668393501</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536668417657</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-18229</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Code Style, Formatting</value><valueId>IDE. Code Style, Formatting</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26756" entityId="25-2114662"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26756</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Dokka: wrong formatting of code samples with embedded docs</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider this code:

```
/**
 * Example usage:
 * 
 * ```
 * class Test {
 *     /**
 *      * This function does foo.
 *      */
 *     fun bar() { 
 *         foo()
 *     }
 * }    
 * ```
 */
fun foo() {}
```

If you click Ctrl+Q (F1 on Mac) on `foo()` declaration you can see that Dokka does not render the embedded code block properly with respect to its indentation. The same problem can be observed in the documentation generated by Dokka tool.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536745286243</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536750081539</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roman Elizarov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-17474</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Dokka</value><valueId>Tools. Dokka</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26759" entityId="25-2114757"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26759</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>False positive unreachable code warning</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The return statement in the code below is reported (by the IDEA plugin) to be unreachable:

```
fun &lt;T : Any&gt; T?.assertNotNull(): T {
        return if (this != null) {
            return this
        } else {
            throw AssertionFailedError("Expected to be not null")
        }
}
```

IntelliJ IDEA 2018.3 EAP (Ultimate Edition)
Build #IU-183.2153.8, built on September 4, 2018
IntelliJ IDEA EAP User
Expiration date: October 4, 2018
JRE: 1.8.0_152-release-1293-b10 x86_64
JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o
macOS 10.13.6

Kotlin: 1.3-M2-release-IJ2018.2-1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536748608817</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536766467249</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Alexander.Sedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Sedov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Control-flow analysis</value><valueId>Frontend. Control-flow analysis</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3064215" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26759" deleted="false" text="Removing the second `return` fixes the problem, but the result of execution is the same.&#xA;&#xA;```&#xA;fun foo(): Int {&#xA;    return if (true) {&#xA;        return 42&#xA;    } else {&#xA;        throw Exception(&quot;&quot;)&#xA;    }&#xA;}&#xA;&#xA;fun main(args: Array&lt;String&gt;) {&#xA;    println(foo())&#xA;}&#xA;```" shownForIssueAuthor="false" created="1536766467257" updated="1536766501353" markdown="true"><replies/></comment></issue><issue id="KT-26764" entityId="25-2114957"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26764</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>`kotlin` content root isn't generated for Android module of a multiplatform project on Gradle import</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a multiplatform project with Android module. Alternatively, import the project from [here|https://github.com/h0tk3y/k-new-mpp-samples/tree/master/common-lib-and-android-app] (it requires to publish `lib-arithmetic` and `lib-strings` locally first).
Make sure `Create directories for empty content roots automatically` option is turned on (''Preferences | Build, Execution, Deployment | Build Tools | Gradle''). 
In `main` module, dedicated for the Android part, there should be two source roots generated: `java` and `kotlin`, but only `java` is present. Nevertheless, on the addition of `kotlin` folder, it also immediately becomes a sources root, so it was expected to be there.

* IDEA 2018.2.4 EAP (182.4505.7), Kotlin plugin 1.3.0-dev-498</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536755894196</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536829004495</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26356</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Sedunov">asedunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Import Management</value><value>IDE. Multiplatform</value><valueId>IDE. Import Management</valueId><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26766" entityId="25-2115062"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26766</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"Inline Variable" not working in multiple nested lambdas with receiver passed to same-named functions</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```
fun main() {
    "string".apply {
        5.apply {
            val inlineMe = length
            val foo = inlineMe
        }
    }
}
```
Expected outcome:
```
fun main() {
    "string".apply {
        5.apply {
            val foo = length
        }
    }
}
```
Actual outcome:
```
fun main() {
    "string".apply {
        5.apply {
            val foo = this@apply.length
            // Warning "@apply": [LABEL_NAME_CLASH] There is more than one label with such a name in this scope
            // Error "length": Unresolved reference: length
        }
    }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536758610819</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536767437477</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>jellefresen</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Jelle Fresen</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Glukhikh">mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Refactorings</value><valueId>IDE. Refactorings</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26767" entityId="25-2115065"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26767</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Mangled declarations (because of inline classes) should not be visible in Java completion</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>```kotlin
inline class Mangled(val x: Int) {
    fun interesting() {}
}

object Test {
    fun veryInteresting(m: Mangled) {}
}
```

```java
static void foo() {
    Mangled.&lt;caret&gt;
    Test.very&lt;caret&gt;   
}
```

Try invoking completion on &lt;caret&gt;, it will show mangled names, which are impossible to call from Java and therefore they should be hidden.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536758777782</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536939062165</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Mikhail Zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Mikhail Zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Major</value><valueId>Major</valueId><color><bg>#ffee9c</bg><fg>#b45f06</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.3</value><valueId>1.3</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Completion</value><valueId>IDE. Completion</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26768" entityId="25-2115067"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26768</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE: False positive "Smart cast to '$CLASS$' is impossible", on local variable in run closure</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin plugin suggest that in line `instance.foo()` variable `instance` cannot be smart casted to B, but kotlin compiler doesn't think so.
```
interface A

class B : A {
    fun foo() = 10
}

fun &lt;T&gt; A.run(f: A.() -&gt; T): T = f()

class Main {
    val value: Any = (B() as A).run {
        var instance = this
        if (instance is B) {
            instance.foo()
        }
    }
}

fun main(args: Array&lt;String&gt;) {
    val v = Main().value
    println("hello world $v")
}
```
If change type of `value` to `Unit` or remove it, than this error will be lost.
![](image.png)![](image1.png)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536758887248</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536768662167</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>seryoga.vor</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergei Vorobyov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Highlighting</value><value>Frontend. Data-flow analysis</value><valueId>IDE. Highlighting</valueId><valueId>Frontend. Data-flow analysis</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.70</value><value>1.2.61</value><valueId>1.2.70</valueId><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-566386" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-566386&amp;c=true">image.png</value><value id="74-566387" url="https://youtrack.jetbrains.com/_persistent/image1.png?file=74-566387&amp;c=true">image1.png</value></field></issue><issue id="KT-26769" entityId="25-2115068"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26769</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>In new MPP, the IDE does not recognize the sources JAR of a published MPP library</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Use the [`lib-and-app` sample](https://github.com/h0tk3y/k-new-mpp-samples/tree/master/lib-and-app).

1. Publish the `sample-lib`: `./gradlew publishToMavenLocal`
2. Go to the Maven Local repository (`~/.m2/repository` by default) and check that the published library has sources JARs for its variants such as `sample-lib-jvm6` and `sample-lib-metadata` (though not for just `sample-lib`, which is OK)
3. Import `sample-app` into the IDE

In the Project structure, the imported `sample-lib` dependencies have no sources JAR picked up
Also, if you try to use a declaration from the `sample-lib`'s common code, e.g. `platformName`, and navigate to it, the IDE jumps to the decompiled code, not sources.

Note that importing a non-MPP project with a dependency on the same library leads to the sources JAR being properly imported.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536758959858</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536835938282</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Sedunov">asedunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Gradle</value><valueId>IDE. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M2</value><valueId>1.3-M2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26781" entityId="25-2115380"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26781</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Common module test function reported as missing documentation (in IDEA)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Since my update to Kotlin Plugin 1.2.61 my common module unit test functions (annotated with `kotlin.test.Test`) are reported as missing documentation.
This was not the case in Kotlin 1.2.50 and earlier versions.
Since the JVM module tests are still not reported I guess this is a bug?!

By the way, its the same for the function name pattern inspection.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536778291779</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537039513697</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>knolle</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>André Kießling</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>knolle</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>André Kießling</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>5</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.70</value><value>1.2.61</value><valueId>1.2.70</valueId><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3065076" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26781" deleted="false" text="Hello, sorry, I couldn't reproduce this in a toy project. Is it possible for you to share your project (or its skeleton)? And what exactly do you mean by &quot;functions are reported as missing documentation&quot;? Thank you." shownForIssueAuthor="false" created="1536836224545" markdown="false"><replies/></comment><comment id="27-3065165" author="knolle" authorFullName="André Kießling" issueId="KT-26781" deleted="false" text="Hi,&#xA;please have a look at https://github.com/knolleCC/kotlinSample_commonUnitTest - problem 3 in the readme.&#xA;I'm using Intellij IDEA 2018.1.6 (Community Edition)." shownForIssueAuthor="false" created="1536839417199" markdown="true"><replies/></comment><comment id="27-3067440" author="knolle" authorFullName="André Kießling" issueId="KT-26781" deleted="false" text="Seems to be fixed in 1.2.70.&#xA;I guess its throug https://youtrack.jetbrains.com/issue/KT-26076" shownForIssueAuthor="false" created="1537001814577" markdown="true"><replies/></comment><comment id="27-3067441" author="knolle" authorFullName="André Kießling" issueId="KT-26781" deleted="false" text="Forget my last comment!&#xA;It was just a refreshing problem after Kotlin Update... now the inspection warnings are back.&#xA;So not solved!" shownForIssueAuthor="false" created="1537002237146" markdown="true"><replies/></comment><comment id="27-3067546" author="knolle" authorFullName="André Kießling" issueId="KT-26781" deleted="false" text="Actually its not just the documentation inspection, the whole sources are not really recognized as test-sources.&#xA;If I mark the whole test/kotlin folder manually as &quot;Test sources root&quot;, all warnings vanish.&#xA;However, when I refresh Gradle projects again, the warnings reappear.&#xA;So its kind of similar to  https://youtrack.jetbrains.com/issue/KT-26076 which should be solved but its still there (ideaIC-2018.2.3 / Kotlin 1.2.70)" shownForIssueAuthor="false" created="1537039513700" markdown="true"><replies/></comment></issue><issue id="KT-26787" entityId="25-2115653"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26787</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incorrect JS code translation: `when` statement inside `for` loop breaks out of the loop</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Unfortunately, I couldn't reproduce a simplified version of the issue with primitives instead of custom classes. Thus I have to report the original piece of code.

A piece of Kotlin JS:
```
   val result = ArrayList&lt;BuildingRoomSourceRole&gt;()
   for (possiblyOutdated in props.locationProp.get()) {
            if (possiblyOutdated.source == RoomSource.SET_MANUALLY) {
                when (possiblyOutdated.role) {
                    Role.PRIMARY -&gt; {
                        val index = result.indexOfFirst { it.building == possiblyOutdated.building }
                        if (index != -1) {
                            result[index] = possiblyOutdated
                        }
                    }
                    Role.EXTRA -&gt; {
                        result += possiblyOutdated
                    }
                }
            }
        }
```

It's translated to the following JS code:

```
loop_label: for (tmp$_1 = 0; tmp$_1 !== tmp$_0.length; ++tmp$_1) {
      var possiblyOutdated = tmp$_0[tmp$_1];
      debugger;
      if (possiblyOutdated.source === RoomSource$SET_MANUALLY_getInstance()) {
        switch (possiblyOutdated.role.name) {
          case 'PRIMARY':
            var indexOfFirst$result;
            indexOfFirst$break: do {
              var tmp$_2;
              var index = 0;
              tmp$_2 = result.iterator();
              while (tmp$_2.hasNext()) {
                var item = tmp$_2.next();
                var tmp$_3;
                if ((tmp$_3 = item.building) != null ? tmp$_3.equals(possiblyOutdated.building) : null) {
                  indexOfFirst$result = index;
                  break indexOfFirst$break;
                }
                index = index + 1 | 0;
              }
              indexOfFirst$result = -1;
            }
             while (false);
            var index_0 = indexOfFirst$result;
            if (index_0 !== -1) {
              result.set_wxm5ur$(index_0, possiblyOutdated);
            }

            break loop_label;
          case 'EXTRA':
            result.add_11rb$(possiblyOutdated);
            break loop_label;
        }
      }
}
```
As you can see, there are **breaks** in the end of each **when** branch which break the **for** loop.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536829795257</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536831244706</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Sergey.Voytovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Sergey Voytovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-26320</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JS</value><valueId>Backend. JS</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26789" entityId="25-2115675"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26789</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Exception from dokka on stdlib-jvm sources</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>This method is defined only for builtin members, but public abstract fun &lt;get-size&gt;(): kotlin.Int defined in kotlin.collections.Collection[PropertyGetterDescriptorImpl@22f4e1d1] found
	at org.jetbrains.kotlin.load.java.BuiltinSpecialProperties.getBuiltinSpecialPropertyGetterName(specialBuiltinMembers.kt:89)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaClassMemberScope.findGetterOverride(LazyJavaClassMemberScope.kt:217)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaClassMemberScope.doesClassOverridesProperty(LazyJavaClassMemberScope.kt:254)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaClassMemberScope.createPropertyDescriptorByMethods(LazyJavaClassMemberScope.kt:502)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaClassMemberScope.addPropertyOverrideByMethod(LazyJavaClassMemberScope.kt:464)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaClassMemberScope.computeNonDeclaredProperties(LazyJavaClassMemberScope.kt:447)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope$properties$1.invoke(LazyJavaScope.kt:264)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope$properties$1.invoke(LazyJavaScope.kt:57)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:448)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunctionToNotNull.invoke(LockBasedStorageManager.java:523)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope.getContributedVariables(LazyJavaScope.kt:325)
	at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaClassMemberScope.getContributedVariables(LazyJavaClassMemberScope.kt:731)
	at org.jetbrains.kotlin.resolve.scopes.SubstitutingScope.getContributedVariables(SubstitutingScope.kt:72)
	at org.jetbrains.kotlin.resolve.calls.tower.MemberScopeTowerLevel$getVariables$1.invoke(TowerLevels.kt:167)
	at org.jetbrains.kotlin.resolve.calls.tower.MemberScopeTowerLevel$getVariables$1.invoke(TowerLevels.kt:82)
	at org.jetbrains.kotlin.resolve.calls.tower.MemberScopeTowerLevel.collectMembers(TowerLevels.kt:95)
	at org.jetbrains.kotlin.resolve.calls.tower.MemberScopeTowerLevel.getVariables(TowerLevels.kt:167)
	at org.jetbrains.kotlin.resolve.calls.tower.ScopeTowerProcessorsKt$createVariableProcessor$1.invoke(ScopeTowerProcessors.kt:220)
	at org.jetbrains.kotlin.resolve.calls.tower.ScopeTowerProcessorsKt$createVariableProcessor$1.invoke(ScopeTowerProcessors.kt)
	at org.jetbrains.kotlin.resolve.calls.tower.ExplicitReceiverScopeTowerProcessor.simpleProcess(ScopeTowerProcessors.kt:99)
	at org.jetbrains.kotlin.resolve.calls.tower.SimpleScopeTowerProcessor$DefaultImpls.process(ScopeTowerProcessors.kt:60)
	at org.jetbrains.kotlin.resolve.calls.tower.AbstractSimpleScopeTowerProcessor.process(ScopeTowerProcessors.kt:63)
	at org.jetbrains.kotlin.resolve.calls.tower.PrioritizedCompositeScopeTowerProcessor.process(ScopeTowerProcessors.kt:38)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.processTowerData(TowerResolver.kt:271)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.access$processTowerData(TowerResolver.kt:77)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver$Task.process(TowerResolver.kt:158)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver$Task.run(TowerResolver.kt:177)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.run(TowerResolver.kt:96)
	at org.jetbrains.kotlin.resolve.calls.tower.TowerResolver.runResolve(TowerResolver.kt:83)
	at org.jetbrains.kotlin.resolve.calls.tower.NewResolutionOldInference.runResolution(NewResolutionOldInference.kt:190)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCall(CallResolver.java:681)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.doResolveCallOrGetCachedResults(CallResolver.java:589)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.lambda$computeTasksAndResolveCall$0(CallResolver.java:208)
	at org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:91)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:206)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.computeTasksAndResolveCall(CallResolver.java:196)
	at org.jetbrains.kotlin.resolve.calls.CallResolver.resolveSimpleProperty(CallResolver.java:139)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getVariableType(CallExpressionResolver.kt:116)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getSimpleNameExpressionTypeInfo(CallExpressionResolver.kt:151)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getUnsafeSelectorTypeInfo(CallExpressionResolver.kt:333)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getSafeOrUnsafeSelectorTypeInfo(CallExpressionResolver.kt:362)
	at org.jetbrains.kotlin.resolve.calls.CallExpressionResolver.getQualifiedExpressionTypeInfo(CallExpressionResolver.kt:449)
	at org.jetbrains.kotlin.types.expressions.BasicExpressionTypingVisitor.visitQualifiedExpression(BasicExpressionTypingVisitor.java:714)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.visitQualifiedExpression(ExpressionTypingVisitorDispatcher.java:370)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher$ForBlock.visitQualifiedExpression(ExpressionTypingVisitorDispatcher.java:57)
	at org.jetbrains.kotlin.psi.KtVisitor.visitDotQualifiedExpression(KtVisitor.java:302)
	at org.jetbrains.kotlin.psi.KtDotQualifiedExpression.accept(KtDotQualifiedExpression.kt:31)
	at org.jetbrains.kotlin.types.expressions.ExpressionTypingVisitorDispatcher.lambda$getTypeInfo$0(ExpressionTypingVisitorDispatcher.java:172)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536830690247</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536830690247</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>eugene.petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Eugene Petrenko</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Simon Ogorodnik">Simon.Ogorodnik</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26792" entityId="25-2115899"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26792</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IntelliJ does not recognize JUnit 5 tests in Kotlin multiplatform project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>On Stack Overflow, [I posted that I am unable to properly configure JUnit 5 in a multiplatform project using Gradle and IntelliJ](https://stackoverflow.com/q/52295319/590790). Although the Gradle tests run, IntelliJ does not seem to recognize my tests. The run test icons do not show up in the margin of test source files and the test options do not appear in the context menu.

While trying to figure out this issue, I discovered that _it does work for JUnit 4_. This is the default test framework configured in the JVM `build.gradle` of the multiplatform template available in IntelliJ IDEA 2018.2.3 (Community Edition):

```
plugins {
    id 'kotlin-platform-jvm' version '1.2.61'
}
repositories {
    mavenCentral()
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    expectedBy project(":JUnit5Multiplatform-common")
    testCompile "junit:junit:4.12"
    testCompile "org.jetbrains.kotlin:kotlin-test"
    testCompile "org.jetbrains.kotlin:kotlin-test-junit"
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
sourceCompatibility = "1.8"
```

The issue occurs when I upgrade this `build.gradle` to use JUnit 5 instead (resulting project is attached for your convenience):

```
plugins {
    id 'kotlin-platform-jvm' version '1.2.61'
}
repositories {
    mavenCentral()
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    expectedBy project(":JUnit5Multiplatform-common")

    testCompile "org.jetbrains.kotlin:kotlin-test"
    testCompile "org.jetbrains.kotlin:kotlin-test-junit5"

    testCompile('org.junit.jupiter:junit-jupiter-api:5.3.1')
    testCompile('org.junit.jupiter:junit-jupiter-params:5.3.1')
    testRuntime('org.junit.jupiter:junit-jupiter-engine:5.3.1')
}

test {
    useJUnitPlatform()
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
sourceCompatibility = "1.8"
```

After further debugging, I discovered that **the key difference which makes or breaks tests in IntelliJ is the `kotlin-test-junit5` dependency**. When I swap out this dependency with `kotlin-test-junit` again, IntelliJ recognizes the tests, but perhaps unsurprisingly, running tests fails.

The following bug report might be related: [JUnit test runner is unaware of `@kotlin.test.Test` tests when used in common multiplatform module, even if looked from JVM multiplatform module](https://youtrack.jetbrains.com/issue/KT-23672). Although it is listed as 'fixed', a commenter posted: _"Looks like it **fixes the issue for kotlin-test-junit, but not for kotlin-test-junit5** though."_</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536840219215</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536848164817</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Steven.Jeuris</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Steven Jeuris</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-20363</value><value type="Relates" role="relates to">KT-23672</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Sedunov">asedunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Tests Support</value><valueId>IDE. Tests Support</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-566784" url="https://youtrack.jetbrains.com/_persistent/JUnit5Multiplatform.zip?file=74-566784&amp;c=true">JUnit5Multiplatform.zip</value></field><tag cssClass="c0">multiplatform</tag></issue><issue id="KT-26799" entityId="25-2116041"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26799</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>kotlin-stdlib-1.2.61 sources won't attach</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I tried to go to the definition of the Kotlin `listOf()`.

IntelliJ opened `kotlin-stdlib-1.2.61.jar!kotlin/collections/CollectionsKt.class`.

I tried to attach sources via `Choose Sources…` in the blue banner.

In the dialog box, I switch to the sibling directory that contains `kotlin-stdlib-1.2.61-sources.jar` &amp; selected that file (the common parent directory is `~/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.2.61`).

`Attaching…` was displayed in the left of the banner, but the sources wouldn't attach.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536847043241</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536943887928</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>rgoldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ross Goldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rgoldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ross Goldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3066777" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26799" deleted="false" text="Hello, this looks like a combination of KT-10534 and KT-12209. Can you confirm?" shownForIssueAuthor="false" created="1536927120661" markdown="false"><replies/></comment><comment id="27-3067275" author="rgoldberg" authorFullName="Ross Goldberg" issueId="KT-26799" deleted="false" text="It looks like my issue is a duplicate of part of KT-10534, but not of KT-12209, because, after attaching sources, when I use Navigate &gt; Declaration, I still go to the decompiled class stub instead of to the source.  Navigate &gt; Declaration should be able to go directly to the correct source, since it's going to a specific individual symbol, instead of to a potential conglomerate that might be partially defined in multiple files." shownForIssueAuthor="false" created="1536943873313" markdown="false"><replies/></comment></issue><issue id="KT-26801" entityId="25-2116089"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26801</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>`Source entry is not a Kotlin file` only in incremental builds for Java files in multiplatform project</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Get project from attachment. It looks a bit weird: in JVM there is a `Foo.java` file containing actual class Foo (it is KT-26800). Accept this thing and run `./gradlew build`. The project compiles successfully. Now edit `Foo.kt` in common module (adding a new line is enough) and build project again. You will get compilation error:
```
e: Source entry is not a Kotlin file: /path/to/mpp-01/src/jvmMain/kotlin/p01/Foo.java
&gt; Task :compileKotlinJvm FAILED
```

And if you disable IC in `gradle.properties`, the project is built well. 

Kotlin 1.3.0-rc-10</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536849167809</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536849167809</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Depend" role="depends on">KT-26800</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Tsvetkov">tsvetkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Incremental Compile</value><value>IDE. Multiplatform</value><valueId>Tools. Incremental Compile</valueId><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-566884" url="https://youtrack.jetbrains.com/_persistent/mpp-01.zip?file=74-566884&amp;c=true">mpp-01.zip</value></field><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26812" entityId="25-2116265"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26812</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cannot add a shared dependency to a multiplatform module</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I'm trying to create a multi platform project with a shared dependency, but I cannot find out what I am doing wrong.

The background is I want to create a library which generated some kind of configuration and uses that configuration for a runtime library which should run on jvm and node.js. So the configuration data classes can be shared which I want to put in a shared module. That code is not platform specific at all. The configuration generation (I call that CLI) should be jvm only. So I have this modules (with the plugin names):

- cli (org.jetbrains.kotlin.jvm)
- shared (kotlin-platform-common)
- runtime-shared (kotlin-platform-common)
- runtime-js (kotlin-platform-js)
- runtime-jvm (kotlin-platform-jvm)

I setup the module shared as dependency via `compile project(":shared")`, but it seems that none of the classes of shared are in the classpath of the modules starting with runtime.

Is that not yet possible or did I do something wrong?</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536868874275</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536869099510</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>rekire</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>René Kilczan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rekire</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>René Kilczan</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-566982" url="https://youtrack.jetbrains.com/_persistent/demo%20code.zip?file=74-566982&amp;c=true">demo code.zip</value></field></issue><issue id="KT-26815" entityId="25-2116280"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26815</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Unable to load class 'org.gradle.api.attributes.HasAttributes'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I updated to Kotlin 1.2.70 and the Build panel opened with this error:

```
Unable to load class 'org.gradle.api.attributes.HasAttributes'.

This is an unexpected error. Please file a bug containing the idea.log file.
```

and when clicking on "Configure Build" (the step that failed), this is the stack trace:

```
org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'test'.
	at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:79)
	at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:57)
	at org.gradle.api.internal.project.AbstractProject.evaluate(AbstractProject.java:510)
	at org.gradle.api.internal.project.AbstractProject.evaluate(AbstractProject.java:90)
	at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)
	at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:33)
	at org.gradle.initialization.DefaultGradleLauncher$2.run(DefaultGradleLauncher.java:125)
	at org.gradle.internal.Factories$1.create(Factories.java:22)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)
	at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:122)
	at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)
	at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)
	at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)
	at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)
	at org.gradle.initialization.DefaultGradleLauncher.getBuildAnalysis(DefaultGradleLauncher.java:87)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.configure(InProcessBuildActionExecuter.java:102)
	at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:45)
	at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
	at org.gradle.tooling.internal.provider.runner.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:58)
	at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)
	at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)
	at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)
	at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:52)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)
	at org.gradle.util.Swapper.swap(Swapper.java:38)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.health.DaemonHealthTracker.execute(DaemonHealthTracker.java:47)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:66)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.health.HintGCAfterBuild.execute(HintGCAfterBuild.java:41)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
	at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)
	at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:246)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)
	at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.gradle.api.GradleScriptException: A problem occurred evaluating root project 'test'.
	at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)
	at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl$1.run(DefaultScriptPluginFactory.java:144)
	at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:72)
	at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:149)
	at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:38)
	at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:25)
	at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)
	at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:55)
	... 56 more
Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin [id 'kotlin']
	at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:160)
	at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:112)
	at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyType(DefaultObjectConfigurationAction.java:112)
	at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$200(DefaultObjectConfigurationAction.java:35)
	at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$3.run(DefaultObjectConfigurationAction.java:79)
	at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:135)
	at org.gradle.api.internal.project.AbstractPluginAware.apply(AbstractPluginAware.java:46)
	at sun.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:384)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:69)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:166)
	at build_1vhdxkcyvc50guqa8eahybcsu$_run_closure4.doCall(/home/anon/workspace/java/test/build.gradle:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019)
	at groovy.lang.Closure.call(Closure.java:426)
	at groovy.lang.Closure.call(Closure.java:442)
	at org.gradle.api.internal.ClosureBackedAction.execute(ClosureBackedAction.java:67)
	at org.gradle.util.ConfigureUtil.configure(ConfigureUtil.java:130)
	at org.gradle.util.ConfigureUtil.configure(ConfigureUtil.java:91)
	at org.gradle.api.internal.project.AbstractProject.project(AbstractProject.java:842)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1210)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019)
	at org.gradle.api.internal.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:236)
	at org.gradle.api.internal.BeanDynamicObject.invokeMethod(BeanDynamicObject.java:130)
	at org.gradle.api.internal.CompositeDynamicObject.invokeMethod(CompositeDynamicObject.java:150)
	at org.gradle.groovy.scripts.BasicScript.methodMissing(BasicScript.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)
	at groovy.lang.MetaClassImpl.invokeMissingMethod(MetaClassImpl.java:936)
	at groovy.lang.MetaClassImpl.invokePropertyOrMissing(MetaClassImpl.java:1259)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1212)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:69)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:174)
	at build_1vhdxkcyvc50guqa8eahybcsu.run(/home/anon/workspace/java/test/build.gradle:90)
	at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)
	... 63 more
Caused by: org.gradle.api.GradleException: Could not generate a proxy class for class org.jetbrains.kotlin.gradle.dsl.KotlinJvmProjectExtension.
	at org.gradle.api.internal.AbstractClassGenerator.generateUnderLock(AbstractClassGenerator.java:201)
	at org.gradle.api.internal.AbstractClassGenerator.generate(AbstractClassGenerator.java:64)
	at org.gradle.api.internal.ClassGeneratorBackedInstantiator.newInstance(ClassGeneratorBackedInstantiator.java:36)
	at org.gradle.api.internal.plugins.DefaultConvention.create(DefaultConvention.java:106)
	at org.jetbrains.kotlin.gradle.dsl.KotlinProjectExtensionKt.createKotlinExtension(KotlinProjectExtension.kt:29)
	at org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:63)
	at org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:39)
	at org.gradle.api.internal.plugins.ImperativeOnlyPluginApplicator.applyImperative(ImperativeOnlyPluginApplicator.java:35)
	at org.gradle.api.internal.plugins.RuleBasedPluginApplicator.applyImperative(RuleBasedPluginApplicator.java:44)
	at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:144)
	... 118 more
Caused by: java.lang.NoClassDefFoundError: org/gradle/api/attributes/HasAttributes
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:763)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:73)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:368)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:362)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:361)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:763)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:73)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:368)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:362)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:361)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:763)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:73)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:368)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:362)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:361)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.Class.getDeclaredMethods0(Native Method)
	at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)
	at java.lang.Class.getDeclaredMethods(Class.java:1975)
	at org.gradle.internal.reflect.ClassInspector.inspectClass(ClassInspector.java:67)
	at org.gradle.internal.reflect.ClassInspector.visitGraph(ClassInspector.java:51)
	at org.gradle.internal.reflect.ClassInspector.inspect(ClassInspector.java:31)
	at org.gradle.api.internal.AbstractClassGenerator.inspectType(AbstractClassGenerator.java:260)
	at org.gradle.api.internal.AbstractClassGenerator.inspectType(AbstractClassGenerator.java:216)
	at org.gradle.api.internal.AbstractClassGenerator.generateUnderLock(AbstractClassGenerator.java:95)
	... 127 more
Caused by: java.lang.ClassNotFoundException: org.gradle.api.attributes.HasAttributes
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 169 more
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536871717121</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536921487162</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Sergey Igushkin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>CreamyCookie</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>CreamyCookie</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.2.71</value><valueId>1.2.71</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Igushkin">h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Gradle</value><valueId>IDE. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.70</value><valueId>1.2.70</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3066254" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26815" deleted="false" text="Thank you. Is it possible for you to share the project so we can reproduce the problem?" shownForIssueAuthor="false" created="1536913095176" markdown="false"><replies/></comment><comment id="27-3066577" author="h0tk3y" authorFullName="Sergey Igushkin" issueId="KT-26815" deleted="false" text="@CreamyCookie Could you please try to update the Gradle version in your project? This error should only happen with Gradle 3.2 and below, while using 3.3+ should solve the problem. Using an up-to-date Gradle version (4.10) should also improve build times and your overall experience." shownForIssueAuthor="false" created="1536921487163" markdown="true"><replies/></comment></issue><issue id="KT-26816" entityId="25-2116298"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26816</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Lambdas to Nothing is inferred if multilevel collections is used (listOf, mapOf, etc)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Example:
```
val configurations = listOf(
    3 to mapOf(
        2 to listOf(
            {
                2
            }
        )
    )
)
```
Report about type mismatch (`Required: Nothing, Found: List&lt;() -&gt; Int&gt;`) is generated near `listOf` (`mapOf` and the like have the same behaviour).

With one/two levels it's OK:
```
val configurations = mapOf(
    2 to listOf(
        {
            2
        }
    )
)
```
```
val configurations = listOf(
        {
            2
        }
)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536874604161</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536874907477</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Victor.Petukhov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Victor Petukhov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Victor.Petukhov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Victor Petukhov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Zarechenskiy">zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M2</value><valueId>1.3-M2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26817" entityId="25-2116315"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26817</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>kapt 1.2.60+ ignores .java files that are symlinks</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>There seems to be a change to kapt3 in 1.2.60 that makes it ignore `.java` inputs that are symlinks targeting files whose names don't end in `.java`.

This is inconsistent with kotinc-jvm itself, which does find symlinked files, and it's also arguably inconsistent with kapt's behavior when given directories containing such symlinks (which are then not ignored).

To illustrate the issue, consider the following `kapt/KTest.kt`:
```
package kapt

class KTest(val t: Test) {
}
```

Which references `java/kapt/Test.java`:
```
package kapt;

public class Test {
}
```

Then we can run the following commands:
```
# kapt succeeds (and does nothing) when given the two files:
$ kapt -P plugin:org.jetbrains.kotlin.kapt3:aptMode=stubsAndApt -P plugin:org.jetbrains.kotlin.kapt3:processors=&lt;some dummy&gt; [...] kapt/KTest.kt java/kapt/Test.java
# success
# now let's replace Test.java with a symlink
$ mv java/kapt/Test.java java/kapt/TESTJAVA
$ ln -s java/kapt/TESTJAVA java/kapt/Test.java
# ... and rerun kapt
$ kapt -P plugin:org.jetbrains.kotlin.kapt3:aptMode=stubsAndApt -P plugin:org.jetbrains.kotlin.kapt3:processors=&lt;some dummy&gt; [...] kapt/KTest.kt java/kapt/Test.java
error: /tmp/kapt/tmp/kapt/KTest.java:8: error: cannot find symbol
    private final kapt.Test t = null;
                      ^
  symbol:   class Test
  location: package kapt
error: /tmp/kapt/tmp/kapt/KTest.java:11: error: cannot find symbol
    public final kapt.Test getT() {
                     ^
  symbol:   class Test
  location: package kapt
error: /tmp/kapt/tmp/kapt/KTest.java:16: error: cannot find symbol
    kapt.Test t) {
        ^
  symbol:   class Test
  location: package kapt
# kapt now fails
# ... but succeeds if we run kapt with a directory input:
$ kapt -P plugin:org.jetbrains.kotlin.kapt3:aptMode=stubsAndApt -P plugin:org.jetbrains.kotlin.kapt3:processors=&lt;some dummy&gt; [...] kapt/KTest.kt java/
# success
# kotlinc-jvm also finds Test.java:
$ kotlinc-jvm -d /tmp/test.jar kapt/KTest.kt java/kapt/Test.java
# success
```

I'm guessing the change responsible is https://github.com/JetBrains/kotlin/commit/6392adcfc923f6230e5b9addb8b7275217b4aed3, which makes kapt simply ignore symlinks that refer to "canonical" files with a different ending.  This is consistent with the fact that if symlinked .java files contain annotations that need processing, kapt3 doesn't seem to run annotation processors over those files.  In some cases (namely if the ignored .java files aren't referenced by any other given source files), kapt3 can succeed and silently not run annotation processors over the given files, which typically makes javac fail to compile the ignored .java files (because any expected generated sources are missing), but in the extreme case the entire build can succeed but some source files weren't generated.

This worked with kapt in 1.2.50 but is broken in 1.2.60 and 1.2.61.  Maybe `KaptPaths.kt` (the subject of the change linked above) could just not canonicalize file names before uniquifying and filtering them?</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536879451731</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536913588257</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kmb.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kevin Bierhoff</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Yan Zhulanow">yanex</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. kapt</value><valueId>Tools. kapt</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26818" entityId="25-2116344"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26818</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Android compile error: Cannot change dependencies of configuration *** after it has been included in dependency resolution.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>After I update kotlin version from V1.2.60 to V1.2.70, I receive the 
`Cannot change dependencies of configuration *** after it has been included in dependency resolution.` 
compile error.

gradle version: 4.10.1

Thanks a lot.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536891446448</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536914721321</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>renyuzhuo</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>RenYuZhuo</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.2.71</value><valueId>1.2.71</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Igushkin">h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Gradle</value><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.70</value><valueId>1.2.70</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3066279" author="Alexey.Belkov" authorFullName="Alexey Belkov" issueId="KT-26818" deleted="false" text="Thank you. Is it possible for you to share the project so we can reproduce the problem?" shownForIssueAuthor="false" created="1536913858924" markdown="false"><replies/></comment></issue><issue id="KT-26819" entityId="25-2116378"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26819</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>sealed class exhaustiveness wrong if abstract classes involved</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Consider the following example:

```
sealed class Foo {
    abstract val withFailure: Boolean

    abstract class WithFailure : Foo() {
        override val withFailure = true
    }

    abstract class WithoutFailure : Foo() {
        override val withFailure = false
    }

    object A : WithFailure()
    object B : WithoutFailure()
}

fun test() {
    val foo: Foo = Foo.A
    val c = when (foo) { // Error: 'when' expression must be exhaustive, add necessary 'is WithFailure', 'is WithoutFailure' branches or 'else' branch instead
        is Foo.A -&gt; "a"
        is Foo.B -&gt; "b"
    }
}
```

The compile error is wrong since WithFailure and WithoutFailure are abstract.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536905482191</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536943275519</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Robert_Stoll</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Robert Stoll</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Robert_Stoll</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Robert Stoll</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-20297</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend</value><valueId>Frontend</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3067264" author="Robert_Stoll" authorFullName="Robert Stoll" issueId="KT-26819" deleted="false" text="@Alexey.Belkov Thanks for adjusting the example :)" shownForIssueAuthor="false" created="1536943275519" markdown="false"><replies/></comment></issue><issue id="KT-26821" entityId="25-2116548"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26821</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>kotlinc warns that ScriptingCompilerConfigurationComponentRegistrar is not compatible with this version of compiler</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following `kotlinc` 1.2.70 (installed via sdkman on macOS 10.13.6 using Oracle JDK 10.0.2+13) command line:

```
kotlinc -Xplugin=kotlin-scripting-compiler-embeddable-1.2.70.jar Test.kt
```

(with `kotlin-scripting-compiler-embeddable-1.2.70.jar` downloaded from Maven Central, and with `Test.kt` containing a completely empty class)

outputs the following (reformatted-for-easier-reading) warning:

```
warning: default scripting plugin is disabled: The provided plugin

org.jetbrains.kotlin.scripting.compiler.plugin.ScriptingCompilerConfigurationComponentRegistrar

is not compatible with this version of compiler
```

The version of the jar indicates that it is the same version (1.2.70) as `kotlinc`.

Gradle 4.10.1 included `-Xplugin=kotlin-scripting-compiler-embeddable-1.2.70.jar` in its `kotlinc` options, and thus I saw the warning.

I don't know why Gradle 4.10.1 included that jar as a plugin.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536914546142</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536926379049</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>rgoldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ross Goldberg</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilya Chernikov">ilya.chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Scripts</value><valueId>Tools. Scripts</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><value>1.2.70</value><valueId>1.2.60</valueId><valueId>1.2.70</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26822" entityId="25-2116607"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26822</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Scratch file can reach only built classes</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Get project with Kotlin. Create some class, e. g. `class Foo`. Create new Kotlin scratch file (Ctrl+Shift+N → select Kotlin) and try to use this class Foo inside. It looks valid and IDE shows no errors. 
Then press “Run Scratch File”. You will get the error:
```
Exception in thread "main" java.lang.NoClassDefFoundError: p01/Foo
	at org.jetbrains.kotlin.idea.scratch.generated.ScratchFileRunnerGenerated$ScratchFileRunnerGenerated.generated_get_instance_res0(tmp.kt:8)
	at org.jetbrains.kotlin.idea.scratch.generated.ScratchFileRunnerGenerated.main(tmp.kt:14)
Caused by: java.lang.ClassNotFoundException: p01.Foo
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 2 more
```

NB: if you build the project (e. g. with checkbox “Make before Run”), everything works properly.

P. S.: if IDE asks you to provide kotlin-script-runtime.jar to run the scratch, there are KT-26271 (some workarounds in comments) and KT-26332 about this case.

IJ 182.4323.46 + Kotlin 1.2.70-release-54
IJ 183.2407.10 + Kotlin 1.3-M2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536916872007</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536916872007</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Natalia Selezneva">nastelaz</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Scratch</value><valueId>IDE. Scratch</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M2</value><value>1.2.70</value><valueId>1.3-M2</valueId><valueId>1.2.70</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26827" entityId="25-2116814"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26827</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>ISE “Error type encountered: [ERROR : UInt] (UnresolvedType)” for data inline class wrapped unsigned type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Paste this code: `data inline class Foo(val x: UInt)` and get the exception:
```
Could not generate LightClass for p01 declared in &lt;null&gt;
System: Mac OS X 10.13.5 Java Runtime: 1.8.0_152-release-1248-b8
java.lang.IllegalStateException: Error type encountered: [ERROR : UInt] (UnresolvedType).
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper$2.processErrorType(KotlinTypeMapper.java:144)
	at org.jetbrains.kotlin.load.kotlin.TypeSignatureMappingKt.mapType(typeSignatureMapping.kt:91)
	at org.jetbrains.kotlin.load.kotlin.TypeSignatureMappingKt.mapType(typeSignatureMapping.kt:134)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapInlineClassType(KotlinTypeMapper.java:535)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapInlineClassType(KotlinTypeMapper.java:528)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.isJvmPrimitive(KotlinTypeMapper.java:1421)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.forceBoxedReturnType(KotlinTypeMapper.java:1407)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapReturnType(KotlinTypeMapper.java:411)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignatureWithCustomParameters(KotlinTypeMapper.java:1327)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignature(KotlinTypeMapper.java:1240)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignature(KotlinTypeMapper.java:1203)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapAsmMethod(KotlinTypeMapper.java:1159)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapDefaultMethod(KotlinTypeMapper.java:1383)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateDefaultIfNeeded(FunctionCodegen.java:1166)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen$DataClassMethodGeneratorImpl.generateCopyFunction(ImplementationBodyCodegen.java:699)
	at org.jetbrains.kotlin.backend.common.DataClassMethodGenerator.generateCopyFunctionForDataClasses(DataClassMethodGenerator.kt:67)
	at org.jetbrains.kotlin.backend.common.DataClassMethodGenerator.generate(DataClassMethodGenerator.kt:43)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateFunctionsForDataClasses(ImplementationBodyCodegen.java:547)
	at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateSyntheticPartsAfterBody(ImplementationBodyCodegen.java:422)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:130)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:284)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1$1.invoke(LightClassDataProvider.kt:54)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1$1.invoke(LightClassDataProvider.kt:40)
	at org.jetbrains.kotlin.asJava.builder.LightClassBuilderKt.buildLightClass(LightClassBuilder.kt:67)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1.invoke(LightClassDataProvider.kt:49)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1.invoke(LightClassDataProvider.kt:40)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$lazyInexactStub$2.invoke(LazyLightClassDataHolder.kt:49)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$lazyInexactStub$2.invoke(LazyLightClassDataHolder.kt:32)
	at kotlin.SafePublicationLazyImpl.getValue(LazyJVM.kt:107)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder.getLazyInexactStub(LazyLightClassDataHolder.kt)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder.getInexactStub(LazyLightClassDataHolder.kt:53)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder.access$getInexactStub$p(LazyLightClassDataHolder.kt:32)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData$dummyDelegate$2.invoke(LazyLightClassDataHolder.kt:105)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData$dummyDelegate$2.invoke(LazyLightClassDataHolder.kt:100)
	at kotlin.SafePublicationLazyImpl.getValue(LazyJVM.kt:107)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getDummyDelegate(LazyLightClassDataHolder.kt)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getOwnMethods(LazyLightClassDataHolder.kt:121)
	at org.jetbrains.kotlin.asJava.classes.KtLazyLightClass.getOwnMethods(KtLazyLightClass.kt:29)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.getAllMethods(ClassInnerStuffCache.java:111)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.lambda$getMethods$2(ClassInnerStuffCache.java:46)
	at com.intellij.psi.util.CachedValuesManager.lambda$getCachedValue$0(CachedValuesManager.java:140)
	at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)
	at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)
	at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:60)
	at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:136)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:126)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.getMethods(ClassInnerStuffCache.java:46)
	at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getMethods(KtLightClassBase.kt:38)
	at org.jetbrains.uast.kotlin.KotlinUClass.getMethods(KotlinUClass.kt:124)
	at com.intellij.codeInspection.inheritance.ImplicitSubclassInspection.checkClass(ImplicitSubclassInspection.kt:55)
	at com.intellij.codeInspection.inheritance.ImplicitSubclassInspection.access$checkClass(ImplicitSubclassInspection.kt:41)
	at com.intellij.codeInspection.inheritance.ImplicitSubclassInspection$buildVisitor$1.visitElement(ImplicitSubclassInspection.kt:220)
	at org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:62)
	at com.intellij.codeInspection.InspectionEngine.acceptElements(InspectionEngine.java:75)
	at com.intellij.codeInspection.InspectionEngine.createVisitorAndAcceptElements(InspectionEngine.java:63)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.runToolOnElements(LocalInspectionsPass.java:276)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.lambda$visitPriorityElementsAndInit$3(LocalInspectionsPass.java:244)
	at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1156)
	at com.intellij.concurrency.ApplierCompleter.lambda$wrapInReadActionAndIndicator$1(ApplierCompleter.java:105)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)
	at com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:222)
	at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.pollAndExecCC(ForkJoinPool.java:1190)
	at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1879)
	at java.util.concurrent.ForkJoinPool.awaitJoin(ForkJoinPool.java:2045)
	at java.util.concurrent.ForkJoinTask.doJoin(ForkJoinTask.java:390)
	at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:719)
	at java.util.concurrent.ForkJoinPool.invoke(ForkJoinPool.java:2616)
	at com.intellij.concurrency.JobLauncherImpl.invokeConcurrentlyUnderProgress(JobLauncherImpl.java:65)
	at com.intellij.concurrency.JobLauncher.invokeConcurrentlyUnderProgress(JobLauncher.java:56)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.visitPriorityElementsAndInit(LocalInspectionsPass.java:247)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.inspect(LocalInspectionsPass.java:218)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.collectInformationWithProgress(LocalInspectionsPass.java:121)
	at com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:83)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:69)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:423)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1161)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:416)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:415)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:391)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:222)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:389)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:161)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
```
NB: this cases don't cause the error (also the latter one is incompilable):
```kotlin
data class NotInline(val x: UInt)
inline class NotData(val x: UInt)
data inline class NotUnsigned(val x: Int) // incompilable
```
IJ 182.4505.7 + Kotlin 1.3.20-dev-91
IJ 183.2454 + Kotlin 1.3.0-rc-15</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536927118009</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536927634188</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-26829</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Zarechenskiy">zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26829" entityId="25-2116833"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26829</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>ISE “Error type encountered: [ERROR : UInt] (UnresolvedType)” for using as a field inline class wrapped unsigned type</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Paste this code: 
```kotlin
 inline class Inline(val x1: UInt) 
 class WrapInline(val x2: Inline)
```
And get the exception:
```
Could not generate LightClass for p01 declared in &lt;null&gt;
System: Mac OS X 10.13.5 Java Runtime: 1.8.0_152-release-1248-b8
java.lang.IllegalStateException: Error type encountered: [ERROR : UInt] (UnresolvedType).
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper$2.processErrorType(KotlinTypeMapper.java:144)
	at org.jetbrains.kotlin.load.kotlin.TypeSignatureMappingKt.mapType(typeSignatureMapping.kt:91)
	at org.jetbrains.kotlin.load.kotlin.TypeSignatureMappingKt.mapType(typeSignatureMapping.kt:134)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapInlineClassType(KotlinTypeMapper.java:535)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapInlineClassType(KotlinTypeMapper.java:528)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.isJvmPrimitive(KotlinTypeMapper.java:1421)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.forceBoxedReturnType(KotlinTypeMapper.java:1407)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapReturnType(KotlinTypeMapper.java:411)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignatureWithCustomParameters(KotlinTypeMapper.java:1327)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignature(KotlinTypeMapper.java:1240)
	at org.jetbrains.kotlin.codegen.state.KotlinTypeMapper.mapSignatureWithGeneric(KotlinTypeMapper.java:1199)
	at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy.mapMethodSignature(FunctionGenerationStrategy.java:46)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:203)
	at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:182)
	at org.jetbrains.kotlin.codegen.PropertyCodegen.generateAccessor(PropertyCodegen.java:514)
	at org.jetbrains.kotlin.codegen.PropertyCodegen.generateGetter(PropertyCodegen.java:473)
	at org.jetbrains.kotlin.codegen.PropertyCodegen.generatePrimaryConstructorProperty(PropertyCodegen.java:245)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generatePrimaryConstructorProperties(ClassBodyCodegen.java:187)
	at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:82)
	at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:127)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:300)
	at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:284)
	at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1$1.invoke(LightClassDataProvider.kt:54)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1$1.invoke(LightClassDataProvider.kt:40)
	at org.jetbrains.kotlin.asJava.builder.LightClassBuilderKt.buildLightClass(LightClassBuilder.kt:67)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1.invoke(LightClassDataProvider.kt:49)
	at org.jetbrains.kotlin.asJava.builder.LightClassDataProviderForClassOrObject$computeLightClassData$1.invoke(LightClassDataProvider.kt:40)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$lazyInexactStub$2.invoke(LazyLightClassDataHolder.kt:49)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$lazyInexactStub$2.invoke(LazyLightClassDataHolder.kt:32)
	at kotlin.SafePublicationLazyImpl.getValue(LazyJVM.kt:107)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder.getLazyInexactStub(LazyLightClassDataHolder.kt)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder.getInexactStub(LazyLightClassDataHolder.kt:53)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder.access$getInexactStub$p(LazyLightClassDataHolder.kt:32)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData$dummyDelegate$2.invoke(LazyLightClassDataHolder.kt:105)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData$dummyDelegate$2.invoke(LazyLightClassDataHolder.kt:100)
	at kotlin.SafePublicationLazyImpl.getValue(LazyJVM.kt:107)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getDummyDelegate(LazyLightClassDataHolder.kt)
	at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getOwnMethods(LazyLightClassDataHolder.kt:121)
	at org.jetbrains.kotlin.asJava.classes.KtLazyLightClass.getOwnMethods(KtLazyLightClass.kt:29)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.getAllMethods(ClassInnerStuffCache.java:111)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.lambda$getMethods$2(ClassInnerStuffCache.java:46)
	at com.intellij.psi.util.CachedValuesManager.lambda$getCachedValue$0(CachedValuesManager.java:140)
	at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)
	at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)
	at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:60)
	at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)
	at com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:87)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:139)
	at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:126)
	at com.intellij.psi.impl.source.ClassInnerStuffCache.getMethods(ClassInnerStuffCache.java:46)
	at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getMethods(KtLightClassBase.kt:38)
	at org.jetbrains.uast.kotlin.KotlinUClass.getMethods(KotlinUClass.kt:124)
	at com.intellij.codeInspection.inheritance.ImplicitSubclassInspection.checkClass(ImplicitSubclassInspection.kt:55)
	at com.intellij.codeInspection.inheritance.ImplicitSubclassInspection.access$checkClass(ImplicitSubclassInspection.kt:41)
	at com.intellij.codeInspection.inheritance.ImplicitSubclassInspection$buildVisitor$1.visitElement(ImplicitSubclassInspection.kt:220)
	at org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:62)
	at com.intellij.codeInspection.InspectionEngine.acceptElements(InspectionEngine.java:75)
	at com.intellij.codeInspection.InspectionEngine.createVisitorAndAcceptElements(InspectionEngine.java:63)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.runToolOnElements(LocalInspectionsPass.java:276)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.lambda$visitPriorityElementsAndInit$3(LocalInspectionsPass.java:244)
	at com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1156)
	at com.intellij.concurrency.ApplierCompleter.lambda$wrapInReadActionAndIndicator$1(ApplierCompleter.java:105)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)
	at com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:222)
	at com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.pollAndExecCC(ForkJoinPool.java:1190)
	at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1879)
	at java.util.concurrent.ForkJoinPool.awaitJoin(ForkJoinPool.java:2045)
	at java.util.concurrent.ForkJoinTask.doJoin(ForkJoinTask.java:390)
	at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:719)
	at java.util.concurrent.ForkJoinPool.invoke(ForkJoinPool.java:2616)
	at com.intellij.concurrency.JobLauncherImpl.invokeConcurrentlyUnderProgress(JobLauncherImpl.java:65)
	at com.intellij.concurrency.JobLauncher.invokeConcurrentlyUnderProgress(JobLauncher.java:56)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.visitPriorityElementsAndInit(LocalInspectionsPass.java:247)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.inspect(LocalInspectionsPass.java:218)
	at com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.collectInformationWithProgress(LocalInspectionsPass.java:121)
	at com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:83)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:69)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:423)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1161)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:416)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:415)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:391)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:222)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:389)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:161)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
```

NB: this cases don't cause the error
```
inline class NotField(val x1: UInt)
class WrapNotField(x2: NotField)

inline class NotUnsigned(val x1: Int)
class WrapNotUnsigned(val x2: NotUnsigned)

class NotInline(val x1: UInt)
class WrapNotInline(val x2: NotInline)
```

IJ 182.4505.7 + Kotlin 1.3.20-dev-91
IJ 183.2454 + Kotlin 1.3.0-rc-15</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536927633790</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536927633790</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Similar" role="similar to">KT-26827</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Zarechenskiy">zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26831" entityId="25-2116851"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26831</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Better diagnostics for type mismatch between `when` value and cases</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>It now shows this:
```
playground/src/HexScene.kt:68:21: error: incompatible types: UInt and Int
                    SDLK_DOWN -&gt; scale -= 0.1f
                    ^
```
It is entirely unclear which is type is which.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536928122512</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536936128095</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26835</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Frontend. Resolution and Inference</value><valueId>Frontend. Resolution and Inference</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26832" entityId="25-2116878"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26832</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>`resources` folder is marked as sources root in a multiplatform project in Android Studio</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Import `app` project to IDEA from [here|https://github.com/h0tk3y/k-new-mpp-samples/tree/master/common-lib-and-android-app] (it requires to publish `lib-arithmetic` and `lib-strings` locally first).
Make sure option `Create directories for empty source roots automatically` is turned *on* (''Preferences | Build, Execution, Deployment | Build Tools | Gradle'') — reimport the project with the option enabled if necessary. Now every source root directory (e.g. `commonMain`) got its `resources` folder.
Open the project in Studio. All the `resources` folders are marked as source roots: !Screen Shot 2018-09-14 at 15.50.00.png!
Android Studio 3.2 RC 3 (181.5540.7.32.4987877), Kotlin plugin 1.3.20-dev-79</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536929550498</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536929550498</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26770</value><value type="Relates" role="relates to">KT-26788</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexey Sedunov">asedunov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Multiplatform</value><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-567239" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202018-09-14%20at%2015.50.00.png?file=74-567239&amp;c=true">Screen Shot 2018-09-14 at 15.50.00.png</value></field><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26834" entityId="25-2116887"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26834</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Gradle compilation of multimodule project fails with Could not resolve all files for configuration ':example-v8:apiDependenciesMetadata'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>1. git clone https://github.com/mvysny/karibu-dsl
2. checkout commit 93700ae4beb38ae489b544270dc09a00cbc02748
3. Edit the build.gradle file and on line 14 change Kotlin version to 1.2.70
4. ./gradlew

It will fail with:

&gt; Task :example-v8:vaadinUpdateWidgetset FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Could not resolve all files for configuration ':example-v8:apiDependenciesMetadata'.
&gt; Could not resolve project :karibu-dsl-v8.
  Required by:
      project :example-v8
   &gt; Unable to find a matching variant of project :karibu-dsl-v8:
       - Variant 'apiElements':
           - Found org.gradle.usage 'java-api' but wasn't required.
           - Required org.jetbrains.kotlin.platform.type 'common' and found incompatible value 'jvm'.
       - Variant 'runtimeElements':
           - Found org.gradle.usage 'java-runtime-jars' but wasn't required.
           - Required org.jetbrains.kotlin.platform.type 'common' and found incompatible value 'jvm'.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536929802408</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536935875792</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Stanislav.Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Stanislav Erokhin</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Martin_Vysny</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Martin Vysny</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.2.71</value><valueId>1.2.71</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Igushkin">h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Gradle</value><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.70</value><valueId>1.2.70</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26838" entityId="25-2117030"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26838</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>"find in path" for directory in kotlin library is broken</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>because KtClsFile.getNavigationElement() returns .class file, instead of .kt file.
how to reproduce: 
goto kotlin.coroutines.experimental.CoroutineContext class
select its directory in Project View
invoke "Find In Path" in that directory for "minusKey" word
Nothing is found</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536935740000</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536936879161</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Alexey.Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Belkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cdr</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Kudravtsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Navigation</value><valueId>IDE. Navigation</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26842" entityId="25-2117106"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26842</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>`Rewrite at slice FUNCTION key` on editing Kotlin class under JS or Native source root</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Get project from attachment (or get MPP with JS or Native module) and look at `JsMain.kt` under JS source root:
```kotlin
&lt;caret&gt;class Bar(val x: Int){}
class BarNoBody(val x: Int)
class BarNoField(x: Int){}
```
Put caret right before `class Bar` and type `aaa`, for example. You will get the exception:
```
java.lang.Throwable: Rewrite at slice FUNCTION key: FUN old value: public fun &lt;no name provided&gt;(): kotlin.Unit defined in p01 in file JsMain.kt[SimpleFunctionDescriptorImpl@5e5d6b88]@1583180680 new value: public fun &lt;no name provided&gt;(): kotlin.Unit defined in p01 in file JsMain.kt[SimpleFunctionDescriptorImpl@3a14e60a]@974448138
File name: JsMain.kt Physical: true Injected: false
&lt;caret&gt;{}
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:134)
	at org.jetbrains.kotlin.util.slicedMap.Slices.logErrorAboutRewritingNonEqualObjects(Slices.java:157)
	at org.jetbrains.kotlin.util.slicedMap.Slices.access$000(Slices.java:30)
	at org.jetbrains.kotlin.util.slicedMap.Slices$1.processRewrite(Slices.java:42)
	at org.jetbrains.kotlin.util.slicedMap.SlicedMapImpl.put(SlicedMapImpl.java:65)
	at org.jetbrains.kotlin.resolve.BindingTraceContext.record(BindingTraceContext.java:135)
	at org.jetbrains.kotlin.storage.LockBasedLazyResolveStorageManager$LockProtectedTrace$record$1.invoke(LockBasedLazyResolveStorageManager.kt:71)
	at org.jetbrains.kotlin.storage.LockBasedLazyResolveStorageManager$LockProtectedTrace$record$1.invoke(LockBasedLazyResolveStorageManager.kt:59)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager.compute(LockBasedStorageManager.java:231)
	at org.jetbrains.kotlin.storage.LockBasedLazyResolveStorageManager$LockProtectedTrace.record(LockBasedLazyResolveStorageManager.kt:71)
	at org.jetbrains.kotlin.resolve.BindingContextUtils.recordFunctionDeclarationToDescriptor(BindingContextUtils.java:86)
	at org.jetbrains.kotlin.resolve.FunctionDescriptorResolver.resolveFunctionDescriptor(FunctionDescriptorResolver.kt:137)
	at org.jetbrains.kotlin.resolve.FunctionDescriptorResolver.resolveFunctionDescriptor(FunctionDescriptorResolver.kt:94)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.doGetFunctions(AbstractLazyMemberScope.kt:99)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.access$doGetFunctions(AbstractLazyMemberScope.kt:38)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope$functionDescriptors$1.invoke(AbstractLazyMemberScope.kt:50)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope$functionDescriptors$1.invoke(AbstractLazyMemberScope.kt:38)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:448)
	at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunctionToNotNull.invoke(LockBasedStorageManager.java:523)
	at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.getContributedFunctions(AbstractLazyMemberScope.kt:90)
	at org.jetbrains.kotlin.resolve.scopes.ChainedMemberScope.getContributedFunctions(ChainedMemberScope.kt:39)
	at org.jetbrains.kotlin.resolve.scopes.AbstractScopeAdapter.getContributedFunctions(AbstractScopeAdapter.kt:40)
	at org.jetbrains.kotlin.resolve.multiplatform.ExpectedActualResolver.findNamesakesFromModule(ExpectedActualResolver.kt:125)
	at org.jetbrains.kotlin.resolve.multiplatform.ExpectedActualResolver.findExpectedForActual(ExpectedActualResolver.kt:79)
	at org.jetbrains.kotlin.resolve.checkers.ExpectedActualDeclarationChecker.checkActualDeclarationHasExpected(ExpectedActualDeclarationChecker.kt:144)
	at org.jetbrains.kotlin.resolve.checkers.ExpectedActualDeclarationChecker.check(ExpectedActualDeclarationChecker.kt:55)
	at org.jetbrains.kotlin.resolve.ModifiersChecker$ModifiersCheckingProcedure.runDeclarationCheckers(ModifiersChecker.java:271)
	at org.jetbrains.kotlin.resolve.DeclarationsChecker.checkAccessors(DeclarationsChecker.kt:851)
	at org.jetbrains.kotlin.resolve.DeclarationsChecker.checkProperty(DeclarationsChecker.kt:594)
	at org.jetbrains.kotlin.resolve.DeclarationsChecker.process(DeclarationsChecker.kt:104)
	at org.jetbrains.kotlin.resolve.BodyResolver.resolveBodies(BodyResolver.java:244)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations(LazyTopDownAnalyzer.kt:225)
	at org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations$default(LazyTopDownAnalyzer.kt:60)
	at org.jetbrains.kotlin.idea.caches.resolve.KotlinResolveDataProvider.analyze(PerFileAnalysisCache.kt:198)
	at org.jetbrains.kotlin.idea.caches.resolve.PerFileAnalysisCache.analyze(PerFileAnalysisCache.kt:101)
	at org.jetbrains.kotlin.idea.caches.resolve.PerFileAnalysisCache.getAnalysisResults(PerFileAnalysisCache.kt:86)
	at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.getAnalysisResultsForElements$idea_core(ProjectResolutionFacade.kt:200)
	at org.jetbrains.kotlin.idea.caches.resolve.ModuleResolutionFacadeImpl.analyzeWithAllCompilerChecks(ModuleResolutionFacadeImpl.kt:63)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeWithDebugInfo.analyzeWithAllCompilerChecks(ResolutionFacadeWithDebugInfo.kt:50)
	at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyzeWithAllCompilerChecks(resolutionApi.kt:141)
	at org.jetbrains.kotlin.idea.highlighter.KotlinPsiChecker.annotate(KotlinPsiChecker.kt:66)
	at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.runAnnotators(DefaultHighlightVisitor.java:135)
	at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.visit(DefaultHighlightVisitor.java:102)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.runVisitors(GeneralHighlightingPass.java:354)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.lambda$collectHighlights$5(GeneralHighlightingPass.java:287)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.analyzeByVisitors(GeneralHighlightingPass.java:314)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.lambda$analyzeByVisitors$6(GeneralHighlightingPass.java:317)
	at com.intellij.codeInsight.daemon.impl.DefaultHighlightVisitor.analyze(DefaultHighlightVisitor.java:86)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.analyzeByVisitors(GeneralHighlightingPass.java:317)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.collectHighlights(GeneralHighlightingPass.java:284)
	at com.intellij.codeInsight.daemon.impl.GeneralHighlightingPass.collectInformationWithProgress(GeneralHighlightingPass.java:228)
	at com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:84)
	at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:69)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:423)
	at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1181)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:416)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:583)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:533)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:87)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:415)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:391)
	at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:147)
	at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:224)
	at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:389)
	at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:161)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
```
This exception is very annoying and I get it a lot of time while coding.

The same exception I met under Native source root (macosX64). But I can't reproduce it in:
* Common module;
* JVM module;
* simple Kotlin/JS project.
NB: can't reproduce it with other two classes, it seems like having body and field is important.

P. S.: I can submit sample project with Native module if needed.

IJ-C 183.2454 + Kotlin 1.3.0-rc-15</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536939804644</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536939804644</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Zalim Bashorov">Zalim.Bashorov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><value>IDE. Multiplatform</value><value>JS. Tools</value><valueId>IDE. Native</valueId><valueId>IDE. Multiplatform</valueId><valueId>JS. Tools</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-567323" url="https://youtrack.jetbrains.com/_persistent/mpp-01.zip?file=74-567323&amp;c=true">mpp-01.zip</value></field><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26844" entityId="25-2117147"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26844</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>kotlin claims its .class files are not binary</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>.. which leads to performance problems in find in path which dutifully calls .getText() (which is useless in this case)
because KtCLassFIle.getFileType().isBinary() return false
(whereas corresponding virtualFile.getFileType().isBinary() is true WTF?)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536942151349</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536942151349</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>cdr</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexey Kudravtsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>cdr</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexey Kudravtsev</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26845" entityId="25-2117153"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26845</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE error highlighting reports errors for `@JvmDefault`, `@JvmStatic` even with all enabling compiler settings</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Tested JPS project with only Java target platform.

No Kotlin facet. Project compiler settings are language version == API version == 1.3, *target JVM version = 1.8*, additional settings:
`-version -Xjvm-default=enable`

Opened sample .kt source in IDEA:
```
interface Face2J {
    @JvmDefault fun defMe() = 0
}
```

Project rebuild is successful, but editor highlighting shows error for `@JvmDefault`:
`[JVM_DEFAULT_IN_JVM6_TARGET] @JvmDefault is only supported since JVM target version 1.8.`
It's already 1.8!

IDEA 183.2495 + Kotlin plugin 1.3.20-dev-109.
IDEA 182.4658 + Kotlin plugin 1.3.0-rc-16.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536942348689</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536943789162</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Highlighting</value><valueId>IDE. Highlighting</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3067274" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26845" deleted="false" text="Same for `@JvmStatic` in companion object in interface:&#xA;```&#xA;interface Face2J {&#xA;    companion object {&#xA;        @JvmStatic fun compMe() = 0&#xA;    }&#xA;}&#xA;```&#xA;Compilation is successful, but JVM_STATIC_IN_INTERFACE_1_6 is reported in IDE." shownForIssueAuthor="false" created="1536943789162" markdown="false"><replies/></comment></issue><issue id="KT-26846" entityId="25-2117154"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26846</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>`New package` action isn't available for source roots of non-jvm modules</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create a new Gradle Kotlin/JS project through New Project Wizard with all the default settings. 
Call "New..." action on the `kotlin` sources root (`src/main/kotlin`, generated automatically). 
There is no `package` variant: !Screen Shot 2018-09-14 at 19.23.46.png!

* IDEA 2018.2.4 RC (182.4505.13), Kotlin plugin 1.3.20-dev-95
* IDEA 2018.3 EAP2 (183.2407.10), Kotlin plugin 1.3.0-rc-15</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536942388829</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536942388829</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Nikolay Krasko">goodwinnk</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Project View</value><valueId>IDE. Project View</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.60</value><valueId>1.2.60</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-567344" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202018-09-14%20at%2019.23.46.png?file=74-567344&amp;c=true">Screen Shot 2018-09-14 at 19.23.46.png</value></field></issue><issue id="KT-26847" entityId="25-2117161"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26847</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IDE: Inline class constructor without arguments is green in Java editor</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Set up JPS IDEA project with Kotlin configured.
No Kotlin facet, project settings: language version == API version == 1.3.

Dummy `.kt` source:
`inline class InlineClass(val boxed: String)`

Dummy `.java` usage:
```
public class InlineUser {
    public static void main(String[] args) {
        System.out.println(new InlineClass());
    }
}
```

The Java editor is green.
Rebuild: fail with error:
```
Error:(5, 28) java: cannot find symbol
  symbol:   constructor InlineClass()
  location: class p1.InlineClass
```

That's the issue: why the editor shows no error, if the build fails?

NB: calling this `System.out.println(new InlineClass(""));` causes error both in the editor and in compiler.
It's consistent, and I +hope+ correct.

IDEA 183.2495 + Kotlin plugin 1.3.20-dev-109.
IDEA 182.4658 + Kotlin plugin 1.3.0-rc-16.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536942950487</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536943009465</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Alexander Podkhalyuzin">Alefas</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Highlighting</value><valueId>IDE. Highlighting</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26848" entityId="25-2117165"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26848</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Incorrect line in coroutine debug metadata for first suspension point</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Given the code
```
import kotlin.coroutines.Continuation
import kotlin.coroutines.CoroutineContext
import kotlin.coroutines.EmptyCoroutineContext
import kotlin.coroutines.intrinsics.COROUTINE_SUSPENDED
import kotlin.coroutines.intrinsics.suspendCoroutineUninterceptedOrReturn
import kotlin.coroutines.startCoroutine

var continuation: Continuation&lt;Unit&gt;? = null

suspend fun suspendHere() = suspendCoroutineUninterceptedOrReturn&lt;Unit&gt; {
    continuation = it
    COROUTINE_SUSPENDED
}

suspend fun foo() {
    /*
    A
    LOT
    OF
    EMPTY
    LINES
     */
    suspendHere()
    suspendHere()
}

fun builder(c: suspend () -&gt; Unit) {
    c.startCoroutine(object : Continuation&lt;Unit&gt; {
        override val context: CoroutineContext
            get() = EmptyCoroutineContext

        override fun resumeWith(result: SuccessOrFailure&lt;Unit&gt;) {
            result.getOrThrow()
        }

    })
}

fun main(args: Array&lt;String&gt;) {
    builder {
        foo()
    }
    println("$continuation")
    continuation!!.resumeWith(SuccessOrFailure.success(Unit))
    println("$continuation")
}
```
I get the following result
```
Continuation at MainKt.foo(main.kt:15)
Continuation at MainKt.foo(main.kt:24)
```
Instead of expected
```
Continuation at MainKt.foo(main.kt:23)
Continuation at MainKt.foo(main.kt:24)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536943080210</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536943099957</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilmir Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilmir Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.3.20</value><valueId>1.3.20</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Ilmir Usmanov">Ilmir.Usmanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Backend. JVM. Coroutines</value><valueId>Backend. JVM. Coroutines</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.3-M2</value><valueId>1.3-M2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26849" entityId="25-2117198"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26849</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>IOE “'constructor-impl' is not an identifier.” after applying quick fix “Change parameter of constructor” for inline class creation in Java code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create two files:
```
// InlineClass.kt
inline class InlineClass(val x: String)

// Main.java
public class Main {
    public static void main(String[] args) {
        InlineClass inlineClass = new InlineClass(1);
    }
}

```
Constructor call is underlined as invalid code. Put caret on it, open quick fix menu and choose “Change 1st parameter of method 'constructor-impl' from 'String' to 'int'”. In Refactoring Preview window press Do Refactor and get the exception:
```
com.intellij.util.IncorrectOperationException: 'constructor-impl' is not an identifier.
	at com.intellij.psi.util.PsiUtil.checkIsIdentifier(PsiUtil.java:868)
	at com.intellij.psi.impl.PsiElementFactoryImpl.createMethod(PsiElementFactoryImpl.java:215)
	at org.jetbrains.kotlin.idea.refactoring.KotlinRefactoringUtilKt.createJavaMethod(kotlinRefactoringUtil.kt:520)
	at org.jetbrains.kotlin.idea.refactoring.changeSignature.KotlinChangeSignatureUsageProcessor.processPrimaryMethod(KotlinChangeSignatureUsageProcessor.kt:956)
	at com.intellij.refactoring.changeSignature.ChangeSignatureProcessorBase.doChangeSignature(ChangeSignatureProcessorBase.java:213)
	at com.intellij.refactoring.changeSignature.ChangeSignatureProcessorBase.performRefactoring(ChangeSignatureProcessorBase.java:181)
	at com.intellij.codeInsight.daemon.impl.quickfix.ChangeMethodSignatureFromUsageFix$1.performRefactoring(ChangeMethodSignatureFromUsageFix.java:239)
	at com.intellij.refactoring.BaseRefactoringProcessor.lambda$doRefactoring$9(BaseRefactoringProcessor.java:477)
	at com.intellij.refactoring.BaseRefactoringProcessor.lambda$doRefactoring$10(BaseRefactoringProcessor.java:488)
	at com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$15(ApplicationImpl.java:999)
	at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)
	at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)
	at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)
	at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)
	at com.intellij.openapi.progress.util.PotemkinProgress.runInSwingThread(PotemkinProgress.java:168)
	at com.intellij.openapi.application.impl.ApplicationImpl.runEdtProgressWriteAction(ApplicationImpl.java:999)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithNonCancellableProgressInDispatchThread(ApplicationImpl.java:979)
	at com.intellij.refactoring.BaseRefactoringProcessor.doRefactoring(BaseRefactoringProcessor.java:488)
	at com.intellij.refactoring.BaseRefactoringProcessor.lambda$execute$2(BaseRefactoringProcessor.java:315)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:131)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:97)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:87)
	at com.intellij.refactoring.BaseRefactoringProcessor.execute(BaseRefactoringProcessor.java:313)
	at com.intellij.refactoring.BaseRefactoringProcessor.lambda$null$5(BaseRefactoringProcessor.java:419)
	at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)
	at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)
	at com.intellij.refactoring.BaseRefactoringProcessor.lambda$customizeUsagesView$6(BaseRefactoringProcessor.java:417)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:139)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:97)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:87)
	at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:73)
	at com.intellij.usages.impl.UsageViewImpl$MyPerformOperationRunnable.run(UsageViewImpl.java:2087)
	at com.intellij.usages.impl.UsageViewImpl$12.actionPerformed(UsageViewImpl.java:1497)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6548)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3325)
	at java.awt.Component.processEvent(Component.java:6313)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4903)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4725)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4725)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)
	at java.awt.EventQueue.access$500(EventQueue.java:98)
	at java.awt.EventQueue$3.run(EventQueue.java:715)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:737)
	at java.awt.EventQueue$4.run(EventQueue.java:735)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:781)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:718)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:382)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
```

IJ 182.4505.7 + Kotlin 1.3.20-dev-91
IJ 182.4505.13 + Kotlin 1.3.0-rc-14</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536946588799</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1536946588799</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Glukhikh">mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Inspections and Intentions</value><value>Backend. JVM. Inline</value><valueId>IDE. Inspections and Intentions</valueId><valueId>Backend. JVM. Inline</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26850" entityId="25-2117208"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26850</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Call of class method with unsigned type parameter looks ok in IDE but fails at compilation</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create two files:
```
// Foo.kt
class Foo {
    fun f(a: UInt) = 1
}

// Main.java
public class Main {
    public static void main(String[] args) {
        Foo foo = new Foo();
        foo.f(1);
    }
}
```

The code looks valid in IDE but at compile time you will have the error:
```
Error:(6, 12) java: cannot find symbol
  symbol:   method f(int)
  location: variable foo of type p01.Foo
```

IJ 182.4505.7 + Kotlin 1.3.20-dev-91
IJ 182.4505.13 + Kotlin 1.3.0-rc-14</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536948355149</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537127942033</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Mikhail Zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Aleksandr Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Zarechenskiy">zarechenskiy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Light Classes</value><valueId>IDE. Light Classes</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Aleksandr Gribovich">Aleksandr.Gribovich</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3067691" author="zarechenskiy" authorFullName="Mikhail Zarechenskiy" issueId="KT-26850" deleted="false" text="This code should fail, seems that we should make light classes aware of inline classes" shownForIssueAuthor="false" created="1537127942034" markdown="true"><replies/></comment></issue><issue id="KT-26851" entityId="25-2117218"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26851</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: "Run" icon in Gutter is useless</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Kotlin 1.3-RC.

Sample code:

```kotlin
fun main(args: Array&lt;String&gt;) {

}
```

There will be a "Run" gutter icon, though clicking on it will show the disabled "Nothing here" item. I've attached the screenshot.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536950029005</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537118710677</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yanex</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yan Zhulanow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Pavel Talanov">pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Native</value><value>IDE. Multiplatform</value><valueId>IDE. Native</valueId><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-567377" url="https://youtrack.jetbrains.com/_persistent/Screen%20Shot%202018-09-14%20at%2021.31.11.png?file=74-567377&amp;c=true">Screen Shot 2018-09-14 at 21.31.11.png</value></field><comment id="27-3067663" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-26851" deleted="false" text="Is the `main` function is declared in the default package or it's a custom entry point set according to KT-26740?" shownForIssueAuthor="false" created="1537118687453" markdown="false"><replies/></comment><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26853" entityId="25-2117436"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26853</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Native: Extra 'Run' gutters for 'main()' from non-default packages</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I wonder if Kotlin/Native can use 'main()' functions from non-default packages as an entry-points.
If not, we should hide the 'Run' gutter icon.

Example:
```kotlin
package a.b.c

// Extra gutter icon
fun main(args: Array&lt;String&gt;) {
    println("Hello, world!")
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536950559232</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537118587215</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yanex</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yan Zhulanow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26852</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Glukhikh">mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Multiplatform</value><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3067662" author="Lilia.Abdulina" authorFullName="Liliia Abdulina" issueId="KT-26853" deleted="false" text="Please notice that since the [flash] fix of KT-26740, you are able to specify custom entry point in a Native module. Probably this request may be considered as a duplicate of KT-26852" shownForIssueAuthor="false" created="1537118558063" markdown="false"><replies/></comment><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26854" entityId="25-2117796"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26854</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>MPP/Native: Can't use 'NativeOutputKind.FRAMEWORK' in build.gradle</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Gradle plugin:
```groovy
buildscript {
    repositories {
        maven { url 'https://dl.bintray.com/kotlin/kotlin-dev' }
    }
    dependencies {
        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.20-dev-88'
    }
}
```

Build script:

```groovy
import org.jetbrains.kotlin.gradle.plugin.mpp.NativeOutputKind

apply plugin: 'com.android.application'
apply plugin: 'kotlin-multiplatform'

android {
    compileSdkVersion 27
    defaultConfig {
        applicationId "app.example.com.sample"
        minSdkVersion 15
        targetSdkVersion 27
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation 'com.android.support:appcompat-v7:27.1.1'
    implementation 'com.android.support.constraint:constraint-layout:1.1.3'
    testImplementation 'junit:junit:4.12'
    androidTestImplementation 'com.android.support.test:runner:1.0.2'
    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'

    implementation 'org.jetbrains.kotlin:kotlin-stdlib'
}

kotlin {
	sourceSets {
        jvmMain {
            dependencies {
                implementation 'org.jetbrains.kotlin:kotlin-stdlib'
            }
        }
        jsMain {
            dependencies {
                implementation 'org.jetbrains.kotlin:kotlin-stdlib-js'
            }
        }
	}

    targets {
        fromPreset(presets.android, 'android')
        fromPreset(presets.jvm, 'jvm')
        fromPreset(presets.js, 'js')
        fromPreset(presets.macosX64, 'mac')

        configure([mac]) {
            compilations.main.outputKinds += NativeOutputKind.EXECUTABLE
            
            // Work-around: compilations.main.outputKinds += NativeOutputKind.values().find { it.name() == "FRAMEWORK" }
            compilations.main.outputKinds += NativeOutputKind.FRAMEWORK
        }
    }
}
```

An exception:

org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':app'.
        at org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:79)
        at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:73)
        at org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:54)
        at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:200)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
        at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:110)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:68)
        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:687)
        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:140)
        at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)
        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)
        at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:41)
        at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:274)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
        at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:182)
        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:141)
        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)
        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:77)
        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:74)
        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:154)
        at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:38)
        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:96)
        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:74)
        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)
        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)
        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.run(RunAsBuildOperationBuildActionRunner.java:50)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)
        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)
        at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)
        at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:44)
        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:79)
        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:44)
        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)
        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)
        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)
        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)
        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)
        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:62)
        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:34)
        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)
        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)
        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)
        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)
        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)
        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)
        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)
        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)
        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:46)
        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)
        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)
        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)
        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)
        at org.gradle.util.Swapper.swap(Swapper.java:38)
        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)
        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)
        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)
        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)
        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)
        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
Caused by: java.lang.ClassCastException: java.lang.Class cannot be cast to org.jetbrains.kotlin.gradle.plugin.mpp.NativeOutputKind
        at org.jetbrains.kotlin.gradle.plugin.KotlinNativeTargetConfigurator$createBinaryLinkTasks$1.invoke(KotlinTargetConfigurator.kt:708)
        at org.jetbrains.kotlin.gradle.plugin.KotlinNativeTargetConfigurator$createBinaryLinkTasks$1.invoke(KotlinTargetConfigurator.kt:381)
        at org.jetbrains.kotlin.gradle.plugin.KotlinMultiplatformPluginKt$whenEvaluated$1.execute(KotlinMultiplatformPlugin.kt:208)
        at org.jetbrains.kotlin.gradle.plugin.KotlinMultiplatformPluginKt$whenEvaluated$1.execute(KotlinMultiplatformPlugin.kt)
        at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1$1.run(DefaultListenerBuildOperationDecorator.java:155)
        at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.reapply(DefaultUserCodeApplicationContext.java:58)
        at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1.run(DefaultListenerBuildOperationDecorator.java:152)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
        at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction.execute(DefaultListenerBuildOperationDecorator.java:149)
        at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:91)
        at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:80)
        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)
        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)
        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)
        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)
        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)
        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)
        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)
        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)
        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
        at com.sun.proxy.$Proxy27.afterEvaluate(Unknown Source)
        at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:187)
        at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:184)
        at org.gradle.api.internal.project.DefaultProject.stepEvaluationListener(DefaultProject.java:1418)
        at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:193)
        ... 91 more</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1536952750069</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537118745315</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>yanex</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Yan Zhulanow</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Igushkin">h0tk3y</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. Gradle</value><valueId>Tools. Gradle</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3067381" author="tsvetkov" authorFullName="Alexey Tsvetkov" issueId="KT-26854" deleted="false" text="Btw, `compilations.main.outputKinds += NativeOutputKind.FRAMEWORK` is non-idiomatic way to work with enum in Gradle groovy.&#xA;If main was an extension, Gradle would allow to call `fun outputKind(e: Enum)` as `outputKind 'ENUM_ENTRY' (thus avoiding import).&#xA;I'm not sure if this will work for `main`, but even if it won't we can add the string method by hand." shownForIssueAuthor="false" created="1536953031237" markdown="true"><replies/></comment><comment id="27-3067382" author="tsvetkov" authorFullName="Alexey Tsvetkov" issueId="KT-26854" deleted="false" text="String to Enum conversion seems to be Groovy built in (but I think it won't work with lists, so we need to add a method which adds an element)" shownForIssueAuthor="false" created="1536953141638" markdown="true"><replies/></comment></issue><issue id="KT-26858" entityId="25-2117873"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26858</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inline class access to private companion object value doesn't work</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>&gt; Exception in thread "main" java.lang.NoSuchMethodError: Direction.access$getDx$cp()[I
```
inline class Direction(private val direction: Int) {
    fun dx() = dx[direction]
    fun dy() = dy[direction]

    companion object {
        private val dx = intArrayOf(0, 1, 0, -1)
        private val dy = intArrayOf(-1, 0, 1, 0)
    }
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537003097184</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537003097184</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26859" entityId="25-2117877"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26859</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inline class misses unboxing when using indexer into an ArrayList</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>&gt; java.lang.ClassCastException: orangy.snek.SnekDirection cannot be cast to java.lang.Number

```
inline class SnekDirection(private val direction: Int) {
    companion object {
        val Up = SnekDirection(0)
    }
}

fun testUnbox() : SnekDirection {
    val list = arrayListOf(SnekDirection.Up)
    return list[0]
}
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537003587590</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537003587590</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>orangy</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Ilya Ryzhenkov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26860" entityId="25-2117901"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26860</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Inferred return type on toString function</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>The following two samples

```kotlin
class SampleNotWorking {
    private val builder = StringBuilder()
    fun addMessage() {
        builder.append("hello")
    }

    override fun toString(): String {
        return builder.toString()
    }
}

class SampleWorking {
    private val builder = StringBuilder()
    fun addMessage() {
        builder.append("hello")
    }

    override fun toString() = builder.toString()
}
```

produce different results when decompiled. The first one adds

```kotlin
     Intrinsics.checkExpressionValueIsNotNull(var10000, "builder.toString()");
 ```

to the `toString` function, whereas the second one does not. 

At first glance, the return type of the function `toString()` should be the same in both cases (String) and thus the behaviour would be the same. However it is not. Explicitly making the second function return `String` does render same behaviour (both add the check).</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537009480458</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537010496799</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>hadihariri</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Hadi Hariri</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>hadihariri</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Hadi Hariri</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>2</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Target versions"><value>1.3-M2</value><valueId>1.3-M2</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26861" entityId="25-2117991"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26861</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Spelling typo inspection option "literal" not honored</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>In the Spelling/Typo inspection there is an option to enable/disable checks for literals ("Process literals").
This works in Java but not in Kotlin. If checks are disabled for literals, Kotlin string literals are still marked as typo.
Instead, string literal typos are ignored if "Process code" is disabled.

Using Kotlin 1.2.70 + ideaIC-2018.2.3</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537038102881</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537038135005</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>knolle</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>André Kießling</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>knolle</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>André Kießling</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.70</value><valueId>1.2.70</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26863" entityId="25-2118069"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26863</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Pasting C code into Kotlin editor freezes UI</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I have a small piece of C code (300 lines) that I want to convert manually to Kotlin. To do this, I just took the code and pasted it into a Kotlin editor.

Whenever I type a character now, the UI freezes for up to 15 seconds. It appears as if the syntax analysis happens in the UI thread, which it shouldn't. It should happen in the background, updating the UI when all computations are finished.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537091702634</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537091702634</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>roland.illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Roland Illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>roland.illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roland Illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-567497" url="https://youtrack.jetbrains.com/_persistent/threadDump-20180916-114713.txt?file=74-567497&amp;c=true">threadDump-20180916-114713.txt</value><value id="74-567498" url="https://youtrack.jetbrains.com/_persistent/threadDump-20180916-114718.txt?file=74-567498&amp;c=true">threadDump-20180916-114718.txt</value></field></issue><issue id="KT-26864" entityId="25-2118133"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26864</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>(JavaScript) External classes can't use external interfaces without actually implementing them</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>As a user binding externals in KotlinJS, I expect this to work:

```kotlin
external interface Tint {
    fun setTint(
        topLeft: Int = definedExternally,
        topRight: Int = definedExternally,
        bottomLeft: Int = definedExternally,
        bottomRight: Int = definedExternally
    ): Tint
}

external class Sprite : Tint {
}
```

But it doesn't -- I get `Class "Sprite" is not abstract and does not implement abstract member`.

If I update `Sprite` to

```kotlin
external class Sprite : Tint {
    override fun setTint(topLeft: Int, topRight: Int, bottomLeft: Int, bottomRight: Int): Tint = definedExternally
}
```

then it works fine, but...this seems awkward. I also tried 1. marking `fun setTint` as `external` and 2. implementing `= definedExternally` in the external interface, but both of these are compiler errors.

While this isn't strictly a bug, it's surprising and inconvenient.

Kotlin 1.2.70.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537114150794</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537114150794</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Max.Aller</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Max Aller</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Max.Aller</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Max Aller</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26866" entityId="25-2118150"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26866</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>MPP, JPS: "Cannot access class 'java.lang.Class'" on compiling common code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Create MPP project with new DSL. Provide at least common and JVM source sets.
JVM test dependencies are:
```
        jvmTest {
            dependencies {
                implementation 'org.jetbrains.kotlin:kotlin-test'
                implementation 'org.jetbrains.kotlin:kotlin-test-junit'
            }
        }
```

In the common source sets create a test:
```
package exp

import kotlin.test.Test

class CommonTest {
    @Test fun testFirst() {}
}
```

Open in the editor, check gutter's Run menu.
There is an option to run IDE JUnit tests (not Gradle). Select it.
The JUnit run configuration is created and fails to run:
```
Information:Kotlin: kotlinc-jvm 1.3.0-rc-25 (JRE 1.8.0_112-b15)
Information:16/09/18 20:39 - Compilation completed with 1 error and 0 warnings in 8 s 815 ms
/home/ache/jb-projects/kotlin-master/exp-01-mpp-lib/src/commonTest/kotlin/exp/CommonTest.kt
Error:(6, 6) Kotlin: [exp-01-mpp-lib_jvmTest] Cannot access class 'java.lang.Class'. Check your module classpath for missing or conflicting dependencies
```

NB: The run configuration is created with classpath == JVM module test classpath, which is correct, but also with JRE == Kotlin SDK, which is not usable for JVM test.
NB: However, after I manually corrected the JRE, the run configuration still fails.

IDEA 182.4681 + Kotlin plugin 1.3.0-rc-25.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537120398831</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537122181217</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Sergey Rostov">Sergey.Rostov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>Tools. JPS</value><value>IDE. Multiplatform</value><valueId>Tools. JPS</valueId><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3067672" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26866" deleted="false" text="Reproduced on JPS rebuild of the project, without running tests." shownForIssueAuthor="false" created="1537122181217" markdown="false"><replies/></comment></issue><issue id="KT-26867" entityId="25-2118152"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26867</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Add Native target to the gutter tooltip for a `main` function declared in a common code</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Follow up for KT-24060 fix.

Create a new multiplatform project with Native through New Project Wizard (`Kotlin (Multiplatform Library)`). 
In the common module, write some simple `main` function, so `Run` gutter appears for it. 
Click the gutter: there are only JS and JVM options, but not Native. 

* IDEA 2018.2.4 RC (182.4505.13), Kotlin plugin 1.3.20-dev-148
* IDEA 2018.3 EAP2 (183.2407.10), Kotlin plugin 1.3.0-rc-26</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537120982548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537120982548</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Liliia Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-24060</value><value type="Relates" role="relates to">KT-26740</value><value type="Relates" role="relates to">KT-26852</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Pavel Talanov">pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Multiplatform</value><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Liliia Abdulina">Lilia.Abdulina</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><tag cssClass="c0">new-multiplatform</tag></issue><issue id="KT-26868" entityId="25-2118153"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26868</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>MPP: Gradle import: test dependencies get Compile scope</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Get a Gradle project using new MPP DSL.
Include some test source sets with test dependencies. Like:
```
...
        jvmTest {
            dependencies {
                implementation 'org.jetbrains.kotlin:kotlin-test' // occurs only in test source set
                implementation 'org.jetbrains.kotlin:kotlin-test-junit' // occurs only in test source set
            }
        }
        jsTest {
            dependencies {
                implementation 'org.jetbrains.kotlin:kotlin-test-js' // occurs only in test source set
            }
        }
...
```

(Re-)Import in IDE, check Project Structure dialog, Dependencies tab of created modules.
All specific test dependencies have Scope == Compile. Should be probably Test?

IDEA 182.4681 + Kotlin plugin 1.3.0-rc-25.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537121151758</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537121189890</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Mikhail Glukhikh">mikhail.glukhikh</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Configuration</value><value>IDE. Multiplatform</value><valueId>IDE. Configuration</valueId><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3067666" author="sashache" authorFullName="Alexander Chernikov" issueId="KT-26868" deleted="false" text="Cc @Simon.Ogorodnik." shownForIssueAuthor="false" created="1537121189890" markdown="false"><replies/></comment></issue><issue id="KT-26869" entityId="25-2118156"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26869</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Cannot cancel 'Converting Java to Kotlin'</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>I opened a rather small Java file (about 200 lines) and pressed Ctrl+Alt+Shift+K to convert it to Kotlin.

The 'Convert Java to Kotlin' progress window opened, and now I'm waiting since 10 minutes for it to stop. I clicked on Cancel multiple times, but nothing happened.

![](image1.png)

![](image.png)</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537123542179</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537125441230</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>roland.illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Roland Illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>roland.illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roland Illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26870</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Priority"><value>Normal</value><valueId>Normal</valueId><color><bg>#e6f6cf</bg><fg>#4da400</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-567532" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-567532&amp;c=true">image.png</value><value id="74-567533" url="https://youtrack.jetbrains.com/_persistent/image1.png?file=74-567533&amp;c=true">image1.png</value><value id="74-567534" url="https://youtrack.jetbrains.com/_persistent/10080-threads.txt?file=74-567534&amp;c=true">10080-threads.txt</value></field></issue><issue id="KT-26870" entityId="25-2118158"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26870</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>'Convert Java to Kotlin' progress window doesn't show Cancel button</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>![](image.png)

I pasted the same code as in KT-26869 to a newly created Kotlin file. The progress window opened, and this time, there wasn't even a Cancel button that I could press.

The only thing I can do now is to wait for an indefinite time, until the AWT-EventQueue-0 gets out of its WAITING state (see attached stack trace).

Curiously, when I split the code into several pieces manually and paste them, everything works fine. I just cannot paste the whole code at once.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537123930453</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537125421641</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>roland.illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Roland Illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>roland.illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Roland Illig</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="LinkField" name="links"><value type="Relates" role="relates to">KT-26869</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Affected versions"><value>1.2.61</value><valueId>1.2.61</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="AttachmentField" name="attachments"><value id="74-567535" url="https://youtrack.jetbrains.com/_persistent/image.png?file=74-567535&amp;c=true">image.png</value><value id="74-567536" url="https://youtrack.jetbrains.com/_persistent/10080-threads.txt?file=74-567536&amp;c=true">10080-threads.txt</value></field></issue><issue id="KT-26871" entityId="25-2118205"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26871</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Do not prevent smart-cast on mutable fields where field cannot be null</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Example code:

```kotlin
class DataLoader {
    var data: String? = null
        private set

    var dataLength: Int = 0

    fun loadAndMeasureData() {
        data = loadData()
        dataLength = data.length
    }

    private fun loadData() : String {
        TODO()
    }
}
```

Code will not compile with error on line 9 that states that `data` is mutable property that could change any time. However, in this case there is no way for `data` to be null at line 9:

* Setter is private, so no external code can change this variable
* Only part where this variable gets changed is before line 9, on line 8, where it is assigned non-null value. 

So accessing `data` as non-null variable should succeed inside `loadAndMeasureData` method after line 8.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537129901437</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537129956102</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>matejdro.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Matej Drobnič</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>matejdro.1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Matej Drobnič</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26872" entityId="25-2118241"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26872</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>MPP: JS: Node.js run configuration is created with not existing JavaScript file</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>Created MPP project with new Gradle DSL.
In JavaScript source set create a main fun:
```
fun main(args: Array&lt;String&gt;) {
    println()
}
```

The gutter suggests to create and run Node.js configuration.
Do Run. The configuration is created with JavaScript file == `build/classes/kotlin/js/main/exp-02-mpp-app_jsMain.js` and can't find this file.

Actually my project is not configured to create such file. The actual output is `build/classes/kotlin/js/main/exp-02-mpp-app.js`.
(If does matter, `exp-02-mpp-app` is the project name, `jsMain` is the source set.)

Is it possible for the run configuration to correctly pick the actually configured path?

IDEA 182.4681 + Kotlin plugin 1.3.0-rc-25.</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537149039751</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537149039751</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Alexander Chernikov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Assignee"><value fullName="Pavel Talanov">pTalanov</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Subsystems"><value>IDE. Multiplatform</value><valueId>IDE. Multiplatform</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MultiUserField" name="Tester (Kotlin)"><value fullName="Alexander Chernikov">sashache</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field></issue><issue id="KT-26873" entityId="25-2118261"><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="projectShortName"><value>KT</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="numberInProject"><value>26873</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="summary"><value>Compiler inlining failure</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="description"><value>This class fails to compile under Kotlin 1.2.61: https://gist.github.com/kenzierocks/617a791666a500f8e5845e233b2247cc

Gradle log: https://gist.github.com/kenzierocks/4f83d6945fee1a3d899e4df3134a3556

Main exception:
```
Caused by: org.jetbrains.org.objectweb.asm.tree.analysis.AnalyzerException: Error at instruction 9: Cannot pop operand off an empty stack.
	at org.jetbrains.org.objectweb.asm.tree.analysis.Analyzer.analyze(Analyzer.java:298)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$Companion.analyzeMethodNodeBeforeInline(MethodInliner.kt:930)
	... 153 more
Caused by: java.lang.IndexOutOfBoundsException: Cannot pop operand off an empty stack.
	at org.jetbrains.org.objectweb.asm.tree.analysis.Frame.pop(Frame.java:221)
	at org.jetbrains.org.objectweb.asm.tree.analysis.Frame.execute(Frame.java:612)
	at org.jetbrains.kotlin.codegen.inline.MethodInliner$Companion$analyzeMethodNodeBeforeInline$analyzer$1$newFrame$1.execute(MethodInliner.kt:923)
	at org.jetbrains.org.objectweb.asm.tree.analysis.Analyzer.analyze(Analyzer.java:200)
```</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="wikified"><value>false</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="created"><value>1537159534728</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updated"><value>1537160215613</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterName"><value>kenzierocks</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="updaterFullName"><value>Kenzie Togami</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterName"><value>kenzierocks</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="reporterFullName"><value>Kenzie Togami</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="commentsCount"><value>1</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="votes"><value>0</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="SingleField" name="markdown"><value>true</value></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Type"><value>Bug</value><valueId>Bug</valueId><color><bg>#e30000</bg><fg>#fff</fg></color></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="State"><value>Submitted</value><valueId>Submitted</valueId></field><field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CustomFieldValue" name="Change processed"><value>No</value><valueId>No</valueId></field><comment id="27-3067734" author="kenzierocks" authorFullName="Kenzie Togami" issueId="KT-26873" deleted="false" text="It appears to clear up if I undo the method reference to a full closure:&#xA;&#xA;```&#xA;VERSION_MODIFIERS.firstOrNull {&#xA;        version.startsWith(it)&#xA;    }&#xA;```&#xA;&#xA;Perhaps that translation is happening incorrectly?" shownForIssueAuthor="false" created="1537160215614" markdown="true"><replies/></comment></issue></issues>